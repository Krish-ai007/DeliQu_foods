(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var fp={exports:{}},pu={};var GE;function FI(){if(GE)return pu;GE=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,o,u){var c=null;if(u!==void 0&&(c=""+u),o.key!==void 0&&(c=""+o.key),"key"in o){u={};for(var d in o)d!=="key"&&(u[d]=o[d])}else u=o;return o=u.ref,{$$typeof:e,type:s,key:c,ref:o!==void 0?o:null,props:u}}return pu.Fragment=t,pu.jsx=n,pu.jsxs=n,pu}var KE;function HI(){return KE||(KE=1,fp.exports=FI()),fp.exports}var T=HI(),dp={exports:{}},xt={};var YE;function GI(){if(YE)return xt;YE=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),S=Symbol.iterator;function C(M){return M===null||typeof M!="object"?null:(M=S&&M[S]||M["@@iterator"],typeof M=="function"?M:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},G=Object.assign,B={};function Z(M,X,ut){this.props=M,this.context=X,this.refs=B,this.updater=ut||k}Z.prototype.isReactComponent={},Z.prototype.setState=function(M,X){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,X,"setState")},Z.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function nt(){}nt.prototype=Z.prototype;function $(M,X,ut){this.props=M,this.context=X,this.refs=B,this.updater=ut||k}var ot=$.prototype=new nt;ot.constructor=$,G(ot,Z.prototype),ot.isPureReactComponent=!0;var at=Array.isArray;function ht(){}var I={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function x(M,X,ut){var ft=ut.ref;return{$$typeof:e,type:M,key:X,ref:ft!==void 0?ft:null,props:ut}}function O(M,X){return x(M.type,X,M.props)}function V(M){return typeof M=="object"&&M!==null&&M.$$typeof===e}function L(M){var X={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(ut){return X[ut]})}var D=/\/+/g;function Zt(M,X){return typeof M=="object"&&M!==null&&M.key!=null?L(""+M.key):X.toString(36)}function le(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(ht,ht):(M.status="pending",M.then(function(X){M.status==="pending"&&(M.status="fulfilled",M.value=X)},function(X){M.status==="pending"&&(M.status="rejected",M.reason=X)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function Q(M,X,ut,ft,At){var Rt=typeof M;(Rt==="undefined"||Rt==="boolean")&&(M=null);var jt=!1;if(M===null)jt=!0;else switch(Rt){case"bigint":case"string":case"number":jt=!0;break;case"object":switch(M.$$typeof){case e:case t:jt=!0;break;case y:return jt=M._init,Q(jt(M._payload),X,ut,ft,At)}}if(jt)return At=At(M),jt=ft===""?"."+Zt(M,0):ft,at(At)?(ut="",jt!=null&&(ut=jt.replace(D,"$&/")+"/"),Q(At,X,ut,"",function(Kt){return Kt})):At!=null&&(V(At)&&(At=O(At,ut+(At.key==null||M&&M.key===At.key?"":(""+At.key).replace(D,"$&/")+"/")+jt)),X.push(At)),1;jt=0;var ye=ft===""?".":ft+":";if(at(M))for(var ue=0;ue<M.length;ue++)ft=M[ue],Rt=ye+Zt(ft,ue),jt+=Q(ft,X,ut,Rt,At);else if(ue=C(M),typeof ue=="function")for(M=ue.call(M),ue=0;!(ft=M.next()).done;)ft=ft.value,Rt=ye+Zt(ft,ue++),jt+=Q(ft,X,ut,Rt,At);else if(Rt==="object"){if(typeof M.then=="function")return Q(le(M),X,ut,ft,At);throw X=String(M),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return jt}function st(M,X,ut){if(M==null)return M;var ft=[],At=0;return Q(M,ft,"","",function(Rt){return X.call(ut,Rt,At++)}),ft}function dt(M){if(M._status===-1){var X=M._result;X=X(),X.then(function(ut){(M._status===0||M._status===-1)&&(M._status=1,M._result=ut)},function(ut){(M._status===0||M._status===-1)&&(M._status=2,M._result=ut)}),M._status===-1&&(M._status=0,M._result=X)}if(M._status===1)return M._result.default;throw M._result}var Ct=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},Pt={map:st,forEach:function(M,X,ut){st(M,function(){X.apply(this,arguments)},ut)},count:function(M){var X=0;return st(M,function(){X++}),X},toArray:function(M){return st(M,function(X){return X})||[]},only:function(M){if(!V(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return xt.Activity=A,xt.Children=Pt,xt.Component=Z,xt.Fragment=n,xt.Profiler=o,xt.PureComponent=$,xt.StrictMode=s,xt.Suspense=p,xt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,xt.__COMPILER_RUNTIME={__proto__:null,c:function(M){return I.H.useMemoCache(M)}},xt.cache=function(M){return function(){return M.apply(null,arguments)}},xt.cacheSignal=function(){return null},xt.cloneElement=function(M,X,ut){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var ft=G({},M.props),At=M.key;if(X!=null)for(Rt in X.key!==void 0&&(At=""+X.key),X)!R.call(X,Rt)||Rt==="key"||Rt==="__self"||Rt==="__source"||Rt==="ref"&&X.ref===void 0||(ft[Rt]=X[Rt]);var Rt=arguments.length-2;if(Rt===1)ft.children=ut;else if(1<Rt){for(var jt=Array(Rt),ye=0;ye<Rt;ye++)jt[ye]=arguments[ye+2];ft.children=jt}return x(M.type,At,ft)},xt.createContext=function(M){return M={$$typeof:c,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:u,_context:M},M},xt.createElement=function(M,X,ut){var ft,At={},Rt=null;if(X!=null)for(ft in X.key!==void 0&&(Rt=""+X.key),X)R.call(X,ft)&&ft!=="key"&&ft!=="__self"&&ft!=="__source"&&(At[ft]=X[ft]);var jt=arguments.length-2;if(jt===1)At.children=ut;else if(1<jt){for(var ye=Array(jt),ue=0;ue<jt;ue++)ye[ue]=arguments[ue+2];At.children=ye}if(M&&M.defaultProps)for(ft in jt=M.defaultProps,jt)At[ft]===void 0&&(At[ft]=jt[ft]);return x(M,Rt,At)},xt.createRef=function(){return{current:null}},xt.forwardRef=function(M){return{$$typeof:d,render:M}},xt.isValidElement=V,xt.lazy=function(M){return{$$typeof:y,_payload:{_status:-1,_result:M},_init:dt}},xt.memo=function(M,X){return{$$typeof:g,type:M,compare:X===void 0?null:X}},xt.startTransition=function(M){var X=I.T,ut={};I.T=ut;try{var ft=M(),At=I.S;At!==null&&At(ut,ft),typeof ft=="object"&&ft!==null&&typeof ft.then=="function"&&ft.then(ht,Ct)}catch(Rt){Ct(Rt)}finally{X!==null&&ut.types!==null&&(X.types=ut.types),I.T=X}},xt.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},xt.use=function(M){return I.H.use(M)},xt.useActionState=function(M,X,ut){return I.H.useActionState(M,X,ut)},xt.useCallback=function(M,X){return I.H.useCallback(M,X)},xt.useContext=function(M){return I.H.useContext(M)},xt.useDebugValue=function(){},xt.useDeferredValue=function(M,X){return I.H.useDeferredValue(M,X)},xt.useEffect=function(M,X){return I.H.useEffect(M,X)},xt.useEffectEvent=function(M){return I.H.useEffectEvent(M)},xt.useId=function(){return I.H.useId()},xt.useImperativeHandle=function(M,X,ut){return I.H.useImperativeHandle(M,X,ut)},xt.useInsertionEffect=function(M,X){return I.H.useInsertionEffect(M,X)},xt.useLayoutEffect=function(M,X){return I.H.useLayoutEffect(M,X)},xt.useMemo=function(M,X){return I.H.useMemo(M,X)},xt.useOptimistic=function(M,X){return I.H.useOptimistic(M,X)},xt.useReducer=function(M,X,ut){return I.H.useReducer(M,X,ut)},xt.useRef=function(M){return I.H.useRef(M)},xt.useState=function(M){return I.H.useState(M)},xt.useSyncExternalStore=function(M,X,ut){return I.H.useSyncExternalStore(M,X,ut)},xt.useTransition=function(){return I.H.useTransition()},xt.version="19.2.3",xt}var QE;function Gg(){return QE||(QE=1,dp.exports=GI()),dp.exports}var rt=Gg(),mp={exports:{}},gu={},pp={exports:{}},gp={};var XE;function KI(){return XE||(XE=1,(function(e){function t(Q,st){var dt=Q.length;Q.push(st);t:for(;0<dt;){var Ct=dt-1>>>1,Pt=Q[Ct];if(0<o(Pt,st))Q[Ct]=st,Q[dt]=Pt,dt=Ct;else break t}}function n(Q){return Q.length===0?null:Q[0]}function s(Q){if(Q.length===0)return null;var st=Q[0],dt=Q.pop();if(dt!==st){Q[0]=dt;t:for(var Ct=0,Pt=Q.length,M=Pt>>>1;Ct<M;){var X=2*(Ct+1)-1,ut=Q[X],ft=X+1,At=Q[ft];if(0>o(ut,dt))ft<Pt&&0>o(At,ut)?(Q[Ct]=At,Q[ft]=dt,Ct=ft):(Q[Ct]=ut,Q[X]=dt,Ct=X);else if(ft<Pt&&0>o(At,dt))Q[Ct]=At,Q[ft]=dt,Ct=ft;else break t}}return st}function o(Q,st){var dt=Q.sortIndex-st.sortIndex;return dt!==0?dt:Q.id-st.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;e.unstable_now=function(){return u.now()}}else{var c=Date,d=c.now();e.unstable_now=function(){return c.now()-d}}var p=[],g=[],y=1,A=null,S=3,C=!1,k=!1,G=!1,B=!1,Z=typeof setTimeout=="function"?setTimeout:null,nt=typeof clearTimeout=="function"?clearTimeout:null,$=typeof setImmediate<"u"?setImmediate:null;function ot(Q){for(var st=n(g);st!==null;){if(st.callback===null)s(g);else if(st.startTime<=Q)s(g),st.sortIndex=st.expirationTime,t(p,st);else break;st=n(g)}}function at(Q){if(G=!1,ot(Q),!k)if(n(p)!==null)k=!0,ht||(ht=!0,L());else{var st=n(g);st!==null&&le(at,st.startTime-Q)}}var ht=!1,I=-1,R=5,x=-1;function O(){return B?!0:!(e.unstable_now()-x<R)}function V(){if(B=!1,ht){var Q=e.unstable_now();x=Q;var st=!0;try{t:{k=!1,G&&(G=!1,nt(I),I=-1),C=!0;var dt=S;try{e:{for(ot(Q),A=n(p);A!==null&&!(A.expirationTime>Q&&O());){var Ct=A.callback;if(typeof Ct=="function"){A.callback=null,S=A.priorityLevel;var Pt=Ct(A.expirationTime<=Q);if(Q=e.unstable_now(),typeof Pt=="function"){A.callback=Pt,ot(Q),st=!0;break e}A===n(p)&&s(p),ot(Q)}else s(p);A=n(p)}if(A!==null)st=!0;else{var M=n(g);M!==null&&le(at,M.startTime-Q),st=!1}}break t}finally{A=null,S=dt,C=!1}st=void 0}}finally{st?L():ht=!1}}}var L;if(typeof $=="function")L=function(){$(V)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,Zt=D.port2;D.port1.onmessage=V,L=function(){Zt.postMessage(null)}}else L=function(){Z(V,0)};function le(Q,st){I=Z(function(){Q(e.unstable_now())},st)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Q){Q.callback=null},e.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<Q?Math.floor(1e3/Q):5},e.unstable_getCurrentPriorityLevel=function(){return S},e.unstable_next=function(Q){switch(S){case 1:case 2:case 3:var st=3;break;default:st=S}var dt=S;S=st;try{return Q()}finally{S=dt}},e.unstable_requestPaint=function(){B=!0},e.unstable_runWithPriority=function(Q,st){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var dt=S;S=Q;try{return st()}finally{S=dt}},e.unstable_scheduleCallback=function(Q,st,dt){var Ct=e.unstable_now();switch(typeof dt=="object"&&dt!==null?(dt=dt.delay,dt=typeof dt=="number"&&0<dt?Ct+dt:Ct):dt=Ct,Q){case 1:var Pt=-1;break;case 2:Pt=250;break;case 5:Pt=1073741823;break;case 4:Pt=1e4;break;default:Pt=5e3}return Pt=dt+Pt,Q={id:y++,callback:st,priorityLevel:Q,startTime:dt,expirationTime:Pt,sortIndex:-1},dt>Ct?(Q.sortIndex=dt,t(g,Q),n(p)===null&&Q===n(g)&&(G?(nt(I),I=-1):G=!0,le(at,dt-Ct))):(Q.sortIndex=Pt,t(p,Q),k||C||(k=!0,ht||(ht=!0,L()))),Q},e.unstable_shouldYield=O,e.unstable_wrapCallback=function(Q){var st=S;return function(){var dt=S;S=st;try{return Q.apply(this,arguments)}finally{S=dt}}}})(gp)),gp}var $E;function YI(){return $E||($E=1,pp.exports=KI()),pp.exports}var yp={exports:{}},fn={};var WE;function QI(){if(WE)return fn;WE=1;var e=Gg();function t(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)g+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,y){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:A==null?null:""+A,children:p,containerInfo:g,implementation:y}}var c=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return fn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,fn.createPortal=function(p,g){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return u(p,g,null,y)},fn.flushSync=function(p){var g=c.T,y=s.p;try{if(c.T=null,s.p=2,p)return p()}finally{c.T=g,s.p=y,s.d.f()}},fn.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},fn.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},fn.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var y=g.as,A=d(y,g.crossOrigin),S=typeof g.integrity=="string"?g.integrity:void 0,C=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;y==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:A,integrity:S,fetchPriority:C}):y==="script"&&s.d.X(p,{crossOrigin:A,integrity:S,fetchPriority:C,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},fn.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var y=d(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},fn.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var y=g.as,A=d(y,g.crossOrigin);s.d.L(p,y,{crossOrigin:A,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},fn.preloadModule=function(p,g){if(typeof p=="string")if(g){var y=d(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},fn.requestFormReset=function(p){s.d.r(p)},fn.unstable_batchedUpdates=function(p,g){return p(g)},fn.useFormState=function(p,g,y){return c.H.useFormState(p,g,y)},fn.useFormStatus=function(){return c.H.useHostTransitionStatus()},fn.version="19.2.3",fn}var ZE;function XI(){if(ZE)return yp.exports;ZE=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),yp.exports=QI(),yp.exports}var JE;function $I(){if(JE)return gu;JE=1;var e=YI(),t=Gg(),n=XI();function s(i){var r="https://react.dev/errors/"+i;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function u(i){var r=i,a=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,(r.flags&4098)!==0&&(a=r.return),i=r.return;while(i)}return r.tag===3?a:null}function c(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function d(i){if(i.tag===31){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function p(i){if(u(i)!==i)throw Error(s(188))}function g(i){var r=i.alternate;if(!r){if(r=u(i),r===null)throw Error(s(188));return r!==i?null:i}for(var a=i,l=r;;){var f=a.return;if(f===null)break;var m=f.alternate;if(m===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===a)return p(f),i;if(m===l)return p(f),r;m=m.sibling}throw Error(s(188))}if(a.return!==l.return)a=f,l=m;else{for(var v=!1,b=f.child;b;){if(b===a){v=!0,a=f,l=m;break}if(b===l){v=!0,l=f,a=m;break}b=b.sibling}if(!v){for(b=m.child;b;){if(b===a){v=!0,a=m,l=f;break}if(b===l){v=!0,l=m,a=f;break}b=b.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?i:r}function y(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i;for(i=i.child;i!==null;){if(r=y(i),r!==null)return r;i=i.sibling}return null}var A=Object.assign,S=Symbol.for("react.element"),C=Symbol.for("react.transitional.element"),k=Symbol.for("react.portal"),G=Symbol.for("react.fragment"),B=Symbol.for("react.strict_mode"),Z=Symbol.for("react.profiler"),nt=Symbol.for("react.consumer"),$=Symbol.for("react.context"),ot=Symbol.for("react.forward_ref"),at=Symbol.for("react.suspense"),ht=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function L(i){return i===null||typeof i!="object"?null:(i=V&&i[V]||i["@@iterator"],typeof i=="function"?i:null)}var D=Symbol.for("react.client.reference");function Zt(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===D?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case G:return"Fragment";case Z:return"Profiler";case B:return"StrictMode";case at:return"Suspense";case ht:return"SuspenseList";case x:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case k:return"Portal";case $:return i.displayName||"Context";case nt:return(i._context.displayName||"Context")+".Consumer";case ot:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case I:return r=i.displayName||null,r!==null?r:Zt(i.type)||"Memo";case R:r=i._payload,i=i._init;try{return Zt(i(r))}catch{}}return null}var le=Array.isArray,Q=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,st=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,dt={pending:!1,data:null,method:null,action:null},Ct=[],Pt=-1;function M(i){return{current:i}}function X(i){0>Pt||(i.current=Ct[Pt],Ct[Pt]=null,Pt--)}function ut(i,r){Pt++,Ct[Pt]=i.current,i.current=r}var ft=M(null),At=M(null),Rt=M(null),jt=M(null);function ye(i,r){switch(ut(Rt,r),ut(At,i),ut(ft,null),r.nodeType){case 9:case 11:i=(i=r.documentElement)&&(i=i.namespaceURI)?mE(i):0;break;default:if(i=r.tagName,r=r.namespaceURI)r=mE(r),i=pE(r,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}X(ft),ut(ft,i)}function ue(){X(ft),X(At),X(Rt)}function Kt(i){i.memoizedState!==null&&ut(jt,i);var r=ft.current,a=pE(r,i.type);r!==a&&(ut(At,i),ut(ft,a))}function hn(i){At.current===i&&(X(ft),X(At)),jt.current===i&&(X(jt),hu._currentValue=dt)}var qs,Fs;function Gn(i){if(qs===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);qs=r&&r[1]||"",Fs=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+qs+i+Fs}var $r=!1;function Ci(i,r){if(!i||$r)return"";$r=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var tt=function(){throw Error()};if(Object.defineProperty(tt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(tt,[])}catch(Y){var H=Y}Reflect.construct(i,[],tt)}else{try{tt.call()}catch(Y){H=Y}i.call(tt.prototype)}}else{try{throw Error()}catch(Y){H=Y}(tt=i())&&typeof tt.catch=="function"&&tt.catch(function(){})}}catch(Y){if(Y&&H&&typeof Y.stack=="string")return[Y.stack,H.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=l.DetermineComponentFrameRoot(),v=m[0],b=m[1];if(v&&b){var N=v.split(`
`),q=b.split(`
`);for(f=l=0;l<N.length&&!N[l].includes("DetermineComponentFrameRoot");)l++;for(;f<q.length&&!q[f].includes("DetermineComponentFrameRoot");)f++;if(l===N.length||f===q.length)for(l=N.length-1,f=q.length-1;1<=l&&0<=f&&N[l]!==q[f];)f--;for(;1<=l&&0<=f;l--,f--)if(N[l]!==q[f]){if(l!==1||f!==1)do if(l--,f--,0>f||N[l]!==q[f]){var W=`
`+N[l].replace(" at new "," at ");return i.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",i.displayName)),W}while(1<=l&&0<=f);break}}}finally{$r=!1,Error.prepareStackTrace=a}return(a=i?i.displayName||i.name:"")?Gn(a):""}function Ii(i,r){switch(i.tag){case 26:case 27:case 5:return Gn(i.type);case 16:return Gn("Lazy");case 13:return i.child!==r&&r!==null?Gn("Suspense Fallback"):Gn("Suspense");case 19:return Gn("SuspenseList");case 0:case 15:return Ci(i.type,!1);case 11:return Ci(i.type.render,!1);case 1:return Ci(i.type,!0);case 31:return Gn("Activity");default:return""}}function Wr(i){try{var r="",a=null;do r+=Ii(i,a),a=i,i=i.return;while(i);return r}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Te=Object.prototype.hasOwnProperty,Ce=e.unstable_scheduleCallback,ui=e.unstable_cancelCallback,pl=e.unstable_shouldYield,Hs=e.unstable_requestPaint,Ge=e.unstable_now,us=e.unstable_getCurrentPriorityLevel,Zr=e.unstable_ImmediatePriority,cs=e.unstable_UserBlockingPriority,_n=e.unstable_NormalPriority,F=e.unstable_LowPriority,ct=e.unstable_IdlePriority,Tt=e.log,Ot=e.unstable_setDisableYieldValue,Yt=null,tn=null;function Kn(i){if(typeof Tt=="function"&&Ot(i),tn&&typeof tn.setStrictMode=="function")try{tn.setStrictMode(Yt,i)}catch{}}var Ie=Math.clz32?Math.clz32:yc,gc=Math.log,Ya=Math.LN2;function yc(i){return i>>>=0,i===0?32:31-(gc(i)/Ya|0)|0}var xi=256,Jr=262144,Oe=4194304;function Di(i){var r=i&42;if(r!==0)return r;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Ni(i,r,a){var l=i.pendingLanes;if(l===0)return 0;var f=0,m=i.suspendedLanes,v=i.pingedLanes;i=i.warmLanes;var b=l&134217727;return b!==0?(l=b&~m,l!==0?f=Di(l):(v&=b,v!==0?f=Di(v):a||(a=b&~i,a!==0&&(f=Di(a))))):(b=l&~m,b!==0?f=Di(b):v!==0?f=Di(v):a||(a=l&~i,a!==0&&(f=Di(a)))),f===0?0:r!==0&&r!==f&&(r&m)===0&&(m=f&-f,a=r&-r,m>=a||m===32&&(a&4194048)!==0)?r:f}function ci(i,r){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&r)===0}function gd(i,r){switch(i){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _c(){var i=Oe;return Oe<<=1,(Oe&62914560)===0&&(Oe=4194304),i}function Vi(i){for(var r=[],a=0;31>a;a++)r.push(i);return r}function ta(i,r){i.pendingLanes|=r,r!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function yd(i,r,a,l,f,m){var v=i.pendingLanes;i.pendingLanes=a,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=a,i.entangledLanes&=a,i.errorRecoveryDisabledLanes&=a,i.shellSuspendCounter=0;var b=i.entanglements,N=i.expirationTimes,q=i.hiddenUpdates;for(a=v&~a;0<a;){var W=31-Ie(a),tt=1<<W;b[W]=0,N[W]=-1;var H=q[W];if(H!==null)for(q[W]=null,W=0;W<H.length;W++){var Y=H[W];Y!==null&&(Y.lane&=-536870913)}a&=~tt}l!==0&&ea(i,l,0),m!==0&&f===0&&i.tag!==0&&(i.suspendedLanes|=m&~(v&~r))}function ea(i,r,a){i.pendingLanes|=r,i.suspendedLanes&=~r;var l=31-Ie(r);i.entangledLanes|=r,i.entanglements[l]=i.entanglements[l]|1073741824|a&261930}function gl(i,r){var a=i.entangledLanes|=r;for(i=i.entanglements;a;){var l=31-Ie(a),f=1<<l;f&r|i[l]&r&&(i[l]|=r),a&=~f}}function yl(i,r){var a=r&-r;return a=(a&42)!==0?1:na(a),(a&(i.suspendedLanes|r))!==0?0:a}function na(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function hs(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function vc(){var i=st.p;return i!==0?i:(i=window.event,i===void 0?32:jE(i.type))}function hi(i,r){var a=st.p;try{return st.p=i,r()}finally{st.p=a}}var fi=Math.random().toString(36).slice(2),Me="__reactFiber$"+fi,$e="__reactProps$"+fi,Oi="__reactContainer$"+fi,Qa="__reactEvents$"+fi,_d="__reactListeners$"+fi,Tc="__reactHandles$"+fi,Ec="__reactResources$"+fi,Mi="__reactMarker$"+fi;function Xa(i){delete i[Me],delete i[$e],delete i[Qa],delete i[_d],delete i[Tc]}function Pi(i){var r=i[Me];if(r)return r;for(var a=i.parentNode;a;){if(r=a[Oi]||a[Me]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(i=AE(i);i!==null;){if(a=i[Me])return a;i=AE(i)}return r}i=a,a=i.parentNode}return null}function Yn(i){if(i=i[Me]||i[Oi]){var r=i.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return i}return null}function On(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i.stateNode;throw Error(s(33))}function ki(i){var r=i[Ec];return r||(r=i[Ec]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Pe(i){i[Mi]=!0}var _l=new Set,vl={};function Li(i,r){ji(i,r),ji(i+"Capture",r)}function ji(i,r){for(vl[i]=r,i=0;i<r.length;i++)_l.add(r[i])}var Tl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),El={},Al={};function Ac(i){return Te.call(Al,i)?!0:Te.call(El,i)?!1:Tl.test(i)?Al[i]=!0:(El[i]=!0,!1)}function $a(i,r,a){if(Ac(r))if(a===null)i.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":i.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){i.removeAttribute(r);return}}i.setAttribute(r,""+a)}}function Mn(i,r,a){if(a===null)i.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttribute(r,""+a)}}function ke(i,r,a,l){if(l===null)i.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(a);return}i.setAttributeNS(r,a,""+l)}}function We(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Gs(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Sl(i,r,a){var l=Object.getOwnPropertyDescriptor(i.constructor.prototype,r);if(!i.hasOwnProperty(r)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,m=l.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return f.call(this)},set:function(v){a=""+v,m.call(this,v)}}),Object.defineProperty(i,r,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(v){a=""+v},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function te(i){if(!i._valueTracker){var r=Gs(i)?"checked":"value";i._valueTracker=Sl(i,r,""+i[r])}}function ia(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return i&&(l=Gs(i)?i.checked?"true":"false":i.value),i=l,i!==a?(r.setValue(i),!0):!1}function Ui(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var sa=/[\n"\\]/g;function Sn(i){return i.replace(sa,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Wa(i,r,a,l,f,m,v,b){i.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?i.type=v:i.removeAttribute("type"),r!=null?v==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+We(r)):i.value!==""+We(r)&&(i.value=""+We(r)):v!=="submit"&&v!=="reset"||i.removeAttribute("value"),r!=null?bl(i,v,We(r)):a!=null?bl(i,v,We(a)):l!=null&&i.removeAttribute("value"),f==null&&m!=null&&(i.defaultChecked=!!m),f!=null&&(i.checked=f&&typeof f!="function"&&typeof f!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?i.name=""+We(b):i.removeAttribute("name")}function Sc(i,r,a,l,f,m,v,b){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(i.type=m),r!=null||a!=null){if(!(m!=="submit"&&m!=="reset"||r!=null)){te(i);return}a=a!=null?""+We(a):"",r=r!=null?""+We(r):a,b||r===i.value||(i.value=r),i.defaultValue=r}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,i.checked=b?i.checked:!!l,i.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(i.name=v),te(i)}function bl(i,r,a){r==="number"&&Ui(i.ownerDocument)===i||i.defaultValue===""+a||(i.defaultValue=""+a)}function Ks(i,r,a,l){if(i=i.options,r){r={};for(var f=0;f<a.length;f++)r["$"+a[f]]=!0;for(a=0;a<i.length;a++)f=r.hasOwnProperty("$"+i[a].value),i[a].selected!==f&&(i[a].selected=f),f&&l&&(i[a].defaultSelected=!0)}else{for(a=""+We(a),r=null,f=0;f<i.length;f++){if(i[f].value===a){i[f].selected=!0,l&&(i[f].defaultSelected=!0);return}r!==null||i[f].disabled||(r=i[f])}r!==null&&(r.selected=!0)}}function bc(i,r,a){if(r!=null&&(r=""+We(r),r!==i.value&&(i.value=r),a==null)){i.defaultValue!==r&&(i.defaultValue=r);return}i.defaultValue=a!=null?""+We(a):""}function Ys(i,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(le(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=We(r),i.defaultValue=a,l=i.textContent,l===a&&l!==""&&l!==null&&(i.value=l),te(i)}function bn(i,r){if(r){var a=i.firstChild;if(a&&a===i.lastChild&&a.nodeType===3){a.nodeValue=r;return}}i.textContent=r}var wc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function wl(i,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?i.setProperty(r,""):r==="float"?i.cssFloat="":i[r]="":l?i.setProperty(r,a):typeof a!="number"||a===0||wc.has(r)?r==="float"?i.cssFloat=a:i[r]=(""+a).trim():i[r]=a+"px"}function Rl(i,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(i=i.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?i.setProperty(l,""):l==="float"?i.cssFloat="":i[l]="");for(var f in r)l=r[f],r.hasOwnProperty(f)&&a[f]!==l&&wl(i,f,l)}else for(var m in r)r.hasOwnProperty(m)&&wl(i,m,r[m])}function Za(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Rc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Qs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ja(i){return Qs.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function di(){}var Cl=null;function Qn(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Xs=null,Bi=null;function ra(i){var r=Yn(i);if(r&&(i=r.stateNode)){var a=i[$e]||null;t:switch(i=r.stateNode,r.type){case"input":if(Wa(i,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=i;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Sn(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==i&&l.form===i.form){var f=l[$e]||null;if(!f)throw Error(s(90));Wa(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===i.form&&ia(l)}break t;case"textarea":bc(i,a.value,a.defaultValue);break t;case"select":r=a.value,r!=null&&Ks(i,!!a.multiple,r,!1)}}}var to=!1;function $s(i,r,a){if(to)return i(r,a);to=!0;try{var l=i(r);return l}finally{if(to=!1,(Xs!==null||Bi!==null)&&(vh(),Xs&&(r=Xs,i=Bi,Bi=Xs=null,ra(r),i)))for(r=0;r<i.length;r++)ra(i[r])}}function mi(i,r){var a=i.stateNode;if(a===null)return null;var l=a[$e]||null;if(l===null)return null;a=l[r];t:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(i=i.type,l=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!l;break t;default:i=!1}if(i)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var Xn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),aa=!1;if(Xn)try{var ie={};Object.defineProperty(ie,"passive",{get:function(){aa=!0}}),window.addEventListener("test",ie,ie),window.removeEventListener("test",ie,ie)}catch{aa=!1}var zi=null,Il=null,oa=null;function xl(){if(oa)return oa;var i,r=Il,a=r.length,l,f="value"in zi?zi.value:zi.textContent,m=f.length;for(i=0;i<a&&r[i]===f[i];i++);var v=a-i;for(l=1;l<=v&&r[a-l]===f[m-l];l++);return oa=f.slice(i,1<l?1-l:void 0)}function la(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function fs(){return!0}function pi(){return!1}function en(i){function r(a,l,f,m,v){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=m,this.target=v,this.currentTarget=null;for(var b in i)i.hasOwnProperty(b)&&(a=i[b],this[b]=a?a(m):m[b]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?fs:pi,this.isPropagationStopped=pi,this}return A(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=fs)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=fs)},persist:function(){},isPersistent:fs}),r}var ds={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qi=en(ds),Ws=A({},ds,{view:0,detail:0}),Dl=en(Ws),Zs,eo,Fi,no=A({},Ws,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Js,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Fi&&(Fi&&i.type==="mousemove"?(Zs=i.screenX-Fi.screenX,eo=i.screenY-Fi.screenY):eo=Zs=0,Fi=i),Zs)},movementY:function(i){return"movementY"in i?i.movementY:eo}}),Nl=en(no),ua=A({},no,{dataTransfer:0}),Cc=en(ua),Ic=A({},Ws,{relatedTarget:0}),ca=en(Ic),Vl=A({},ds,{animationName:0,elapsedTime:0,pseudoElement:0}),xc=en(Vl),io=A({},ds,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Dc=en(io),Nc=A({},ds,{data:0}),Hi=en(Nc),Vc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Oc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Mc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pc(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=Mc[i])?!!r[i]:!1}function Js(){return Pc}var vn=A({},Ws,{key:function(i){if(i.key){var r=Vc[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=la(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Oc[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Js,charCode:function(i){return i.type==="keypress"?la(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?la(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),kc=en(vn),Lc=A({},no,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ms=en(Lc),h=A({},Ws,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Js}),_=en(h),E=A({},ds,{propertyName:0,elapsedTime:0,pseudoElement:0}),w=en(E),U=A({},no,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),K=en(U),lt=A({},ds,{newState:0,oldState:0}),Nt=en(lt),xe=[9,13,27,32],$t=Xn&&"CompositionEvent"in window,me=null;Xn&&"documentMode"in document&&(me=document.documentMode);var $n=Xn&&"TextEvent"in window&&!me,Gi=Xn&&(!$t||me&&8<me&&11>=me),gi=" ",yi=!1;function ha(i,r){switch(i){case"keyup":return xe.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function so(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var ro=!1;function dC(i,r){switch(i){case"compositionend":return so(r);case"keypress":return r.which!==32?null:(yi=!0,gi);case"textInput":return i=r.data,i===gi&&yi?null:i;default:return null}}function mC(i,r){if(ro)return i==="compositionend"||!$t&&ha(i,r)?(i=xl(),oa=Il=zi=null,ro=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Gi&&r.locale!=="ko"?null:r.data;default:return null}}var pC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function w_(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!pC[i.type]:r==="textarea"}function R_(i,r,a,l){Xs?Bi?Bi.push(l):Bi=[l]:Xs=l,r=Rh(r,"onChange"),0<r.length&&(a=new qi("onChange","change",null,a,l),i.push({event:a,listeners:r}))}var Ol=null,Ml=null;function gC(i){lE(i,0)}function jc(i){var r=On(i);if(ia(r))return i}function C_(i,r){if(i==="change")return r}var I_=!1;if(Xn){var vd;if(Xn){var Td="oninput"in document;if(!Td){var x_=document.createElement("div");x_.setAttribute("oninput","return;"),Td=typeof x_.oninput=="function"}vd=Td}else vd=!1;I_=vd&&(!document.documentMode||9<document.documentMode)}function D_(){Ol&&(Ol.detachEvent("onpropertychange",N_),Ml=Ol=null)}function N_(i){if(i.propertyName==="value"&&jc(Ml)){var r=[];R_(r,Ml,i,Qn(i)),$s(gC,r)}}function yC(i,r,a){i==="focusin"?(D_(),Ol=r,Ml=a,Ol.attachEvent("onpropertychange",N_)):i==="focusout"&&D_()}function _C(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return jc(Ml)}function vC(i,r){if(i==="click")return jc(r)}function TC(i,r){if(i==="input"||i==="change")return jc(r)}function EC(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var Pn=typeof Object.is=="function"?Object.is:EC;function Pl(i,r){if(Pn(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var a=Object.keys(i),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!Te.call(r,f)||!Pn(i[f],r[f]))return!1}return!0}function V_(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function O_(i,r){var a=V_(i);i=0;for(var l;a;){if(a.nodeType===3){if(l=i+a.textContent.length,i<=r&&l>=r)return{node:a,offset:r-i};i=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=V_(a)}}function M_(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?M_(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function P_(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var r=Ui(i.document);r instanceof i.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)i=r.contentWindow;else break;r=Ui(i.document)}return r}function Ed(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}var AC=Xn&&"documentMode"in document&&11>=document.documentMode,ao=null,Ad=null,kl=null,Sd=!1;function k_(i,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Sd||ao==null||ao!==Ui(l)||(l=ao,"selectionStart"in l&&Ed(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),kl&&Pl(kl,l)||(kl=l,l=Rh(Ad,"onSelect"),0<l.length&&(r=new qi("onSelect","select",null,r,a),i.push({event:r,listeners:l}),r.target=ao)))}function fa(i,r){var a={};return a[i.toLowerCase()]=r.toLowerCase(),a["Webkit"+i]="webkit"+r,a["Moz"+i]="moz"+r,a}var oo={animationend:fa("Animation","AnimationEnd"),animationiteration:fa("Animation","AnimationIteration"),animationstart:fa("Animation","AnimationStart"),transitionrun:fa("Transition","TransitionRun"),transitionstart:fa("Transition","TransitionStart"),transitioncancel:fa("Transition","TransitionCancel"),transitionend:fa("Transition","TransitionEnd")},bd={},L_={};Xn&&(L_=document.createElement("div").style,"AnimationEvent"in window||(delete oo.animationend.animation,delete oo.animationiteration.animation,delete oo.animationstart.animation),"TransitionEvent"in window||delete oo.transitionend.transition);function da(i){if(bd[i])return bd[i];if(!oo[i])return i;var r=oo[i],a;for(a in r)if(r.hasOwnProperty(a)&&a in L_)return bd[i]=r[a];return i}var j_=da("animationend"),U_=da("animationiteration"),B_=da("animationstart"),SC=da("transitionrun"),bC=da("transitionstart"),wC=da("transitioncancel"),z_=da("transitionend"),q_=new Map,wd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");wd.push("scrollEnd");function _i(i,r){q_.set(i,r),Li(r,[i])}var Uc=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},Wn=[],lo=0,Rd=0;function Bc(){for(var i=lo,r=Rd=lo=0;r<i;){var a=Wn[r];Wn[r++]=null;var l=Wn[r];Wn[r++]=null;var f=Wn[r];Wn[r++]=null;var m=Wn[r];if(Wn[r++]=null,l!==null&&f!==null){var v=l.pending;v===null?f.next=f:(f.next=v.next,v.next=f),l.pending=f}m!==0&&F_(a,f,m)}}function zc(i,r,a,l){Wn[lo++]=i,Wn[lo++]=r,Wn[lo++]=a,Wn[lo++]=l,Rd|=l,i.lanes|=l,i=i.alternate,i!==null&&(i.lanes|=l)}function Cd(i,r,a,l){return zc(i,r,a,l),qc(i)}function ma(i,r){return zc(i,null,null,r),qc(i)}function F_(i,r,a){i.lanes|=a;var l=i.alternate;l!==null&&(l.lanes|=a);for(var f=!1,m=i.return;m!==null;)m.childLanes|=a,l=m.alternate,l!==null&&(l.childLanes|=a),m.tag===22&&(i=m.stateNode,i===null||i._visibility&1||(f=!0)),i=m,m=m.return;return i.tag===3?(m=i.stateNode,f&&r!==null&&(f=31-Ie(a),i=m.hiddenUpdates,l=i[f],l===null?i[f]=[r]:l.push(r),r.lane=a|536870912),m):null}function qc(i){if(50<su)throw su=0,km=null,Error(s(185));for(var r=i.return;r!==null;)i=r,r=i.return;return i.tag===3?i.stateNode:null}var uo={};function RC(i,r,a,l){this.tag=i,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kn(i,r,a,l){return new RC(i,r,a,l)}function Id(i){return i=i.prototype,!(!i||!i.isReactComponent)}function ps(i,r){var a=i.alternate;return a===null?(a=kn(i.tag,r,i.key,i.mode),a.elementType=i.elementType,a.type=i.type,a.stateNode=i.stateNode,a.alternate=i,i.alternate=a):(a.pendingProps=r,a.type=i.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=i.flags&65011712,a.childLanes=i.childLanes,a.lanes=i.lanes,a.child=i.child,a.memoizedProps=i.memoizedProps,a.memoizedState=i.memoizedState,a.updateQueue=i.updateQueue,r=i.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=i.sibling,a.index=i.index,a.ref=i.ref,a.refCleanup=i.refCleanup,a}function H_(i,r){i.flags&=65011714;var a=i.alternate;return a===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,r=a.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i}function Fc(i,r,a,l,f,m){var v=0;if(l=i,typeof i=="function")Id(i)&&(v=1);else if(typeof i=="string")v=NI(i,a,ft.current)?26:i==="html"||i==="head"||i==="body"?27:5;else t:switch(i){case x:return i=kn(31,a,r,f),i.elementType=x,i.lanes=m,i;case G:return pa(a.children,f,m,r);case B:v=8,f|=24;break;case Z:return i=kn(12,a,r,f|2),i.elementType=Z,i.lanes=m,i;case at:return i=kn(13,a,r,f),i.elementType=at,i.lanes=m,i;case ht:return i=kn(19,a,r,f),i.elementType=ht,i.lanes=m,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case $:v=10;break t;case nt:v=9;break t;case ot:v=11;break t;case I:v=14;break t;case R:v=16,l=null;break t}v=29,a=Error(s(130,i===null?"null":typeof i,"")),l=null}return r=kn(v,a,r,f),r.elementType=i,r.type=l,r.lanes=m,r}function pa(i,r,a,l){return i=kn(7,i,l,r),i.lanes=a,i}function xd(i,r,a){return i=kn(6,i,null,r),i.lanes=a,i}function G_(i){var r=kn(18,null,null,0);return r.stateNode=i,r}function Dd(i,r,a){return r=kn(4,i.children!==null?i.children:[],i.key,r),r.lanes=a,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}var K_=new WeakMap;function Zn(i,r){if(typeof i=="object"&&i!==null){var a=K_.get(i);return a!==void 0?a:(r={value:i,source:r,stack:Wr(r)},K_.set(i,r),r)}return{value:i,source:r,stack:Wr(r)}}var co=[],ho=0,Hc=null,Ll=0,Jn=[],ti=0,tr=null,Ki=1,Yi="";function gs(i,r){co[ho++]=Ll,co[ho++]=Hc,Hc=i,Ll=r}function Y_(i,r,a){Jn[ti++]=Ki,Jn[ti++]=Yi,Jn[ti++]=tr,tr=i;var l=Ki;i=Yi;var f=32-Ie(l)-1;l&=~(1<<f),a+=1;var m=32-Ie(r)+f;if(30<m){var v=f-f%5;m=(l&(1<<v)-1).toString(32),l>>=v,f-=v,Ki=1<<32-Ie(r)+f|a<<f|l,Yi=m+i}else Ki=1<<m|a<<f|l,Yi=i}function Nd(i){i.return!==null&&(gs(i,1),Y_(i,1,0))}function Vd(i){for(;i===Hc;)Hc=co[--ho],co[ho]=null,Ll=co[--ho],co[ho]=null;for(;i===tr;)tr=Jn[--ti],Jn[ti]=null,Yi=Jn[--ti],Jn[ti]=null,Ki=Jn[--ti],Jn[ti]=null}function Q_(i,r){Jn[ti++]=Ki,Jn[ti++]=Yi,Jn[ti++]=tr,Ki=r.id,Yi=r.overflow,tr=i}var nn=null,he=null,Ht=!1,er=null,ei=!1,Od=Error(s(519));function nr(i){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw jl(Zn(r,i)),Od}function X_(i){var r=i.stateNode,a=i.type,l=i.memoizedProps;switch(r[Me]=i,r[$e]=l,a){case"dialog":Lt("cancel",r),Lt("close",r);break;case"iframe":case"object":case"embed":Lt("load",r);break;case"video":case"audio":for(a=0;a<au.length;a++)Lt(au[a],r);break;case"source":Lt("error",r);break;case"img":case"image":case"link":Lt("error",r),Lt("load",r);break;case"details":Lt("toggle",r);break;case"input":Lt("invalid",r),Sc(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Lt("invalid",r);break;case"textarea":Lt("invalid",r),Ys(r,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||fE(r.textContent,a)?(l.popover!=null&&(Lt("beforetoggle",r),Lt("toggle",r)),l.onScroll!=null&&Lt("scroll",r),l.onScrollEnd!=null&&Lt("scrollend",r),l.onClick!=null&&(r.onclick=di),r=!0):r=!1,r||nr(i,!0)}function $_(i){for(nn=i.return;nn;)switch(nn.tag){case 5:case 31:case 13:ei=!1;return;case 27:case 3:ei=!0;return;default:nn=nn.return}}function fo(i){if(i!==nn)return!1;if(!Ht)return $_(i),Ht=!0,!1;var r=i.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=i.type,a=!(a!=="form"&&a!=="button")||Wm(i.type,i.memoizedProps)),a=!a),a&&he&&nr(i),$_(i),r===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));he=EE(i)}else if(r===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));he=EE(i)}else r===27?(r=he,gr(i.type)?(i=np,np=null,he=i):he=r):he=nn?ii(i.stateNode.nextSibling):null;return!0}function ga(){he=nn=null,Ht=!1}function Md(){var i=er;return i!==null&&(In===null?In=i:In.push.apply(In,i),er=null),i}function jl(i){er===null?er=[i]:er.push(i)}var Pd=M(null),ya=null,ys=null;function ir(i,r,a){ut(Pd,r._currentValue),r._currentValue=a}function _s(i){i._currentValue=Pd.current,X(Pd)}function kd(i,r,a){for(;i!==null;){var l=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),i===a)break;i=i.return}}function Ld(i,r,a,l){var f=i.child;for(f!==null&&(f.return=i);f!==null;){var m=f.dependencies;if(m!==null){var v=f.child;m=m.firstContext;t:for(;m!==null;){var b=m;m=f;for(var N=0;N<r.length;N++)if(b.context===r[N]){m.lanes|=a,b=m.alternate,b!==null&&(b.lanes|=a),kd(m.return,a,i),l||(v=null);break t}m=b.next}}else if(f.tag===18){if(v=f.return,v===null)throw Error(s(341));v.lanes|=a,m=v.alternate,m!==null&&(m.lanes|=a),kd(v,a,i),v=null}else v=f.child;if(v!==null)v.return=f;else for(v=f;v!==null;){if(v===i){v=null;break}if(f=v.sibling,f!==null){f.return=v.return,v=f;break}v=v.return}f=v}}function mo(i,r,a,l){i=null;for(var f=r,m=!1;f!==null;){if(!m){if((f.flags&524288)!==0)m=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var v=f.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var b=f.type;Pn(f.pendingProps.value,v.value)||(i!==null?i.push(b):i=[b])}}else if(f===jt.current){if(v=f.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(i!==null?i.push(hu):i=[hu])}f=f.return}i!==null&&Ld(r,i,a,l),r.flags|=262144}function Gc(i){for(i=i.firstContext;i!==null;){if(!Pn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function _a(i){ya=i,ys=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function sn(i){return W_(ya,i)}function Kc(i,r){return ya===null&&_a(i),W_(i,r)}function W_(i,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},ys===null){if(i===null)throw Error(s(308));ys=r,i.dependencies={lanes:0,firstContext:r},i.flags|=524288}else ys=ys.next=r;return a}var CC=typeof AbortController<"u"?AbortController:function(){var i=[],r=this.signal={aborted:!1,addEventListener:function(a,l){i.push(l)}};this.abort=function(){r.aborted=!0,i.forEach(function(a){return a()})}},IC=e.unstable_scheduleCallback,xC=e.unstable_NormalPriority,Le={$$typeof:$,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function jd(){return{controller:new CC,data:new Map,refCount:0}}function Ul(i){i.refCount--,i.refCount===0&&IC(xC,function(){i.controller.abort()})}var Bl=null,Ud=0,po=0,go=null;function DC(i,r){if(Bl===null){var a=Bl=[];Ud=0,po=qm(),go={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Ud++,r.then(Z_,Z_),r}function Z_(){if(--Ud===0&&Bl!==null){go!==null&&(go.status="fulfilled");var i=Bl;Bl=null,po=0,go=null;for(var r=0;r<i.length;r++)(0,i[r])()}}function NC(i,r){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return i.then(function(){l.status="fulfilled",l.value=r;for(var f=0;f<a.length;f++)(0,a[f])(r)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var J_=Q.S;Q.S=function(i,r){kT=Ge(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&DC(i,r),J_!==null&&J_(i,r)};var va=M(null);function Bd(){var i=va.current;return i!==null?i:oe.pooledCache}function Yc(i,r){r===null?ut(va,va.current):ut(va,r.pool)}function tv(){var i=Bd();return i===null?null:{parent:Le._currentValue,pool:i}}var yo=Error(s(460)),zd=Error(s(474)),Qc=Error(s(542)),Xc={then:function(){}};function ev(i){return i=i.status,i==="fulfilled"||i==="rejected"}function nv(i,r,a){switch(a=i[a],a===void 0?i.push(r):a!==r&&(r.then(di,di),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,sv(i),i;default:if(typeof r.status=="string")r.then(di,di);else{if(i=oe,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=r,i.status="pending",i.then(function(l){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=l}},function(l){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,sv(i),i}throw Ea=r,yo}}function Ta(i){try{var r=i._init;return r(i._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Ea=a,yo):a}}var Ea=null;function iv(){if(Ea===null)throw Error(s(459));var i=Ea;return Ea=null,i}function sv(i){if(i===yo||i===Qc)throw Error(s(483))}var _o=null,zl=0;function $c(i){var r=zl;return zl+=1,_o===null&&(_o=[]),nv(_o,i,r)}function ql(i,r){r=r.props.ref,i.ref=r!==void 0?r:null}function Wc(i,r){throw r.$$typeof===S?Error(s(525)):(i=Object.prototype.toString.call(r),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)))}function rv(i){function r(j,P){if(i){var z=j.deletions;z===null?(j.deletions=[P],j.flags|=16):z.push(P)}}function a(j,P){if(!i)return null;for(;P!==null;)r(j,P),P=P.sibling;return null}function l(j){for(var P=new Map;j!==null;)j.key!==null?P.set(j.key,j):P.set(j.index,j),j=j.sibling;return P}function f(j,P){return j=ps(j,P),j.index=0,j.sibling=null,j}function m(j,P,z){return j.index=z,i?(z=j.alternate,z!==null?(z=z.index,z<P?(j.flags|=67108866,P):z):(j.flags|=67108866,P)):(j.flags|=1048576,P)}function v(j){return i&&j.alternate===null&&(j.flags|=67108866),j}function b(j,P,z,J){return P===null||P.tag!==6?(P=xd(z,j.mode,J),P.return=j,P):(P=f(P,z),P.return=j,P)}function N(j,P,z,J){var _t=z.type;return _t===G?W(j,P,z.props.children,J,z.key):P!==null&&(P.elementType===_t||typeof _t=="object"&&_t!==null&&_t.$$typeof===R&&Ta(_t)===P.type)?(P=f(P,z.props),ql(P,z),P.return=j,P):(P=Fc(z.type,z.key,z.props,null,j.mode,J),ql(P,z),P.return=j,P)}function q(j,P,z,J){return P===null||P.tag!==4||P.stateNode.containerInfo!==z.containerInfo||P.stateNode.implementation!==z.implementation?(P=Dd(z,j.mode,J),P.return=j,P):(P=f(P,z.children||[]),P.return=j,P)}function W(j,P,z,J,_t){return P===null||P.tag!==7?(P=pa(z,j.mode,J,_t),P.return=j,P):(P=f(P,z),P.return=j,P)}function tt(j,P,z){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return P=xd(""+P,j.mode,z),P.return=j,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case C:return z=Fc(P.type,P.key,P.props,null,j.mode,z),ql(z,P),z.return=j,z;case k:return P=Dd(P,j.mode,z),P.return=j,P;case R:return P=Ta(P),tt(j,P,z)}if(le(P)||L(P))return P=pa(P,j.mode,z,null),P.return=j,P;if(typeof P.then=="function")return tt(j,$c(P),z);if(P.$$typeof===$)return tt(j,Kc(j,P),z);Wc(j,P)}return null}function H(j,P,z,J){var _t=P!==null?P.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return _t!==null?null:b(j,P,""+z,J);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case C:return z.key===_t?N(j,P,z,J):null;case k:return z.key===_t?q(j,P,z,J):null;case R:return z=Ta(z),H(j,P,z,J)}if(le(z)||L(z))return _t!==null?null:W(j,P,z,J,null);if(typeof z.then=="function")return H(j,P,$c(z),J);if(z.$$typeof===$)return H(j,P,Kc(j,z),J);Wc(j,z)}return null}function Y(j,P,z,J,_t){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return j=j.get(z)||null,b(P,j,""+J,_t);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case C:return j=j.get(J.key===null?z:J.key)||null,N(P,j,J,_t);case k:return j=j.get(J.key===null?z:J.key)||null,q(P,j,J,_t);case R:return J=Ta(J),Y(j,P,z,J,_t)}if(le(J)||L(J))return j=j.get(z)||null,W(P,j,J,_t,null);if(typeof J.then=="function")return Y(j,P,z,$c(J),_t);if(J.$$typeof===$)return Y(j,P,z,Kc(P,J),_t);Wc(P,J)}return null}function gt(j,P,z,J){for(var _t=null,Qt=null,yt=P,Mt=P=0,Bt=null;yt!==null&&Mt<z.length;Mt++){yt.index>Mt?(Bt=yt,yt=null):Bt=yt.sibling;var Xt=H(j,yt,z[Mt],J);if(Xt===null){yt===null&&(yt=Bt);break}i&&yt&&Xt.alternate===null&&r(j,yt),P=m(Xt,P,Mt),Qt===null?_t=Xt:Qt.sibling=Xt,Qt=Xt,yt=Bt}if(Mt===z.length)return a(j,yt),Ht&&gs(j,Mt),_t;if(yt===null){for(;Mt<z.length;Mt++)yt=tt(j,z[Mt],J),yt!==null&&(P=m(yt,P,Mt),Qt===null?_t=yt:Qt.sibling=yt,Qt=yt);return Ht&&gs(j,Mt),_t}for(yt=l(yt);Mt<z.length;Mt++)Bt=Y(yt,j,Mt,z[Mt],J),Bt!==null&&(i&&Bt.alternate!==null&&yt.delete(Bt.key===null?Mt:Bt.key),P=m(Bt,P,Mt),Qt===null?_t=Bt:Qt.sibling=Bt,Qt=Bt);return i&&yt.forEach(function(Er){return r(j,Er)}),Ht&&gs(j,Mt),_t}function Et(j,P,z,J){if(z==null)throw Error(s(151));for(var _t=null,Qt=null,yt=P,Mt=P=0,Bt=null,Xt=z.next();yt!==null&&!Xt.done;Mt++,Xt=z.next()){yt.index>Mt?(Bt=yt,yt=null):Bt=yt.sibling;var Er=H(j,yt,Xt.value,J);if(Er===null){yt===null&&(yt=Bt);break}i&&yt&&Er.alternate===null&&r(j,yt),P=m(Er,P,Mt),Qt===null?_t=Er:Qt.sibling=Er,Qt=Er,yt=Bt}if(Xt.done)return a(j,yt),Ht&&gs(j,Mt),_t;if(yt===null){for(;!Xt.done;Mt++,Xt=z.next())Xt=tt(j,Xt.value,J),Xt!==null&&(P=m(Xt,P,Mt),Qt===null?_t=Xt:Qt.sibling=Xt,Qt=Xt);return Ht&&gs(j,Mt),_t}for(yt=l(yt);!Xt.done;Mt++,Xt=z.next())Xt=Y(yt,j,Mt,Xt.value,J),Xt!==null&&(i&&Xt.alternate!==null&&yt.delete(Xt.key===null?Mt:Xt.key),P=m(Xt,P,Mt),Qt===null?_t=Xt:Qt.sibling=Xt,Qt=Xt);return i&&yt.forEach(function(qI){return r(j,qI)}),Ht&&gs(j,Mt),_t}function ae(j,P,z,J){if(typeof z=="object"&&z!==null&&z.type===G&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case C:t:{for(var _t=z.key;P!==null;){if(P.key===_t){if(_t=z.type,_t===G){if(P.tag===7){a(j,P.sibling),J=f(P,z.props.children),J.return=j,j=J;break t}}else if(P.elementType===_t||typeof _t=="object"&&_t!==null&&_t.$$typeof===R&&Ta(_t)===P.type){a(j,P.sibling),J=f(P,z.props),ql(J,z),J.return=j,j=J;break t}a(j,P);break}else r(j,P);P=P.sibling}z.type===G?(J=pa(z.props.children,j.mode,J,z.key),J.return=j,j=J):(J=Fc(z.type,z.key,z.props,null,j.mode,J),ql(J,z),J.return=j,j=J)}return v(j);case k:t:{for(_t=z.key;P!==null;){if(P.key===_t)if(P.tag===4&&P.stateNode.containerInfo===z.containerInfo&&P.stateNode.implementation===z.implementation){a(j,P.sibling),J=f(P,z.children||[]),J.return=j,j=J;break t}else{a(j,P);break}else r(j,P);P=P.sibling}J=Dd(z,j.mode,J),J.return=j,j=J}return v(j);case R:return z=Ta(z),ae(j,P,z,J)}if(le(z))return gt(j,P,z,J);if(L(z)){if(_t=L(z),typeof _t!="function")throw Error(s(150));return z=_t.call(z),Et(j,P,z,J)}if(typeof z.then=="function")return ae(j,P,$c(z),J);if(z.$$typeof===$)return ae(j,P,Kc(j,z),J);Wc(j,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,P!==null&&P.tag===6?(a(j,P.sibling),J=f(P,z),J.return=j,j=J):(a(j,P),J=xd(z,j.mode,J),J.return=j,j=J),v(j)):a(j,P)}return function(j,P,z,J){try{zl=0;var _t=ae(j,P,z,J);return _o=null,_t}catch(yt){if(yt===yo||yt===Qc)throw yt;var Qt=kn(29,yt,null,j.mode);return Qt.lanes=J,Qt.return=j,Qt}}}var Aa=rv(!0),av=rv(!1),sr=!1;function qd(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Fd(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function rr(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function ar(i,r,a){var l=i.updateQueue;if(l===null)return null;if(l=l.shared,(Wt&2)!==0){var f=l.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),l.pending=r,r=qc(i),F_(i,null,a),r}return zc(i,l,r,a),qc(i)}function Fl(i,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var l=r.lanes;l&=i.pendingLanes,a|=l,r.lanes=a,gl(i,a)}}function Hd(i,r){var a=i.updateQueue,l=i.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};m===null?f=m=v:m=m.next=v,a=a.next}while(a!==null);m===null?f=m=r:m=m.next=r}else f=m=r;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:l.shared,callbacks:l.callbacks},i.updateQueue=a;return}i=a.lastBaseUpdate,i===null?a.firstBaseUpdate=r:i.next=r,a.lastBaseUpdate=r}var Gd=!1;function Hl(){if(Gd){var i=go;if(i!==null)throw i}}function Gl(i,r,a,l){Gd=!1;var f=i.updateQueue;sr=!1;var m=f.firstBaseUpdate,v=f.lastBaseUpdate,b=f.shared.pending;if(b!==null){f.shared.pending=null;var N=b,q=N.next;N.next=null,v===null?m=q:v.next=q,v=N;var W=i.alternate;W!==null&&(W=W.updateQueue,b=W.lastBaseUpdate,b!==v&&(b===null?W.firstBaseUpdate=q:b.next=q,W.lastBaseUpdate=N))}if(m!==null){var tt=f.baseState;v=0,W=q=N=null,b=m;do{var H=b.lane&-536870913,Y=H!==b.lane;if(Y?(Ut&H)===H:(l&H)===H){H!==0&&H===po&&(Gd=!0),W!==null&&(W=W.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});t:{var gt=i,Et=b;H=r;var ae=a;switch(Et.tag){case 1:if(gt=Et.payload,typeof gt=="function"){tt=gt.call(ae,tt,H);break t}tt=gt;break t;case 3:gt.flags=gt.flags&-65537|128;case 0:if(gt=Et.payload,H=typeof gt=="function"?gt.call(ae,tt,H):gt,H==null)break t;tt=A({},tt,H);break t;case 2:sr=!0}}H=b.callback,H!==null&&(i.flags|=64,Y&&(i.flags|=8192),Y=f.callbacks,Y===null?f.callbacks=[H]:Y.push(H))}else Y={lane:H,tag:b.tag,payload:b.payload,callback:b.callback,next:null},W===null?(q=W=Y,N=tt):W=W.next=Y,v|=H;if(b=b.next,b===null){if(b=f.shared.pending,b===null)break;Y=b,b=Y.next,Y.next=null,f.lastBaseUpdate=Y,f.shared.pending=null}}while(!0);W===null&&(N=tt),f.baseState=N,f.firstBaseUpdate=q,f.lastBaseUpdate=W,m===null&&(f.shared.lanes=0),hr|=v,i.lanes=v,i.memoizedState=tt}}function ov(i,r){if(typeof i!="function")throw Error(s(191,i));i.call(r)}function lv(i,r){var a=i.callbacks;if(a!==null)for(i.callbacks=null,i=0;i<a.length;i++)ov(a[i],r)}var vo=M(null),Zc=M(0);function uv(i,r){i=Cs,ut(Zc,i),ut(vo,r),Cs=i|r.baseLanes}function Kd(){ut(Zc,Cs),ut(vo,vo.current)}function Yd(){Cs=Zc.current,X(vo),X(Zc)}var Ln=M(null),ni=null;function or(i){var r=i.alternate;ut(De,De.current&1),ut(Ln,i),ni===null&&(r===null||vo.current!==null||r.memoizedState!==null)&&(ni=i)}function Qd(i){ut(De,De.current),ut(Ln,i),ni===null&&(ni=i)}function cv(i){i.tag===22?(ut(De,De.current),ut(Ln,i),ni===null&&(ni=i)):lr()}function lr(){ut(De,De.current),ut(Ln,Ln.current)}function jn(i){X(Ln),ni===i&&(ni=null),X(De)}var De=M(0);function Jc(i){for(var r=i;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||tp(a)||ep(a)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var vs=0,Vt=null,se=null,je=null,th=!1,To=!1,Sa=!1,eh=0,Kl=0,Eo=null,VC=0;function Ee(){throw Error(s(321))}function Xd(i,r){if(r===null)return!1;for(var a=0;a<r.length&&a<i.length;a++)if(!Pn(i[a],r[a]))return!1;return!0}function $d(i,r,a,l,f,m){return vs=m,Vt=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Q.H=i===null||i.memoizedState===null?Yv:hm,Sa=!1,m=a(l,f),Sa=!1,To&&(m=fv(r,a,l,f)),hv(i),m}function hv(i){Q.H=Xl;var r=se!==null&&se.next!==null;if(vs=0,je=se=Vt=null,th=!1,Kl=0,Eo=null,r)throw Error(s(300));i===null||Ue||(i=i.dependencies,i!==null&&Gc(i)&&(Ue=!0))}function fv(i,r,a,l){Vt=i;var f=0;do{if(To&&(Eo=null),Kl=0,To=!1,25<=f)throw Error(s(301));if(f+=1,je=se=null,i.updateQueue!=null){var m=i.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}Q.H=Qv,m=r(a,l)}while(To);return m}function OC(){var i=Q.H,r=i.useState()[0];return r=typeof r.then=="function"?Yl(r):r,i=i.useState()[0],(se!==null?se.memoizedState:null)!==i&&(Vt.flags|=1024),r}function Wd(){var i=eh!==0;return eh=0,i}function Zd(i,r,a){r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~a}function Jd(i){if(th){for(i=i.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}th=!1}vs=0,je=se=Vt=null,To=!1,Kl=eh=0,Eo=null}function Tn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return je===null?Vt.memoizedState=je=i:je=je.next=i,je}function Ne(){if(se===null){var i=Vt.alternate;i=i!==null?i.memoizedState:null}else i=se.next;var r=je===null?Vt.memoizedState:je.next;if(r!==null)je=r,se=i;else{if(i===null)throw Vt.alternate===null?Error(s(467)):Error(s(310));se=i,i={memoizedState:se.memoizedState,baseState:se.baseState,baseQueue:se.baseQueue,queue:se.queue,next:null},je===null?Vt.memoizedState=je=i:je=je.next=i}return je}function nh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Yl(i){var r=Kl;return Kl+=1,Eo===null&&(Eo=[]),i=nv(Eo,i,r),r=Vt,(je===null?r.memoizedState:je.next)===null&&(r=r.alternate,Q.H=r===null||r.memoizedState===null?Yv:hm),i}function ih(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Yl(i);if(i.$$typeof===$)return sn(i)}throw Error(s(438,String(i)))}function tm(i){var r=null,a=Vt.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=Vt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=nh(),Vt.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(i),l=0;l<i;l++)a[l]=O;return r.index++,a}function Ts(i,r){return typeof r=="function"?r(i):r}function sh(i){var r=Ne();return em(r,se,i)}function em(i,r,a){var l=i.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var f=i.baseQueue,m=l.pending;if(m!==null){if(f!==null){var v=f.next;f.next=m.next,m.next=v}r.baseQueue=f=m,l.pending=null}if(m=i.baseState,f===null)i.memoizedState=m;else{r=f.next;var b=v=null,N=null,q=r,W=!1;do{var tt=q.lane&-536870913;if(tt!==q.lane?(Ut&tt)===tt:(vs&tt)===tt){var H=q.revertLane;if(H===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),tt===po&&(W=!0);else if((vs&H)===H){q=q.next,H===po&&(W=!0);continue}else tt={lane:0,revertLane:q.revertLane,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},N===null?(b=N=tt,v=m):N=N.next=tt,Vt.lanes|=H,hr|=H;tt=q.action,Sa&&a(m,tt),m=q.hasEagerState?q.eagerState:a(m,tt)}else H={lane:tt,revertLane:q.revertLane,gesture:q.gesture,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},N===null?(b=N=H,v=m):N=N.next=H,Vt.lanes|=tt,hr|=tt;q=q.next}while(q!==null&&q!==r);if(N===null?v=m:N.next=b,!Pn(m,i.memoizedState)&&(Ue=!0,W&&(a=go,a!==null)))throw a;i.memoizedState=m,i.baseState=v,i.baseQueue=N,l.lastRenderedState=m}return f===null&&(l.lanes=0),[i.memoizedState,l.dispatch]}function nm(i){var r=Ne(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=i;var l=a.dispatch,f=a.pending,m=r.memoizedState;if(f!==null){a.pending=null;var v=f=f.next;do m=i(m,v.action),v=v.next;while(v!==f);Pn(m,r.memoizedState)||(Ue=!0),r.memoizedState=m,r.baseQueue===null&&(r.baseState=m),a.lastRenderedState=m}return[m,l]}function dv(i,r,a){var l=Vt,f=Ne(),m=Ht;if(m){if(a===void 0)throw Error(s(407));a=a()}else a=r();var v=!Pn((se||f).memoizedState,a);if(v&&(f.memoizedState=a,Ue=!0),f=f.queue,rm(gv.bind(null,l,f,i),[i]),f.getSnapshot!==r||v||je!==null&&je.memoizedState.tag&1){if(l.flags|=2048,Ao(9,{destroy:void 0},pv.bind(null,l,f,a,r),null),oe===null)throw Error(s(349));m||(vs&127)!==0||mv(l,r,a)}return a}function mv(i,r,a){i.flags|=16384,i={getSnapshot:r,value:a},r=Vt.updateQueue,r===null?(r=nh(),Vt.updateQueue=r,r.stores=[i]):(a=r.stores,a===null?r.stores=[i]:a.push(i))}function pv(i,r,a,l){r.value=a,r.getSnapshot=l,yv(r)&&_v(i)}function gv(i,r,a){return a(function(){yv(r)&&_v(i)})}function yv(i){var r=i.getSnapshot;i=i.value;try{var a=r();return!Pn(i,a)}catch{return!0}}function _v(i){var r=ma(i,2);r!==null&&xn(r,i,2)}function im(i){var r=Tn();if(typeof i=="function"){var a=i;if(i=a(),Sa){Kn(!0);try{a()}finally{Kn(!1)}}}return r.memoizedState=r.baseState=i,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ts,lastRenderedState:i},r}function vv(i,r,a,l){return i.baseState=a,em(i,se,typeof l=="function"?l:Ts)}function MC(i,r,a,l,f){if(oh(i))throw Error(s(485));if(i=r.action,i!==null){var m={payload:f,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){m.listeners.push(v)}};Q.T!==null?a(!0):m.isTransition=!1,l(m),a=r.pending,a===null?(m.next=r.pending=m,Tv(r,m)):(m.next=a.next,r.pending=a.next=m)}}function Tv(i,r){var a=r.action,l=r.payload,f=i.state;if(r.isTransition){var m=Q.T,v={};Q.T=v;try{var b=a(f,l),N=Q.S;N!==null&&N(v,b),Ev(i,r,b)}catch(q){sm(i,r,q)}finally{m!==null&&v.types!==null&&(m.types=v.types),Q.T=m}}else try{m=a(f,l),Ev(i,r,m)}catch(q){sm(i,r,q)}}function Ev(i,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Av(i,r,l)},function(l){return sm(i,r,l)}):Av(i,r,a)}function Av(i,r,a){r.status="fulfilled",r.value=a,Sv(r),i.state=a,r=i.pending,r!==null&&(a=r.next,a===r?i.pending=null:(a=a.next,r.next=a,Tv(i,a)))}function sm(i,r,a){var l=i.pending;if(i.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,Sv(r),r=r.next;while(r!==l)}i.action=null}function Sv(i){i=i.listeners;for(var r=0;r<i.length;r++)(0,i[r])()}function bv(i,r){return r}function wv(i,r){if(Ht){var a=oe.formState;if(a!==null){t:{var l=Vt;if(Ht){if(he){e:{for(var f=he,m=ei;f.nodeType!==8;){if(!m){f=null;break e}if(f=ii(f.nextSibling),f===null){f=null;break e}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){he=ii(f.nextSibling),l=f.data==="F!";break t}}nr(l)}l=!1}l&&(r=a[0])}}return a=Tn(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:bv,lastRenderedState:r},a.queue=l,a=Hv.bind(null,Vt,l),l.dispatch=a,l=im(!1),m=cm.bind(null,Vt,!1,l.queue),l=Tn(),f={state:r,dispatch:null,action:i,pending:null},l.queue=f,a=MC.bind(null,Vt,f,m,a),f.dispatch=a,l.memoizedState=i,[r,a,!1]}function Rv(i){var r=Ne();return Cv(r,se,i)}function Cv(i,r,a){if(r=em(i,r,bv)[0],i=sh(Ts)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=Yl(r)}catch(v){throw v===yo?Qc:v}else l=r;r=Ne();var f=r.queue,m=f.dispatch;return a!==r.memoizedState&&(Vt.flags|=2048,Ao(9,{destroy:void 0},PC.bind(null,f,a),null)),[l,m,i]}function PC(i,r){i.action=r}function Iv(i){var r=Ne(),a=se;if(a!==null)return Cv(r,a,i);Ne(),r=r.memoizedState,a=Ne();var l=a.queue.dispatch;return a.memoizedState=i,[r,l,!1]}function Ao(i,r,a,l){return i={tag:i,create:a,deps:l,inst:r,next:null},r=Vt.updateQueue,r===null&&(r=nh(),Vt.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=i.next=i:(l=a.next,a.next=i,i.next=l,r.lastEffect=i),i}function xv(){return Ne().memoizedState}function rh(i,r,a,l){var f=Tn();Vt.flags|=i,f.memoizedState=Ao(1|r,{destroy:void 0},a,l===void 0?null:l)}function ah(i,r,a,l){var f=Ne();l=l===void 0?null:l;var m=f.memoizedState.inst;se!==null&&l!==null&&Xd(l,se.memoizedState.deps)?f.memoizedState=Ao(r,m,a,l):(Vt.flags|=i,f.memoizedState=Ao(1|r,m,a,l))}function Dv(i,r){rh(8390656,8,i,r)}function rm(i,r){ah(2048,8,i,r)}function kC(i){Vt.flags|=4;var r=Vt.updateQueue;if(r===null)r=nh(),Vt.updateQueue=r,r.events=[i];else{var a=r.events;a===null?r.events=[i]:a.push(i)}}function Nv(i){var r=Ne().memoizedState;return kC({ref:r,nextImpl:i}),function(){if((Wt&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function Vv(i,r){return ah(4,2,i,r)}function Ov(i,r){return ah(4,4,i,r)}function Mv(i,r){if(typeof r=="function"){i=i();var a=r(i);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function Pv(i,r,a){a=a!=null?a.concat([i]):null,ah(4,4,Mv.bind(null,r,i),a)}function am(){}function kv(i,r){var a=Ne();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&Xd(r,l[1])?l[0]:(a.memoizedState=[i,r],i)}function Lv(i,r){var a=Ne();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&Xd(r,l[1]))return l[0];if(l=i(),Sa){Kn(!0);try{i()}finally{Kn(!1)}}return a.memoizedState=[l,r],l}function om(i,r,a){return a===void 0||(vs&1073741824)!==0&&(Ut&261930)===0?i.memoizedState=r:(i.memoizedState=a,i=jT(),Vt.lanes|=i,hr|=i,a)}function jv(i,r,a,l){return Pn(a,r)?a:vo.current!==null?(i=om(i,a,l),Pn(i,r)||(Ue=!0),i):(vs&42)===0||(vs&1073741824)!==0&&(Ut&261930)===0?(Ue=!0,i.memoizedState=a):(i=jT(),Vt.lanes|=i,hr|=i,r)}function Uv(i,r,a,l,f){var m=st.p;st.p=m!==0&&8>m?m:8;var v=Q.T,b={};Q.T=b,cm(i,!1,r,a);try{var N=f(),q=Q.S;if(q!==null&&q(b,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var W=NC(N,l);Ql(i,r,W,zn(i))}else Ql(i,r,l,zn(i))}catch(tt){Ql(i,r,{then:function(){},status:"rejected",reason:tt},zn())}finally{st.p=m,v!==null&&b.types!==null&&(v.types=b.types),Q.T=v}}function LC(){}function lm(i,r,a,l){if(i.tag!==5)throw Error(s(476));var f=Bv(i).queue;Uv(i,f,r,dt,a===null?LC:function(){return zv(i),a(l)})}function Bv(i){var r=i.memoizedState;if(r!==null)return r;r={memoizedState:dt,baseState:dt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ts,lastRenderedState:dt},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ts,lastRenderedState:a},next:null},i.memoizedState=r,i=i.alternate,i!==null&&(i.memoizedState=r),r}function zv(i){var r=Bv(i);r.next===null&&(r=i.alternate.memoizedState),Ql(i,r.next.queue,{},zn())}function um(){return sn(hu)}function qv(){return Ne().memoizedState}function Fv(){return Ne().memoizedState}function jC(i){for(var r=i.return;r!==null;){switch(r.tag){case 24:case 3:var a=zn();i=rr(a);var l=ar(r,i,a);l!==null&&(xn(l,r,a),Fl(l,r,a)),r={cache:jd()},i.payload=r;return}r=r.return}}function UC(i,r,a){var l=zn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},oh(i)?Gv(r,a):(a=Cd(i,r,a,l),a!==null&&(xn(a,i,l),Kv(a,r,l)))}function Hv(i,r,a){var l=zn();Ql(i,r,a,l)}function Ql(i,r,a,l){var f={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(oh(i))Gv(r,f);else{var m=i.alternate;if(i.lanes===0&&(m===null||m.lanes===0)&&(m=r.lastRenderedReducer,m!==null))try{var v=r.lastRenderedState,b=m(v,a);if(f.hasEagerState=!0,f.eagerState=b,Pn(b,v))return zc(i,r,f,0),oe===null&&Bc(),!1}catch{}if(a=Cd(i,r,f,l),a!==null)return xn(a,i,l),Kv(a,r,l),!0}return!1}function cm(i,r,a,l){if(l={lane:2,revertLane:qm(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},oh(i)){if(r)throw Error(s(479))}else r=Cd(i,a,l,2),r!==null&&xn(r,i,2)}function oh(i){var r=i.alternate;return i===Vt||r!==null&&r===Vt}function Gv(i,r){To=th=!0;var a=i.pending;a===null?r.next=r:(r.next=a.next,a.next=r),i.pending=r}function Kv(i,r,a){if((a&4194048)!==0){var l=r.lanes;l&=i.pendingLanes,a|=l,r.lanes=a,gl(i,a)}}var Xl={readContext:sn,use:ih,useCallback:Ee,useContext:Ee,useEffect:Ee,useImperativeHandle:Ee,useLayoutEffect:Ee,useInsertionEffect:Ee,useMemo:Ee,useReducer:Ee,useRef:Ee,useState:Ee,useDebugValue:Ee,useDeferredValue:Ee,useTransition:Ee,useSyncExternalStore:Ee,useId:Ee,useHostTransitionStatus:Ee,useFormState:Ee,useActionState:Ee,useOptimistic:Ee,useMemoCache:Ee,useCacheRefresh:Ee};Xl.useEffectEvent=Ee;var Yv={readContext:sn,use:ih,useCallback:function(i,r){return Tn().memoizedState=[i,r===void 0?null:r],i},useContext:sn,useEffect:Dv,useImperativeHandle:function(i,r,a){a=a!=null?a.concat([i]):null,rh(4194308,4,Mv.bind(null,r,i),a)},useLayoutEffect:function(i,r){return rh(4194308,4,i,r)},useInsertionEffect:function(i,r){rh(4,2,i,r)},useMemo:function(i,r){var a=Tn();r=r===void 0?null:r;var l=i();if(Sa){Kn(!0);try{i()}finally{Kn(!1)}}return a.memoizedState=[l,r],l},useReducer:function(i,r,a){var l=Tn();if(a!==void 0){var f=a(r);if(Sa){Kn(!0);try{a(r)}finally{Kn(!1)}}}else f=r;return l.memoizedState=l.baseState=f,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:f},l.queue=i,i=i.dispatch=UC.bind(null,Vt,i),[l.memoizedState,i]},useRef:function(i){var r=Tn();return i={current:i},r.memoizedState=i},useState:function(i){i=im(i);var r=i.queue,a=Hv.bind(null,Vt,r);return r.dispatch=a,[i.memoizedState,a]},useDebugValue:am,useDeferredValue:function(i,r){var a=Tn();return om(a,i,r)},useTransition:function(){var i=im(!1);return i=Uv.bind(null,Vt,i.queue,!0,!1),Tn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,r,a){var l=Vt,f=Tn();if(Ht){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),oe===null)throw Error(s(349));(Ut&127)!==0||mv(l,r,a)}f.memoizedState=a;var m={value:a,getSnapshot:r};return f.queue=m,Dv(gv.bind(null,l,m,i),[i]),l.flags|=2048,Ao(9,{destroy:void 0},pv.bind(null,l,m,a,r),null),a},useId:function(){var i=Tn(),r=oe.identifierPrefix;if(Ht){var a=Yi,l=Ki;a=(l&~(1<<32-Ie(l)-1)).toString(32)+a,r="_"+r+"R_"+a,a=eh++,0<a&&(r+="H"+a.toString(32)),r+="_"}else a=VC++,r="_"+r+"r_"+a.toString(32)+"_";return i.memoizedState=r},useHostTransitionStatus:um,useFormState:wv,useActionState:wv,useOptimistic:function(i){var r=Tn();r.memoizedState=r.baseState=i;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=cm.bind(null,Vt,!0,a),a.dispatch=r,[i,r]},useMemoCache:tm,useCacheRefresh:function(){return Tn().memoizedState=jC.bind(null,Vt)},useEffectEvent:function(i){var r=Tn(),a={impl:i};return r.memoizedState=a,function(){if((Wt&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},hm={readContext:sn,use:ih,useCallback:kv,useContext:sn,useEffect:rm,useImperativeHandle:Pv,useInsertionEffect:Vv,useLayoutEffect:Ov,useMemo:Lv,useReducer:sh,useRef:xv,useState:function(){return sh(Ts)},useDebugValue:am,useDeferredValue:function(i,r){var a=Ne();return jv(a,se.memoizedState,i,r)},useTransition:function(){var i=sh(Ts)[0],r=Ne().memoizedState;return[typeof i=="boolean"?i:Yl(i),r]},useSyncExternalStore:dv,useId:qv,useHostTransitionStatus:um,useFormState:Rv,useActionState:Rv,useOptimistic:function(i,r){var a=Ne();return vv(a,se,i,r)},useMemoCache:tm,useCacheRefresh:Fv};hm.useEffectEvent=Nv;var Qv={readContext:sn,use:ih,useCallback:kv,useContext:sn,useEffect:rm,useImperativeHandle:Pv,useInsertionEffect:Vv,useLayoutEffect:Ov,useMemo:Lv,useReducer:nm,useRef:xv,useState:function(){return nm(Ts)},useDebugValue:am,useDeferredValue:function(i,r){var a=Ne();return se===null?om(a,i,r):jv(a,se.memoizedState,i,r)},useTransition:function(){var i=nm(Ts)[0],r=Ne().memoizedState;return[typeof i=="boolean"?i:Yl(i),r]},useSyncExternalStore:dv,useId:qv,useHostTransitionStatus:um,useFormState:Iv,useActionState:Iv,useOptimistic:function(i,r){var a=Ne();return se!==null?vv(a,se,i,r):(a.baseState=i,[i,a.queue.dispatch])},useMemoCache:tm,useCacheRefresh:Fv};Qv.useEffectEvent=Nv;function fm(i,r,a,l){r=i.memoizedState,a=a(l,r),a=a==null?r:A({},r,a),i.memoizedState=a,i.lanes===0&&(i.updateQueue.baseState=a)}var dm={enqueueSetState:function(i,r,a){i=i._reactInternals;var l=zn(),f=rr(l);f.payload=r,a!=null&&(f.callback=a),r=ar(i,f,l),r!==null&&(xn(r,i,l),Fl(r,i,l))},enqueueReplaceState:function(i,r,a){i=i._reactInternals;var l=zn(),f=rr(l);f.tag=1,f.payload=r,a!=null&&(f.callback=a),r=ar(i,f,l),r!==null&&(xn(r,i,l),Fl(r,i,l))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var a=zn(),l=rr(a);l.tag=2,r!=null&&(l.callback=r),r=ar(i,l,a),r!==null&&(xn(r,i,a),Fl(r,i,a))}};function Xv(i,r,a,l,f,m,v){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(l,m,v):r.prototype&&r.prototype.isPureReactComponent?!Pl(a,l)||!Pl(f,m):!0}function $v(i,r,a,l){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==i&&dm.enqueueReplaceState(r,r.state,null)}function ba(i,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(i=i.defaultProps){a===r&&(a=A({},a));for(var f in i)a[f]===void 0&&(a[f]=i[f])}return a}function Wv(i){Uc(i)}function Zv(i){console.error(i)}function Jv(i){Uc(i)}function lh(i,r){try{var a=i.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function tT(i,r,a){try{var l=i.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function mm(i,r,a){return a=rr(a),a.tag=3,a.payload={element:null},a.callback=function(){lh(i,r)},a}function eT(i){return i=rr(i),i.tag=3,i}function nT(i,r,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var m=l.value;i.payload=function(){return f(m)},i.callback=function(){tT(r,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(i.callback=function(){tT(r,a,l),typeof f!="function"&&(fr===null?fr=new Set([this]):fr.add(this));var b=l.stack;this.componentDidCatch(l.value,{componentStack:b!==null?b:""})})}function BC(i,r,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&mo(r,a,f,!0),a=Ln.current,a!==null){switch(a.tag){case 31:case 13:return ni===null?Th():a.alternate===null&&Ae===0&&(Ae=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===Xc?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),Um(i,l,f)),!1;case 22:return a.flags|=65536,l===Xc?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),Um(i,l,f)),!1}throw Error(s(435,a.tag))}return Um(i,l,f),Th(),!1}if(Ht)return r=Ln.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,l!==Od&&(i=Error(s(422),{cause:l}),jl(Zn(i,a)))):(l!==Od&&(r=Error(s(423),{cause:l}),jl(Zn(r,a))),i=i.current.alternate,i.flags|=65536,f&=-f,i.lanes|=f,l=Zn(l,a),f=mm(i.stateNode,l,f),Hd(i,f),Ae!==4&&(Ae=2)),!1;var m=Error(s(520),{cause:l});if(m=Zn(m,a),iu===null?iu=[m]:iu.push(m),Ae!==4&&(Ae=2),r===null)return!0;l=Zn(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,i=f&-f,a.lanes|=i,i=mm(a.stateNode,l,i),Hd(a,i),!1;case 1:if(r=a.type,m=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(fr===null||!fr.has(m))))return a.flags|=65536,f&=-f,a.lanes|=f,f=eT(f),nT(f,i,a,l),Hd(a,f),!1}a=a.return}while(a!==null);return!1}var pm=Error(s(461)),Ue=!1;function rn(i,r,a,l){r.child=i===null?av(r,null,a,l):Aa(r,i.child,a,l)}function iT(i,r,a,l,f){a=a.render;var m=r.ref;if("ref"in l){var v={};for(var b in l)b!=="ref"&&(v[b]=l[b])}else v=l;return _a(r),l=$d(i,r,a,v,m,f),b=Wd(),i!==null&&!Ue?(Zd(i,r,f),Es(i,r,f)):(Ht&&b&&Nd(r),r.flags|=1,rn(i,r,l,f),r.child)}function sT(i,r,a,l,f){if(i===null){var m=a.type;return typeof m=="function"&&!Id(m)&&m.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=m,rT(i,r,m,l,f)):(i=Fc(a.type,null,l,r,r.mode,f),i.ref=r.ref,i.return=r,r.child=i)}if(m=i.child,!Sm(i,f)){var v=m.memoizedProps;if(a=a.compare,a=a!==null?a:Pl,a(v,l)&&i.ref===r.ref)return Es(i,r,f)}return r.flags|=1,i=ps(m,l),i.ref=r.ref,i.return=r,r.child=i}function rT(i,r,a,l,f){if(i!==null){var m=i.memoizedProps;if(Pl(m,l)&&i.ref===r.ref)if(Ue=!1,r.pendingProps=l=m,Sm(i,f))(i.flags&131072)!==0&&(Ue=!0);else return r.lanes=i.lanes,Es(i,r,f)}return gm(i,r,a,l,f)}function aT(i,r,a,l){var f=l.children,m=i!==null?i.memoizedState:null;if(i===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((r.flags&128)!==0){if(m=m!==null?m.baseLanes|a:a,i!==null){for(l=r.child=i.child,f=0;l!==null;)f=f|l.lanes|l.childLanes,l=l.sibling;l=f&~m}else l=0,r.child=null;return oT(i,r,m,a,l)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},i!==null&&Yc(r,m!==null?m.cachePool:null),m!==null?uv(r,m):Kd(),cv(r);else return l=r.lanes=536870912,oT(i,r,m!==null?m.baseLanes|a:a,a,l)}else m!==null?(Yc(r,m.cachePool),uv(r,m),lr(),r.memoizedState=null):(i!==null&&Yc(r,null),Kd(),lr());return rn(i,r,f,a),r.child}function $l(i,r){return i!==null&&i.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function oT(i,r,a,l,f){var m=Bd();return m=m===null?null:{parent:Le._currentValue,pool:m},r.memoizedState={baseLanes:a,cachePool:m},i!==null&&Yc(r,null),Kd(),cv(r),i!==null&&mo(i,r,l,!0),r.childLanes=f,null}function uh(i,r){return r=hh({mode:r.mode,children:r.children},i.mode),r.ref=i.ref,i.child=r,r.return=i,r}function lT(i,r,a){return Aa(r,i.child,null,a),i=uh(r,r.pendingProps),i.flags|=2,jn(r),r.memoizedState=null,i}function zC(i,r,a){var l=r.pendingProps,f=(r.flags&128)!==0;if(r.flags&=-129,i===null){if(Ht){if(l.mode==="hidden")return i=uh(r,l),r.lanes=536870912,$l(null,i);if(Qd(r),(i=he)?(i=TE(i,ei),i=i!==null&&i.data==="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:tr!==null?{id:Ki,overflow:Yi}:null,retryLane:536870912,hydrationErrors:null},a=G_(i),a.return=r,r.child=a,nn=r,he=null)):i=null,i===null)throw nr(r);return r.lanes=536870912,null}return uh(r,l)}var m=i.memoizedState;if(m!==null){var v=m.dehydrated;if(Qd(r),f)if(r.flags&256)r.flags&=-257,r=lT(i,r,a);else if(r.memoizedState!==null)r.child=i.child,r.flags|=128,r=null;else throw Error(s(558));else if(Ue||mo(i,r,a,!1),f=(a&i.childLanes)!==0,Ue||f){if(l=oe,l!==null&&(v=yl(l,a),v!==0&&v!==m.retryLane))throw m.retryLane=v,ma(i,v),xn(l,i,v),pm;Th(),r=lT(i,r,a)}else i=m.treeContext,he=ii(v.nextSibling),nn=r,Ht=!0,er=null,ei=!1,i!==null&&Q_(r,i),r=uh(r,l),r.flags|=4096;return r}return i=ps(i.child,{mode:l.mode,children:l.children}),i.ref=r.ref,r.child=i,i.return=r,i}function ch(i,r){var a=r.ref;if(a===null)i!==null&&i.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(i===null||i.ref!==a)&&(r.flags|=4194816)}}function gm(i,r,a,l,f){return _a(r),a=$d(i,r,a,l,void 0,f),l=Wd(),i!==null&&!Ue?(Zd(i,r,f),Es(i,r,f)):(Ht&&l&&Nd(r),r.flags|=1,rn(i,r,a,f),r.child)}function uT(i,r,a,l,f,m){return _a(r),r.updateQueue=null,a=fv(r,l,a,f),hv(i),l=Wd(),i!==null&&!Ue?(Zd(i,r,m),Es(i,r,m)):(Ht&&l&&Nd(r),r.flags|=1,rn(i,r,a,m),r.child)}function cT(i,r,a,l,f){if(_a(r),r.stateNode===null){var m=uo,v=a.contextType;typeof v=="object"&&v!==null&&(m=sn(v)),m=new a(l,m),r.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=dm,r.stateNode=m,m._reactInternals=r,m=r.stateNode,m.props=l,m.state=r.memoizedState,m.refs={},qd(r),v=a.contextType,m.context=typeof v=="object"&&v!==null?sn(v):uo,m.state=r.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(fm(r,a,v,l),m.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(v=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),v!==m.state&&dm.enqueueReplaceState(m,m.state,null),Gl(r,l,m,f),Hl(),m.state=r.memoizedState),typeof m.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(i===null){m=r.stateNode;var b=r.memoizedProps,N=ba(a,b);m.props=N;var q=m.context,W=a.contextType;v=uo,typeof W=="object"&&W!==null&&(v=sn(W));var tt=a.getDerivedStateFromProps;W=typeof tt=="function"||typeof m.getSnapshotBeforeUpdate=="function",b=r.pendingProps!==b,W||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(b||q!==v)&&$v(r,m,l,v),sr=!1;var H=r.memoizedState;m.state=H,Gl(r,l,m,f),Hl(),q=r.memoizedState,b||H!==q||sr?(typeof tt=="function"&&(fm(r,a,tt,l),q=r.memoizedState),(N=sr||Xv(r,a,N,l,H,q,v))?(W||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(r.flags|=4194308)):(typeof m.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=q),m.props=l,m.state=q,m.context=v,l=N):(typeof m.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{m=r.stateNode,Fd(i,r),v=r.memoizedProps,W=ba(a,v),m.props=W,tt=r.pendingProps,H=m.context,q=a.contextType,N=uo,typeof q=="object"&&q!==null&&(N=sn(q)),b=a.getDerivedStateFromProps,(q=typeof b=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(v!==tt||H!==N)&&$v(r,m,l,N),sr=!1,H=r.memoizedState,m.state=H,Gl(r,l,m,f),Hl();var Y=r.memoizedState;v!==tt||H!==Y||sr||i!==null&&i.dependencies!==null&&Gc(i.dependencies)?(typeof b=="function"&&(fm(r,a,b,l),Y=r.memoizedState),(W=sr||Xv(r,a,W,l,H,Y,N)||i!==null&&i.dependencies!==null&&Gc(i.dependencies))?(q||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(l,Y,N),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(l,Y,N)),typeof m.componentDidUpdate=="function"&&(r.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof m.componentDidUpdate!="function"||v===i.memoizedProps&&H===i.memoizedState||(r.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||v===i.memoizedProps&&H===i.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=Y),m.props=l,m.state=Y,m.context=N,l=W):(typeof m.componentDidUpdate!="function"||v===i.memoizedProps&&H===i.memoizedState||(r.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||v===i.memoizedProps&&H===i.memoizedState||(r.flags|=1024),l=!1)}return m=l,ch(i,r),l=(r.flags&128)!==0,m||l?(m=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:m.render(),r.flags|=1,i!==null&&l?(r.child=Aa(r,i.child,null,f),r.child=Aa(r,null,a,f)):rn(i,r,a,f),r.memoizedState=m.state,i=r.child):i=Es(i,r,f),i}function hT(i,r,a,l){return ga(),r.flags|=256,rn(i,r,a,l),r.child}var ym={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function _m(i){return{baseLanes:i,cachePool:tv()}}function vm(i,r,a){return i=i!==null?i.childLanes&~a:0,r&&(i|=Bn),i}function fT(i,r,a){var l=r.pendingProps,f=!1,m=(r.flags&128)!==0,v;if((v=m)||(v=i!==null&&i.memoizedState===null?!1:(De.current&2)!==0),v&&(f=!0,r.flags&=-129),v=(r.flags&32)!==0,r.flags&=-33,i===null){if(Ht){if(f?or(r):lr(),(i=he)?(i=TE(i,ei),i=i!==null&&i.data!=="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:tr!==null?{id:Ki,overflow:Yi}:null,retryLane:536870912,hydrationErrors:null},a=G_(i),a.return=r,r.child=a,nn=r,he=null)):i=null,i===null)throw nr(r);return ep(i)?r.lanes=32:r.lanes=536870912,null}var b=l.children;return l=l.fallback,f?(lr(),f=r.mode,b=hh({mode:"hidden",children:b},f),l=pa(l,f,a,null),b.return=r,l.return=r,b.sibling=l,r.child=b,l=r.child,l.memoizedState=_m(a),l.childLanes=vm(i,v,a),r.memoizedState=ym,$l(null,l)):(or(r),Tm(r,b))}var N=i.memoizedState;if(N!==null&&(b=N.dehydrated,b!==null)){if(m)r.flags&256?(or(r),r.flags&=-257,r=Em(i,r,a)):r.memoizedState!==null?(lr(),r.child=i.child,r.flags|=128,r=null):(lr(),b=l.fallback,f=r.mode,l=hh({mode:"visible",children:l.children},f),b=pa(b,f,a,null),b.flags|=2,l.return=r,b.return=r,l.sibling=b,r.child=l,Aa(r,i.child,null,a),l=r.child,l.memoizedState=_m(a),l.childLanes=vm(i,v,a),r.memoizedState=ym,r=$l(null,l));else if(or(r),ep(b)){if(v=b.nextSibling&&b.nextSibling.dataset,v)var q=v.dgst;v=q,l=Error(s(419)),l.stack="",l.digest=v,jl({value:l,source:null,stack:null}),r=Em(i,r,a)}else if(Ue||mo(i,r,a,!1),v=(a&i.childLanes)!==0,Ue||v){if(v=oe,v!==null&&(l=yl(v,a),l!==0&&l!==N.retryLane))throw N.retryLane=l,ma(i,l),xn(v,i,l),pm;tp(b)||Th(),r=Em(i,r,a)}else tp(b)?(r.flags|=192,r.child=i.child,r=null):(i=N.treeContext,he=ii(b.nextSibling),nn=r,Ht=!0,er=null,ei=!1,i!==null&&Q_(r,i),r=Tm(r,l.children),r.flags|=4096);return r}return f?(lr(),b=l.fallback,f=r.mode,N=i.child,q=N.sibling,l=ps(N,{mode:"hidden",children:l.children}),l.subtreeFlags=N.subtreeFlags&65011712,q!==null?b=ps(q,b):(b=pa(b,f,a,null),b.flags|=2),b.return=r,l.return=r,l.sibling=b,r.child=l,$l(null,l),l=r.child,b=i.child.memoizedState,b===null?b=_m(a):(f=b.cachePool,f!==null?(N=Le._currentValue,f=f.parent!==N?{parent:N,pool:N}:f):f=tv(),b={baseLanes:b.baseLanes|a,cachePool:f}),l.memoizedState=b,l.childLanes=vm(i,v,a),r.memoizedState=ym,$l(i.child,l)):(or(r),a=i.child,i=a.sibling,a=ps(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,i!==null&&(v=r.deletions,v===null?(r.deletions=[i],r.flags|=16):v.push(i)),r.child=a,r.memoizedState=null,a)}function Tm(i,r){return r=hh({mode:"visible",children:r},i.mode),r.return=i,i.child=r}function hh(i,r){return i=kn(22,i,null,r),i.lanes=0,i}function Em(i,r,a){return Aa(r,i.child,null,a),i=Tm(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function dT(i,r,a){i.lanes|=r;var l=i.alternate;l!==null&&(l.lanes|=r),kd(i.return,r,a)}function Am(i,r,a,l,f,m){var v=i.memoizedState;v===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f,treeForkCount:m}:(v.isBackwards=r,v.rendering=null,v.renderingStartTime=0,v.last=l,v.tail=a,v.tailMode=f,v.treeForkCount=m)}function mT(i,r,a){var l=r.pendingProps,f=l.revealOrder,m=l.tail;l=l.children;var v=De.current,b=(v&2)!==0;if(b?(v=v&1|2,r.flags|=128):v&=1,ut(De,v),rn(i,r,l,a),l=Ht?Ll:0,!b&&i!==null&&(i.flags&128)!==0)t:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&dT(i,a,r);else if(i.tag===19)dT(i,a,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break t;for(;i.sibling===null;){if(i.return===null||i.return===r)break t;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(f){case"forwards":for(a=r.child,f=null;a!==null;)i=a.alternate,i!==null&&Jc(i)===null&&(f=a),a=a.sibling;a=f,a===null?(f=r.child,r.child=null):(f=a.sibling,a.sibling=null),Am(r,!1,f,a,m,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=r.child,r.child=null;f!==null;){if(i=f.alternate,i!==null&&Jc(i)===null){r.child=f;break}i=f.sibling,f.sibling=a,a=f,f=i}Am(r,!0,a,null,m,l);break;case"together":Am(r,!1,null,null,void 0,l);break;default:r.memoizedState=null}return r.child}function Es(i,r,a){if(i!==null&&(r.dependencies=i.dependencies),hr|=r.lanes,(a&r.childLanes)===0)if(i!==null){if(mo(i,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(i!==null&&r.child!==i.child)throw Error(s(153));if(r.child!==null){for(i=r.child,a=ps(i,i.pendingProps),r.child=a,a.return=r;i.sibling!==null;)i=i.sibling,a=a.sibling=ps(i,i.pendingProps),a.return=r;a.sibling=null}return r.child}function Sm(i,r){return(i.lanes&r)!==0?!0:(i=i.dependencies,!!(i!==null&&Gc(i)))}function qC(i,r,a){switch(r.tag){case 3:ye(r,r.stateNode.containerInfo),ir(r,Le,i.memoizedState.cache),ga();break;case 27:case 5:Kt(r);break;case 4:ye(r,r.stateNode.containerInfo);break;case 10:ir(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,Qd(r),null;break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(or(r),r.flags|=128,null):(a&r.child.childLanes)!==0?fT(i,r,a):(or(r),i=Es(i,r,a),i!==null?i.sibling:null);or(r);break;case 19:var f=(i.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(mo(i,r,a,!1),l=(a&r.childLanes)!==0),f){if(l)return mT(i,r,a);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ut(De,De.current),l)break;return null;case 22:return r.lanes=0,aT(i,r,a,r.pendingProps);case 24:ir(r,Le,i.memoizedState.cache)}return Es(i,r,a)}function pT(i,r,a){if(i!==null)if(i.memoizedProps!==r.pendingProps)Ue=!0;else{if(!Sm(i,a)&&(r.flags&128)===0)return Ue=!1,qC(i,r,a);Ue=(i.flags&131072)!==0}else Ue=!1,Ht&&(r.flags&1048576)!==0&&Y_(r,Ll,r.index);switch(r.lanes=0,r.tag){case 16:t:{var l=r.pendingProps;if(i=Ta(r.elementType),r.type=i,typeof i=="function")Id(i)?(l=ba(i,l),r.tag=1,r=cT(null,r,i,l,a)):(r.tag=0,r=gm(null,r,i,l,a));else{if(i!=null){var f=i.$$typeof;if(f===ot){r.tag=11,r=iT(null,r,i,l,a);break t}else if(f===I){r.tag=14,r=sT(null,r,i,l,a);break t}}throw r=Zt(i)||i,Error(s(306,r,""))}}return r;case 0:return gm(i,r,r.type,r.pendingProps,a);case 1:return l=r.type,f=ba(l,r.pendingProps),cT(i,r,l,f,a);case 3:t:{if(ye(r,r.stateNode.containerInfo),i===null)throw Error(s(387));l=r.pendingProps;var m=r.memoizedState;f=m.element,Fd(i,r),Gl(r,l,null,a);var v=r.memoizedState;if(l=v.cache,ir(r,Le,l),l!==m.cache&&Ld(r,[Le],a,!0),Hl(),l=v.element,m.isDehydrated)if(m={element:l,isDehydrated:!1,cache:v.cache},r.updateQueue.baseState=m,r.memoizedState=m,r.flags&256){r=hT(i,r,l,a);break t}else if(l!==f){f=Zn(Error(s(424)),r),jl(f),r=hT(i,r,l,a);break t}else for(i=r.stateNode.containerInfo,i.nodeType===9?i=i.body:i=i.nodeName==="HTML"?i.ownerDocument.body:i,he=ii(i.firstChild),nn=r,Ht=!0,er=null,ei=!0,a=av(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(ga(),l===f){r=Es(i,r,a);break t}rn(i,r,l,a)}r=r.child}return r;case 26:return ch(i,r),i===null?(a=RE(r.type,null,r.pendingProps,null))?r.memoizedState=a:Ht||(a=r.type,i=r.pendingProps,l=Ch(Rt.current).createElement(a),l[Me]=r,l[$e]=i,an(l,a,i),Pe(l),r.stateNode=l):r.memoizedState=RE(r.type,i.memoizedProps,r.pendingProps,i.memoizedState),null;case 27:return Kt(r),i===null&&Ht&&(l=r.stateNode=SE(r.type,r.pendingProps,Rt.current),nn=r,ei=!0,f=he,gr(r.type)?(np=f,he=ii(l.firstChild)):he=f),rn(i,r,r.pendingProps.children,a),ch(i,r),i===null&&(r.flags|=4194304),r.child;case 5:return i===null&&Ht&&((f=l=he)&&(l=_I(l,r.type,r.pendingProps,ei),l!==null?(r.stateNode=l,nn=r,he=ii(l.firstChild),ei=!1,f=!0):f=!1),f||nr(r)),Kt(r),f=r.type,m=r.pendingProps,v=i!==null?i.memoizedProps:null,l=m.children,Wm(f,m)?l=null:v!==null&&Wm(f,v)&&(r.flags|=32),r.memoizedState!==null&&(f=$d(i,r,OC,null,null,a),hu._currentValue=f),ch(i,r),rn(i,r,l,a),r.child;case 6:return i===null&&Ht&&((i=a=he)&&(a=vI(a,r.pendingProps,ei),a!==null?(r.stateNode=a,nn=r,he=null,i=!0):i=!1),i||nr(r)),null;case 13:return fT(i,r,a);case 4:return ye(r,r.stateNode.containerInfo),l=r.pendingProps,i===null?r.child=Aa(r,null,l,a):rn(i,r,l,a),r.child;case 11:return iT(i,r,r.type,r.pendingProps,a);case 7:return rn(i,r,r.pendingProps,a),r.child;case 8:return rn(i,r,r.pendingProps.children,a),r.child;case 12:return rn(i,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,ir(r,r.type,l.value),rn(i,r,l.children,a),r.child;case 9:return f=r.type._context,l=r.pendingProps.children,_a(r),f=sn(f),l=l(f),r.flags|=1,rn(i,r,l,a),r.child;case 14:return sT(i,r,r.type,r.pendingProps,a);case 15:return rT(i,r,r.type,r.pendingProps,a);case 19:return mT(i,r,a);case 31:return zC(i,r,a);case 22:return aT(i,r,a,r.pendingProps);case 24:return _a(r),l=sn(Le),i===null?(f=Bd(),f===null&&(f=oe,m=jd(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=a),f=m),r.memoizedState={parent:l,cache:f},qd(r),ir(r,Le,f)):((i.lanes&a)!==0&&(Fd(i,r),Gl(r,null,null,a),Hl()),f=i.memoizedState,m=r.memoizedState,f.parent!==l?(f={parent:l,cache:l},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),ir(r,Le,l)):(l=m.cache,ir(r,Le,l),l!==f.cache&&Ld(r,[Le],a,!0))),rn(i,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function As(i){i.flags|=4}function bm(i,r,a,l,f){if((r=(i.mode&32)!==0)&&(r=!1),r){if(i.flags|=16777216,(f&335544128)===f)if(i.stateNode.complete)i.flags|=8192;else if(qT())i.flags|=8192;else throw Ea=Xc,zd}else i.flags&=-16777217}function gT(i,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!NE(r))if(qT())i.flags|=8192;else throw Ea=Xc,zd}function fh(i,r){r!==null&&(i.flags|=4),i.flags&16384&&(r=i.tag!==22?_c():536870912,i.lanes|=r,Ro|=r)}function Wl(i,r){if(!Ht)switch(i.tailMode){case"hidden":r=i.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?i.tail=null:a.sibling=null;break;case"collapsed":a=i.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:l.sibling=null}}function fe(i){var r=i.alternate!==null&&i.alternate.child===i.child,a=0,l=0;if(r)for(var f=i.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=i,f=f.sibling;else for(f=i.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=i,f=f.sibling;return i.subtreeFlags|=l,i.childLanes=a,r}function FC(i,r,a){var l=r.pendingProps;switch(Vd(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return fe(r),null;case 1:return fe(r),null;case 3:return a=r.stateNode,l=null,i!==null&&(l=i.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),_s(Le),ue(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(i===null||i.child===null)&&(fo(r)?As(r):i===null||i.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Md())),fe(r),null;case 26:var f=r.type,m=r.memoizedState;return i===null?(As(r),m!==null?(fe(r),gT(r,m)):(fe(r),bm(r,f,null,l,a))):m?m!==i.memoizedState?(As(r),fe(r),gT(r,m)):(fe(r),r.flags&=-16777217):(i=i.memoizedProps,i!==l&&As(r),fe(r),bm(r,f,i,l,a)),null;case 27:if(hn(r),a=Rt.current,f=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==l&&As(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return fe(r),null}i=ft.current,fo(r)?X_(r):(i=SE(f,l,a),r.stateNode=i,As(r))}return fe(r),null;case 5:if(hn(r),f=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==l&&As(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return fe(r),null}if(m=ft.current,fo(r))X_(r);else{var v=Ch(Rt.current);switch(m){case 1:m=v.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:m=v.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":m=v.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":m=v.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":m=v.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof l.is=="string"?v.createElement("select",{is:l.is}):v.createElement("select"),l.multiple?m.multiple=!0:l.size&&(m.size=l.size);break;default:m=typeof l.is=="string"?v.createElement(f,{is:l.is}):v.createElement(f)}}m[Me]=r,m[$e]=l;t:for(v=r.child;v!==null;){if(v.tag===5||v.tag===6)m.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===r)break t;for(;v.sibling===null;){if(v.return===null||v.return===r)break t;v=v.return}v.sibling.return=v.return,v=v.sibling}r.stateNode=m;t:switch(an(m,f,l),f){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&As(r)}}return fe(r),bm(r,r.type,i===null?null:i.memoizedProps,r.pendingProps,a),null;case 6:if(i&&r.stateNode!=null)i.memoizedProps!==l&&As(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(i=Rt.current,fo(r)){if(i=r.stateNode,a=r.memoizedProps,l=null,f=nn,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}i[Me]=r,i=!!(i.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||fE(i.nodeValue,a)),i||nr(r,!0)}else i=Ch(i).createTextNode(l),i[Me]=r,r.stateNode=i}return fe(r),null;case 31:if(a=r.memoizedState,i===null||i.memoizedState!==null){if(l=fo(r),a!==null){if(i===null){if(!l)throw Error(s(318));if(i=r.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(557));i[Me]=r}else ga(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;fe(r),i=!1}else a=Md(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=a),i=!0;if(!i)return r.flags&256?(jn(r),r):(jn(r),null);if((r.flags&128)!==0)throw Error(s(558))}return fe(r),null;case 13:if(l=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(f=fo(r),l!==null&&l.dehydrated!==null){if(i===null){if(!f)throw Error(s(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[Me]=r}else ga(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;fe(r),f=!1}else f=Md(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?(jn(r),r):(jn(r),null)}return jn(r),(r.flags&128)!==0?(r.lanes=a,r):(a=l!==null,i=i!==null&&i.memoizedState!==null,a&&(l=r.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool),m=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==f&&(l.flags|=2048)),a!==i&&a&&(r.child.flags|=8192),fh(r,r.updateQueue),fe(r),null);case 4:return ue(),i===null&&Km(r.stateNode.containerInfo),fe(r),null;case 10:return _s(r.type),fe(r),null;case 19:if(X(De),l=r.memoizedState,l===null)return fe(r),null;if(f=(r.flags&128)!==0,m=l.rendering,m===null)if(f)Wl(l,!1);else{if(Ae!==0||i!==null&&(i.flags&128)!==0)for(i=r.child;i!==null;){if(m=Jc(i),m!==null){for(r.flags|=128,Wl(l,!1),i=m.updateQueue,r.updateQueue=i,fh(r,i),r.subtreeFlags=0,i=a,a=r.child;a!==null;)H_(a,i),a=a.sibling;return ut(De,De.current&1|2),Ht&&gs(r,l.treeForkCount),r.child}i=i.sibling}l.tail!==null&&Ge()>yh&&(r.flags|=128,f=!0,Wl(l,!1),r.lanes=4194304)}else{if(!f)if(i=Jc(m),i!==null){if(r.flags|=128,f=!0,i=i.updateQueue,r.updateQueue=i,fh(r,i),Wl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!m.alternate&&!Ht)return fe(r),null}else 2*Ge()-l.renderingStartTime>yh&&a!==536870912&&(r.flags|=128,f=!0,Wl(l,!1),r.lanes=4194304);l.isBackwards?(m.sibling=r.child,r.child=m):(i=l.last,i!==null?i.sibling=m:r.child=m,l.last=m)}return l.tail!==null?(i=l.tail,l.rendering=i,l.tail=i.sibling,l.renderingStartTime=Ge(),i.sibling=null,a=De.current,ut(De,f?a&1|2:a&1),Ht&&gs(r,l.treeForkCount),i):(fe(r),null);case 22:case 23:return jn(r),Yd(),l=r.memoizedState!==null,i!==null?i.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(fe(r),r.subtreeFlags&6&&(r.flags|=8192)):fe(r),a=r.updateQueue,a!==null&&fh(r,a.retryQueue),a=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),i!==null&&X(va),null;case 24:return a=null,i!==null&&(a=i.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),_s(Le),fe(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function HC(i,r){switch(Vd(r),r.tag){case 1:return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return _s(Le),ue(),i=r.flags,(i&65536)!==0&&(i&128)===0?(r.flags=i&-65537|128,r):null;case 26:case 27:case 5:return hn(r),null;case 31:if(r.memoizedState!==null){if(jn(r),r.alternate===null)throw Error(s(340));ga()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 13:if(jn(r),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(s(340));ga()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return X(De),null;case 4:return ue(),null;case 10:return _s(r.type),null;case 22:case 23:return jn(r),Yd(),i!==null&&X(va),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 24:return _s(Le),null;case 25:return null;default:return null}}function yT(i,r){switch(Vd(r),r.tag){case 3:_s(Le),ue();break;case 26:case 27:case 5:hn(r);break;case 4:ue();break;case 31:r.memoizedState!==null&&jn(r);break;case 13:jn(r);break;case 19:X(De);break;case 10:_s(r.type);break;case 22:case 23:jn(r),Yd(),i!==null&&X(va);break;case 24:_s(Le)}}function Zl(i,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&i)===i){l=void 0;var m=a.create,v=a.inst;l=m(),v.destroy=l}a=a.next}while(a!==f)}}catch(b){ne(r,r.return,b)}}function ur(i,r,a){try{var l=r.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var m=f.next;l=m;do{if((l.tag&i)===i){var v=l.inst,b=v.destroy;if(b!==void 0){v.destroy=void 0,f=r;var N=a,q=b;try{q()}catch(W){ne(f,N,W)}}}l=l.next}while(l!==m)}}catch(W){ne(r,r.return,W)}}function _T(i){var r=i.updateQueue;if(r!==null){var a=i.stateNode;try{lv(r,a)}catch(l){ne(i,i.return,l)}}}function vT(i,r,a){a.props=ba(i.type,i.memoizedProps),a.state=i.memoizedState;try{a.componentWillUnmount()}catch(l){ne(i,r,l)}}function Jl(i,r){try{var a=i.ref;if(a!==null){switch(i.tag){case 26:case 27:case 5:var l=i.stateNode;break;case 30:l=i.stateNode;break;default:l=i.stateNode}typeof a=="function"?i.refCleanup=a(l):a.current=l}}catch(f){ne(i,r,f)}}function Qi(i,r){var a=i.ref,l=i.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){ne(i,r,f)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){ne(i,r,f)}else a.current=null}function TT(i){var r=i.type,a=i.memoizedProps,l=i.stateNode;try{t:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){ne(i,i.return,f)}}function wm(i,r,a){try{var l=i.stateNode;fI(l,i.type,a,r),l[$e]=r}catch(f){ne(i,i.return,f)}}function ET(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&gr(i.type)||i.tag===4}function Rm(i){t:for(;;){for(;i.sibling===null;){if(i.return===null||ET(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&gr(i.type)||i.flags&2||i.child===null||i.tag===4)continue t;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Cm(i,r,a){var l=i.tag;if(l===5||l===6)i=i.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(i,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(i),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=di));else if(l!==4&&(l===27&&gr(i.type)&&(a=i.stateNode,r=null),i=i.child,i!==null))for(Cm(i,r,a),i=i.sibling;i!==null;)Cm(i,r,a),i=i.sibling}function dh(i,r,a){var l=i.tag;if(l===5||l===6)i=i.stateNode,r?a.insertBefore(i,r):a.appendChild(i);else if(l!==4&&(l===27&&gr(i.type)&&(a=i.stateNode),i=i.child,i!==null))for(dh(i,r,a),i=i.sibling;i!==null;)dh(i,r,a),i=i.sibling}function AT(i){var r=i.stateNode,a=i.memoizedProps;try{for(var l=i.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);an(r,l,a),r[Me]=i,r[$e]=a}catch(m){ne(i,i.return,m)}}var Ss=!1,Be=!1,Im=!1,ST=typeof WeakSet=="function"?WeakSet:Set,Ze=null;function GC(i,r){if(i=i.containerInfo,Xm=Mh,i=P_(i),Ed(i)){if("selectionStart"in i)var a={start:i.selectionStart,end:i.selectionEnd};else t:{a=(a=i.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,m=l.focusNode;l=l.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break t}var v=0,b=-1,N=-1,q=0,W=0,tt=i,H=null;e:for(;;){for(var Y;tt!==a||f!==0&&tt.nodeType!==3||(b=v+f),tt!==m||l!==0&&tt.nodeType!==3||(N=v+l),tt.nodeType===3&&(v+=tt.nodeValue.length),(Y=tt.firstChild)!==null;)H=tt,tt=Y;for(;;){if(tt===i)break e;if(H===a&&++q===f&&(b=v),H===m&&++W===l&&(N=v),(Y=tt.nextSibling)!==null)break;tt=H,H=tt.parentNode}tt=Y}a=b===-1||N===-1?null:{start:b,end:N}}else a=null}a=a||{start:0,end:0}}else a=null;for($m={focusedElem:i,selectionRange:a},Mh=!1,Ze=r;Ze!==null;)if(r=Ze,i=r.child,(r.subtreeFlags&1028)!==0&&i!==null)i.return=r,Ze=i;else for(;Ze!==null;){switch(r=Ze,m=r.alternate,i=r.flags,r.tag){case 0:if((i&4)!==0&&(i=r.updateQueue,i=i!==null?i.events:null,i!==null))for(a=0;a<i.length;a++)f=i[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&m!==null){i=void 0,a=r,f=m.memoizedProps,m=m.memoizedState,l=a.stateNode;try{var gt=ba(a.type,f);i=l.getSnapshotBeforeUpdate(gt,m),l.__reactInternalSnapshotBeforeUpdate=i}catch(Et){ne(a,a.return,Et)}}break;case 3:if((i&1024)!==0){if(i=r.stateNode.containerInfo,a=i.nodeType,a===9)Jm(i);else if(a===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Jm(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=r.sibling,i!==null){i.return=r.return,Ze=i;break}Ze=r.return}}function bT(i,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:ws(i,a),l&4&&Zl(5,a);break;case 1:if(ws(i,a),l&4)if(i=a.stateNode,r===null)try{i.componentDidMount()}catch(v){ne(a,a.return,v)}else{var f=ba(a.type,r.memoizedProps);r=r.memoizedState;try{i.componentDidUpdate(f,r,i.__reactInternalSnapshotBeforeUpdate)}catch(v){ne(a,a.return,v)}}l&64&&_T(a),l&512&&Jl(a,a.return);break;case 3:if(ws(i,a),l&64&&(i=a.updateQueue,i!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{lv(i,r)}catch(v){ne(a,a.return,v)}}break;case 27:r===null&&l&4&&AT(a);case 26:case 5:ws(i,a),r===null&&l&4&&TT(a),l&512&&Jl(a,a.return);break;case 12:ws(i,a);break;case 31:ws(i,a),l&4&&CT(i,a);break;case 13:ws(i,a),l&4&&IT(i,a),l&64&&(i=a.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(a=tI.bind(null,a),TI(i,a))));break;case 22:if(l=a.memoizedState!==null||Ss,!l){r=r!==null&&r.memoizedState!==null||Be,f=Ss;var m=Be;Ss=l,(Be=r)&&!m?Rs(i,a,(a.subtreeFlags&8772)!==0):ws(i,a),Ss=f,Be=m}break;case 30:break;default:ws(i,a)}}function wT(i){var r=i.alternate;r!==null&&(i.alternate=null,wT(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&Xa(r)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var pe=null,wn=!1;function bs(i,r,a){for(a=a.child;a!==null;)RT(i,r,a),a=a.sibling}function RT(i,r,a){if(tn&&typeof tn.onCommitFiberUnmount=="function")try{tn.onCommitFiberUnmount(Yt,a)}catch{}switch(a.tag){case 26:Be||Qi(a,r),bs(i,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Be||Qi(a,r);var l=pe,f=wn;gr(a.type)&&(pe=a.stateNode,wn=!1),bs(i,r,a),lu(a.stateNode),pe=l,wn=f;break;case 5:Be||Qi(a,r);case 6:if(l=pe,f=wn,pe=null,bs(i,r,a),pe=l,wn=f,pe!==null)if(wn)try{(pe.nodeType===9?pe.body:pe.nodeName==="HTML"?pe.ownerDocument.body:pe).removeChild(a.stateNode)}catch(m){ne(a,r,m)}else try{pe.removeChild(a.stateNode)}catch(m){ne(a,r,m)}break;case 18:pe!==null&&(wn?(i=pe,_E(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,a.stateNode),Mo(i)):_E(pe,a.stateNode));break;case 4:l=pe,f=wn,pe=a.stateNode.containerInfo,wn=!0,bs(i,r,a),pe=l,wn=f;break;case 0:case 11:case 14:case 15:ur(2,a,r),Be||ur(4,a,r),bs(i,r,a);break;case 1:Be||(Qi(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&vT(a,r,l)),bs(i,r,a);break;case 21:bs(i,r,a);break;case 22:Be=(l=Be)||a.memoizedState!==null,bs(i,r,a),Be=l;break;default:bs(i,r,a)}}function CT(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{Mo(i)}catch(a){ne(r,r.return,a)}}}function IT(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Mo(i)}catch(a){ne(r,r.return,a)}}function KC(i){switch(i.tag){case 31:case 13:case 19:var r=i.stateNode;return r===null&&(r=i.stateNode=new ST),r;case 22:return i=i.stateNode,r=i._retryCache,r===null&&(r=i._retryCache=new ST),r;default:throw Error(s(435,i.tag))}}function mh(i,r){var a=KC(i);r.forEach(function(l){if(!a.has(l)){a.add(l);var f=eI.bind(null,i,l);l.then(f,f)}})}function Rn(i,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],m=i,v=r,b=v;t:for(;b!==null;){switch(b.tag){case 27:if(gr(b.type)){pe=b.stateNode,wn=!1;break t}break;case 5:pe=b.stateNode,wn=!1;break t;case 3:case 4:pe=b.stateNode.containerInfo,wn=!0;break t}b=b.return}if(pe===null)throw Error(s(160));RT(m,v,f),pe=null,wn=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)xT(r,i),r=r.sibling}var vi=null;function xT(i,r){var a=i.alternate,l=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Rn(r,i),Cn(i),l&4&&(ur(3,i,i.return),Zl(3,i),ur(5,i,i.return));break;case 1:Rn(r,i),Cn(i),l&512&&(Be||a===null||Qi(a,a.return)),l&64&&Ss&&(i=i.updateQueue,i!==null&&(l=i.callbacks,l!==null&&(a=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=vi;if(Rn(r,i),Cn(i),l&512&&(Be||a===null||Qi(a,a.return)),l&4){var m=a!==null?a.memoizedState:null;if(l=i.memoizedState,a===null)if(l===null)if(i.stateNode===null){t:{l=i.type,a=i.memoizedProps,f=f.ownerDocument||f;e:switch(l){case"title":m=f.getElementsByTagName("title")[0],(!m||m[Mi]||m[Me]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(l),f.head.insertBefore(m,f.querySelector("head > title"))),an(m,l,a),m[Me]=i,Pe(m),l=m;break t;case"link":var v=xE("link","href",f).get(l+(a.href||""));if(v){for(var b=0;b<v.length;b++)if(m=v[b],m.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&m.getAttribute("rel")===(a.rel==null?null:a.rel)&&m.getAttribute("title")===(a.title==null?null:a.title)&&m.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(b,1);break e}}m=f.createElement(l),an(m,l,a),f.head.appendChild(m);break;case"meta":if(v=xE("meta","content",f).get(l+(a.content||""))){for(b=0;b<v.length;b++)if(m=v[b],m.getAttribute("content")===(a.content==null?null:""+a.content)&&m.getAttribute("name")===(a.name==null?null:a.name)&&m.getAttribute("property")===(a.property==null?null:a.property)&&m.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&m.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(b,1);break e}}m=f.createElement(l),an(m,l,a),f.head.appendChild(m);break;default:throw Error(s(468,l))}m[Me]=i,Pe(m),l=m}i.stateNode=l}else DE(f,i.type,i.stateNode);else i.stateNode=IE(f,l,i.memoizedProps);else m!==l?(m===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):m.count--,l===null?DE(f,i.type,i.stateNode):IE(f,l,i.memoizedProps)):l===null&&i.stateNode!==null&&wm(i,i.memoizedProps,a.memoizedProps)}break;case 27:Rn(r,i),Cn(i),l&512&&(Be||a===null||Qi(a,a.return)),a!==null&&l&4&&wm(i,i.memoizedProps,a.memoizedProps);break;case 5:if(Rn(r,i),Cn(i),l&512&&(Be||a===null||Qi(a,a.return)),i.flags&32){f=i.stateNode;try{bn(f,"")}catch(gt){ne(i,i.return,gt)}}l&4&&i.stateNode!=null&&(f=i.memoizedProps,wm(i,f,a!==null?a.memoizedProps:f)),l&1024&&(Im=!0);break;case 6:if(Rn(r,i),Cn(i),l&4){if(i.stateNode===null)throw Error(s(162));l=i.memoizedProps,a=i.stateNode;try{a.nodeValue=l}catch(gt){ne(i,i.return,gt)}}break;case 3:if(Dh=null,f=vi,vi=Ih(r.containerInfo),Rn(r,i),vi=f,Cn(i),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Mo(r.containerInfo)}catch(gt){ne(i,i.return,gt)}Im&&(Im=!1,DT(i));break;case 4:l=vi,vi=Ih(i.stateNode.containerInfo),Rn(r,i),Cn(i),vi=l;break;case 12:Rn(r,i),Cn(i);break;case 31:Rn(r,i),Cn(i),l&4&&(l=i.updateQueue,l!==null&&(i.updateQueue=null,mh(i,l)));break;case 13:Rn(r,i),Cn(i),i.child.flags&8192&&i.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(gh=Ge()),l&4&&(l=i.updateQueue,l!==null&&(i.updateQueue=null,mh(i,l)));break;case 22:f=i.memoizedState!==null;var N=a!==null&&a.memoizedState!==null,q=Ss,W=Be;if(Ss=q||f,Be=W||N,Rn(r,i),Be=W,Ss=q,Cn(i),l&8192)t:for(r=i.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(a===null||N||Ss||Be||wa(i)),a=null,r=i;;){if(r.tag===5||r.tag===26){if(a===null){N=a=r;try{if(m=N.stateNode,f)v=m.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{b=N.stateNode;var tt=N.memoizedProps.style,H=tt!=null&&tt.hasOwnProperty("display")?tt.display:null;b.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(gt){ne(N,N.return,gt)}}}else if(r.tag===6){if(a===null){N=r;try{N.stateNode.nodeValue=f?"":N.memoizedProps}catch(gt){ne(N,N.return,gt)}}}else if(r.tag===18){if(a===null){N=r;try{var Y=N.stateNode;f?vE(Y,!0):vE(N.stateNode,!1)}catch(gt){ne(N,N.return,gt)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===i)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break t;for(;r.sibling===null;){if(r.return===null||r.return===i)break t;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=i.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,mh(i,a))));break;case 19:Rn(r,i),Cn(i),l&4&&(l=i.updateQueue,l!==null&&(i.updateQueue=null,mh(i,l)));break;case 30:break;case 21:break;default:Rn(r,i),Cn(i)}}function Cn(i){var r=i.flags;if(r&2){try{for(var a,l=i.return;l!==null;){if(ET(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var f=a.stateNode,m=Rm(i);dh(i,m,f);break;case 5:var v=a.stateNode;a.flags&32&&(bn(v,""),a.flags&=-33);var b=Rm(i);dh(i,b,v);break;case 3:case 4:var N=a.stateNode.containerInfo,q=Rm(i);Cm(i,q,N);break;default:throw Error(s(161))}}catch(W){ne(i,i.return,W)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function DT(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var r=i;DT(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),i=i.sibling}}function ws(i,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)bT(i,r.alternate,r),r=r.sibling}function wa(i){for(i=i.child;i!==null;){var r=i;switch(r.tag){case 0:case 11:case 14:case 15:ur(4,r,r.return),wa(r);break;case 1:Qi(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&vT(r,r.return,a),wa(r);break;case 27:lu(r.stateNode);case 26:case 5:Qi(r,r.return),wa(r);break;case 22:r.memoizedState===null&&wa(r);break;case 30:wa(r);break;default:wa(r)}i=i.sibling}}function Rs(i,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,f=i,m=r,v=m.flags;switch(m.tag){case 0:case 11:case 15:Rs(f,m,a),Zl(4,m);break;case 1:if(Rs(f,m,a),l=m,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(q){ne(l,l.return,q)}if(l=m,f=l.updateQueue,f!==null){var b=l.stateNode;try{var N=f.shared.hiddenCallbacks;if(N!==null)for(f.shared.hiddenCallbacks=null,f=0;f<N.length;f++)ov(N[f],b)}catch(q){ne(l,l.return,q)}}a&&v&64&&_T(m),Jl(m,m.return);break;case 27:AT(m);case 26:case 5:Rs(f,m,a),a&&l===null&&v&4&&TT(m),Jl(m,m.return);break;case 12:Rs(f,m,a);break;case 31:Rs(f,m,a),a&&v&4&&CT(f,m);break;case 13:Rs(f,m,a),a&&v&4&&IT(f,m);break;case 22:m.memoizedState===null&&Rs(f,m,a),Jl(m,m.return);break;case 30:break;default:Rs(f,m,a)}r=r.sibling}}function xm(i,r){var a=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==a&&(i!=null&&i.refCount++,a!=null&&Ul(a))}function Dm(i,r){i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&Ul(i))}function Ti(i,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)NT(i,r,a,l),r=r.sibling}function NT(i,r,a,l){var f=r.flags;switch(r.tag){case 0:case 11:case 15:Ti(i,r,a,l),f&2048&&Zl(9,r);break;case 1:Ti(i,r,a,l);break;case 3:Ti(i,r,a,l),f&2048&&(i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&Ul(i)));break;case 12:if(f&2048){Ti(i,r,a,l),i=r.stateNode;try{var m=r.memoizedProps,v=m.id,b=m.onPostCommit;typeof b=="function"&&b(v,r.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(N){ne(r,r.return,N)}}else Ti(i,r,a,l);break;case 31:Ti(i,r,a,l);break;case 13:Ti(i,r,a,l);break;case 23:break;case 22:m=r.stateNode,v=r.alternate,r.memoizedState!==null?m._visibility&2?Ti(i,r,a,l):tu(i,r):m._visibility&2?Ti(i,r,a,l):(m._visibility|=2,So(i,r,a,l,(r.subtreeFlags&10256)!==0||!1)),f&2048&&xm(v,r);break;case 24:Ti(i,r,a,l),f&2048&&Dm(r.alternate,r);break;default:Ti(i,r,a,l)}}function So(i,r,a,l,f){for(f=f&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var m=i,v=r,b=a,N=l,q=v.flags;switch(v.tag){case 0:case 11:case 15:So(m,v,b,N,f),Zl(8,v);break;case 23:break;case 22:var W=v.stateNode;v.memoizedState!==null?W._visibility&2?So(m,v,b,N,f):tu(m,v):(W._visibility|=2,So(m,v,b,N,f)),f&&q&2048&&xm(v.alternate,v);break;case 24:So(m,v,b,N,f),f&&q&2048&&Dm(v.alternate,v);break;default:So(m,v,b,N,f)}r=r.sibling}}function tu(i,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=i,l=r,f=l.flags;switch(l.tag){case 22:tu(a,l),f&2048&&xm(l.alternate,l);break;case 24:tu(a,l),f&2048&&Dm(l.alternate,l);break;default:tu(a,l)}r=r.sibling}}var eu=8192;function bo(i,r,a){if(i.subtreeFlags&eu)for(i=i.child;i!==null;)VT(i,r,a),i=i.sibling}function VT(i,r,a){switch(i.tag){case 26:bo(i,r,a),i.flags&eu&&i.memoizedState!==null&&VI(a,vi,i.memoizedState,i.memoizedProps);break;case 5:bo(i,r,a);break;case 3:case 4:var l=vi;vi=Ih(i.stateNode.containerInfo),bo(i,r,a),vi=l;break;case 22:i.memoizedState===null&&(l=i.alternate,l!==null&&l.memoizedState!==null?(l=eu,eu=16777216,bo(i,r,a),eu=l):bo(i,r,a));break;default:bo(i,r,a)}}function OT(i){var r=i.alternate;if(r!==null&&(i=r.child,i!==null)){r.child=null;do r=i.sibling,i.sibling=null,i=r;while(i!==null)}}function nu(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Ze=l,PT(l,i)}OT(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)MT(i),i=i.sibling}function MT(i){switch(i.tag){case 0:case 11:case 15:nu(i),i.flags&2048&&ur(9,i,i.return);break;case 3:nu(i);break;case 12:nu(i);break;case 22:var r=i.stateNode;i.memoizedState!==null&&r._visibility&2&&(i.return===null||i.return.tag!==13)?(r._visibility&=-3,ph(i)):nu(i);break;default:nu(i)}}function ph(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Ze=l,PT(l,i)}OT(i)}for(i=i.child;i!==null;){switch(r=i,r.tag){case 0:case 11:case 15:ur(8,r,r.return),ph(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,ph(r));break;default:ph(r)}i=i.sibling}}function PT(i,r){for(;Ze!==null;){var a=Ze;switch(a.tag){case 0:case 11:case 15:ur(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Ul(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ze=l;else t:for(a=i;Ze!==null;){l=Ze;var f=l.sibling,m=l.return;if(wT(l),l===a){Ze=null;break t}if(f!==null){f.return=m,Ze=f;break t}Ze=m}}}var YC={getCacheForType:function(i){var r=sn(Le),a=r.data.get(i);return a===void 0&&(a=i(),r.data.set(i,a)),a},cacheSignal:function(){return sn(Le).controller.signal}},QC=typeof WeakMap=="function"?WeakMap:Map,Wt=0,oe=null,kt=null,Ut=0,ee=0,Un=null,cr=!1,wo=!1,Nm=!1,Cs=0,Ae=0,hr=0,Ra=0,Vm=0,Bn=0,Ro=0,iu=null,In=null,Om=!1,gh=0,kT=0,yh=1/0,_h=null,fr=null,Ke=0,dr=null,Co=null,Is=0,Mm=0,Pm=null,LT=null,su=0,km=null;function zn(){return(Wt&2)!==0&&Ut!==0?Ut&-Ut:Q.T!==null?qm():vc()}function jT(){if(Bn===0)if((Ut&536870912)===0||Ht){var i=Jr;Jr<<=1,(Jr&3932160)===0&&(Jr=262144),Bn=i}else Bn=536870912;return i=Ln.current,i!==null&&(i.flags|=32),Bn}function xn(i,r,a){(i===oe&&(ee===2||ee===9)||i.cancelPendingCommit!==null)&&(Io(i,0),mr(i,Ut,Bn,!1)),ta(i,a),((Wt&2)===0||i!==oe)&&(i===oe&&((Wt&2)===0&&(Ra|=a),Ae===4&&mr(i,Ut,Bn,!1)),Xi(i))}function UT(i,r,a){if((Wt&6)!==0)throw Error(s(327));var l=!a&&(r&127)===0&&(r&i.expiredLanes)===0||ci(i,r),f=l?WC(i,r):jm(i,r,!0),m=l;do{if(f===0){wo&&!l&&mr(i,r,0,!1);break}else{if(a=i.current.alternate,m&&!XC(a)){f=jm(i,r,!1),m=!1;continue}if(f===2){if(m=r,i.errorRecoveryDisabledLanes&m)var v=0;else v=i.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){r=v;t:{var b=i;f=iu;var N=b.current.memoizedState.isDehydrated;if(N&&(Io(b,v).flags|=256),v=jm(b,v,!1),v!==2){if(Nm&&!N){b.errorRecoveryDisabledLanes|=m,Ra|=m,f=4;break t}m=In,In=f,m!==null&&(In===null?In=m:In.push.apply(In,m))}f=v}if(m=!1,f!==2)continue}}if(f===1){Io(i,0),mr(i,r,0,!0);break}t:{switch(l=i,m=f,m){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:mr(l,r,Bn,!cr);break t;case 2:In=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(f=gh+300-Ge(),10<f)){if(mr(l,r,Bn,!cr),Ni(l,0,!0)!==0)break t;Is=r,l.timeoutHandle=gE(BT.bind(null,l,a,In,_h,Om,r,Bn,Ra,Ro,cr,m,"Throttled",-0,0),f);break t}BT(l,a,In,_h,Om,r,Bn,Ra,Ro,cr,m,null,-0,0)}}break}while(!0);Xi(i)}function BT(i,r,a,l,f,m,v,b,N,q,W,tt,H,Y){if(i.timeoutHandle=-1,tt=r.subtreeFlags,tt&8192||(tt&16785408)===16785408){tt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:di},VT(r,m,tt);var gt=(m&62914560)===m?gh-Ge():(m&4194048)===m?kT-Ge():0;if(gt=OI(tt,gt),gt!==null){Is=m,i.cancelPendingCommit=gt(QT.bind(null,i,r,m,a,l,f,v,b,N,W,tt,null,H,Y)),mr(i,m,v,!q);return}}QT(i,r,m,a,l,f,v,b,N)}function XC(i){for(var r=i;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],m=f.getSnapshot;f=f.value;try{if(!Pn(m(),f))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function mr(i,r,a,l){r&=~Vm,r&=~Ra,i.suspendedLanes|=r,i.pingedLanes&=~r,l&&(i.warmLanes|=r),l=i.expirationTimes;for(var f=r;0<f;){var m=31-Ie(f),v=1<<m;l[m]=-1,f&=~v}a!==0&&ea(i,a,r)}function vh(){return(Wt&6)===0?(ru(0),!1):!0}function Lm(){if(kt!==null){if(ee===0)var i=kt.return;else i=kt,ys=ya=null,Jd(i),_o=null,zl=0,i=kt;for(;i!==null;)yT(i.alternate,i),i=i.return;kt=null}}function Io(i,r){var a=i.timeoutHandle;a!==-1&&(i.timeoutHandle=-1,pI(a)),a=i.cancelPendingCommit,a!==null&&(i.cancelPendingCommit=null,a()),Is=0,Lm(),oe=i,kt=a=ps(i.current,null),Ut=r,ee=0,Un=null,cr=!1,wo=ci(i,r),Nm=!1,Ro=Bn=Vm=Ra=hr=Ae=0,In=iu=null,Om=!1,(r&8)!==0&&(r|=r&32);var l=i.entangledLanes;if(l!==0)for(i=i.entanglements,l&=r;0<l;){var f=31-Ie(l),m=1<<f;r|=i[f],l&=~m}return Cs=r,Bc(),a}function zT(i,r){Vt=null,Q.H=Xl,r===yo||r===Qc?(r=iv(),ee=3):r===zd?(r=iv(),ee=4):ee=r===pm?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Un=r,kt===null&&(Ae=1,lh(i,Zn(r,i.current)))}function qT(){var i=Ln.current;return i===null?!0:(Ut&4194048)===Ut?ni===null:(Ut&62914560)===Ut||(Ut&536870912)!==0?i===ni:!1}function FT(){var i=Q.H;return Q.H=Xl,i===null?Xl:i}function HT(){var i=Q.A;return Q.A=YC,i}function Th(){Ae=4,cr||(Ut&4194048)!==Ut&&Ln.current!==null||(wo=!0),(hr&134217727)===0&&(Ra&134217727)===0||oe===null||mr(oe,Ut,Bn,!1)}function jm(i,r,a){var l=Wt;Wt|=2;var f=FT(),m=HT();(oe!==i||Ut!==r)&&(_h=null,Io(i,r)),r=!1;var v=Ae;t:do try{if(ee!==0&&kt!==null){var b=kt,N=Un;switch(ee){case 8:Lm(),v=6;break t;case 3:case 2:case 9:case 6:Ln.current===null&&(r=!0);var q=ee;if(ee=0,Un=null,xo(i,b,N,q),a&&wo){v=0;break t}break;default:q=ee,ee=0,Un=null,xo(i,b,N,q)}}$C(),v=Ae;break}catch(W){zT(i,W)}while(!0);return r&&i.shellSuspendCounter++,ys=ya=null,Wt=l,Q.H=f,Q.A=m,kt===null&&(oe=null,Ut=0,Bc()),v}function $C(){for(;kt!==null;)GT(kt)}function WC(i,r){var a=Wt;Wt|=2;var l=FT(),f=HT();oe!==i||Ut!==r?(_h=null,yh=Ge()+500,Io(i,r)):wo=ci(i,r);t:do try{if(ee!==0&&kt!==null){r=kt;var m=Un;e:switch(ee){case 1:ee=0,Un=null,xo(i,r,m,1);break;case 2:case 9:if(ev(m)){ee=0,Un=null,KT(r);break}r=function(){ee!==2&&ee!==9||oe!==i||(ee=7),Xi(i)},m.then(r,r);break t;case 3:ee=7;break t;case 4:ee=5;break t;case 7:ev(m)?(ee=0,Un=null,KT(r)):(ee=0,Un=null,xo(i,r,m,7));break;case 5:var v=null;switch(kt.tag){case 26:v=kt.memoizedState;case 5:case 27:var b=kt;if(v?NE(v):b.stateNode.complete){ee=0,Un=null;var N=b.sibling;if(N!==null)kt=N;else{var q=b.return;q!==null?(kt=q,Eh(q)):kt=null}break e}}ee=0,Un=null,xo(i,r,m,5);break;case 6:ee=0,Un=null,xo(i,r,m,6);break;case 8:Lm(),Ae=6;break t;default:throw Error(s(462))}}ZC();break}catch(W){zT(i,W)}while(!0);return ys=ya=null,Q.H=l,Q.A=f,Wt=a,kt!==null?0:(oe=null,Ut=0,Bc(),Ae)}function ZC(){for(;kt!==null&&!pl();)GT(kt)}function GT(i){var r=pT(i.alternate,i,Cs);i.memoizedProps=i.pendingProps,r===null?Eh(i):kt=r}function KT(i){var r=i,a=r.alternate;switch(r.tag){case 15:case 0:r=uT(a,r,r.pendingProps,r.type,void 0,Ut);break;case 11:r=uT(a,r,r.pendingProps,r.type.render,r.ref,Ut);break;case 5:Jd(r);default:yT(a,r),r=kt=H_(r,Cs),r=pT(a,r,Cs)}i.memoizedProps=i.pendingProps,r===null?Eh(i):kt=r}function xo(i,r,a,l){ys=ya=null,Jd(r),_o=null,zl=0;var f=r.return;try{if(BC(i,f,r,a,Ut)){Ae=1,lh(i,Zn(a,i.current)),kt=null;return}}catch(m){if(f!==null)throw kt=f,m;Ae=1,lh(i,Zn(a,i.current)),kt=null;return}r.flags&32768?(Ht||l===1?i=!0:wo||(Ut&536870912)!==0?i=!1:(cr=i=!0,(l===2||l===9||l===3||l===6)&&(l=Ln.current,l!==null&&l.tag===13&&(l.flags|=16384))),YT(r,i)):Eh(r)}function Eh(i){var r=i;do{if((r.flags&32768)!==0){YT(r,cr);return}i=r.return;var a=FC(r.alternate,r,Cs);if(a!==null){kt=a;return}if(r=r.sibling,r!==null){kt=r;return}kt=r=i}while(r!==null);Ae===0&&(Ae=5)}function YT(i,r){do{var a=HC(i.alternate,i);if(a!==null){a.flags&=32767,kt=a;return}if(a=i.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(i=i.sibling,i!==null)){kt=i;return}kt=i=a}while(i!==null);Ae=6,kt=null}function QT(i,r,a,l,f,m,v,b,N){i.cancelPendingCommit=null;do Ah();while(Ke!==0);if((Wt&6)!==0)throw Error(s(327));if(r!==null){if(r===i.current)throw Error(s(177));if(m=r.lanes|r.childLanes,m|=Rd,yd(i,a,m,v,b,N),i===oe&&(kt=oe=null,Ut=0),Co=r,dr=i,Is=a,Mm=m,Pm=f,LT=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,nI(_n,function(){return JT(),null})):(i.callbackNode=null,i.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=Q.T,Q.T=null,f=st.p,st.p=2,v=Wt,Wt|=4;try{GC(i,r,a)}finally{Wt=v,st.p=f,Q.T=l}}Ke=1,XT(),$T(),WT()}}function XT(){if(Ke===1){Ke=0;var i=dr,r=Co,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=Q.T,Q.T=null;var l=st.p;st.p=2;var f=Wt;Wt|=4;try{xT(r,i);var m=$m,v=P_(i.containerInfo),b=m.focusedElem,N=m.selectionRange;if(v!==b&&b&&b.ownerDocument&&M_(b.ownerDocument.documentElement,b)){if(N!==null&&Ed(b)){var q=N.start,W=N.end;if(W===void 0&&(W=q),"selectionStart"in b)b.selectionStart=q,b.selectionEnd=Math.min(W,b.value.length);else{var tt=b.ownerDocument||document,H=tt&&tt.defaultView||window;if(H.getSelection){var Y=H.getSelection(),gt=b.textContent.length,Et=Math.min(N.start,gt),ae=N.end===void 0?Et:Math.min(N.end,gt);!Y.extend&&Et>ae&&(v=ae,ae=Et,Et=v);var j=O_(b,Et),P=O_(b,ae);if(j&&P&&(Y.rangeCount!==1||Y.anchorNode!==j.node||Y.anchorOffset!==j.offset||Y.focusNode!==P.node||Y.focusOffset!==P.offset)){var z=tt.createRange();z.setStart(j.node,j.offset),Y.removeAllRanges(),Et>ae?(Y.addRange(z),Y.extend(P.node,P.offset)):(z.setEnd(P.node,P.offset),Y.addRange(z))}}}}for(tt=[],Y=b;Y=Y.parentNode;)Y.nodeType===1&&tt.push({element:Y,left:Y.scrollLeft,top:Y.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<tt.length;b++){var J=tt[b];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}Mh=!!Xm,$m=Xm=null}finally{Wt=f,st.p=l,Q.T=a}}i.current=r,Ke=2}}function $T(){if(Ke===2){Ke=0;var i=dr,r=Co,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=Q.T,Q.T=null;var l=st.p;st.p=2;var f=Wt;Wt|=4;try{bT(i,r.alternate,r)}finally{Wt=f,st.p=l,Q.T=a}}Ke=3}}function WT(){if(Ke===4||Ke===3){Ke=0,Hs();var i=dr,r=Co,a=Is,l=LT;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Ke=5:(Ke=0,Co=dr=null,ZT(i,i.pendingLanes));var f=i.pendingLanes;if(f===0&&(fr=null),hs(a),r=r.stateNode,tn&&typeof tn.onCommitFiberRoot=="function")try{tn.onCommitFiberRoot(Yt,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=Q.T,f=st.p,st.p=2,Q.T=null;try{for(var m=i.onRecoverableError,v=0;v<l.length;v++){var b=l[v];m(b.value,{componentStack:b.stack})}}finally{Q.T=r,st.p=f}}(Is&3)!==0&&Ah(),Xi(i),f=i.pendingLanes,(a&261930)!==0&&(f&42)!==0?i===km?su++:(su=0,km=i):su=0,ru(0)}}function ZT(i,r){(i.pooledCacheLanes&=r)===0&&(r=i.pooledCache,r!=null&&(i.pooledCache=null,Ul(r)))}function Ah(){return XT(),$T(),WT(),JT()}function JT(){if(Ke!==5)return!1;var i=dr,r=Mm;Mm=0;var a=hs(Is),l=Q.T,f=st.p;try{st.p=32>a?32:a,Q.T=null,a=Pm,Pm=null;var m=dr,v=Is;if(Ke=0,Co=dr=null,Is=0,(Wt&6)!==0)throw Error(s(331));var b=Wt;if(Wt|=4,MT(m.current),NT(m,m.current,v,a),Wt=b,ru(0,!1),tn&&typeof tn.onPostCommitFiberRoot=="function")try{tn.onPostCommitFiberRoot(Yt,m)}catch{}return!0}finally{st.p=f,Q.T=l,ZT(i,r)}}function tE(i,r,a){r=Zn(a,r),r=mm(i.stateNode,r,2),i=ar(i,r,2),i!==null&&(ta(i,2),Xi(i))}function ne(i,r,a){if(i.tag===3)tE(i,i,a);else for(;r!==null;){if(r.tag===3){tE(r,i,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(fr===null||!fr.has(l))){i=Zn(a,i),a=eT(2),l=ar(r,a,2),l!==null&&(nT(a,l,r,i),ta(l,2),Xi(l));break}}r=r.return}}function Um(i,r,a){var l=i.pingCache;if(l===null){l=i.pingCache=new QC;var f=new Set;l.set(r,f)}else f=l.get(r),f===void 0&&(f=new Set,l.set(r,f));f.has(a)||(Nm=!0,f.add(a),i=JC.bind(null,i,r,a),r.then(i,i))}function JC(i,r,a){var l=i.pingCache;l!==null&&l.delete(r),i.pingedLanes|=i.suspendedLanes&a,i.warmLanes&=~a,oe===i&&(Ut&a)===a&&(Ae===4||Ae===3&&(Ut&62914560)===Ut&&300>Ge()-gh?(Wt&2)===0&&Io(i,0):Vm|=a,Ro===Ut&&(Ro=0)),Xi(i)}function eE(i,r){r===0&&(r=_c()),i=ma(i,r),i!==null&&(ta(i,r),Xi(i))}function tI(i){var r=i.memoizedState,a=0;r!==null&&(a=r.retryLane),eE(i,a)}function eI(i,r){var a=0;switch(i.tag){case 31:case 13:var l=i.stateNode,f=i.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=i.stateNode;break;case 22:l=i.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),eE(i,a)}function nI(i,r){return Ce(i,r)}var Sh=null,Do=null,Bm=!1,bh=!1,zm=!1,pr=0;function Xi(i){i!==Do&&i.next===null&&(Do===null?Sh=Do=i:Do=Do.next=i),bh=!0,Bm||(Bm=!0,sI())}function ru(i,r){if(!zm&&bh){zm=!0;do for(var a=!1,l=Sh;l!==null;){if(i!==0){var f=l.pendingLanes;if(f===0)var m=0;else{var v=l.suspendedLanes,b=l.pingedLanes;m=(1<<31-Ie(42|i)+1)-1,m&=f&~(v&~b),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(a=!0,rE(l,m))}else m=Ut,m=Ni(l,l===oe?m:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(m&3)===0||ci(l,m)||(a=!0,rE(l,m));l=l.next}while(a);zm=!1}}function iI(){nE()}function nE(){bh=Bm=!1;var i=0;pr!==0&&mI()&&(i=pr);for(var r=Ge(),a=null,l=Sh;l!==null;){var f=l.next,m=iE(l,r);m===0?(l.next=null,a===null?Sh=f:a.next=f,f===null&&(Do=a)):(a=l,(i!==0||(m&3)!==0)&&(bh=!0)),l=f}Ke!==0&&Ke!==5||ru(i),pr!==0&&(pr=0)}function iE(i,r){for(var a=i.suspendedLanes,l=i.pingedLanes,f=i.expirationTimes,m=i.pendingLanes&-62914561;0<m;){var v=31-Ie(m),b=1<<v,N=f[v];N===-1?((b&a)===0||(b&l)!==0)&&(f[v]=gd(b,r)):N<=r&&(i.expiredLanes|=b),m&=~b}if(r=oe,a=Ut,a=Ni(i,i===r?a:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),l=i.callbackNode,a===0||i===r&&(ee===2||ee===9)||i.cancelPendingCommit!==null)return l!==null&&l!==null&&ui(l),i.callbackNode=null,i.callbackPriority=0;if((a&3)===0||ci(i,a)){if(r=a&-a,r===i.callbackPriority)return r;switch(l!==null&&ui(l),hs(a)){case 2:case 8:a=cs;break;case 32:a=_n;break;case 268435456:a=ct;break;default:a=_n}return l=sE.bind(null,i),a=Ce(a,l),i.callbackPriority=r,i.callbackNode=a,r}return l!==null&&l!==null&&ui(l),i.callbackPriority=2,i.callbackNode=null,2}function sE(i,r){if(Ke!==0&&Ke!==5)return i.callbackNode=null,i.callbackPriority=0,null;var a=i.callbackNode;if(Ah()&&i.callbackNode!==a)return null;var l=Ut;return l=Ni(i,i===oe?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),l===0?null:(UT(i,l,r),iE(i,Ge()),i.callbackNode!=null&&i.callbackNode===a?sE.bind(null,i):null)}function rE(i,r){if(Ah())return null;UT(i,r,!0)}function sI(){gI(function(){(Wt&6)!==0?Ce(Zr,iI):nE()})}function qm(){if(pr===0){var i=po;i===0&&(i=xi,xi<<=1,(xi&261888)===0&&(xi=256)),pr=i}return pr}function aE(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Ja(""+i)}function oE(i,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,i.id&&a.setAttribute("form",i.id),r.parentNode.insertBefore(a,r),i=new FormData(i),a.parentNode.removeChild(a),i}function rI(i,r,a,l,f){if(r==="submit"&&a&&a.stateNode===f){var m=aE((f[$e]||null).action),v=l.submitter;v&&(r=(r=v[$e]||null)?aE(r.formAction):v.getAttribute("formAction"),r!==null&&(m=r,v=null));var b=new qi("action","action",null,l,f);i.push({event:b,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(pr!==0){var N=v?oE(f,v):new FormData(f);lm(a,{pending:!0,data:N,method:f.method,action:m},null,N)}}else typeof m=="function"&&(b.preventDefault(),N=v?oE(f,v):new FormData(f),lm(a,{pending:!0,data:N,method:f.method,action:m},m,N))},currentTarget:f}]})}}for(var Fm=0;Fm<wd.length;Fm++){var Hm=wd[Fm],aI=Hm.toLowerCase(),oI=Hm[0].toUpperCase()+Hm.slice(1);_i(aI,"on"+oI)}_i(j_,"onAnimationEnd"),_i(U_,"onAnimationIteration"),_i(B_,"onAnimationStart"),_i("dblclick","onDoubleClick"),_i("focusin","onFocus"),_i("focusout","onBlur"),_i(SC,"onTransitionRun"),_i(bC,"onTransitionStart"),_i(wC,"onTransitionCancel"),_i(z_,"onTransitionEnd"),ji("onMouseEnter",["mouseout","mouseover"]),ji("onMouseLeave",["mouseout","mouseover"]),ji("onPointerEnter",["pointerout","pointerover"]),ji("onPointerLeave",["pointerout","pointerover"]),Li("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Li("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Li("onBeforeInput",["compositionend","keypress","textInput","paste"]),Li("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Li("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Li("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var au="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),lI=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(au));function lE(i,r){r=(r&4)!==0;for(var a=0;a<i.length;a++){var l=i[a],f=l.event;l=l.listeners;t:{var m=void 0;if(r)for(var v=l.length-1;0<=v;v--){var b=l[v],N=b.instance,q=b.currentTarget;if(b=b.listener,N!==m&&f.isPropagationStopped())break t;m=b,f.currentTarget=q;try{m(f)}catch(W){Uc(W)}f.currentTarget=null,m=N}else for(v=0;v<l.length;v++){if(b=l[v],N=b.instance,q=b.currentTarget,b=b.listener,N!==m&&f.isPropagationStopped())break t;m=b,f.currentTarget=q;try{m(f)}catch(W){Uc(W)}f.currentTarget=null,m=N}}}}function Lt(i,r){var a=r[Qa];a===void 0&&(a=r[Qa]=new Set);var l=i+"__bubble";a.has(l)||(uE(r,i,2,!1),a.add(l))}function Gm(i,r,a){var l=0;r&&(l|=4),uE(a,i,l,r)}var wh="_reactListening"+Math.random().toString(36).slice(2);function Km(i){if(!i[wh]){i[wh]=!0,_l.forEach(function(a){a!=="selectionchange"&&(lI.has(a)||Gm(a,!1,i),Gm(a,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[wh]||(r[wh]=!0,Gm("selectionchange",!1,r))}}function uE(i,r,a,l){switch(jE(r)){case 2:var f=kI;break;case 8:f=LI;break;default:f=op}a=f.bind(null,r,a,i),f=void 0,!aa||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),l?f!==void 0?i.addEventListener(r,a,{capture:!0,passive:f}):i.addEventListener(r,a,!0):f!==void 0?i.addEventListener(r,a,{passive:f}):i.addEventListener(r,a,!1)}function Ym(i,r,a,l,f){var m=l;if((r&1)===0&&(r&2)===0&&l!==null)t:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var b=l.stateNode.containerInfo;if(b===f)break;if(v===4)for(v=l.return;v!==null;){var N=v.tag;if((N===3||N===4)&&v.stateNode.containerInfo===f)return;v=v.return}for(;b!==null;){if(v=Pi(b),v===null)return;if(N=v.tag,N===5||N===6||N===26||N===27){l=m=v;continue t}b=b.parentNode}}l=l.return}$s(function(){var q=m,W=Qn(a),tt=[];t:{var H=q_.get(i);if(H!==void 0){var Y=qi,gt=i;switch(i){case"keypress":if(la(a)===0)break t;case"keydown":case"keyup":Y=kc;break;case"focusin":gt="focus",Y=ca;break;case"focusout":gt="blur",Y=ca;break;case"beforeblur":case"afterblur":Y=ca;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=Nl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=Cc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=_;break;case j_:case U_:case B_:Y=xc;break;case z_:Y=w;break;case"scroll":case"scrollend":Y=Dl;break;case"wheel":Y=K;break;case"copy":case"cut":case"paste":Y=Dc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=ms;break;case"toggle":case"beforetoggle":Y=Nt}var Et=(r&4)!==0,ae=!Et&&(i==="scroll"||i==="scrollend"),j=Et?H!==null?H+"Capture":null:H;Et=[];for(var P=q,z;P!==null;){var J=P;if(z=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||z===null||j===null||(J=mi(P,j),J!=null&&Et.push(ou(P,J,z))),ae)break;P=P.return}0<Et.length&&(H=new Y(H,gt,null,a,W),tt.push({event:H,listeners:Et}))}}if((r&7)===0){t:{if(H=i==="mouseover"||i==="pointerover",Y=i==="mouseout"||i==="pointerout",H&&a!==Cl&&(gt=a.relatedTarget||a.fromElement)&&(Pi(gt)||gt[Oi]))break t;if((Y||H)&&(H=W.window===W?W:(H=W.ownerDocument)?H.defaultView||H.parentWindow:window,Y?(gt=a.relatedTarget||a.toElement,Y=q,gt=gt?Pi(gt):null,gt!==null&&(ae=u(gt),Et=gt.tag,gt!==ae||Et!==5&&Et!==27&&Et!==6)&&(gt=null)):(Y=null,gt=q),Y!==gt)){if(Et=Nl,J="onMouseLeave",j="onMouseEnter",P="mouse",(i==="pointerout"||i==="pointerover")&&(Et=ms,J="onPointerLeave",j="onPointerEnter",P="pointer"),ae=Y==null?H:On(Y),z=gt==null?H:On(gt),H=new Et(J,P+"leave",Y,a,W),H.target=ae,H.relatedTarget=z,J=null,Pi(W)===q&&(Et=new Et(j,P+"enter",gt,a,W),Et.target=z,Et.relatedTarget=ae,J=Et),ae=J,Y&&gt)e:{for(Et=uI,j=Y,P=gt,z=0,J=j;J;J=Et(J))z++;J=0;for(var _t=P;_t;_t=Et(_t))J++;for(;0<z-J;)j=Et(j),z--;for(;0<J-z;)P=Et(P),J--;for(;z--;){if(j===P||P!==null&&j===P.alternate){Et=j;break e}j=Et(j),P=Et(P)}Et=null}else Et=null;Y!==null&&cE(tt,H,Y,Et,!1),gt!==null&&ae!==null&&cE(tt,ae,gt,Et,!0)}}t:{if(H=q?On(q):window,Y=H.nodeName&&H.nodeName.toLowerCase(),Y==="select"||Y==="input"&&H.type==="file")var Qt=C_;else if(w_(H))if(I_)Qt=TC;else{Qt=_C;var yt=yC}else Y=H.nodeName,!Y||Y.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?q&&Za(q.elementType)&&(Qt=C_):Qt=vC;if(Qt&&(Qt=Qt(i,q))){R_(tt,Qt,a,W);break t}yt&&yt(i,H,q),i==="focusout"&&q&&H.type==="number"&&q.memoizedProps.value!=null&&bl(H,"number",H.value)}switch(yt=q?On(q):window,i){case"focusin":(w_(yt)||yt.contentEditable==="true")&&(ao=yt,Ad=q,kl=null);break;case"focusout":kl=Ad=ao=null;break;case"mousedown":Sd=!0;break;case"contextmenu":case"mouseup":case"dragend":Sd=!1,k_(tt,a,W);break;case"selectionchange":if(AC)break;case"keydown":case"keyup":k_(tt,a,W)}var Mt;if($t)t:{switch(i){case"compositionstart":var Bt="onCompositionStart";break t;case"compositionend":Bt="onCompositionEnd";break t;case"compositionupdate":Bt="onCompositionUpdate";break t}Bt=void 0}else ro?ha(i,a)&&(Bt="onCompositionEnd"):i==="keydown"&&a.keyCode===229&&(Bt="onCompositionStart");Bt&&(Gi&&a.locale!=="ko"&&(ro||Bt!=="onCompositionStart"?Bt==="onCompositionEnd"&&ro&&(Mt=xl()):(zi=W,Il="value"in zi?zi.value:zi.textContent,ro=!0)),yt=Rh(q,Bt),0<yt.length&&(Bt=new Hi(Bt,i,null,a,W),tt.push({event:Bt,listeners:yt}),Mt?Bt.data=Mt:(Mt=so(a),Mt!==null&&(Bt.data=Mt)))),(Mt=$n?dC(i,a):mC(i,a))&&(Bt=Rh(q,"onBeforeInput"),0<Bt.length&&(yt=new Hi("onBeforeInput","beforeinput",null,a,W),tt.push({event:yt,listeners:Bt}),yt.data=Mt)),rI(tt,i,q,a,W)}lE(tt,r)})}function ou(i,r,a){return{instance:i,listener:r,currentTarget:a}}function Rh(i,r){for(var a=r+"Capture",l=[];i!==null;){var f=i,m=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=mi(i,a),f!=null&&l.unshift(ou(i,f,m)),f=mi(i,r),f!=null&&l.push(ou(i,f,m))),i.tag===3)return l;i=i.return}return[]}function uI(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function cE(i,r,a,l,f){for(var m=r._reactName,v=[];a!==null&&a!==l;){var b=a,N=b.alternate,q=b.stateNode;if(b=b.tag,N!==null&&N===l)break;b!==5&&b!==26&&b!==27||q===null||(N=q,f?(q=mi(a,m),q!=null&&v.unshift(ou(a,q,N))):f||(q=mi(a,m),q!=null&&v.push(ou(a,q,N)))),a=a.return}v.length!==0&&i.push({event:r,listeners:v})}var cI=/\r\n?/g,hI=/\u0000|\uFFFD/g;function hE(i){return(typeof i=="string"?i:""+i).replace(cI,`
`).replace(hI,"")}function fE(i,r){return r=hE(r),hE(i)===r}function re(i,r,a,l,f,m){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||bn(i,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&bn(i,""+l);break;case"className":Mn(i,"class",l);break;case"tabIndex":Mn(i,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Mn(i,a,l);break;case"style":Rl(i,l,m);break;case"data":if(r!=="object"){Mn(i,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){i.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){i.removeAttribute(a);break}l=Ja(""+l),i.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){i.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(a==="formAction"?(r!=="input"&&re(i,r,"name",f.name,f,null),re(i,r,"formEncType",f.formEncType,f,null),re(i,r,"formMethod",f.formMethod,f,null),re(i,r,"formTarget",f.formTarget,f,null)):(re(i,r,"encType",f.encType,f,null),re(i,r,"method",f.method,f,null),re(i,r,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){i.removeAttribute(a);break}l=Ja(""+l),i.setAttribute(a,l);break;case"onClick":l!=null&&(i.onclick=di);break;case"onScroll":l!=null&&Lt("scroll",i);break;case"onScrollEnd":l!=null&&Lt("scrollend",i);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));i.innerHTML=a}}break;case"multiple":i.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":i.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){i.removeAttribute("xlink:href");break}a=Ja(""+l),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?i.setAttribute(a,""+l):i.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?i.setAttribute(a,""):i.removeAttribute(a);break;case"capture":case"download":l===!0?i.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?i.setAttribute(a,l):i.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?i.setAttribute(a,l):i.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?i.removeAttribute(a):i.setAttribute(a,l);break;case"popover":Lt("beforetoggle",i),Lt("toggle",i),$a(i,"popover",l);break;case"xlinkActuate":ke(i,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":ke(i,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":ke(i,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":ke(i,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":ke(i,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":ke(i,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":ke(i,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":ke(i,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":ke(i,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":$a(i,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Rc.get(a)||a,$a(i,a,l))}}function Qm(i,r,a,l,f,m){switch(a){case"style":Rl(i,l,m);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));i.innerHTML=a}}break;case"children":typeof l=="string"?bn(i,l):(typeof l=="number"||typeof l=="bigint")&&bn(i,""+l);break;case"onScroll":l!=null&&Lt("scroll",i);break;case"onScrollEnd":l!=null&&Lt("scrollend",i);break;case"onClick":l!=null&&(i.onclick=di);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!vl.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),r=a.slice(2,f?a.length-7:void 0),m=i[$e]||null,m=m!=null?m[a]:null,typeof m=="function"&&i.removeEventListener(r,m,f),typeof l=="function")){typeof m!="function"&&m!==null&&(a in i?i[a]=null:i.hasAttribute(a)&&i.removeAttribute(a)),i.addEventListener(r,l,f);break t}a in i?i[a]=l:l===!0?i.setAttribute(a,""):$a(i,a,l)}}}function an(i,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Lt("error",i),Lt("load",i);var l=!1,f=!1,m;for(m in a)if(a.hasOwnProperty(m)){var v=a[m];if(v!=null)switch(m){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:re(i,r,m,v,a,null)}}f&&re(i,r,"srcSet",a.srcSet,a,null),l&&re(i,r,"src",a.src,a,null);return;case"input":Lt("invalid",i);var b=m=v=f=null,N=null,q=null;for(l in a)if(a.hasOwnProperty(l)){var W=a[l];if(W!=null)switch(l){case"name":f=W;break;case"type":v=W;break;case"checked":N=W;break;case"defaultChecked":q=W;break;case"value":m=W;break;case"defaultValue":b=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(s(137,r));break;default:re(i,r,l,W,a,null)}}Sc(i,m,b,N,q,v,f,!1);return;case"select":Lt("invalid",i),l=v=m=null;for(f in a)if(a.hasOwnProperty(f)&&(b=a[f],b!=null))switch(f){case"value":m=b;break;case"defaultValue":v=b;break;case"multiple":l=b;default:re(i,r,f,b,a,null)}r=m,a=v,i.multiple=!!l,r!=null?Ks(i,!!l,r,!1):a!=null&&Ks(i,!!l,a,!0);return;case"textarea":Lt("invalid",i),m=f=l=null;for(v in a)if(a.hasOwnProperty(v)&&(b=a[v],b!=null))switch(v){case"value":l=b;break;case"defaultValue":f=b;break;case"children":m=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(s(91));break;default:re(i,r,v,b,a,null)}Ys(i,l,f,m);return;case"option":for(N in a)a.hasOwnProperty(N)&&(l=a[N],l!=null)&&(N==="selected"?i.selected=l&&typeof l!="function"&&typeof l!="symbol":re(i,r,N,l,a,null));return;case"dialog":Lt("beforetoggle",i),Lt("toggle",i),Lt("cancel",i),Lt("close",i);break;case"iframe":case"object":Lt("load",i);break;case"video":case"audio":for(l=0;l<au.length;l++)Lt(au[l],i);break;case"image":Lt("error",i),Lt("load",i);break;case"details":Lt("toggle",i);break;case"embed":case"source":case"link":Lt("error",i),Lt("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in a)if(a.hasOwnProperty(q)&&(l=a[q],l!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:re(i,r,q,l,a,null)}return;default:if(Za(r)){for(W in a)a.hasOwnProperty(W)&&(l=a[W],l!==void 0&&Qm(i,r,W,l,a,void 0));return}}for(b in a)a.hasOwnProperty(b)&&(l=a[b],l!=null&&re(i,r,b,l,a,null))}function fI(i,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,v=null,b=null,N=null,q=null,W=null;for(Y in a){var tt=a[Y];if(a.hasOwnProperty(Y)&&tt!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":N=tt;default:l.hasOwnProperty(Y)||re(i,r,Y,null,l,tt)}}for(var H in l){var Y=l[H];if(tt=a[H],l.hasOwnProperty(H)&&(Y!=null||tt!=null))switch(H){case"type":m=Y;break;case"name":f=Y;break;case"checked":q=Y;break;case"defaultChecked":W=Y;break;case"value":v=Y;break;case"defaultValue":b=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,r));break;default:Y!==tt&&re(i,r,H,Y,l,tt)}}Wa(i,v,b,N,q,W,m,f);return;case"select":Y=v=b=H=null;for(m in a)if(N=a[m],a.hasOwnProperty(m)&&N!=null)switch(m){case"value":break;case"multiple":Y=N;default:l.hasOwnProperty(m)||re(i,r,m,null,l,N)}for(f in l)if(m=l[f],N=a[f],l.hasOwnProperty(f)&&(m!=null||N!=null))switch(f){case"value":H=m;break;case"defaultValue":b=m;break;case"multiple":v=m;default:m!==N&&re(i,r,f,m,l,N)}r=b,a=v,l=Y,H!=null?Ks(i,!!a,H,!1):!!l!=!!a&&(r!=null?Ks(i,!!a,r,!0):Ks(i,!!a,a?[]:"",!1));return;case"textarea":Y=H=null;for(b in a)if(f=a[b],a.hasOwnProperty(b)&&f!=null&&!l.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:re(i,r,b,null,l,f)}for(v in l)if(f=l[v],m=a[v],l.hasOwnProperty(v)&&(f!=null||m!=null))switch(v){case"value":H=f;break;case"defaultValue":Y=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==m&&re(i,r,v,f,l,m)}bc(i,H,Y);return;case"option":for(var gt in a)H=a[gt],a.hasOwnProperty(gt)&&H!=null&&!l.hasOwnProperty(gt)&&(gt==="selected"?i.selected=!1:re(i,r,gt,null,l,H));for(N in l)H=l[N],Y=a[N],l.hasOwnProperty(N)&&H!==Y&&(H!=null||Y!=null)&&(N==="selected"?i.selected=H&&typeof H!="function"&&typeof H!="symbol":re(i,r,N,H,l,Y));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Et in a)H=a[Et],a.hasOwnProperty(Et)&&H!=null&&!l.hasOwnProperty(Et)&&re(i,r,Et,null,l,H);for(q in l)if(H=l[q],Y=a[q],l.hasOwnProperty(q)&&H!==Y&&(H!=null||Y!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,r));break;default:re(i,r,q,H,l,Y)}return;default:if(Za(r)){for(var ae in a)H=a[ae],a.hasOwnProperty(ae)&&H!==void 0&&!l.hasOwnProperty(ae)&&Qm(i,r,ae,void 0,l,H);for(W in l)H=l[W],Y=a[W],!l.hasOwnProperty(W)||H===Y||H===void 0&&Y===void 0||Qm(i,r,W,H,l,Y);return}}for(var j in a)H=a[j],a.hasOwnProperty(j)&&H!=null&&!l.hasOwnProperty(j)&&re(i,r,j,null,l,H);for(tt in l)H=l[tt],Y=a[tt],!l.hasOwnProperty(tt)||H===Y||H==null&&Y==null||re(i,r,tt,H,l,Y)}function dE(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function dI(){if(typeof performance.getEntriesByType=="function"){for(var i=0,r=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var f=a[l],m=f.transferSize,v=f.initiatorType,b=f.duration;if(m&&b&&dE(v)){for(v=0,b=f.responseEnd,l+=1;l<a.length;l++){var N=a[l],q=N.startTime;if(q>b)break;var W=N.transferSize,tt=N.initiatorType;W&&dE(tt)&&(N=N.responseEnd,v+=W*(N<b?1:(b-q)/(N-q)))}if(--l,r+=8*(m+v)/(f.duration/1e3),i++,10<i)break}}if(0<i)return r/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var Xm=null,$m=null;function Ch(i){return i.nodeType===9?i:i.ownerDocument}function mE(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function pE(i,r){if(i===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&r==="foreignObject"?0:i}function Wm(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Zm=null;function mI(){var i=window.event;return i&&i.type==="popstate"?i===Zm?!1:(Zm=i,!0):(Zm=null,!1)}var gE=typeof setTimeout=="function"?setTimeout:void 0,pI=typeof clearTimeout=="function"?clearTimeout:void 0,yE=typeof Promise=="function"?Promise:void 0,gI=typeof queueMicrotask=="function"?queueMicrotask:typeof yE<"u"?function(i){return yE.resolve(null).then(i).catch(yI)}:gE;function yI(i){setTimeout(function(){throw i})}function gr(i){return i==="head"}function _E(i,r){var a=r,l=0;do{var f=a.nextSibling;if(i.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(l===0){i.removeChild(f),Mo(r);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")lu(i.ownerDocument.documentElement);else if(a==="head"){a=i.ownerDocument.head,lu(a);for(var m=a.firstChild;m;){var v=m.nextSibling,b=m.nodeName;m[Mi]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&m.rel.toLowerCase()==="stylesheet"||a.removeChild(m),m=v}}else a==="body"&&lu(i.ownerDocument.body);a=f}while(a);Mo(r)}function vE(i,r){var a=i;i=0;do{var l=a.nextSibling;if(a.nodeType===1?r?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(r?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(i===0)break;i--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||i++;a=l}while(a)}function Jm(i){var r=i.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Jm(a),Xa(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}i.removeChild(a)}}function _I(i,r,a,l){for(;i.nodeType===1;){var f=a;if(i.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(l){if(!i[Mi])switch(r){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(m=i.getAttribute("rel"),m==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(m!==f.rel||i.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||i.getAttribute("title")!==(f.title==null?null:f.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(m=i.getAttribute("src"),(m!==(f.src==null?null:f.src)||i.getAttribute("type")!==(f.type==null?null:f.type)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(r==="input"&&i.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&i.getAttribute("name")===m)return i}else return i;if(i=ii(i.nextSibling),i===null)break}return null}function vI(i,r,a){if(r==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!a||(i=ii(i.nextSibling),i===null))return null;return i}function TE(i,r){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!r||(i=ii(i.nextSibling),i===null))return null;return i}function tp(i){return i.data==="$?"||i.data==="$~"}function ep(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function TI(i,r){var a=i.ownerDocument;if(i.data==="$~")i._reactRetry=r;else if(i.data!=="$?"||a.readyState!=="loading")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),i._reactRetry=l}}function ii(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return i}var np=null;function EE(i){i=i.nextSibling;for(var r=0;i;){if(i.nodeType===8){var a=i.data;if(a==="/$"||a==="/&"){if(r===0)return ii(i.nextSibling);r--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||r++}i=i.nextSibling}return null}function AE(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var a=i.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(r===0)return i;r--}else a!=="/$"&&a!=="/&"||r++}i=i.previousSibling}return null}function SE(i,r,a){switch(r=Ch(a),i){case"html":if(i=r.documentElement,!i)throw Error(s(452));return i;case"head":if(i=r.head,!i)throw Error(s(453));return i;case"body":if(i=r.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}function lu(i){for(var r=i.attributes;r.length;)i.removeAttributeNode(r[0]);Xa(i)}var si=new Map,bE=new Set;function Ih(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var xs=st.d;st.d={f:EI,r:AI,D:SI,C:bI,L:wI,m:RI,X:II,S:CI,M:xI};function EI(){var i=xs.f(),r=vh();return i||r}function AI(i){var r=Yn(i);r!==null&&r.tag===5&&r.type==="form"?zv(r):xs.r(i)}var No=typeof document>"u"?null:document;function wE(i,r,a){var l=No;if(l&&typeof r=="string"&&r){var f=Sn(r);f='link[rel="'+i+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),bE.has(f)||(bE.add(f),i={rel:i,crossOrigin:a,href:r},l.querySelector(f)===null&&(r=l.createElement("link"),an(r,"link",i),Pe(r),l.head.appendChild(r)))}}function SI(i){xs.D(i),wE("dns-prefetch",i,null)}function bI(i,r){xs.C(i,r),wE("preconnect",i,r)}function wI(i,r,a){xs.L(i,r,a);var l=No;if(l&&i&&r){var f='link[rel="preload"][as="'+Sn(r)+'"]';r==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+Sn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+Sn(a.imageSizes)+'"]')):f+='[href="'+Sn(i)+'"]';var m=f;switch(r){case"style":m=Vo(i);break;case"script":m=Oo(i)}si.has(m)||(i=A({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:i,as:r},a),si.set(m,i),l.querySelector(f)!==null||r==="style"&&l.querySelector(uu(m))||r==="script"&&l.querySelector(cu(m))||(r=l.createElement("link"),an(r,"link",i),Pe(r),l.head.appendChild(r)))}}function RI(i,r){xs.m(i,r);var a=No;if(a&&i){var l=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+Sn(l)+'"][href="'+Sn(i)+'"]',m=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=Oo(i)}if(!si.has(m)&&(i=A({rel:"modulepreload",href:i},r),si.set(m,i),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(cu(m)))return}l=a.createElement("link"),an(l,"link",i),Pe(l),a.head.appendChild(l)}}}function CI(i,r,a){xs.S(i,r,a);var l=No;if(l&&i){var f=ki(l).hoistableStyles,m=Vo(i);r=r||"default";var v=f.get(m);if(!v){var b={loading:0,preload:null};if(v=l.querySelector(uu(m)))b.loading=5;else{i=A({rel:"stylesheet",href:i,"data-precedence":r},a),(a=si.get(m))&&ip(i,a);var N=v=l.createElement("link");Pe(N),an(N,"link",i),N._p=new Promise(function(q,W){N.onload=q,N.onerror=W}),N.addEventListener("load",function(){b.loading|=1}),N.addEventListener("error",function(){b.loading|=2}),b.loading|=4,xh(v,r,l)}v={type:"stylesheet",instance:v,count:1,state:b},f.set(m,v)}}}function II(i,r){xs.X(i,r);var a=No;if(a&&i){var l=ki(a).hoistableScripts,f=Oo(i),m=l.get(f);m||(m=a.querySelector(cu(f)),m||(i=A({src:i,async:!0},r),(r=si.get(f))&&sp(i,r),m=a.createElement("script"),Pe(m),an(m,"link",i),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(f,m))}}function xI(i,r){xs.M(i,r);var a=No;if(a&&i){var l=ki(a).hoistableScripts,f=Oo(i),m=l.get(f);m||(m=a.querySelector(cu(f)),m||(i=A({src:i,async:!0,type:"module"},r),(r=si.get(f))&&sp(i,r),m=a.createElement("script"),Pe(m),an(m,"link",i),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(f,m))}}function RE(i,r,a,l){var f=(f=Rt.current)?Ih(f):null;if(!f)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=Vo(a.href),a=ki(f).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){i=Vo(a.href);var m=ki(f).hoistableStyles,v=m.get(i);if(v||(f=f.ownerDocument||f,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(i,v),(m=f.querySelector(uu(i)))&&!m._p&&(v.instance=m,v.state.loading=5),si.has(i)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},si.set(i,a),m||DI(f,i,a,v.state))),r&&l===null)throw Error(s(528,""));return v}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Oo(a),a=ki(f).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function Vo(i){return'href="'+Sn(i)+'"'}function uu(i){return'link[rel="stylesheet"]['+i+"]"}function CE(i){return A({},i,{"data-precedence":i.precedence,precedence:null})}function DI(i,r,a,l){i.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=i.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),an(r,"link",a),Pe(r),i.head.appendChild(r))}function Oo(i){return'[src="'+Sn(i)+'"]'}function cu(i){return"script[async]"+i}function IE(i,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=i.querySelector('style[data-href~="'+Sn(a.href)+'"]');if(l)return r.instance=l,Pe(l),l;var f=A({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(i.ownerDocument||i).createElement("style"),Pe(l),an(l,"style",f),xh(l,a.precedence,i),r.instance=l;case"stylesheet":f=Vo(a.href);var m=i.querySelector(uu(f));if(m)return r.state.loading|=4,r.instance=m,Pe(m),m;l=CE(a),(f=si.get(f))&&ip(l,f),m=(i.ownerDocument||i).createElement("link"),Pe(m);var v=m;return v._p=new Promise(function(b,N){v.onload=b,v.onerror=N}),an(m,"link",l),r.state.loading|=4,xh(m,a.precedence,i),r.instance=m;case"script":return m=Oo(a.src),(f=i.querySelector(cu(m)))?(r.instance=f,Pe(f),f):(l=a,(f=si.get(m))&&(l=A({},a),sp(l,f)),i=i.ownerDocument||i,f=i.createElement("script"),Pe(f),an(f,"link",l),i.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,xh(l,a.precedence,i));return r.instance}function xh(i,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,m=f,v=0;v<l.length;v++){var b=l[v];if(b.dataset.precedence===r)m=b;else if(m!==f)break}m?m.parentNode.insertBefore(i,m.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(i,r.firstChild))}function ip(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.title==null&&(i.title=r.title)}function sp(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.integrity==null&&(i.integrity=r.integrity)}var Dh=null;function xE(i,r,a){if(Dh===null){var l=new Map,f=Dh=new Map;f.set(a,l)}else f=Dh,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(i))return l;for(l.set(i,null),a=a.getElementsByTagName(i),f=0;f<a.length;f++){var m=a[f];if(!(m[Mi]||m[Me]||i==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var v=m.getAttribute(r)||"";v=i+v;var b=l.get(v);b?b.push(m):l.set(v,[m])}}return l}function DE(i,r,a){i=i.ownerDocument||i,i.head.insertBefore(a,r==="title"?i.querySelector("head > title"):null)}function NI(i,r,a){if(a===1||r.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;return r.rel==="stylesheet"?(i=r.disabled,typeof r.precedence=="string"&&i==null):!0;case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function NE(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function VI(i,r,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=Vo(l.href),m=r.querySelector(uu(f));if(m){r=m._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(i.count++,i=Nh.bind(i),r.then(i,i)),a.state.loading|=4,a.instance=m,Pe(m);return}m=r.ownerDocument||r,l=CE(l),(f=si.get(f))&&ip(l,f),m=m.createElement("link"),Pe(m);var v=m;v._p=new Promise(function(b,N){v.onload=b,v.onerror=N}),an(m,"link",l),a.instance=m}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(a,r),(r=a.state.preload)&&(a.state.loading&3)===0&&(i.count++,a=Nh.bind(i),r.addEventListener("load",a),r.addEventListener("error",a))}}var rp=0;function OI(i,r){return i.stylesheets&&i.count===0&&Oh(i,i.stylesheets),0<i.count||0<i.imgCount?function(a){var l=setTimeout(function(){if(i.stylesheets&&Oh(i,i.stylesheets),i.unsuspend){var m=i.unsuspend;i.unsuspend=null,m()}},6e4+r);0<i.imgBytes&&rp===0&&(rp=62500*dI());var f=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&Oh(i,i.stylesheets),i.unsuspend)){var m=i.unsuspend;i.unsuspend=null,m()}},(i.imgBytes>rp?50:800)+r);return i.unsuspend=a,function(){i.unsuspend=null,clearTimeout(l),clearTimeout(f)}}:null}function Nh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Oh(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Vh=null;function Oh(i,r){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Vh=new Map,r.forEach(MI,i),Vh=null,Nh.call(i))}function MI(i,r){if(!(r.state.loading&4)){var a=Vh.get(i);if(a)var l=a.get(null);else{a=new Map,Vh.set(i,a);for(var f=i.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var v=f[m];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}f=r.instance,v=f.getAttribute("data-precedence"),m=a.get(v)||l,m===l&&a.set(null,f),a.set(v,f),this.count++,l=Nh.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),m?m.parentNode.insertBefore(f,m.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(f,i.firstChild)),r.state.loading|=4}}var hu={$$typeof:$,Provider:null,Consumer:null,_currentValue:dt,_currentValue2:dt,_threadCount:0};function PI(i,r,a,l,f,m,v,b,N){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Vi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vi(0),this.hiddenUpdates=Vi(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function VE(i,r,a,l,f,m,v,b,N,q,W,tt){return i=new PI(i,r,a,v,N,q,W,tt,b),r=1,m===!0&&(r|=24),m=kn(3,null,null,r),i.current=m,m.stateNode=i,r=jd(),r.refCount++,i.pooledCache=r,r.refCount++,m.memoizedState={element:l,isDehydrated:a,cache:r},qd(m),i}function OE(i){return i?(i=uo,i):uo}function ME(i,r,a,l,f,m){f=OE(f),l.context===null?l.context=f:l.pendingContext=f,l=rr(r),l.payload={element:a},m=m===void 0?null:m,m!==null&&(l.callback=m),a=ar(i,l,r),a!==null&&(xn(a,i,r),Fl(a,i,r))}function PE(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var a=i.retryLane;i.retryLane=a!==0&&a<r?a:r}}function ap(i,r){PE(i,r),(i=i.alternate)&&PE(i,r)}function kE(i){if(i.tag===13||i.tag===31){var r=ma(i,67108864);r!==null&&xn(r,i,67108864),ap(i,67108864)}}function LE(i){if(i.tag===13||i.tag===31){var r=zn();r=na(r);var a=ma(i,r);a!==null&&xn(a,i,r),ap(i,r)}}var Mh=!0;function kI(i,r,a,l){var f=Q.T;Q.T=null;var m=st.p;try{st.p=2,op(i,r,a,l)}finally{st.p=m,Q.T=f}}function LI(i,r,a,l){var f=Q.T;Q.T=null;var m=st.p;try{st.p=8,op(i,r,a,l)}finally{st.p=m,Q.T=f}}function op(i,r,a,l){if(Mh){var f=lp(l);if(f===null)Ym(i,r,l,Ph,a),UE(i,l);else if(UI(f,i,r,a,l))l.stopPropagation();else if(UE(i,l),r&4&&-1<jI.indexOf(i)){for(;f!==null;){var m=Yn(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var v=Di(m.pendingLanes);if(v!==0){var b=m;for(b.pendingLanes|=2,b.entangledLanes|=2;v;){var N=1<<31-Ie(v);b.entanglements[1]|=N,v&=~N}Xi(m),(Wt&6)===0&&(yh=Ge()+500,ru(0))}}break;case 31:case 13:b=ma(m,2),b!==null&&xn(b,m,2),vh(),ap(m,2)}if(m=lp(l),m===null&&Ym(i,r,l,Ph,a),m===f)break;f=m}f!==null&&l.stopPropagation()}else Ym(i,r,l,null,a)}}function lp(i){return i=Qn(i),up(i)}var Ph=null;function up(i){if(Ph=null,i=Pi(i),i!==null){var r=u(i);if(r===null)i=null;else{var a=r.tag;if(a===13){if(i=c(r),i!==null)return i;i=null}else if(a===31){if(i=d(r),i!==null)return i;i=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return Ph=i,null}function jE(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(us()){case Zr:return 2;case cs:return 8;case _n:case F:return 32;case ct:return 268435456;default:return 32}default:return 32}}var cp=!1,yr=null,_r=null,vr=null,fu=new Map,du=new Map,Tr=[],jI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function UE(i,r){switch(i){case"focusin":case"focusout":yr=null;break;case"dragenter":case"dragleave":_r=null;break;case"mouseover":case"mouseout":vr=null;break;case"pointerover":case"pointerout":fu.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":du.delete(r.pointerId)}}function mu(i,r,a,l,f,m){return i===null||i.nativeEvent!==m?(i={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:m,targetContainers:[f]},r!==null&&(r=Yn(r),r!==null&&kE(r)),i):(i.eventSystemFlags|=l,r=i.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),i)}function UI(i,r,a,l,f){switch(r){case"focusin":return yr=mu(yr,i,r,a,l,f),!0;case"dragenter":return _r=mu(_r,i,r,a,l,f),!0;case"mouseover":return vr=mu(vr,i,r,a,l,f),!0;case"pointerover":var m=f.pointerId;return fu.set(m,mu(fu.get(m)||null,i,r,a,l,f)),!0;case"gotpointercapture":return m=f.pointerId,du.set(m,mu(du.get(m)||null,i,r,a,l,f)),!0}return!1}function BE(i){var r=Pi(i.target);if(r!==null){var a=u(r);if(a!==null){if(r=a.tag,r===13){if(r=c(a),r!==null){i.blockedOn=r,hi(i.priority,function(){LE(a)});return}}else if(r===31){if(r=d(a),r!==null){i.blockedOn=r,hi(i.priority,function(){LE(a)});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){i.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}i.blockedOn=null}function kh(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var a=lp(i.nativeEvent);if(a===null){a=i.nativeEvent;var l=new a.constructor(a.type,a);Cl=l,a.target.dispatchEvent(l),Cl=null}else return r=Yn(a),r!==null&&kE(r),i.blockedOn=a,!1;r.shift()}return!0}function zE(i,r,a){kh(i)&&a.delete(r)}function BI(){cp=!1,yr!==null&&kh(yr)&&(yr=null),_r!==null&&kh(_r)&&(_r=null),vr!==null&&kh(vr)&&(vr=null),fu.forEach(zE),du.forEach(zE)}function Lh(i,r){i.blockedOn===r&&(i.blockedOn=null,cp||(cp=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,BI)))}var jh=null;function qE(i){jh!==i&&(jh=i,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){jh===i&&(jh=null);for(var r=0;r<i.length;r+=3){var a=i[r],l=i[r+1],f=i[r+2];if(typeof l!="function"){if(up(l||a)===null)continue;break}var m=Yn(a);m!==null&&(i.splice(r,3),r-=3,lm(m,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function Mo(i){function r(N){return Lh(N,i)}yr!==null&&Lh(yr,i),_r!==null&&Lh(_r,i),vr!==null&&Lh(vr,i),fu.forEach(r),du.forEach(r);for(var a=0;a<Tr.length;a++){var l=Tr[a];l.blockedOn===i&&(l.blockedOn=null)}for(;0<Tr.length&&(a=Tr[0],a.blockedOn===null);)BE(a),a.blockedOn===null&&Tr.shift();if(a=(i.ownerDocument||i).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],m=a[l+1],v=f[$e]||null;if(typeof m=="function")v||qE(a);else if(v){var b=null;if(m&&m.hasAttribute("formAction")){if(f=m,v=m[$e]||null)b=v.formAction;else if(up(f)!==null)continue}else b=v.action;typeof b=="function"?a[l+1]=b:(a.splice(l,3),l-=3),qE(a)}}}function FE(){function i(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(v){return f=v})},focusReset:"manual",scroll:"manual"})}function r(){f!==null&&(f(),f=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,f=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),f!==null&&(f(),f=null)}}}function hp(i){this._internalRoot=i}Uh.prototype.render=hp.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=zn();ME(a,l,i,r,null,null)},Uh.prototype.unmount=hp.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;ME(i.current,2,null,i,null,null),vh(),r[Oi]=null}};function Uh(i){this._internalRoot=i}Uh.prototype.unstable_scheduleHydration=function(i){if(i){var r=vc();i={blockedOn:null,target:i,priority:r};for(var a=0;a<Tr.length&&r!==0&&r<Tr[a].priority;a++);Tr.splice(a,0,i),a===0&&BE(i)}};var HE=t.version;if(HE!=="19.2.3")throw Error(s(527,HE,"19.2.3"));st.findDOMNode=function(i){var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=g(r),i=i!==null?y(i):null,i=i===null?null:i.stateNode,i};var zI={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bh.isDisabled&&Bh.supportsFiber)try{Yt=Bh.inject(zI),tn=Bh}catch{}}return gu.createRoot=function(i,r){if(!o(i))throw Error(s(299));var a=!1,l="",f=Wv,m=Zv,v=Jv;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(m=r.onCaughtError),r.onRecoverableError!==void 0&&(v=r.onRecoverableError)),r=VE(i,1,!1,null,null,a,l,null,f,m,v,FE),i[Oi]=r.current,Km(i),new hp(r)},gu.hydrateRoot=function(i,r,a){if(!o(i))throw Error(s(299));var l=!1,f="",m=Wv,v=Zv,b=Jv,N=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError),a.formState!==void 0&&(N=a.formState)),r=VE(i,1,!0,r,a??null,l,f,N,m,v,b,FE),r.context=OE(null),a=r.current,l=zn(),l=na(l),f=rr(l),f.callback=null,ar(a,f,l),a=l,r.current.lanes=a,ta(r,a),Xi(r),i[Oi]=r.current,Km(i),new Uh(r)},gu.version="19.2.3",gu}var t0;function WI(){if(t0)return mp.exports;t0=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),mp.exports=$I(),mp.exports}var ZI=WI();const JI=()=>{};var e0={};const ZS=function(e){const t=[];let n=0;for(let s=0;s<e.length;s++){let o=e.charCodeAt(s);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&s+1<e.length&&(e.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(e.charCodeAt(++s)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},tx=function(e){const t=[];let n=0,s=0;for(;n<e.length;){const o=e[n++];if(o<128)t[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=e[n++];t[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=e[n++],c=e[n++],d=e[n++],p=((o&7)<<18|(u&63)<<12|(c&63)<<6|d&63)-65536;t[s++]=String.fromCharCode(55296+(p>>10)),t[s++]=String.fromCharCode(56320+(p&1023))}else{const u=e[n++],c=e[n++];t[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|c&63)}}return t.join("")},JS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<e.length;o+=3){const u=e[o],c=o+1<e.length,d=c?e[o+1]:0,p=o+2<e.length,g=p?e[o+2]:0,y=u>>2,A=(u&3)<<4|d>>4;let S=(d&15)<<2|g>>6,C=g&63;p||(C=64,c||(S=64)),s.push(n[y],n[A],n[S],n[C])}return s.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(ZS(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):tx(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<e.length;){const u=n[e.charAt(o++)],d=o<e.length?n[e.charAt(o)]:0;++o;const g=o<e.length?n[e.charAt(o)]:64;++o;const A=o<e.length?n[e.charAt(o)]:64;if(++o,u==null||d==null||g==null||A==null)throw new ex;const S=u<<2|d>>4;if(s.push(S),g!==64){const C=d<<4&240|g>>2;if(s.push(C),A!==64){const k=g<<6&192|A;s.push(k)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class ex extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const nx=function(e){const t=ZS(e);return JS.encodeByteArray(t,!0)},yf=function(e){return nx(e).replace(/\./g,"")},tb=function(e){try{return JS.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function ix(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const sx=()=>ix().__FIREBASE_DEFAULTS__,rx=()=>{if(typeof process>"u"||typeof e0>"u")return;const e=e0.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},ax=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&tb(e[1]);return t&&JSON.parse(t)},Hf=()=>{try{return JI()||sx()||rx()||ax()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},eb=e=>Hf()?.emulatorHosts?.[e],nb=e=>{const t=eb(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),s]:[t.substring(0,n),s]},ib=()=>Hf()?.config,sb=e=>Hf()?.[`_${e}`];class ox{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}function Gr(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Kg(e){return(await fetch(e,{credentials:"include"})).ok}function rb(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=t||"demo-project",o=e.iat||0,u=e.sub||e.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...e};return[yf(JSON.stringify(n)),yf(JSON.stringify(c)),""].join(".")}const Cu={};function lx(){const e={prod:[],emulator:[]};for(const t of Object.keys(Cu))Cu[t]?e.emulator.push(t):e.prod.push(t);return e}function ux(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}let n0=!1;function Yg(e,t){if(typeof window>"u"||typeof document>"u"||!Gr(window.location.host)||Cu[e]===t||Cu[e]||n0)return;Cu[e]=t;function n(S){return`__firebase__banner__${S}`}const s="__firebase__banner",u=lx().prod.length>0;function c(){const S=document.getElementById(s);S&&S.remove()}function d(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function p(S,C){S.setAttribute("width","24"),S.setAttribute("id",C),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function g(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{n0=!0,c()},S}function y(S,C){S.setAttribute("id",C),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function A(){const S=ux(s),C=n("text"),k=document.getElementById(C)||document.createElement("span"),G=n("learnmore"),B=document.getElementById(G)||document.createElement("a"),Z=n("preprendIcon"),nt=document.getElementById(Z)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const $=S.element;d($),y(B,G);const ot=g();p(nt,Z),$.append(nt,k,B,ot),document.body.appendChild($)}u?(k.innerText="Preview backend disconnected.",nt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(nt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,k.innerText="Preview backend running in this workspace."),k.setAttribute("id",C)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}function yn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function cx(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(yn())}function hx(){const e=Hf()?.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function fx(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function dx(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function mx(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function px(){const e=yn();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function gx(){return!hx()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function yx(){try{return typeof indexedDB=="object"}catch{return!1}}function _x(){return new Promise((e,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),e(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(n){t(n)}})}const vx="FirebaseError";class ls extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=vx,Object.setPrototypeOf(this,ls.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Zu.prototype.create)}}class Zu{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},o=`${this.service}/${t}`,u=this.errors[t],c=u?Tx(u,s):"Error",d=`${this.serviceName}: ${c} (${o}).`;return new ls(o,d,s)}}function Tx(e,t){return e.replace(Ex,(n,s)=>{const o=t[s];return o!=null?String(o):`<${s}?>`})}const Ex=/\{\$([^}]+)}/g;function Ax(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function ka(e,t){if(e===t)return!0;const n=Object.keys(e),s=Object.keys(t);for(const o of n){if(!s.includes(o))return!1;const u=e[o],c=t[o];if(i0(u)&&i0(c)){if(!ka(u,c))return!1}else if(u!==c)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function i0(e){return e!==null&&typeof e=="object"}function Ju(e){const t=[];for(const[n,s]of Object.entries(e))Array.isArray(s)?s.forEach(o=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function Eu(e){const t={};return e.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");t[decodeURIComponent(o)]=decodeURIComponent(u)}}),t}function Au(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function Sx(e,t){const n=new bx(e,t);return n.subscribe.bind(n)}class bx{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,s){let o;if(t===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");wx(t,["next","error","complete"])?o=t:o={next:t,error:n,complete:s},o.next===void 0&&(o.next=_p),o.error===void 0&&(o.error=_p),o.complete===void 0&&(o.complete=_p);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function wx(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function _p(){}function be(e){return e&&e._delegate?e._delegate:e}class kr{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Ia="[DEFAULT]";class Rx{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new ox;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t?.identifier),s=t?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(Ix(t))try{this.getOrInitializeService({instanceIdentifier:Ia})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(t=Ia){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ia){return this.instances.has(t)}getOptions(t=Ia){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(u);s===d&&c.resolve(o)}return o}onInit(t,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(t),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&t(u,s),()=>{o.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:Cx(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=Ia){return this.component?this.component.multipleInstances?t:Ia:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Cx(e){return e===Ia?void 0:e}function Ix(e){return e.instantiationMode==="EAGER"}class xx{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new Rx(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}var zt;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(zt||(zt={}));const Dx={debug:zt.DEBUG,verbose:zt.VERBOSE,info:zt.INFO,warn:zt.WARN,error:zt.ERROR,silent:zt.SILENT},Nx=zt.INFO,Vx={[zt.DEBUG]:"log",[zt.VERBOSE]:"log",[zt.INFO]:"info",[zt.WARN]:"warn",[zt.ERROR]:"error"},Ox=(e,t,...n)=>{if(t<e.logLevel)return;const s=new Date().toISOString(),o=Vx[t];if(o)console[o](`[${s}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Qg{constructor(t){this.name=t,this._logLevel=Nx,this._logHandler=Ox,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in zt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Dx[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,zt.DEBUG,...t),this._logHandler(this,zt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,zt.VERBOSE,...t),this._logHandler(this,zt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,zt.INFO,...t),this._logHandler(this,zt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,zt.WARN,...t),this._logHandler(this,zt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,zt.ERROR,...t),this._logHandler(this,zt.ERROR,...t)}}const Mx=(e,t)=>t.some(n=>e instanceof n);let s0,r0;function Px(){return s0||(s0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function kx(){return r0||(r0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ab=new WeakMap,$p=new WeakMap,ob=new WeakMap,vp=new WeakMap,Xg=new WeakMap;function Lx(e){const t=new Promise((n,s)=>{const o=()=>{e.removeEventListener("success",u),e.removeEventListener("error",c)},u=()=>{n(Nr(e.result)),o()},c=()=>{s(e.error),o()};e.addEventListener("success",u),e.addEventListener("error",c)});return t.then(n=>{n instanceof IDBCursor&&ab.set(n,e)}).catch(()=>{}),Xg.set(t,e),t}function jx(e){if($p.has(e))return;const t=new Promise((n,s)=>{const o=()=>{e.removeEventListener("complete",u),e.removeEventListener("error",c),e.removeEventListener("abort",c)},u=()=>{n(),o()},c=()=>{s(e.error||new DOMException("AbortError","AbortError")),o()};e.addEventListener("complete",u),e.addEventListener("error",c),e.addEventListener("abort",c)});$p.set(e,t)}let Wp={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return $p.get(e);if(t==="objectStoreNames")return e.objectStoreNames||ob.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Nr(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function Ux(e){Wp=e(Wp)}function Bx(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=e.call(Tp(this),t,...n);return ob.set(s,t.sort?t.sort():[t]),Nr(s)}:kx().includes(e)?function(...t){return e.apply(Tp(this),t),Nr(ab.get(this))}:function(...t){return Nr(e.apply(Tp(this),t))}}function zx(e){return typeof e=="function"?Bx(e):(e instanceof IDBTransaction&&jx(e),Mx(e,Px())?new Proxy(e,Wp):e)}function Nr(e){if(e instanceof IDBRequest)return Lx(e);if(vp.has(e))return vp.get(e);const t=zx(e);return t!==e&&(vp.set(e,t),Xg.set(t,e)),t}const Tp=e=>Xg.get(e);function qx(e,t,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const c=indexedDB.open(e,t),d=Nr(c);return s&&c.addEventListener("upgradeneeded",p=>{s(Nr(c.result),p.oldVersion,p.newVersion,Nr(c.transaction),p)}),n&&c.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),d.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const Fx=["get","getKey","getAll","getAllKeys","count"],Hx=["put","add","delete","clear"],Ep=new Map;function a0(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Ep.get(t))return Ep.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,o=Hx.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||Fx.includes(n)))return;const u=async function(c,...d){const p=this.transaction(c,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(d.shift())),(await Promise.all([g[n](...d),o&&p.done]))[0]};return Ep.set(t,u),u}Ux(e=>({...e,get:(t,n,s)=>a0(t,n)||e.get(t,n,s),has:(t,n)=>!!a0(t,n)||e.has(t,n)}));class Gx{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Kx(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function Kx(e){return e.getComponent()?.type==="VERSION"}const Zp="@firebase/app",o0="0.14.6";const Ms=new Qg("@firebase/app"),Yx="@firebase/app-compat",Qx="@firebase/analytics-compat",Xx="@firebase/analytics",$x="@firebase/app-check-compat",Wx="@firebase/app-check",Zx="@firebase/auth",Jx="@firebase/auth-compat",tD="@firebase/database",eD="@firebase/data-connect",nD="@firebase/database-compat",iD="@firebase/functions",sD="@firebase/functions-compat",rD="@firebase/installations",aD="@firebase/installations-compat",oD="@firebase/messaging",lD="@firebase/messaging-compat",uD="@firebase/performance",cD="@firebase/performance-compat",hD="@firebase/remote-config",fD="@firebase/remote-config-compat",dD="@firebase/storage",mD="@firebase/storage-compat",pD="@firebase/firestore",gD="@firebase/ai",yD="@firebase/firestore-compat",_D="firebase",vD="12.6.0";const Jp="[DEFAULT]",TD={[Zp]:"fire-core",[Yx]:"fire-core-compat",[Xx]:"fire-analytics",[Qx]:"fire-analytics-compat",[Wx]:"fire-app-check",[$x]:"fire-app-check-compat",[Zx]:"fire-auth",[Jx]:"fire-auth-compat",[tD]:"fire-rtdb",[eD]:"fire-data-connect",[nD]:"fire-rtdb-compat",[iD]:"fire-fn",[sD]:"fire-fn-compat",[rD]:"fire-iid",[aD]:"fire-iid-compat",[oD]:"fire-fcm",[lD]:"fire-fcm-compat",[uD]:"fire-perf",[cD]:"fire-perf-compat",[hD]:"fire-rc",[fD]:"fire-rc-compat",[dD]:"fire-gcs",[mD]:"fire-gcs-compat",[pD]:"fire-fst",[yD]:"fire-fst-compat",[gD]:"fire-vertex","fire-js":"fire-js",[_D]:"fire-js-all"};const _f=new Map,ED=new Map,tg=new Map;function l0(e,t){try{e.container.addComponent(t)}catch(n){Ms.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function La(e){const t=e.name;if(tg.has(t))return Ms.debug(`There were multiple attempts to register component ${t}.`),!1;tg.set(t,e);for(const n of _f.values())l0(n,e);for(const n of ED.values())l0(n,e);return!0}function Gf(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function qn(e){return e==null?!1:e.settings!==void 0}const AD={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Vr=new Zu("app","Firebase",AD);class SD{constructor(t,n,s){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new kr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Vr.create("app-deleted",{appName:this._name})}}const Ha=vD;function lb(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const s={name:Jp,automaticDataCollectionEnabled:!0,...t},o=s.name;if(typeof o!="string"||!o)throw Vr.create("bad-app-name",{appName:String(o)});if(n||(n=ib()),!n)throw Vr.create("no-options");const u=_f.get(o);if(u){if(ka(n,u.options)&&ka(s,u.config))return u;throw Vr.create("duplicate-app",{appName:o})}const c=new xx(o);for(const p of tg.values())c.addComponent(p);const d=new SD(n,s,c);return _f.set(o,d),d}function $g(e=Jp){const t=_f.get(e);if(!t&&e===Jp&&ib())return lb();if(!t)throw Vr.create("no-app",{appName:e});return t}function Zi(e,t,n){let s=TD[e]??e;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=t.match(/\s|\//);if(o||u){const c=[`Unable to register library "${s}" with version "${t}":`];o&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&c.push("and"),u&&c.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Ms.warn(c.join(" "));return}La(new kr(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}const bD="firebase-heartbeat-database",wD=1,ju="firebase-heartbeat-store";let Ap=null;function ub(){return Ap||(Ap=qx(bD,wD,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(ju)}catch(n){console.warn(n)}}}}).catch(e=>{throw Vr.create("idb-open",{originalErrorMessage:e.message})})),Ap}async function RD(e){try{const n=(await ub()).transaction(ju),s=await n.objectStore(ju).get(cb(e));return await n.done,s}catch(t){if(t instanceof ls)Ms.warn(t.message);else{const n=Vr.create("idb-get",{originalErrorMessage:t?.message});Ms.warn(n.message)}}}async function u0(e,t){try{const s=(await ub()).transaction(ju,"readwrite");await s.objectStore(ju).put(t,cb(e)),await s.done}catch(n){if(n instanceof ls)Ms.warn(n.message);else{const s=Vr.create("idb-set",{originalErrorMessage:n?.message});Ms.warn(s.message)}}}function cb(e){return`${e.name}!${e.options.appId}`}const CD=1024,ID=30;class xD{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new ND(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=c0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>ID){const o=VD(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Ms.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=c0(),{heartbeatsToSend:n,unsentEntries:s}=DD(this._heartbeatsCache.heartbeats),o=yf(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Ms.warn(t),""}}}function c0(){return new Date().toISOString().substring(0,10)}function DD(e,t=CD){const n=[];let s=e.slice();for(const o of e){const u=n.find(c=>c.agent===o.agent);if(u){if(u.dates.push(o.date),h0(n)>t){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),h0(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class ND{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return yx()?_x().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await RD(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return u0(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return u0(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function h0(e){return yf(JSON.stringify({version:2,heartbeats:e})).length}function VD(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let s=1;s<e.length;s++)e[s].date<n&&(n=e[s].date,t=s);return t}function OD(e){La(new kr("platform-logger",t=>new Gx(t),"PRIVATE")),La(new kr("heartbeat",t=>new xD(t),"PRIVATE")),Zi(Zp,o0,e),Zi(Zp,o0,"esm2020"),Zi("fire-js","")}OD("");var MD="firebase",PD="12.7.0";Zi(MD,PD,"app");function hb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const kD=hb,fb=new Zu("auth","Firebase",hb());const vf=new Qg("@firebase/auth");function LD(e,...t){vf.logLevel<=zt.WARN&&vf.warn(`Auth (${Ha}): ${e}`,...t)}function tf(e,...t){vf.logLevel<=zt.ERROR&&vf.error(`Auth (${Ha}): ${e}`,...t)}function wi(e,...t){throw Wg(e,...t)}function Ji(e,...t){return Wg(e,...t)}function db(e,t,n){const s={...kD(),[t]:n};return new Zu("auth","Firebase",s).create(t,{appName:e.name})}function Os(e){return db(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Wg(e,...t){if(typeof e!="string"){const n=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=e.name),e._errorFactory.create(n,...s)}return fb.create(e,...t)}function St(e,t,...n){if(!e)throw Wg(t,...n)}function Ns(e){const t="INTERNAL ASSERTION FAILED: "+e;throw tf(t),new Error(t)}function Ps(e,t){e||Ns(t)}function eg(){return typeof self<"u"&&self.location?.href||""}function jD(){return f0()==="http:"||f0()==="https:"}function f0(){return typeof self<"u"&&self.location?.protocol||null}function UD(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(jD()||dx()||"connection"in navigator)?navigator.onLine:!0}function BD(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}class tc{constructor(t,n){this.shortDelay=t,this.longDelay=n,Ps(n>t,"Short delay should be less than long delay!"),this.isMobile=cx()||mx()}get(){return UD()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Zg(e,t){Ps(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class mb{static initialize(t,n,s){this.fetchImpl=t,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ns("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ns("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ns("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const zD={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const qD=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],FD=new tc(3e4,6e4);function Bs(e,t){return e.tenantId&&!t.tenantId?{...t,tenantId:e.tenantId}:t}async function zs(e,t,n,s,o={}){return pb(e,o,async()=>{let u={},c={};s&&(t==="GET"?c=s:u={body:JSON.stringify(s)});const d=Ju({key:e.config.apiKey,...c}).slice(1),p=await e._getAdditionalHeaders();p["Content-Type"]="application/json",e.languageCode&&(p["X-Firebase-Locale"]=e.languageCode);const g={method:t,headers:p,...u};return fx()||(g.referrerPolicy="no-referrer"),e.emulatorConfig&&Gr(e.emulatorConfig.host)&&(g.credentials="include"),mb.fetch()(await gb(e,e.config.apiHost,n,d),g)})}async function pb(e,t,n){e._canInitEmulator=!1;const s={...zD,...t};try{const o=new GD(e),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const c=await u.json();if("needConfirmation"in c)throw zh(e,"account-exists-with-different-credential",c);if(u.ok&&!("errorMessage"in c))return c;{const d=u.ok?c.errorMessage:c.error.message,[p,g]=d.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw zh(e,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw zh(e,"email-already-in-use",c);if(p==="USER_DISABLED")throw zh(e,"user-disabled",c);const y=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw db(e,y,g);wi(e,y)}}catch(o){if(o instanceof ls)throw o;wi(e,"network-request-failed",{message:String(o)})}}async function ec(e,t,n,s,o={}){const u=await zs(e,t,n,s,o);return"mfaPendingCredential"in u&&wi(e,"multi-factor-auth-required",{_serverResponse:u}),u}async function gb(e,t,n,s){const o=`${t}${n}?${s}`,u=e,c=u.config.emulator?Zg(e.config,o):`${e.config.apiScheme}://${o}`;return qD.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(c).toString():c}function HD(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class GD{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Ji(this.auth,"network-request-failed")),FD.get())})}}function zh(e,t,n){const s={appName:e.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Ji(e,t,s);return o.customData._tokenResponse=n,o}function d0(e){return e!==void 0&&e.enterprise!==void 0}class KD{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return HD(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function YD(e,t){return zs(e,"GET","/v2/recaptchaConfig",Bs(e,t))}async function QD(e,t){return zs(e,"POST","/v1/accounts:delete",t)}async function Tf(e,t){return zs(e,"POST","/v1/accounts:lookup",t)}function Iu(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function XD(e,t=!1){const n=be(e),s=await n.getIdToken(t),o=Jg(s);St(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,c=u?.sign_in_provider;return{claims:o,token:s,authTime:Iu(Sp(o.auth_time)),issuedAtTime:Iu(Sp(o.iat)),expirationTime:Iu(Sp(o.exp)),signInProvider:c||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Sp(e){return Number(e)*1e3}function Jg(e){const[t,n,s]=e.split(".");if(t===void 0||n===void 0||s===void 0)return tf("JWT malformed, contained fewer than 3 sections"),null;try{const o=tb(n);return o?JSON.parse(o):(tf("Failed to decode base64 JWT payload"),null)}catch(o){return tf("Caught error parsing JWT payload as JSON",o?.toString()),null}}function m0(e){const t=Jg(e);return St(t,"internal-error"),St(typeof t.exp<"u","internal-error"),St(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Uu(e,t,n=!1){if(n)return t;try{return await t}catch(s){throw s instanceof ls&&$D(s)&&e.auth.currentUser===e&&await e.auth.signOut(),s}}function $D({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}class WD{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class ng{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Iu(this.lastLoginAt),this.creationTime=Iu(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Ef(e){const t=e.auth,n=await e.getIdToken(),s=await Uu(e,Tf(t,{idToken:n}));St(s?.users.length,t,"internal-error");const o=s.users[0];e._notifyReloadListener(o);const u=o.providerUserInfo?.length?yb(o.providerUserInfo):[],c=JD(e.providerData,u),d=e.isAnonymous,p=!(e.email&&o.passwordHash)&&!c?.length,g=d?p:!1,y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new ng(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(e,y)}async function ZD(e){const t=be(e);await Ef(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function JD(e,t){return[...e.filter(s=>!t.some(o=>o.providerId===s.providerId)),...t]}function yb(e){return e.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function tN(e,t){const n=await pb(e,{},async()=>{const s=Ju({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:u}=e.config,c=await gb(e,o,"/v1/token",`key=${u}`),d=await e._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:d,body:s};return e.emulatorConfig&&Gr(e.emulatorConfig.host)&&(p.credentials="include"),mb.fetch()(c,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function eN(e,t){return zs(e,"POST","/v2/accounts:revokeToken",Bs(e,t))}class Go{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){St(t.idToken,"internal-error"),St(typeof t.idToken<"u","internal-error"),St(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):m0(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){St(t.length!==0,"internal-error");const n=m0(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(St(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await tN(t,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(t,n,s){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,c=new Go;return s&&(St(typeof s=="string","internal-error",{appName:t}),c.refreshToken=s),o&&(St(typeof o=="string","internal-error",{appName:t}),c.accessToken=o),u&&(St(typeof u=="number","internal-error",{appName:t}),c.expirationTime=u),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Go,this.toJSON())}_performRefresh(){return Ns("not implemented")}}function Ar(e,t){St(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class Si{constructor({uid:t,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new WD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new ng(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const n=await Uu(this,this.stsTokenManager.getToken(this.auth,t));return St(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return XD(this,t)}reload(){return ZD(this)}_assign(t){this!==t&&(St(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new Si({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){St(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),n&&await Ef(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(qn(this.auth.app))return Promise.reject(Os(this.auth));const t=await this.getIdToken();return await Uu(this,QD(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,c=n.photoURL??void 0,d=n.tenantId??void 0,p=n._redirectEventId??void 0,g=n.createdAt??void 0,y=n.lastLoginAt??void 0,{uid:A,emailVerified:S,isAnonymous:C,providerData:k,stsTokenManager:G}=n;St(A&&G,t,"internal-error");const B=Go.fromJSON(this.name,G);St(typeof A=="string",t,"internal-error"),Ar(s,t.name),Ar(o,t.name),St(typeof S=="boolean",t,"internal-error"),St(typeof C=="boolean",t,"internal-error"),Ar(u,t.name),Ar(c,t.name),Ar(d,t.name),Ar(p,t.name),Ar(g,t.name),Ar(y,t.name);const Z=new Si({uid:A,auth:t,email:o,emailVerified:S,displayName:s,isAnonymous:C,photoURL:c,phoneNumber:u,tenantId:d,stsTokenManager:B,createdAt:g,lastLoginAt:y});return k&&Array.isArray(k)&&(Z.providerData=k.map(nt=>({...nt}))),p&&(Z._redirectEventId=p),Z}static async _fromIdTokenResponse(t,n,s=!1){const o=new Go;o.updateFromServerResponse(n);const u=new Si({uid:n.localId,auth:t,stsTokenManager:o,isAnonymous:s});return await Ef(u),u}static async _fromGetAccountInfoResponse(t,n,s){const o=n.users[0];St(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?yb(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!u?.length,d=new Go;d.updateFromIdToken(s);const p=new Si({uid:o.localId,auth:t,stsTokenManager:d,isAnonymous:c}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new ng(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,g),p}}const p0=new Map;function Vs(e){Ps(e instanceof Function,"Expected a class definition");let t=p0.get(e);return t?(Ps(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,p0.set(e,t),t)}class _b{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}_b.type="NONE";const g0=_b;function ef(e,t,n){return`firebase:${e}:${t}:${n}`}class Ko{constructor(t,n,s){this.persistence=t,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=ef(this.userKey,o.apiKey,u),this.fullPersistenceKey=ef("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await Tf(this.auth,{idToken:t}).catch(()=>{});return n?Si._fromGetAccountInfoResponse(this.auth,n,t):null}return Si._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,s="authUser"){if(!n.length)return new Ko(Vs(g0),t,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||Vs(g0);const c=ef(s,t.config.apiKey,t.name);let d=null;for(const g of n)try{const y=await g._get(c);if(y){let A;if(typeof y=="string"){const S=await Tf(t,{idToken:y}).catch(()=>{});if(!S)break;A=await Si._fromGetAccountInfoResponse(t,S,y)}else A=Si._fromJSON(t,y);g!==u&&(d=A),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new Ko(u,t,s):(u=p[0],d&&await u._set(c,d.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(c)}catch{}})),new Ko(u,t,s))}}function y0(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Ab(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(vb(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(bb(t))return"Blackberry";if(wb(t))return"Webos";if(Tb(t))return"Safari";if((t.includes("chrome/")||Eb(t))&&!t.includes("edge/"))return"Chrome";if(Sb(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=e.match(n);if(s?.length===2)return s[1]}return"Other"}function vb(e=yn()){return/firefox\//i.test(e)}function Tb(e=yn()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Eb(e=yn()){return/crios\//i.test(e)}function Ab(e=yn()){return/iemobile/i.test(e)}function Sb(e=yn()){return/android/i.test(e)}function bb(e=yn()){return/blackberry/i.test(e)}function wb(e=yn()){return/webos/i.test(e)}function ty(e=yn()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function nN(e=yn()){return ty(e)&&!!window.navigator?.standalone}function iN(){return px()&&document.documentMode===10}function Rb(e=yn()){return ty(e)||Sb(e)||wb(e)||bb(e)||/windows phone/i.test(e)||Ab(e)}function Cb(e,t=[]){let n;switch(e){case"Browser":n=y0(yn());break;case"Worker":n=`${y0(yn())}-${e}`;break;default:n=e}const s=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ha}/${s}`}class sN{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const s=u=>new Promise((c,d)=>{try{const p=t(u);c(p)}catch(p){d(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const s of this.queue)await s(t),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function rN(e,t={}){return zs(e,"GET","/v2/passwordPolicy",Bs(e,t))}const aN=6;class oN{constructor(t){const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??aN,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=t.length>=s),o&&(n.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<t.length;o++)s=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}class lN{constructor(t,n,s,o){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new _0(this),this.idTokenSubscription=new _0(this),this.beforeStateQueue=new sN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=fb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Vs(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ko.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await Tf(this,{idToken:t}),s=await Si._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(qn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,c=s?._redirectEventId,d=await this.tryRedirectSignIn(t);(!u||u===c)&&d?.user&&(s=d.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return St(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await Ef(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=BD()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(qn(this.app))return Promise.reject(Os(this));const n=t?be(t):null;return n&&St(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&St(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return qn(this.app)?Promise.reject(Os(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return qn(this.app)?Promise.reject(Os(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Vs(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await rN(this),n=new oN(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Zu("auth","Firebase",t())}onAuthStateChanged(t,n,s){return this.registerStateListener(this.authStateSubscription,t,n,s)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,s){return this.registerStateListener(this.idTokenSubscription,t,n,s)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await eN(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,n){const s=await this.getOrInitRedirectPersistenceManager(n);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Vs(t)||this._popupRedirectResolver;St(n,this,"argument-error"),this.redirectPersistenceManager=await Ko.create(this,[Vs(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(St(d,this,"internal-error"),d.then(()=>{c||u(this.currentUser)}),typeof n=="function"){const p=t.addObserver(n,s,o);return()=>{c=!0,p()}}else{const p=t.addObserver(n);return()=>{c=!0,p()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return St(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=Cb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(t["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){if(qn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&LD(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Kr(e){return be(e)}class _0{constructor(t){this.auth=t,this.observer=null,this.addObserver=Sx(n=>this.observer=n)}get next(){return St(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Kf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function uN(e){Kf=e}function Ib(e){return Kf.loadJS(e)}function cN(){return Kf.recaptchaEnterpriseScript}function hN(){return Kf.gapiScript}function fN(e){return`__${e}${Math.floor(Math.random()*1e6)}`}class dN{constructor(){this.enterprise=new mN}ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}class mN{ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}const pN="recaptcha-enterprise",xb="NO_RECAPTCHA";class gN{constructor(t){this.type=pN,this.auth=Kr(t)}async verify(t="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(c,d)=>{YD(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const g=new KD(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,c(g.siteKey)}}).catch(p=>{d(p)})})}function o(u,c,d){const p=window.grecaptcha;d0(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:t}).then(g=>{c(g)}).catch(()=>{c(xb)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new dN().execute("siteKey",{action:"verify"}):new Promise((u,c)=>{s(this.auth).then(d=>{if(!n&&d0(window.grecaptcha))o(d,u,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let p=cN();p.length!==0&&(p+=d),Ib(p).then(()=>{o(d,u,c)}).catch(g=>{c(g)})}}).catch(d=>{c(d)})})}}async function v0(e,t,n,s=!1,o=!1){const u=new gN(e);let c;if(o)c=xb;else try{c=await u.verify(n)}catch{c=await u.verify(n,!0)}const d={...t};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const p=d.phoneEnrollmentInfo.phoneNumber,g=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const p=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return s?Object.assign(d,{captchaResp:c}):Object.assign(d,{captchaResponse:c}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function Af(e,t,n,s,o){if(e._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await v0(e,t,n,n==="getOobCode");return s(e,u)}else return s(e,t).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await v0(e,t,n,n==="getOobCode");return s(e,c)}else return Promise.reject(u)})}function yN(e,t){const n=Gf(e,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(ka(u,t??{}))return o;wi(o,"already-initialized")}return n.initialize({options:t})}function _N(e,t){const n=t?.persistence||[],s=(Array.isArray(n)?n:[n]).map(Vs);t?.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(s,t?.popupRedirectResolver)}function vN(e,t,n){const s=Kr(e);St(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const o=!1,u=Db(t),{host:c,port:d}=TN(t),p=d===null?"":`:${d}`,g={url:`${u}//${c}${p}/`},y=Object.freeze({host:c,port:d,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){St(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),St(ka(g,s.config.emulator)&&ka(y,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=y,s.settings.appVerificationDisabledForTesting=!0,Gr(c)?(Kg(`${u}//${c}${p}`),Yg("Auth",!0)):EN()}function Db(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function TN(e){const t=Db(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:T0(s.substr(u.length+1))}}else{const[u,c]=s.split(":");return{host:u,port:T0(c)}}}function T0(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function EN(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}class ey{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return Ns("not implemented")}_getIdTokenResponse(t){return Ns("not implemented")}_linkToIdToken(t,n){return Ns("not implemented")}_getReauthenticationResolver(t){return Ns("not implemented")}}async function AN(e,t){return zs(e,"POST","/v1/accounts:signUp",t)}async function SN(e,t){return ec(e,"POST","/v1/accounts:signInWithPassword",Bs(e,t))}async function bN(e,t){return zs(e,"POST","/v1/accounts:sendOobCode",Bs(e,t))}async function wN(e,t){return bN(e,t)}async function RN(e,t){return ec(e,"POST","/v1/accounts:signInWithEmailLink",Bs(e,t))}async function CN(e,t){return ec(e,"POST","/v1/accounts:signInWithEmailLink",Bs(e,t))}class Bu extends ey{constructor(t,n,s,o=null){super("password",s),this._email=t,this._password=n,this._tenantId=o}static _fromEmailAndPassword(t,n){return new Bu(t,n,"password")}static _fromEmailAndCode(t,n,s=null){return new Bu(t,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Af(t,n,"signInWithPassword",SN);case"emailLink":return RN(t,{email:this._email,oobCode:this._password});default:wi(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Af(t,s,"signUpPassword",AN);case"emailLink":return CN(t,{idToken:n,email:this._email,oobCode:this._password});default:wi(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}async function Yo(e,t){return ec(e,"POST","/v1/accounts:signInWithIdp",Bs(e,t))}const IN="http://localhost";class ja extends ey{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new ja(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):wi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const c=new ja(s,o);return c.idToken=u.idToken||void 0,c.accessToken=u.accessToken||void 0,c.secret=u.secret,c.nonce=u.nonce,c.pendingToken=u.pendingToken||null,c}_getIdTokenResponse(t){const n=this.buildRequest();return Yo(t,n)}_linkToIdToken(t,n){const s=this.buildRequest();return s.idToken=n,Yo(t,s)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Yo(t,n)}buildRequest(){const t={requestUri:IN,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Ju(n)}return t}}function xN(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function DN(e){const t=Eu(Au(e)).link,n=t?Eu(Au(t)).deep_link_id:null,s=Eu(Au(e)).deep_link_id;return(s?Eu(Au(s)).link:null)||s||n||t||e}class ny{constructor(t){const n=Eu(Au(t)),s=n.apiKey??null,o=n.oobCode??null,u=xN(n.mode??null);St(s&&o&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(t){const n=DN(t);try{return new ny(n)}catch{return null}}}class al{constructor(){this.providerId=al.PROVIDER_ID}static credential(t,n){return Bu._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const s=ny.parseLink(n);return St(s,"argument-error"),Bu._fromEmailAndCode(t,s.code,s.tenantId)}}al.PROVIDER_ID="password";al.EMAIL_PASSWORD_SIGN_IN_METHOD="password";al.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Nb{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class nc extends Nb{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class wr extends nc{constructor(){super("facebook.com")}static credential(t){return ja._fromParams({providerId:wr.PROVIDER_ID,signInMethod:wr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return wr.credentialFromTaggedObject(t)}static credentialFromError(t){return wr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return wr.credential(t.oauthAccessToken)}catch{return null}}}wr.FACEBOOK_SIGN_IN_METHOD="facebook.com";wr.PROVIDER_ID="facebook.com";class Rr extends nc{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return ja._fromParams({providerId:Rr.PROVIDER_ID,signInMethod:Rr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Rr.credentialFromTaggedObject(t)}static credentialFromError(t){return Rr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:s}=t;if(!n&&!s)return null;try{return Rr.credential(n,s)}catch{return null}}}Rr.GOOGLE_SIGN_IN_METHOD="google.com";Rr.PROVIDER_ID="google.com";class Cr extends nc{constructor(){super("github.com")}static credential(t){return ja._fromParams({providerId:Cr.PROVIDER_ID,signInMethod:Cr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Cr.credentialFromTaggedObject(t)}static credentialFromError(t){return Cr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Cr.credential(t.oauthAccessToken)}catch{return null}}}Cr.GITHUB_SIGN_IN_METHOD="github.com";Cr.PROVIDER_ID="github.com";class Ir extends nc{constructor(){super("twitter.com")}static credential(t,n){return ja._fromParams({providerId:Ir.PROVIDER_ID,signInMethod:Ir.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Ir.credentialFromTaggedObject(t)}static credentialFromError(t){return Ir.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=t;if(!n||!s)return null;try{return Ir.credential(n,s)}catch{return null}}}Ir.TWITTER_SIGN_IN_METHOD="twitter.com";Ir.PROVIDER_ID="twitter.com";async function NN(e,t){return ec(e,"POST","/v1/accounts:signUp",Bs(e,t))}class Ua{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,s,o=!1){const u=await Si._fromIdTokenResponse(t,s,o),c=E0(s);return new Ua({user:u,providerId:c,_tokenResponse:s,operationType:n})}static async _forOperation(t,n,s){await t._updateTokensIfNecessary(s,!0);const o=E0(s);return new Ua({user:t,providerId:o,_tokenResponse:s,operationType:n})}}function E0(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class Sf extends ls{constructor(t,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Sf.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,n,s,o){return new Sf(t,n,s,o)}}function Vb(e,t,n,s){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Sf._fromErrorAndOperation(e,u,t,s):u})}async function VN(e,t,n=!1){const s=await Uu(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Ua._forOperation(e,"link",s)}async function ON(e,t,n=!1){const{auth:s}=e;if(qn(s.app))return Promise.reject(Os(s));const o="reauthenticate";try{const u=await Uu(e,Vb(s,o,t,e),n);St(u.idToken,s,"internal-error");const c=Jg(u.idToken);St(c,s,"internal-error");const{sub:d}=c;return St(e.uid===d,s,"user-mismatch"),Ua._forOperation(e,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&wi(s,"user-mismatch"),u}}async function Ob(e,t,n=!1){if(qn(e.app))return Promise.reject(Os(e));const s="signIn",o=await Vb(e,s,t),u=await Ua._fromIdTokenResponse(e,s,o);return n||await e._updateCurrentUser(u.user),u}async function MN(e,t){return Ob(Kr(e),t)}async function Mb(e){const t=Kr(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function PN(e,t,n){const s=Kr(e);await Af(s,{requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"},"getOobCode",wN)}async function kN(e,t,n){if(qn(e.app))return Promise.reject(Os(e));const s=Kr(e),c=await Af(s,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",NN).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&Mb(e),p}),d=await Ua._fromIdTokenResponse(s,"signIn",c);return await s._updateCurrentUser(d.user),d}function LN(e,t,n){return qn(e.app)?Promise.reject(Os(e)):MN(be(e),al.credential(t,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&Mb(e),s})}function jN(e,t,n,s){return be(e).onIdTokenChanged(t,n,s)}function UN(e,t,n){return be(e).beforeAuthStateChanged(t,n)}function BN(e,t,n,s){return be(e).onAuthStateChanged(t,n,s)}const bf="__sak";class Pb{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(bf,"1"),this.storage.removeItem(bf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const zN=1e3,qN=10;class kb extends Pb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Rb(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&t(n,o,s)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((c,d,p)=>{this.notifyListeners(c,p)});return}const s=t.key;n?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(s);!n&&this.localCache[s]===c||this.notifyListeners(s,c)},u=this.storage.getItem(s);iN()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,qN):o()}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:s}),!0)})},zN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}kb.type="LOCAL";const FN=kb;class Lb extends Pb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}Lb.type="SESSION";const jb=Lb;function HN(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}class Yf{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(o=>o.isListeningto(t));if(n)return n;const s=new Yf(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:s,eventType:o,data:u}=n.data,c=this.handlersMap[o];if(!c?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const d=Array.from(c).map(async g=>g(n.origin,u)),p=await HN(d);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Yf.receivers=[];function iy(e="",t=10){let n="";for(let s=0;s<t;s++)n+=Math.floor(Math.random()*10);return e+n}class GN{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,c;return new Promise((d,p)=>{const g=iy("",20);o.port1.start();const y=setTimeout(()=>{p(new Error("unsupported_event"))},s);c={messageChannel:o,onMessage(A){const S=A;if(S.data.eventId===g)switch(S.data.status){case"ack":clearTimeout(y),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),d(S.data.response);break;default:clearTimeout(y),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:t,eventId:g,data:n},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}function ts(){return window}function KN(e){ts().location.href=e}function Ub(){return typeof ts().WorkerGlobalScope<"u"&&typeof ts().importScripts=="function"}async function YN(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function QN(){return navigator?.serviceWorker?.controller||null}function XN(){return Ub()?self:null}const Bb="firebaseLocalStorageDb",$N=1,wf="firebaseLocalStorage",zb="fbase_key";class ic{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Qf(e,t){return e.transaction([wf],t?"readwrite":"readonly").objectStore(wf)}function WN(){const e=indexedDB.deleteDatabase(Bb);return new ic(e).toPromise()}function ig(){const e=indexedDB.open(Bb,$N);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const s=e.result;try{s.createObjectStore(wf,{keyPath:zb})}catch(o){n(o)}}),e.addEventListener("success",async()=>{const s=e.result;s.objectStoreNames.contains(wf)?t(s):(s.close(),await WN(),t(await ig()))})})}async function A0(e,t,n){const s=Qf(e,!0).put({[zb]:t,value:n});return new ic(s).toPromise()}async function ZN(e,t){const n=Qf(e,!1).get(t),s=await new ic(n).toPromise();return s===void 0?null:s.value}function S0(e,t){const n=Qf(e,!0).delete(t);return new ic(n).toPromise()}const JN=800,t2=3;class qb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ig(),this.db)}async _withRetries(t){let n=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(n++>t2)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Ub()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Yf._getInstance(XN()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await YN(),!this.activeServiceWorker)return;this.sender=new GN(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||QN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await ig();return await A0(t,bf,"1"),await S0(t,bf),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>A0(s,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(s=>ZN(s,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>S0(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const u=Qf(o,!1).getAll();return new ic(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(t.length!==0)for(const{fbase_key:o,value:u}of t)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),JN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}qb.type="LOCAL";const e2=qb;new tc(3e4,6e4);function n2(e,t){return t?Vs(t):(St(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}class sy extends ey{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Yo(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Yo(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Yo(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function i2(e){return Ob(e.auth,new sy(e),e.bypassAuthState)}function s2(e){const{auth:t,user:n}=e;return St(n,t,"internal-error"),ON(n,new sy(e),e.bypassAuthState)}async function r2(e){const{auth:t,user:n}=e;return St(n,t,"internal-error"),VN(n,new sy(e),e.bypassAuthState)}class Fb{constructor(t,n,s,o,u=!1){this.auth=t,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:c,type:d}=t;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(p))}catch(g){this.reject(g)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return i2;case"linkViaPopup":case"linkViaRedirect":return r2;case"reauthViaPopup":case"reauthViaRedirect":return s2;default:wi(this.auth,"internal-error")}}resolve(t){Ps(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Ps(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const a2=new tc(2e3,1e4);class Uo extends Fb{constructor(t,n,s,o,u){super(t,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,Uo.currentPopupAction&&Uo.currentPopupAction.cancel(),Uo.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return St(t,this.auth,"internal-error"),t}async onExecution(){Ps(this.filter.length===1,"Popup operations only handle one event");const t=iy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ji(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ji(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Uo.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ji(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,a2.get())};t()}}Uo.currentPopupAction=null;const o2="pendingRedirect",nf=new Map;class l2 extends Fb{constructor(t,n,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let t=nf.get(this.auth._key());if(!t){try{const s=await u2(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(n){t=()=>Promise.reject(n)}nf.set(this.auth._key(),t)}return this.bypassAuthState||nf.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function u2(e,t){const n=f2(t),s=h2(e);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function c2(e,t){nf.set(e._key(),t)}function h2(e){return Vs(e._redirectPersistence)}function f2(e){return ef(o2,e.config.apiKey,e.name)}async function d2(e,t,n=!1){if(qn(e.app))return Promise.reject(Os(e));const s=Kr(e),o=n2(s,t),c=await new l2(s,o,n).execute();return c&&!n&&(delete c.user._redirectEventId,await s._persistUserIfCurrent(c.user),await s._setRedirectUser(null,t)),c}const m2=600*1e3;class p2{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(n=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!g2(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){if(t.error&&!Hb(t)){const s=t.error.code?.split("auth/")[1]||"internal-error";n.onError(Ji(this.auth,s))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const s=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=m2&&this.cachedEventUids.clear(),this.cachedEventUids.has(b0(t))}saveEventToCache(t){this.cachedEventUids.add(b0(t)),this.lastProcessedEventTime=Date.now()}}function b0(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function Hb({type:e,error:t}){return e==="unknown"&&t?.code==="auth/no-auth-event"}function g2(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Hb(e);default:return!1}}async function y2(e,t={}){return zs(e,"GET","/v1/projects",t)}const _2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,v2=/^https?/;async function T2(e){if(e.config.emulator)return;const{authorizedDomains:t}=await y2(e);for(const n of t)try{if(E2(n))return}catch{}wi(e,"unauthorized-domain")}function E2(e){const t=eg(),{protocol:n,hostname:s}=new URL(t);if(e.startsWith("chrome-extension://")){const c=new URL(e);return c.hostname===""&&s===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===s}if(!v2.test(n))return!1;if(_2.test(e))return s===e;const o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const A2=new tc(3e4,6e4);function w0(){const e=ts().___jsl;if(e?.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function S2(e){return new Promise((t,n)=>{function s(){w0(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{w0(),n(Ji(e,"network-request-failed"))},timeout:A2.get()})}if(ts().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(ts().gapi?.load)s();else{const o=fN("iframefcb");return ts()[o]=()=>{gapi.load?s():n(Ji(e,"network-request-failed"))},Ib(`${hN()}?onload=${o}`).catch(u=>n(u))}}).catch(t=>{throw sf=null,t})}let sf=null;function b2(e){return sf=sf||S2(e),sf}const w2=new tc(5e3,15e3),R2="__/auth/iframe",C2="emulator/auth/iframe",I2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},x2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function D2(e){const t=e.config;St(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Zg(t,C2):`https://${e.config.authDomain}/${R2}`,s={apiKey:t.apiKey,appName:e.name,v:Ha},o=x2.get(e.config.apiHost);o&&(s.eid=o);const u=e._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${Ju(s).slice(1)}`}async function N2(e){const t=await b2(e),n=ts().gapi;return St(n,e,"internal-error"),t.open({where:document.body,url:D2(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:I2,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const c=Ji(e,"network-request-failed"),d=ts().setTimeout(()=>{u(c)},w2.get());function p(){ts().clearTimeout(d),o(s)}s.ping(p).then(p,()=>{u(c)})}))}const V2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},O2=500,M2=600,P2="_blank",k2="http://localhost";class R0{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function L2(e,t,n,s=O2,o=M2){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-s)/2,0).toString();let d="";const p={...V2,width:s.toString(),height:o.toString(),top:u,left:c},g=yn().toLowerCase();n&&(d=Eb(g)?P2:n),vb(g)&&(t=t||k2,p.scrollbars="yes");const y=Object.entries(p).reduce((S,[C,k])=>`${S}${C}=${k},`,"");if(nN(g)&&d!=="_self")return j2(t||"",d),new R0(null);const A=window.open(t||"",d,y);St(A,e,"popup-blocked");try{A.focus()}catch{}return new R0(A)}function j2(e,t){const n=document.createElement("a");n.href=e,n.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const U2="__/auth/handler",B2="emulator/auth/handler",z2=encodeURIComponent("fac");async function C0(e,t,n,s,o,u){St(e.config.authDomain,e,"auth-domain-config-required"),St(e.config.apiKey,e,"invalid-api-key");const c={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:s,v:Ha,eventId:o};if(t instanceof Nb){t.setDefaultLanguage(e.languageCode),c.providerId=t.providerId||"",Ax(t.getCustomParameters())||(c.customParameters=JSON.stringify(t.getCustomParameters()));for(const[y,A]of Object.entries({}))c[y]=A}if(t instanceof nc){const y=t.getScopes().filter(A=>A!=="");y.length>0&&(c.scopes=y.join(","))}e.tenantId&&(c.tid=e.tenantId);const d=c;for(const y of Object.keys(d))d[y]===void 0&&delete d[y];const p=await e._getAppCheckToken(),g=p?`#${z2}=${encodeURIComponent(p)}`:"";return`${q2(e)}?${Ju(d).slice(1)}${g}`}function q2({config:e}){return e.emulator?Zg(e,B2):`https://${e.authDomain}/${U2}`}const bp="webStorageSupport";class F2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=jb,this._completeRedirectFn=d2,this._overrideRedirectResult=c2}async _openPopup(t,n,s,o){Ps(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const u=await C0(t,n,s,eg(),o);return L2(t,u,iy())}async _openRedirect(t,n,s,o){await this._originValidation(t);const u=await C0(t,n,s,eg(),o);return KN(u),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(Ps(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(t);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(t){const n=await N2(t),s=new p2(t);return n.register("authEvent",o=>(St(o?.authEvent,t,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=n,s}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(bp,{type:bp},o=>{const u=o?.[0]?.[bp];u!==void 0&&n(!!u),wi(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=T2(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return Rb()||Tb()||ty()}}const H2=F2;var I0="@firebase/auth",x0="1.12.0";class G2{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(s=>{t(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){St(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function K2(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Y2(e){La(new kr("auth",(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=s.options;St(c&&!c.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:c,authDomain:d,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Cb(e)},g=new lN(s,o,u,p);return _N(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,s)=>{t.getProvider("auth-internal").initialize()})),La(new kr("auth-internal",t=>{const n=Kr(t.getProvider("auth").getImmediate());return(s=>new G2(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Zi(I0,x0,K2(e)),Zi(I0,x0,"esm2020")}const Q2=300,X2=sb("authIdTokenMaxAge")||Q2;let D0=null;const $2=e=>async t=>{const n=t&&await t.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>X2)return;const o=n?.token;D0!==o&&(D0=o,await fetch(e,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function W2(e=$g()){const t=Gf(e,"auth");if(t.isInitialized())return t.getImmediate();const n=yN(e,{popupRedirectResolver:H2,persistence:[e2,FN,jb]}),s=sb("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const c=$2(u.toString());UN(n,c,()=>c(n.currentUser)),jN(n,d=>c(d))}}const o=eb("auth");return o&&vN(n,`http://${o}`),n}function Z2(){return document.getElementsByTagName("head")?.[0]??document}uN({loadJS(e){return new Promise((t,n)=>{const s=document.createElement("script");s.setAttribute("src",e),s.onload=t,s.onerror=o=>{const u=Ji("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",Z2().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Y2("Browser");var N0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Or,Gb;(function(){var e;function t(I,R){function x(){}x.prototype=R.prototype,I.F=R.prototype,I.prototype=new x,I.prototype.constructor=I,I.D=function(O,V,L){for(var D=Array(arguments.length-2),Zt=2;Zt<arguments.length;Zt++)D[Zt-2]=arguments[Zt];return R.prototype[V].apply(O,D)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(I,R,x){x||(x=0);const O=Array(16);if(typeof R=="string")for(var V=0;V<16;++V)O[V]=R.charCodeAt(x++)|R.charCodeAt(x++)<<8|R.charCodeAt(x++)<<16|R.charCodeAt(x++)<<24;else for(V=0;V<16;++V)O[V]=R[x++]|R[x++]<<8|R[x++]<<16|R[x++]<<24;R=I.g[0],x=I.g[1],V=I.g[2];let L=I.g[3],D;D=R+(L^x&(V^L))+O[0]+3614090360&4294967295,R=x+(D<<7&4294967295|D>>>25),D=L+(V^R&(x^V))+O[1]+3905402710&4294967295,L=R+(D<<12&4294967295|D>>>20),D=V+(x^L&(R^x))+O[2]+606105819&4294967295,V=L+(D<<17&4294967295|D>>>15),D=x+(R^V&(L^R))+O[3]+3250441966&4294967295,x=V+(D<<22&4294967295|D>>>10),D=R+(L^x&(V^L))+O[4]+4118548399&4294967295,R=x+(D<<7&4294967295|D>>>25),D=L+(V^R&(x^V))+O[5]+1200080426&4294967295,L=R+(D<<12&4294967295|D>>>20),D=V+(x^L&(R^x))+O[6]+2821735955&4294967295,V=L+(D<<17&4294967295|D>>>15),D=x+(R^V&(L^R))+O[7]+4249261313&4294967295,x=V+(D<<22&4294967295|D>>>10),D=R+(L^x&(V^L))+O[8]+1770035416&4294967295,R=x+(D<<7&4294967295|D>>>25),D=L+(V^R&(x^V))+O[9]+2336552879&4294967295,L=R+(D<<12&4294967295|D>>>20),D=V+(x^L&(R^x))+O[10]+4294925233&4294967295,V=L+(D<<17&4294967295|D>>>15),D=x+(R^V&(L^R))+O[11]+2304563134&4294967295,x=V+(D<<22&4294967295|D>>>10),D=R+(L^x&(V^L))+O[12]+1804603682&4294967295,R=x+(D<<7&4294967295|D>>>25),D=L+(V^R&(x^V))+O[13]+4254626195&4294967295,L=R+(D<<12&4294967295|D>>>20),D=V+(x^L&(R^x))+O[14]+2792965006&4294967295,V=L+(D<<17&4294967295|D>>>15),D=x+(R^V&(L^R))+O[15]+1236535329&4294967295,x=V+(D<<22&4294967295|D>>>10),D=R+(V^L&(x^V))+O[1]+4129170786&4294967295,R=x+(D<<5&4294967295|D>>>27),D=L+(x^V&(R^x))+O[6]+3225465664&4294967295,L=R+(D<<9&4294967295|D>>>23),D=V+(R^x&(L^R))+O[11]+643717713&4294967295,V=L+(D<<14&4294967295|D>>>18),D=x+(L^R&(V^L))+O[0]+3921069994&4294967295,x=V+(D<<20&4294967295|D>>>12),D=R+(V^L&(x^V))+O[5]+3593408605&4294967295,R=x+(D<<5&4294967295|D>>>27),D=L+(x^V&(R^x))+O[10]+38016083&4294967295,L=R+(D<<9&4294967295|D>>>23),D=V+(R^x&(L^R))+O[15]+3634488961&4294967295,V=L+(D<<14&4294967295|D>>>18),D=x+(L^R&(V^L))+O[4]+3889429448&4294967295,x=V+(D<<20&4294967295|D>>>12),D=R+(V^L&(x^V))+O[9]+568446438&4294967295,R=x+(D<<5&4294967295|D>>>27),D=L+(x^V&(R^x))+O[14]+3275163606&4294967295,L=R+(D<<9&4294967295|D>>>23),D=V+(R^x&(L^R))+O[3]+4107603335&4294967295,V=L+(D<<14&4294967295|D>>>18),D=x+(L^R&(V^L))+O[8]+1163531501&4294967295,x=V+(D<<20&4294967295|D>>>12),D=R+(V^L&(x^V))+O[13]+2850285829&4294967295,R=x+(D<<5&4294967295|D>>>27),D=L+(x^V&(R^x))+O[2]+4243563512&4294967295,L=R+(D<<9&4294967295|D>>>23),D=V+(R^x&(L^R))+O[7]+1735328473&4294967295,V=L+(D<<14&4294967295|D>>>18),D=x+(L^R&(V^L))+O[12]+2368359562&4294967295,x=V+(D<<20&4294967295|D>>>12),D=R+(x^V^L)+O[5]+4294588738&4294967295,R=x+(D<<4&4294967295|D>>>28),D=L+(R^x^V)+O[8]+2272392833&4294967295,L=R+(D<<11&4294967295|D>>>21),D=V+(L^R^x)+O[11]+1839030562&4294967295,V=L+(D<<16&4294967295|D>>>16),D=x+(V^L^R)+O[14]+4259657740&4294967295,x=V+(D<<23&4294967295|D>>>9),D=R+(x^V^L)+O[1]+2763975236&4294967295,R=x+(D<<4&4294967295|D>>>28),D=L+(R^x^V)+O[4]+1272893353&4294967295,L=R+(D<<11&4294967295|D>>>21),D=V+(L^R^x)+O[7]+4139469664&4294967295,V=L+(D<<16&4294967295|D>>>16),D=x+(V^L^R)+O[10]+3200236656&4294967295,x=V+(D<<23&4294967295|D>>>9),D=R+(x^V^L)+O[13]+681279174&4294967295,R=x+(D<<4&4294967295|D>>>28),D=L+(R^x^V)+O[0]+3936430074&4294967295,L=R+(D<<11&4294967295|D>>>21),D=V+(L^R^x)+O[3]+3572445317&4294967295,V=L+(D<<16&4294967295|D>>>16),D=x+(V^L^R)+O[6]+76029189&4294967295,x=V+(D<<23&4294967295|D>>>9),D=R+(x^V^L)+O[9]+3654602809&4294967295,R=x+(D<<4&4294967295|D>>>28),D=L+(R^x^V)+O[12]+3873151461&4294967295,L=R+(D<<11&4294967295|D>>>21),D=V+(L^R^x)+O[15]+530742520&4294967295,V=L+(D<<16&4294967295|D>>>16),D=x+(V^L^R)+O[2]+3299628645&4294967295,x=V+(D<<23&4294967295|D>>>9),D=R+(V^(x|~L))+O[0]+4096336452&4294967295,R=x+(D<<6&4294967295|D>>>26),D=L+(x^(R|~V))+O[7]+1126891415&4294967295,L=R+(D<<10&4294967295|D>>>22),D=V+(R^(L|~x))+O[14]+2878612391&4294967295,V=L+(D<<15&4294967295|D>>>17),D=x+(L^(V|~R))+O[5]+4237533241&4294967295,x=V+(D<<21&4294967295|D>>>11),D=R+(V^(x|~L))+O[12]+1700485571&4294967295,R=x+(D<<6&4294967295|D>>>26),D=L+(x^(R|~V))+O[3]+2399980690&4294967295,L=R+(D<<10&4294967295|D>>>22),D=V+(R^(L|~x))+O[10]+4293915773&4294967295,V=L+(D<<15&4294967295|D>>>17),D=x+(L^(V|~R))+O[1]+2240044497&4294967295,x=V+(D<<21&4294967295|D>>>11),D=R+(V^(x|~L))+O[8]+1873313359&4294967295,R=x+(D<<6&4294967295|D>>>26),D=L+(x^(R|~V))+O[15]+4264355552&4294967295,L=R+(D<<10&4294967295|D>>>22),D=V+(R^(L|~x))+O[6]+2734768916&4294967295,V=L+(D<<15&4294967295|D>>>17),D=x+(L^(V|~R))+O[13]+1309151649&4294967295,x=V+(D<<21&4294967295|D>>>11),D=R+(V^(x|~L))+O[4]+4149444226&4294967295,R=x+(D<<6&4294967295|D>>>26),D=L+(x^(R|~V))+O[11]+3174756917&4294967295,L=R+(D<<10&4294967295|D>>>22),D=V+(R^(L|~x))+O[2]+718787259&4294967295,V=L+(D<<15&4294967295|D>>>17),D=x+(L^(V|~R))+O[9]+3951481745&4294967295,I.g[0]=I.g[0]+R&4294967295,I.g[1]=I.g[1]+(V+(D<<21&4294967295|D>>>11))&4294967295,I.g[2]=I.g[2]+V&4294967295,I.g[3]=I.g[3]+L&4294967295}s.prototype.v=function(I,R){R===void 0&&(R=I.length);const x=R-this.blockSize,O=this.C;let V=this.h,L=0;for(;L<R;){if(V==0)for(;L<=x;)o(this,I,L),L+=this.blockSize;if(typeof I=="string"){for(;L<R;)if(O[V++]=I.charCodeAt(L++),V==this.blockSize){o(this,O),V=0;break}}else for(;L<R;)if(O[V++]=I[L++],V==this.blockSize){o(this,O),V=0;break}}this.h=V,this.o+=R},s.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var R=1;R<I.length-8;++R)I[R]=0;R=this.o*8;for(var x=I.length-8;x<I.length;++x)I[x]=R&255,R/=256;for(this.v(I),I=Array(16),R=0,x=0;x<4;++x)for(let O=0;O<32;O+=8)I[R++]=this.g[x]>>>O&255;return I};function u(I,R){var x=d;return Object.prototype.hasOwnProperty.call(x,I)?x[I]:x[I]=R(I)}function c(I,R){this.h=R;const x=[];let O=!0;for(let V=I.length-1;V>=0;V--){const L=I[V]|0;O&&L==R||(x[V]=L,O=!1)}this.g=x}var d={};function p(I){return-128<=I&&I<128?u(I,function(R){return new c([R|0],R<0?-1:0)}):new c([I|0],I<0?-1:0)}function g(I){if(isNaN(I)||!isFinite(I))return A;if(I<0)return B(g(-I));const R=[];let x=1;for(let O=0;I>=x;O++)R[O]=I/x|0,x*=4294967296;return new c(R,0)}function y(I,R){if(I.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(I.charAt(0)=="-")return B(y(I.substring(1),R));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const x=g(Math.pow(R,8));let O=A;for(let L=0;L<I.length;L+=8){var V=Math.min(8,I.length-L);const D=parseInt(I.substring(L,L+V),R);V<8?(V=g(Math.pow(R,V)),O=O.j(V).add(g(D))):(O=O.j(x),O=O.add(g(D)))}return O}var A=p(0),S=p(1),C=p(16777216);e=c.prototype,e.m=function(){if(G(this))return-B(this).m();let I=0,R=1;for(let x=0;x<this.g.length;x++){const O=this.i(x);I+=(O>=0?O:4294967296+O)*R,R*=4294967296}return I},e.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(k(this))return"0";if(G(this))return"-"+B(this).toString(I);const R=g(Math.pow(I,6));var x=this;let O="";for(;;){const V=ot(x,R).g;x=Z(x,V.j(R));let L=((x.g.length>0?x.g[0]:x.h)>>>0).toString(I);if(x=V,k(x))return L+O;for(;L.length<6;)L="0"+L;O=L+O}},e.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function k(I){if(I.h!=0)return!1;for(let R=0;R<I.g.length;R++)if(I.g[R]!=0)return!1;return!0}function G(I){return I.h==-1}e.l=function(I){return I=Z(this,I),G(I)?-1:k(I)?0:1};function B(I){const R=I.g.length,x=[];for(let O=0;O<R;O++)x[O]=~I.g[O];return new c(x,~I.h).add(S)}e.abs=function(){return G(this)?B(this):this},e.add=function(I){const R=Math.max(this.g.length,I.g.length),x=[];let O=0;for(let V=0;V<=R;V++){let L=O+(this.i(V)&65535)+(I.i(V)&65535),D=(L>>>16)+(this.i(V)>>>16)+(I.i(V)>>>16);O=D>>>16,L&=65535,D&=65535,x[V]=D<<16|L}return new c(x,x[x.length-1]&-2147483648?-1:0)};function Z(I,R){return I.add(B(R))}e.j=function(I){if(k(this)||k(I))return A;if(G(this))return G(I)?B(this).j(B(I)):B(B(this).j(I));if(G(I))return B(this.j(B(I)));if(this.l(C)<0&&I.l(C)<0)return g(this.m()*I.m());const R=this.g.length+I.g.length,x=[];for(var O=0;O<2*R;O++)x[O]=0;for(O=0;O<this.g.length;O++)for(let V=0;V<I.g.length;V++){const L=this.i(O)>>>16,D=this.i(O)&65535,Zt=I.i(V)>>>16,le=I.i(V)&65535;x[2*O+2*V]+=D*le,nt(x,2*O+2*V),x[2*O+2*V+1]+=L*le,nt(x,2*O+2*V+1),x[2*O+2*V+1]+=D*Zt,nt(x,2*O+2*V+1),x[2*O+2*V+2]+=L*Zt,nt(x,2*O+2*V+2)}for(I=0;I<R;I++)x[I]=x[2*I+1]<<16|x[2*I];for(I=R;I<2*R;I++)x[I]=0;return new c(x,0)};function nt(I,R){for(;(I[R]&65535)!=I[R];)I[R+1]+=I[R]>>>16,I[R]&=65535,R++}function $(I,R){this.g=I,this.h=R}function ot(I,R){if(k(R))throw Error("division by zero");if(k(I))return new $(A,A);if(G(I))return R=ot(B(I),R),new $(B(R.g),B(R.h));if(G(R))return R=ot(I,B(R)),new $(B(R.g),R.h);if(I.g.length>30){if(G(I)||G(R))throw Error("slowDivide_ only works with positive integers.");for(var x=S,O=R;O.l(I)<=0;)x=at(x),O=at(O);var V=ht(x,1),L=ht(O,1);for(O=ht(O,2),x=ht(x,2);!k(O);){var D=L.add(O);D.l(I)<=0&&(V=V.add(x),L=D),O=ht(O,1),x=ht(x,1)}return R=Z(I,V.j(R)),new $(V,R)}for(V=A;I.l(R)>=0;){for(x=Math.max(1,Math.floor(I.m()/R.m())),O=Math.ceil(Math.log(x)/Math.LN2),O=O<=48?1:Math.pow(2,O-48),L=g(x),D=L.j(R);G(D)||D.l(I)>0;)x-=O,L=g(x),D=L.j(R);k(L)&&(L=S),V=V.add(L),I=Z(I,D)}return new $(V,I)}e.B=function(I){return ot(this,I).h},e.and=function(I){const R=Math.max(this.g.length,I.g.length),x=[];for(let O=0;O<R;O++)x[O]=this.i(O)&I.i(O);return new c(x,this.h&I.h)},e.or=function(I){const R=Math.max(this.g.length,I.g.length),x=[];for(let O=0;O<R;O++)x[O]=this.i(O)|I.i(O);return new c(x,this.h|I.h)},e.xor=function(I){const R=Math.max(this.g.length,I.g.length),x=[];for(let O=0;O<R;O++)x[O]=this.i(O)^I.i(O);return new c(x,this.h^I.h)};function at(I){const R=I.g.length+1,x=[];for(let O=0;O<R;O++)x[O]=I.i(O)<<1|I.i(O-1)>>>31;return new c(x,I.h)}function ht(I,R){const x=R>>5;R%=32;const O=I.g.length-x,V=[];for(let L=0;L<O;L++)V[L]=R>0?I.i(L+x)>>>R|I.i(L+x+1)<<32-R:I.i(L+x);return new c(V,I.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,Gb=s,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=y,Or=c}).apply(typeof N0<"u"?N0:typeof self<"u"?self:typeof window<"u"?window:{});var qh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Kb,Su,Yb,rf,sg,Qb,Xb,$b;(function(){var e,t=Object.defineProperty;function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof qh=="object"&&qh];for(var _=0;_<h.length;++_){var E=h[_];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var s=n(this);function o(h,_){if(_)t:{var E=s;h=h.split(".");for(var w=0;w<h.length-1;w++){var U=h[w];if(!(U in E))break t;E=E[U]}h=h[h.length-1],w=E[h],_=_(w),_!=w&&_!=null&&t(E,h,{configurable:!0,writable:!0,value:_})}}o("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(h){return h||function(_){var E=[],w;for(w in _)Object.prototype.hasOwnProperty.call(_,w)&&E.push([w,_[w]]);return E}});var u=u||{},c=this||self;function d(h){var _=typeof h;return _=="object"&&h!=null||_=="function"}function p(h,_,E){return h.call.apply(h.bind,arguments)}function g(h,_,E){return g=p,g.apply(null,arguments)}function y(h,_){var E=Array.prototype.slice.call(arguments,1);return function(){var w=E.slice();return w.push.apply(w,arguments),h.apply(this,w)}}function A(h,_){function E(){}E.prototype=_.prototype,h.Z=_.prototype,h.prototype=new E,h.prototype.constructor=h,h.Ob=function(w,U,K){for(var lt=Array(arguments.length-2),Nt=2;Nt<arguments.length;Nt++)lt[Nt-2]=arguments[Nt];return _.prototype[U].apply(w,lt)}}var S=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function C(h){const _=h.length;if(_>0){const E=Array(_);for(let w=0;w<_;w++)E[w]=h[w];return E}return[]}function k(h,_){for(let w=1;w<arguments.length;w++){const U=arguments[w];var E=typeof U;if(E=E!="object"?E:U?Array.isArray(U)?"array":E:"null",E=="array"||E=="object"&&typeof U.length=="number"){E=h.length||0;const K=U.length||0;h.length=E+K;for(let lt=0;lt<K;lt++)h[E+lt]=U[lt]}else h.push(U)}}class G{constructor(_,E){this.i=_,this.j=E,this.h=0,this.g=null}get(){let _;return this.h>0?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function B(h){c.setTimeout(()=>{throw h},0)}function Z(){var h=I;let _=null;return h.g&&(_=h.g,h.g=h.g.next,h.g||(h.h=null),_.next=null),_}class nt{constructor(){this.h=this.g=null}add(_,E){const w=$.get();w.set(_,E),this.h?this.h.next=w:this.g=w,this.h=w}}var $=new G(()=>new ot,h=>h.reset());class ot{constructor(){this.next=this.g=this.h=null}set(_,E){this.h=_,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let at,ht=!1,I=new nt,R=()=>{const h=Promise.resolve(void 0);at=()=>{h.then(x)}};function x(){for(var h;h=Z();){try{h.h.call(h.g)}catch(E){B(E)}var _=$;_.j(h),_.h<100&&(_.h++,h.next=_.g,_.g=h)}ht=!1}function O(){this.u=this.u,this.C=this.C}O.prototype.u=!1,O.prototype.dispose=function(){this.u||(this.u=!0,this.N())},O.prototype[Symbol.dispose]=function(){this.dispose()},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function V(h,_){this.type=h,this.g=this.target=_,this.defaultPrevented=!1}V.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,_=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const E=()=>{};c.addEventListener("test",E,_),c.removeEventListener("test",E,_)}catch{}return h})();function D(h){return/^[\s\xa0]*$/.test(h)}function Zt(h,_){V.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,_)}A(Zt,V),Zt.prototype.init=function(h,_){const E=this.type=h.type,w=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=_,_=h.relatedTarget,_||(E=="mouseover"?_=h.fromElement:E=="mouseout"&&(_=h.toElement)),this.relatedTarget=_,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&Zt.Z.h.call(this)},Zt.prototype.h=function(){Zt.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var le="closure_listenable_"+(Math.random()*1e6|0),Q=0;function st(h,_,E,w,U){this.listener=h,this.proxy=null,this.src=_,this.type=E,this.capture=!!w,this.ha=U,this.key=++Q,this.da=this.fa=!1}function dt(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Ct(h,_,E){for(const w in h)_.call(E,h[w],w,h)}function Pt(h,_){for(const E in h)_.call(void 0,h[E],E,h)}function M(h){const _={};for(const E in h)_[E]=h[E];return _}const X="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ut(h,_){let E,w;for(let U=1;U<arguments.length;U++){w=arguments[U];for(E in w)h[E]=w[E];for(let K=0;K<X.length;K++)E=X[K],Object.prototype.hasOwnProperty.call(w,E)&&(h[E]=w[E])}}function ft(h){this.src=h,this.g={},this.h=0}ft.prototype.add=function(h,_,E,w,U){const K=h.toString();h=this.g[K],h||(h=this.g[K]=[],this.h++);const lt=Rt(h,_,w,U);return lt>-1?(_=h[lt],E||(_.fa=!1)):(_=new st(_,this.src,K,!!w,U),_.fa=E,h.push(_)),_};function At(h,_){const E=_.type;if(E in h.g){var w=h.g[E],U=Array.prototype.indexOf.call(w,_,void 0),K;(K=U>=0)&&Array.prototype.splice.call(w,U,1),K&&(dt(_),h.g[E].length==0&&(delete h.g[E],h.h--))}}function Rt(h,_,E,w){for(let U=0;U<h.length;++U){const K=h[U];if(!K.da&&K.listener==_&&K.capture==!!E&&K.ha==w)return U}return-1}var jt="closure_lm_"+(Math.random()*1e6|0),ye={};function ue(h,_,E,w,U){if(Array.isArray(_)){for(let K=0;K<_.length;K++)ue(h,_[K],E,w,U);return null}return E=Wr(E),h&&h[le]?h.J(_,E,d(w)?!!w.capture:!1,U):Kt(h,_,E,!1,w,U)}function Kt(h,_,E,w,U,K){if(!_)throw Error("Invalid event type");const lt=d(U)?!!U.capture:!!U;let Nt=Ci(h);if(Nt||(h[jt]=Nt=new ft(h)),E=Nt.add(_,E,w,lt,K),E.proxy)return E;if(w=hn(),E.proxy=w,w.src=h,w.listener=E,h.addEventListener)L||(U=lt),U===void 0&&(U=!1),h.addEventListener(_.toString(),w,U);else if(h.attachEvent)h.attachEvent(Gn(_.toString()),w);else if(h.addListener&&h.removeListener)h.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return E}function hn(){function h(E){return _.call(h.src,h.listener,E)}const _=$r;return h}function qs(h,_,E,w,U){if(Array.isArray(_))for(var K=0;K<_.length;K++)qs(h,_[K],E,w,U);else w=d(w)?!!w.capture:!!w,E=Wr(E),h&&h[le]?(h=h.i,K=String(_).toString(),K in h.g&&(_=h.g[K],E=Rt(_,E,w,U),E>-1&&(dt(_[E]),Array.prototype.splice.call(_,E,1),_.length==0&&(delete h.g[K],h.h--)))):h&&(h=Ci(h))&&(_=h.g[_.toString()],h=-1,_&&(h=Rt(_,E,w,U)),(E=h>-1?_[h]:null)&&Fs(E))}function Fs(h){if(typeof h!="number"&&h&&!h.da){var _=h.src;if(_&&_[le])At(_.i,h);else{var E=h.type,w=h.proxy;_.removeEventListener?_.removeEventListener(E,w,h.capture):_.detachEvent?_.detachEvent(Gn(E),w):_.addListener&&_.removeListener&&_.removeListener(w),(E=Ci(_))?(At(E,h),E.h==0&&(E.src=null,_[jt]=null)):dt(h)}}}function Gn(h){return h in ye?ye[h]:ye[h]="on"+h}function $r(h,_){if(h.da)h=!0;else{_=new Zt(_,this);const E=h.listener,w=h.ha||h.src;h.fa&&Fs(h),h=E.call(w,_)}return h}function Ci(h){return h=h[jt],h instanceof ft?h:null}var Ii="__closure_events_fn_"+(Math.random()*1e9>>>0);function Wr(h){return typeof h=="function"?h:(h[Ii]||(h[Ii]=function(_){return h.handleEvent(_)}),h[Ii])}function Te(){O.call(this),this.i=new ft(this),this.M=this,this.G=null}A(Te,O),Te.prototype[le]=!0,Te.prototype.removeEventListener=function(h,_,E,w){qs(this,h,_,E,w)};function Ce(h,_){var E,w=h.G;if(w)for(E=[];w;w=w.G)E.push(w);if(h=h.M,w=_.type||_,typeof _=="string")_=new V(_,h);else if(_ instanceof V)_.target=_.target||h;else{var U=_;_=new V(w,h),ut(_,U)}U=!0;let K,lt;if(E)for(lt=E.length-1;lt>=0;lt--)K=_.g=E[lt],U=ui(K,w,!0,_)&&U;if(K=_.g=h,U=ui(K,w,!0,_)&&U,U=ui(K,w,!1,_)&&U,E)for(lt=0;lt<E.length;lt++)K=_.g=E[lt],U=ui(K,w,!1,_)&&U}Te.prototype.N=function(){if(Te.Z.N.call(this),this.i){var h=this.i;for(const _ in h.g){const E=h.g[_];for(let w=0;w<E.length;w++)dt(E[w]);delete h.g[_],h.h--}}this.G=null},Te.prototype.J=function(h,_,E,w){return this.i.add(String(h),_,!1,E,w)},Te.prototype.K=function(h,_,E,w){return this.i.add(String(h),_,!0,E,w)};function ui(h,_,E,w){if(_=h.i.g[String(_)],!_)return!0;_=_.concat();let U=!0;for(let K=0;K<_.length;++K){const lt=_[K];if(lt&&!lt.da&&lt.capture==E){const Nt=lt.listener,xe=lt.ha||lt.src;lt.fa&&At(h.i,lt),U=Nt.call(xe,w)!==!1&&U}}return U&&!w.defaultPrevented}function pl(h,_){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=g(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(_)>2147483647?-1:c.setTimeout(h,_||0)}function Hs(h){h.g=pl(()=>{h.g=null,h.i&&(h.i=!1,Hs(h))},h.l);const _=h.h;h.h=null,h.m.apply(null,_)}class Ge extends O{constructor(_,E){super(),this.m=_,this.l=E,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:Hs(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function us(h){O.call(this),this.h=h,this.g={}}A(us,O);var Zr=[];function cs(h){Ct(h.g,function(_,E){this.g.hasOwnProperty(E)&&Fs(_)},h),h.g={}}us.prototype.N=function(){us.Z.N.call(this),cs(this)},us.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var _n=c.JSON.stringify,F=c.JSON.parse,ct=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function Tt(){}function Ot(){}var Yt={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function tn(){V.call(this,"d")}A(tn,V);function Kn(){V.call(this,"c")}A(Kn,V);var Ie={},gc=null;function Ya(){return gc=gc||new Te}Ie.Ia="serverreachability";function yc(h){V.call(this,Ie.Ia,h)}A(yc,V);function xi(h){const _=Ya();Ce(_,new yc(_))}Ie.STAT_EVENT="statevent";function Jr(h,_){V.call(this,Ie.STAT_EVENT,h),this.stat=_}A(Jr,V);function Oe(h){const _=Ya();Ce(_,new Jr(_,h))}Ie.Ja="timingevent";function Di(h,_){V.call(this,Ie.Ja,h),this.size=_}A(Di,V);function Ni(h,_){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},_)}function ci(){this.g=!0}ci.prototype.ua=function(){this.g=!1};function gd(h,_,E,w,U,K){h.info(function(){if(h.g)if(K){var lt="",Nt=K.split("&");for(let $t=0;$t<Nt.length;$t++){var xe=Nt[$t].split("=");if(xe.length>1){const me=xe[0];xe=xe[1];const $n=me.split("_");lt=$n.length>=2&&$n[1]=="type"?lt+(me+"="+xe+"&"):lt+(me+"=redacted&")}}}else lt=null;else lt=K;return"XMLHTTP REQ ("+w+") [attempt "+U+"]: "+_+`
`+E+`
`+lt})}function _c(h,_,E,w,U,K,lt){h.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+U+"]: "+_+`
`+E+`
`+K+" "+lt})}function Vi(h,_,E,w){h.info(function(){return"XMLHTTP TEXT ("+_+"): "+yd(h,E)+(w?" "+w:"")})}function ta(h,_){h.info(function(){return"TIMEOUT: "+_})}ci.prototype.info=function(){};function yd(h,_){if(!h.g)return _;if(!_)return null;try{const K=JSON.parse(_);if(K){for(h=0;h<K.length;h++)if(Array.isArray(K[h])){var E=K[h];if(!(E.length<2)){var w=E[1];if(Array.isArray(w)&&!(w.length<1)){var U=w[0];if(U!="noop"&&U!="stop"&&U!="close")for(let lt=1;lt<w.length;lt++)w[lt]=""}}}}return _n(K)}catch{return _}}var ea={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},gl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},yl;function na(){}A(na,Tt),na.prototype.g=function(){return new XMLHttpRequest},yl=new na;function hs(h){return encodeURIComponent(String(h))}function vc(h){var _=1;h=h.split(":");const E=[];for(;_>0&&h.length;)E.push(h.shift()),_--;return h.length&&E.push(h.join(":")),E}function hi(h,_,E,w){this.j=h,this.i=_,this.l=E,this.S=w||1,this.V=new us(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new fi}function fi(){this.i=null,this.g="",this.h=!1}var Me={},$e={};function Oi(h,_,E){h.M=1,h.A=ia(ke(_)),h.u=E,h.R=!0,Qa(h,null)}function Qa(h,_){h.F=Date.now(),Mi(h),h.B=ke(h.A);var E=h.B,w=h.S;Array.isArray(w)||(w=[String(w)]),Za(E.i,"t",w),h.C=0,E=h.j.L,h.h=new fi,h.g=Mc(h.j,E?_:null,!h.u),h.P>0&&(h.O=new Ge(g(h.Y,h,h.g),h.P)),_=h.V,E=h.g,w=h.ba;var U="readystatechange";Array.isArray(U)||(U&&(Zr[0]=U.toString()),U=Zr);for(let K=0;K<U.length;K++){const lt=ue(E,U[K],w||_.handleEvent,!1,_.h||_);if(!lt)break;_.g[lt.key]=lt}_=h.J?M(h.J):{},h.u?(h.v||(h.v="POST"),_["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,_)):(h.v="GET",h.g.ea(h.B,h.v,null,_)),xi(),gd(h.i,h.v,h.B,h.l,h.S,h.u)}hi.prototype.ba=function(h){h=h.target;const _=this.O;_&&pi(h)==3?_.j():this.Y(h)},hi.prototype.Y=function(h){try{if(h==this.g)t:{const Nt=pi(this.g),xe=this.g.ya(),$t=this.g.ca();if(!(Nt<3)&&(Nt!=3||this.g&&(this.h.h||this.g.la()||en(this.g)))){this.K||Nt!=4||xe==7||(xe==8||$t<=0?xi(3):xi(2)),Pi(this);var _=this.g.ca();this.X=_;var E=_d(this);if(this.o=_==200,_c(this.i,this.v,this.B,this.l,this.S,Nt,_),this.o){if(this.U&&!this.L){e:{if(this.g){var w,U=this.g;if((w=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(w)){var K=w;break e}}K=null}if(h=K)Vi(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ki(this,h);else{this.o=!1,this.m=3,Oe(12),On(this),Yn(this);break t}}if(this.R){h=!0;let me;for(;!this.K&&this.C<E.length;)if(me=Ec(this,E),me==$e){Nt==4&&(this.m=4,Oe(14),h=!1),Vi(this.i,this.l,null,"[Incomplete Response]");break}else if(me==Me){this.m=4,Oe(15),Vi(this.i,this.l,E,"[Invalid Chunk]"),h=!1;break}else Vi(this.i,this.l,me,null),ki(this,me);if(Tc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Nt!=4||E.length!=0||this.h.h||(this.m=1,Oe(16),h=!1),this.o=this.o&&h,!h)Vi(this.i,this.l,E,"[Invalid Chunked Response]"),On(this),Yn(this);else if(E.length>0&&!this.W){this.W=!0;var lt=this.j;lt.g==this&&lt.aa&&!lt.P&&(lt.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),Vl(lt),lt.P=!0,Oe(11))}}else Vi(this.i,this.l,E,null),ki(this,E);Nt==4&&On(this),this.o&&!this.K&&(Nt==4?Dc(this.j,this):(this.o=!1,Mi(this)))}else ds(this.g),_==400&&E.indexOf("Unknown SID")>0?(this.m=3,Oe(12)):(this.m=0,Oe(13)),On(this),Yn(this)}}}catch{}};function _d(h){if(!Tc(h))return h.g.la();const _=en(h.g);if(_==="")return"";let E="";const w=_.length,U=pi(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return On(h),Yn(h),"";h.h.i=new c.TextDecoder}for(let K=0;K<w;K++)h.h.h=!0,E+=h.h.i.decode(_[K],{stream:!(U&&K==w-1)});return _.length=0,h.h.g+=E,h.C=0,h.h.g}function Tc(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function Ec(h,_){var E=h.C,w=_.indexOf(`
`,E);return w==-1?$e:(E=Number(_.substring(E,w)),isNaN(E)?Me:(w+=1,w+E>_.length?$e:(_=_.slice(w,w+E),h.C=w+E,_)))}hi.prototype.cancel=function(){this.K=!0,On(this)};function Mi(h){h.T=Date.now()+h.H,Xa(h,h.H)}function Xa(h,_){if(h.D!=null)throw Error("WatchDog timer not null");h.D=Ni(g(h.aa,h),_)}function Pi(h){h.D&&(c.clearTimeout(h.D),h.D=null)}hi.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(ta(this.i,this.B),this.M!=2&&(xi(),Oe(17)),On(this),this.m=2,Yn(this)):Xa(this,this.T-h)};function Yn(h){h.j.I==0||h.K||Dc(h.j,h)}function On(h){Pi(h);var _=h.O;_&&typeof _.dispose=="function"&&_.dispose(),h.O=null,cs(h.V),h.g&&(_=h.g,h.g=null,_.abort(),_.dispose())}function ki(h,_){try{var E=h.j;if(E.I!=0&&(E.g==h||ji(E.h,h))){if(!h.L&&ji(E.h,h)&&E.I==3){try{var w=E.Ba.g.parse(_)}catch{w=null}if(Array.isArray(w)&&w.length==3){var U=w;if(U[0]==0){t:if(!E.v){if(E.g)if(E.g.F+3e3<h.F)io(E),Zs(E);else break t;ca(E),Oe(18)}}else E.xa=U[1],0<E.xa-E.K&&U[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=Ni(g(E.Va,E),6e3));Li(E.h)<=1&&E.ta&&(E.ta=void 0)}else Hi(E,11)}else if((h.L||E.g==h)&&io(E),!D(_))for(U=E.Ba.g.parse(_),_=0;_<U.length;_++){let $t=U[_];const me=$t[0];if(!(me<=E.K))if(E.K=me,$t=$t[1],E.I==2)if($t[0]=="c"){E.M=$t[1],E.ba=$t[2];const $n=$t[3];$n!=null&&(E.ka=$n,E.j.info("VER="+E.ka));const Gi=$t[4];Gi!=null&&(E.za=Gi,E.j.info("SVER="+E.za));const gi=$t[5];gi!=null&&typeof gi=="number"&&gi>0&&(w=1.5*gi,E.O=w,E.j.info("backChannelRequestTimeoutMs_="+w)),w=E;const yi=h.g;if(yi){const ha=yi.g?yi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ha){var K=w.h;K.g||ha.indexOf("spdy")==-1&&ha.indexOf("quic")==-1&&ha.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(Tl(K,K.h),K.h=null))}if(w.G){const so=yi.g?yi.g.getResponseHeader("X-HTTP-Session-Id"):null;so&&(w.wa=so,te(w.J,w.G,so))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-h.F,E.j.info("Handshake RTT: "+E.T+"ms")),w=E;var lt=h;if(w.na=Oc(w,w.L?w.ba:null,w.W),lt.L){El(w.h,lt);var Nt=lt,xe=w.O;xe&&(Nt.H=xe),Nt.D&&(Pi(Nt),Mi(Nt)),w.g=lt}else Ic(w);E.i.length>0&&Fi(E)}else $t[0]!="stop"&&$t[0]!="close"||Hi(E,7);else E.I==3&&($t[0]=="stop"||$t[0]=="close"?$t[0]=="stop"?Hi(E,7):Dl(E):$t[0]!="noop"&&E.l&&E.l.qa($t),E.A=0)}}xi(4)}catch{}}var Pe=class{constructor(h,_){this.g=h,this.map=_}};function _l(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function vl(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Li(h){return h.h?1:h.g?h.g.size:0}function ji(h,_){return h.h?h.h==_:h.g?h.g.has(_):!1}function Tl(h,_){h.g?h.g.add(_):h.h=_}function El(h,_){h.h&&h.h==_?h.h=null:h.g&&h.g.has(_)&&h.g.delete(_)}_l.prototype.cancel=function(){if(this.i=Al(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Al(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let _=h.i;for(const E of h.g.values())_=_.concat(E.G);return _}return C(h.i)}var Ac=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function $a(h,_){if(h){h=h.split("&");for(let E=0;E<h.length;E++){const w=h[E].indexOf("=");let U,K=null;w>=0?(U=h[E].substring(0,w),K=h[E].substring(w+1)):U=h[E],_(U,K?decodeURIComponent(K.replace(/\+/g," ")):"")}}}function Mn(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let _;h instanceof Mn?(this.l=h.l,We(this,h.j),this.o=h.o,this.g=h.g,Gs(this,h.u),this.h=h.h,Sl(this,Rc(h.i)),this.m=h.m):h&&(_=String(h).match(Ac))?(this.l=!1,We(this,_[1]||"",!0),this.o=Ui(_[2]||""),this.g=Ui(_[3]||"",!0),Gs(this,_[4]),this.h=Ui(_[5]||"",!0),Sl(this,_[6]||"",!0),this.m=Ui(_[7]||"")):(this.l=!1,this.i=new Ys(null,this.l))}Mn.prototype.toString=function(){const h=[];var _=this.j;_&&h.push(sa(_,Wa,!0),":");var E=this.g;return(E||_=="file")&&(h.push("//"),(_=this.o)&&h.push(sa(_,Wa,!0),"@"),h.push(hs(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&h.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&h.push("/"),h.push(sa(E,E.charAt(0)=="/"?bl:Sc,!0))),(E=this.i.toString())&&h.push("?",E),(E=this.m)&&h.push("#",sa(E,bc)),h.join("")},Mn.prototype.resolve=function(h){const _=ke(this);let E=!!h.j;E?We(_,h.j):E=!!h.o,E?_.o=h.o:E=!!h.g,E?_.g=h.g:E=h.u!=null;var w=h.h;if(E)Gs(_,h.u);else if(E=!!h.h){if(w.charAt(0)!="/")if(this.g&&!this.h)w="/"+w;else{var U=_.h.lastIndexOf("/");U!=-1&&(w=_.h.slice(0,U+1)+w)}if(U=w,U==".."||U==".")w="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){w=U.lastIndexOf("/",0)==0,U=U.split("/");const K=[];for(let lt=0;lt<U.length;){const Nt=U[lt++];Nt=="."?w&&lt==U.length&&K.push(""):Nt==".."?((K.length>1||K.length==1&&K[0]!="")&&K.pop(),w&&lt==U.length&&K.push("")):(K.push(Nt),w=!0)}w=K.join("/")}else w=U}return E?_.h=w:E=h.i.toString()!=="",E?Sl(_,Rc(h.i)):E=!!h.m,E&&(_.m=h.m),_};function ke(h){return new Mn(h)}function We(h,_,E){h.j=E?Ui(_,!0):_,h.j&&(h.j=h.j.replace(/:$/,""))}function Gs(h,_){if(_){if(_=Number(_),isNaN(_)||_<0)throw Error("Bad port number "+_);h.u=_}else h.u=null}function Sl(h,_,E){_ instanceof Ys?(h.i=_,Ja(h.i,h.l)):(E||(_=sa(_,Ks)),h.i=new Ys(_,h.l))}function te(h,_,E){h.i.set(_,E)}function ia(h){return te(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function Ui(h,_){return h?_?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function sa(h,_,E){return typeof h=="string"?(h=encodeURI(h).replace(_,Sn),E&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Sn(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Wa=/[#\/\?@]/g,Sc=/[#\?:]/g,bl=/[#\?]/g,Ks=/[#\?@]/g,bc=/#/g;function Ys(h,_){this.h=this.g=null,this.i=h||null,this.j=!!_}function bn(h){h.g||(h.g=new Map,h.h=0,h.i&&$a(h.i,function(_,E){h.add(decodeURIComponent(_.replace(/\+/g," ")),E)}))}e=Ys.prototype,e.add=function(h,_){bn(this),this.i=null,h=Qs(this,h);let E=this.g.get(h);return E||this.g.set(h,E=[]),E.push(_),this.h+=1,this};function wc(h,_){bn(h),_=Qs(h,_),h.g.has(_)&&(h.i=null,h.h-=h.g.get(_).length,h.g.delete(_))}function wl(h,_){return bn(h),_=Qs(h,_),h.g.has(_)}e.forEach=function(h,_){bn(this),this.g.forEach(function(E,w){E.forEach(function(U){h.call(_,U,w,this)},this)},this)};function Rl(h,_){bn(h);let E=[];if(typeof _=="string")wl(h,_)&&(E=E.concat(h.g.get(Qs(h,_))));else for(h=Array.from(h.g.values()),_=0;_<h.length;_++)E=E.concat(h[_]);return E}e.set=function(h,_){return bn(this),this.i=null,h=Qs(this,h),wl(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[_]),this.h+=1,this},e.get=function(h,_){return h?(h=Rl(this,h),h.length>0?String(h[0]):_):_};function Za(h,_,E){wc(h,_),E.length>0&&(h.i=null,h.g.set(Qs(h,_),C(E)),h.h+=E.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],_=Array.from(this.g.keys());for(let w=0;w<_.length;w++){var E=_[w];const U=hs(E);E=Rl(this,E);for(let K=0;K<E.length;K++){let lt=U;E[K]!==""&&(lt+="="+hs(E[K])),h.push(lt)}}return this.i=h.join("&")};function Rc(h){const _=new Ys;return _.i=h.i,h.g&&(_.g=new Map(h.g),_.h=h.h),_}function Qs(h,_){return _=String(_),h.j&&(_=_.toLowerCase()),_}function Ja(h,_){_&&!h.j&&(bn(h),h.i=null,h.g.forEach(function(E,w){const U=w.toLowerCase();w!=U&&(wc(this,w),Za(this,U,E))},h)),h.j=_}function di(h,_){const E=new ci;if(c.Image){const w=new Image;w.onload=y(Qn,E,"TestLoadImage: loaded",!0,_,w),w.onerror=y(Qn,E,"TestLoadImage: error",!1,_,w),w.onabort=y(Qn,E,"TestLoadImage: abort",!1,_,w),w.ontimeout=y(Qn,E,"TestLoadImage: timeout",!1,_,w),c.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=h}else _(!1)}function Cl(h,_){const E=new ci,w=new AbortController,U=setTimeout(()=>{w.abort(),Qn(E,"TestPingServer: timeout",!1,_)},1e4);fetch(h,{signal:w.signal}).then(K=>{clearTimeout(U),K.ok?Qn(E,"TestPingServer: ok",!0,_):Qn(E,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(U),Qn(E,"TestPingServer: error",!1,_)})}function Qn(h,_,E,w,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),w(E)}catch{}}function Xs(){this.g=new ct}function Bi(h){this.i=h.Sb||null,this.h=h.ab||!1}A(Bi,Tt),Bi.prototype.g=function(){return new ra(this.i,this.h)};function ra(h,_){Te.call(this),this.H=h,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}A(ra,Te),e=ra.prototype,e.open=function(h,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=_,this.readyState=1,mi(this)},e.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const _={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(_.body=h),(this.H||c).fetch(new Request(this.D,_)).then(this.Pa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,$s(this)),this.readyState=0},e.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,mi(this)),this.g&&(this.readyState=3,mi(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;to(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function to(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}e.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var _=h.value?h.value:new Uint8Array(0);(_=this.B.decode(_,{stream:!h.done}))&&(this.response=this.responseText+=_)}h.done?$s(this):mi(this),this.readyState==3&&to(this)}},e.Oa=function(h){this.g&&(this.response=this.responseText=h,$s(this))},e.Na=function(h){this.g&&(this.response=h,$s(this))},e.ga=function(){this.g&&$s(this)};function $s(h){h.readyState=4,h.l=null,h.j=null,h.B=null,mi(h)}e.setRequestHeader=function(h,_){this.A.append(h,_)},e.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],_=this.h.entries();for(var E=_.next();!E.done;)E=E.value,h.push(E[0]+": "+E[1]),E=_.next();return h.join(`\r
`)};function mi(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(ra.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Xn(h){let _="";return Ct(h,function(E,w){_+=w,_+=":",_+=E,_+=`\r
`}),_}function aa(h,_,E){t:{for(w in E){var w=!1;break t}w=!0}w||(E=Xn(E),typeof h=="string"?E!=null&&hs(E):te(h,_,E))}function ie(h){Te.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}A(ie,Te);var zi=/^https?$/i,Il=["POST","PUT"];e=ie.prototype,e.Fa=function(h){this.H=h},e.ea=function(h,_,E,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);_=_?_.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():yl.g(),this.g.onreadystatechange=S(g(this.Ca,this));try{this.B=!0,this.g.open(_,String(h),!0),this.B=!1}catch(K){oa(this,K);return}if(h=E||"",E=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var U in w)E.set(U,w[U]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const K of w.keys())E.set(K,w.get(K));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(E.keys()).find(K=>K.toLowerCase()=="content-type"),U=c.FormData&&h instanceof c.FormData,!(Array.prototype.indexOf.call(Il,_,void 0)>=0)||w||U||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,lt]of E)this.g.setRequestHeader(K,lt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(K){oa(this,K)}};function oa(h,_){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=_,h.o=5,xl(h),fs(h)}function xl(h){h.A||(h.A=!0,Ce(h,"complete"),Ce(h,"error"))}e.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,Ce(this,"complete"),Ce(this,"abort"),fs(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),fs(this,!0)),ie.Z.N.call(this)},e.Ca=function(){this.u||(this.B||this.v||this.j?la(this):this.Xa())},e.Xa=function(){la(this)};function la(h){if(h.h&&typeof u<"u"){if(h.v&&pi(h)==4)setTimeout(h.Ca.bind(h),0);else if(Ce(h,"readystatechange"),pi(h)==4){h.h=!1;try{const K=h.ca();t:switch(K){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break t;default:_=!1}var E;if(!(E=_)){var w;if(w=K===0){let lt=String(h.D).match(Ac)[1]||null;!lt&&c.self&&c.self.location&&(lt=c.self.location.protocol.slice(0,-1)),w=!zi.test(lt?lt.toLowerCase():"")}E=w}if(E)Ce(h,"complete"),Ce(h,"success");else{h.o=6;try{var U=pi(h)>2?h.g.statusText:""}catch{U=""}h.l=U+" ["+h.ca()+"]",xl(h)}}finally{fs(h)}}}}function fs(h,_){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const E=h.g;h.g=null,_||Ce(h,"ready");try{E.onreadystatechange=null}catch{}}}e.isActive=function(){return!!this.g};function pi(h){return h.g?h.g.readyState:0}e.ca=function(){try{return pi(this)>2?this.g.status:-1}catch{return-1}},e.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.La=function(h){if(this.g){var _=this.g.responseText;return h&&_.indexOf(h)==0&&(_=_.substring(h.length)),F(_)}};function en(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function ds(h){const _={};h=(h.g&&pi(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<h.length;w++){if(D(h[w]))continue;var E=vc(h[w]);const U=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const K=_[U]||[];_[U]=K,K.push(E)}Pt(_,function(w){return w.join(", ")})}e.ya=function(){return this.o},e.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function qi(h,_,E){return E&&E.internalChannelParams&&E.internalChannelParams[h]||_}function Ws(h){this.za=0,this.i=[],this.j=new ci,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=qi("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=qi("baseRetryDelayMs",5e3,h),this.Za=qi("retryDelaySeedMs",1e4,h),this.Ta=qi("forwardChannelMaxRetries",2,h),this.va=qi("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new _l(h&&h.concurrentRequestLimit),this.Ba=new Xs,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}e=Ws.prototype,e.ka=8,e.I=1,e.connect=function(h,_,E,w){Oe(0),this.W=h,this.H=_||{},E&&w!==void 0&&(this.H.OSID=E,this.H.OAID=w),this.F=this.X,this.J=Oc(this,null,this.W),Fi(this)};function Dl(h){if(eo(h),h.I==3){var _=h.V++,E=ke(h.J);if(te(E,"SID",h.M),te(E,"RID",_),te(E,"TYPE","terminate"),ua(h,E),_=new hi(h,h.j,_),_.M=2,_.A=ia(ke(E)),E=!1,c.navigator&&c.navigator.sendBeacon)try{E=c.navigator.sendBeacon(_.A.toString(),"")}catch{}!E&&c.Image&&(new Image().src=_.A,E=!0),E||(_.g=Mc(_.j,null),_.g.ea(_.A)),_.F=Date.now(),Mi(_)}Vc(h)}function Zs(h){h.g&&(Vl(h),h.g.cancel(),h.g=null)}function eo(h){Zs(h),h.v&&(c.clearTimeout(h.v),h.v=null),io(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&c.clearTimeout(h.m),h.m=null)}function Fi(h){if(!vl(h.h)&&!h.m){h.m=!0;var _=h.Ea;at||R(),ht||(at(),ht=!0),I.add(_,h),h.D=0}}function no(h,_){return Li(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=_.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=Ni(g(h.Ea,h,_),Nc(h,h.D)),h.D++,!0)}e.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const U=new hi(this,this.j,h);let K=this.o;if(this.U&&(K?(K=M(K),ut(K,this.U)):K=this.U),this.u!==null||this.R||(U.J=K,K=null),this.S)t:{for(var _=0,E=0;E<this.i.length;E++){e:{var w=this.i[E];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break e}w=void 0}if(w===void 0)break;if(_+=w,_>4096){_=E;break t}if(_===4096||E===this.i.length-1){_=E+1;break t}}_=1e3}else _=1e3;_=Cc(this,U,_),E=ke(this.J),te(E,"RID",h),te(E,"CVER",22),this.G&&te(E,"X-HTTP-Session-Id",this.G),ua(this,E),K&&(this.R?_="headers="+hs(Xn(K))+"&"+_:this.u&&aa(E,this.u,K)),Tl(this.h,U),this.Ra&&te(E,"TYPE","init"),this.S?(te(E,"$req",_),te(E,"SID","null"),U.U=!0,Oi(U,E,null)):Oi(U,E,_),this.I=2}}else this.I==3&&(h?Nl(this,h):this.i.length==0||vl(this.h)||Nl(this))};function Nl(h,_){var E;_?E=_.l:E=h.V++;const w=ke(h.J);te(w,"SID",h.M),te(w,"RID",E),te(w,"AID",h.K),ua(h,w),h.u&&h.o&&aa(w,h.u,h.o),E=new hi(h,h.j,E,h.D+1),h.u===null&&(E.J=h.o),_&&(h.i=_.G.concat(h.i)),_=Cc(h,E,1e3),E.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),Tl(h.h,E),Oi(E,w,_)}function ua(h,_){h.H&&Ct(h.H,function(E,w){te(_,w,E)}),h.l&&Ct({},function(E,w){te(_,w,E)})}function Cc(h,_,E){E=Math.min(h.i.length,E);const w=h.l?g(h.l.Ka,h.l,h):null;t:{var U=h.i;let Nt=-1;for(;;){const xe=["count="+E];Nt==-1?E>0?(Nt=U[0].g,xe.push("ofs="+Nt)):Nt=0:xe.push("ofs="+Nt);let $t=!0;for(let me=0;me<E;me++){var K=U[me].g;const $n=U[me].map;if(K-=Nt,K<0)Nt=Math.max(0,U[me].g-100),$t=!1;else try{K="req"+K+"_"||"";try{var lt=$n instanceof Map?$n:Object.entries($n);for(const[Gi,gi]of lt){let yi=gi;d(gi)&&(yi=_n(gi)),xe.push(K+Gi+"="+encodeURIComponent(yi))}}catch(Gi){throw xe.push(K+"type="+encodeURIComponent("_badmap")),Gi}}catch{w&&w($n)}}if($t){lt=xe.join("&");break t}}lt=void 0}return h=h.i.splice(0,E),_.G=h,lt}function Ic(h){if(!h.g&&!h.v){h.Y=1;var _=h.Da;at||R(),ht||(at(),ht=!0),I.add(_,h),h.A=0}}function ca(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=Ni(g(h.Da,h),Nc(h,h.A)),h.A++,!0)}e.Da=function(){if(this.v=null,xc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=Ni(g(this.Wa,this),h)}},e.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Oe(10),Zs(this),xc(this))};function Vl(h){h.B!=null&&(c.clearTimeout(h.B),h.B=null)}function xc(h){h.g=new hi(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var _=ke(h.na);te(_,"RID","rpc"),te(_,"SID",h.M),te(_,"AID",h.K),te(_,"CI",h.F?"0":"1"),!h.F&&h.ia&&te(_,"TO",h.ia),te(_,"TYPE","xmlhttp"),ua(h,_),h.u&&h.o&&aa(_,h.u,h.o),h.O&&(h.g.H=h.O);var E=h.g;h=h.ba,E.M=1,E.A=ia(ke(_)),E.u=null,E.R=!0,Qa(E,h)}e.Va=function(){this.C!=null&&(this.C=null,Zs(this),ca(this),Oe(19))};function io(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function Dc(h,_){var E=null;if(h.g==_){io(h),Vl(h),h.g=null;var w=2}else if(ji(h.h,_))E=_.G,El(h.h,_),w=1;else return;if(h.I!=0){if(_.o)if(w==1){E=_.u?_.u.length:0,_=Date.now()-_.F;var U=h.D;w=Ya(),Ce(w,new Di(w,E)),Fi(h)}else Ic(h);else if(U=_.m,U==3||U==0&&_.X>0||!(w==1&&no(h,_)||w==2&&ca(h)))switch(E&&E.length>0&&(_=h.h,_.i=_.i.concat(E)),U){case 1:Hi(h,5);break;case 4:Hi(h,10);break;case 3:Hi(h,6);break;default:Hi(h,2)}}}function Nc(h,_){let E=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(E*=2),E*_}function Hi(h,_){if(h.j.info("Error code "+_),_==2){var E=g(h.bb,h),w=h.Ua;const U=!w;w=new Mn(w||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||We(w,"https"),ia(w),U?di(w.toString(),E):Cl(w.toString(),E)}else Oe(2);h.I=0,h.l&&h.l.pa(_),Vc(h),eo(h)}e.bb=function(h){h?(this.j.info("Successfully pinged google.com"),Oe(2)):(this.j.info("Failed to ping google.com"),Oe(1))};function Vc(h){if(h.I=0,h.ja=[],h.l){const _=Al(h.h);(_.length!=0||h.i.length!=0)&&(k(h.ja,_),k(h.ja,h.i),h.h.i.length=0,C(h.i),h.i.length=0),h.l.oa()}}function Oc(h,_,E){var w=E instanceof Mn?ke(E):new Mn(E);if(w.g!="")_&&(w.g=_+"."+w.g),Gs(w,w.u);else{var U=c.location;w=U.protocol,_=_?_+"."+U.hostname:U.hostname,U=+U.port;const K=new Mn(null);w&&We(K,w),_&&(K.g=_),U&&Gs(K,U),E&&(K.h=E),w=K}return E=h.G,_=h.wa,E&&_&&te(w,E,_),te(w,"VER",h.ka),ua(h,w),w}function Mc(h,_,E){if(_&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return _=h.Aa&&!h.ma?new ie(new Bi({ab:E})):new ie(h.ma),_.Fa(h.L),_}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function Pc(){}e=Pc.prototype,e.ra=function(){},e.qa=function(){},e.pa=function(){},e.oa=function(){},e.isActive=function(){return!0},e.Ka=function(){};function Js(){}Js.prototype.g=function(h,_){return new vn(h,_)};function vn(h,_){Te.call(this),this.g=new Ws(_),this.l=h,this.h=_&&_.messageUrlParams||null,h=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(h?h["X-WebChannel-Content-Type"]=_.messageContentType:h={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.sa&&(h?h["X-WebChannel-Client-Profile"]=_.sa:h={"X-WebChannel-Client-Profile":_.sa}),this.g.U=h,(h=_&&_.Qb)&&!D(h)&&(this.g.u=h),this.A=_&&_.supportsCrossDomainXhr||!1,this.v=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!D(_)&&(this.g.G=_,h=this.h,h!==null&&_ in h&&(h=this.h,_ in h&&delete h[_])),this.j=new ms(this)}A(vn,Te),vn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},vn.prototype.close=function(){Dl(this.g)},vn.prototype.o=function(h){var _=this.g;if(typeof h=="string"){var E={};E.__data__=h,h=E}else this.v&&(E={},E.__data__=_n(h),h=E);_.i.push(new Pe(_.Ya++,h)),_.I==3&&Fi(_)},vn.prototype.N=function(){this.g.l=null,delete this.j,Dl(this.g),delete this.g,vn.Z.N.call(this)};function kc(h){tn.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var _=h.__sm__;if(_){t:{for(const E in _){h=E;break t}h=void 0}(this.i=h)&&(h=this.i,_=_!==null&&h in _?_[h]:void 0),this.data=_}else this.data=h}A(kc,tn);function Lc(){Kn.call(this),this.status=1}A(Lc,Kn);function ms(h){this.g=h}A(ms,Pc),ms.prototype.ra=function(){Ce(this.g,"a")},ms.prototype.qa=function(h){Ce(this.g,new kc(h))},ms.prototype.pa=function(h){Ce(this.g,new Lc)},ms.prototype.oa=function(){Ce(this.g,"b")},Js.prototype.createWebChannel=Js.prototype.g,vn.prototype.send=vn.prototype.o,vn.prototype.open=vn.prototype.m,vn.prototype.close=vn.prototype.close,$b=function(){return new Js},Xb=function(){return Ya()},Qb=Ie,sg={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ea.NO_ERROR=0,ea.TIMEOUT=8,ea.HTTP_ERROR=6,rf=ea,gl.COMPLETE="complete",Yb=gl,Ot.EventType=Yt,Yt.OPEN="a",Yt.CLOSE="b",Yt.ERROR="c",Yt.MESSAGE="d",Te.prototype.listen=Te.prototype.J,Su=Ot,ie.prototype.listenOnce=ie.prototype.K,ie.prototype.getLastError=ie.prototype.Ha,ie.prototype.getLastErrorCode=ie.prototype.ya,ie.prototype.getStatus=ie.prototype.ca,ie.prototype.getResponseJson=ie.prototype.La,ie.prototype.getResponseText=ie.prototype.la,ie.prototype.send=ie.prototype.ea,ie.prototype.setWithCredentials=ie.prototype.Fa,Kb=ie}).apply(typeof qh<"u"?qh:typeof self<"u"?self:typeof window<"u"?window:{});const V0="@firebase/firestore",O0="4.9.3";class mn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}mn.UNAUTHENTICATED=new mn(null),mn.GOOGLE_CREDENTIALS=new mn("google-credentials-uid"),mn.FIRST_PARTY=new mn("first-party-uid"),mn.MOCK_USER=new mn("mock-user");let ol="12.7.0";const Ba=new Qg("@firebase/firestore");function Po(){return Ba.logLevel}function pt(e,...t){if(Ba.logLevel<=zt.DEBUG){const n=t.map(ry);Ba.debug(`Firestore (${ol}): ${e}`,...n)}}function ks(e,...t){if(Ba.logLevel<=zt.ERROR){const n=t.map(ry);Ba.error(`Firestore (${ol}): ${e}`,...n)}}function Zo(e,...t){if(Ba.logLevel<=zt.WARN){const n=t.map(ry);Ba.warn(`Firestore (${ol}): ${e}`,...n)}}function ry(e){if(typeof e=="string")return e;try{return(function(n){return JSON.stringify(n)})(e)}catch{return e}}function bt(e,t,n){let s="Unexpected state";typeof t=="string"?s=t:n=t,Wb(e,s,n)}function Wb(e,t,n){let s=`FIRESTORE (${ol}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw ks(s),new Error(s)}function Jt(e,t,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,e||Wb(t,o,s)}function Dt(e,t){return e}const et={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class mt extends ls{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Mr{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}}class Zb{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class J2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable((()=>n(mn.UNAUTHENTICATED)))}shutdown(){}}class tV{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class eV{constructor(t){this.t=t,this.currentUser=mn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Jt(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new Mr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Mr,t.enqueueRetryable((()=>o(this.currentUser)))};const c=()=>{const p=u;t.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},d=p=>{pt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((p=>d(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?d(p):(pt("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Mr)}}),0),c()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==t?(pt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Jt(typeof s.accessToken=="string",31837,{l:s}),new Zb(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Jt(t===null||typeof t=="string",2055,{h:t}),new mn(t)}}class nV{constructor(t,n,s){this.P=t,this.T=n,this.I=s,this.type="FirstParty",this.user=mn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class iV{constructor(t,n,s){this.P=t,this.T=n,this.I=s}getToken(){return Promise.resolve(new nV(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable((()=>n(mn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class M0{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class sV{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,qn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){Jt(this.o===void 0,3512);const s=u=>{u.error!=null&&pt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const c=u.token!==this.m;return this.m=u.token,pt("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable((()=>s(u)))};const o=u=>{pt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):pt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new M0(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((n=>n?(Jt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new M0(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function rV(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<e;s++)n[s]=Math.floor(256*Math.random());return n}class ay{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=rV(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=t.charAt(o[u]%62))}return s}}function qt(e,t){return e<t?-1:e>t?1:0}function rg(e,t){const n=Math.min(e.length,t.length);for(let s=0;s<n;s++){const o=e.charAt(s),u=t.charAt(s);if(o!==u)return wp(o)===wp(u)?qt(o,u):wp(o)?1:-1}return qt(e.length,t.length)}const aV=55296,oV=57343;function wp(e){const t=e.charCodeAt(0);return t>=aV&&t<=oV}function Jo(e,t,n){return e.length===t.length&&e.every(((s,o)=>n(s,t[o])))}const P0="__name__";class $i{constructor(t,n,s){n===void 0?n=0:n>t.length&&bt(637,{offset:n,range:t.length}),s===void 0?s=t.length-n:s>t.length-n&&bt(1746,{length:s,range:t.length-n}),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return $i.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof $i?t.forEach((s=>{n.push(s)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let o=0;o<s;o++){const u=$i.compareSegments(t.get(o),n.get(o));if(u!==0)return u}return qt(t.length,n.length)}static compareSegments(t,n){const s=$i.isNumericId(t),o=$i.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?$i.extractNumericId(t).compare($i.extractNumericId(n)):rg(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Or.fromString(t.substring(4,t.length-2))}}class ce extends $i{construct(t,n,s){return new ce(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new mt(et.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new ce(n)}static emptyPath(){return new ce([])}}const lV=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class un extends $i{construct(t,n,s){return new un(t,n,s)}static isValidIdentifier(t){return lV.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),un.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===P0}static keyField(){return new un([P0])}static fromServerFormat(t){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new mt(et.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let c=!1;for(;o<t.length;){const d=t[o];if(d==="\\"){if(o+1===t.length)throw new mt(et.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new mt(et.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=p,o+=2}else d==="`"?(c=!c,o++):d!=="."||c?(s+=d,o++):(u(),o++)}if(u(),c)throw new mt(et.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new un(n)}static emptyPath(){return new un([])}}class vt{constructor(t){this.path=t}static fromPath(t){return new vt(ce.fromString(t))}static fromName(t){return new vt(ce.fromString(t).popFirst(5))}static empty(){return new vt(ce.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ce.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return ce.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new vt(new ce(t.slice()))}}function Jb(e,t,n){if(!n)throw new mt(et.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function uV(e,t,n,s){if(t===!0&&s===!0)throw new mt(et.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function k0(e){if(!vt.isDocumentKey(e))throw new mt(et.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function L0(e){if(vt.isDocumentKey(e))throw new mt(et.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function tw(e){return typeof e=="object"&&e!==null&&(Object.getPrototypeOf(e)===Object.prototype||Object.getPrototypeOf(e)===null)}function Xf(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=(function(s){return s.constructor?s.constructor.name:null})(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":bt(12329,{type:typeof e})}function za(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new mt(et.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Xf(e);throw new mt(et.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}function He(e,t){const n={typeString:e};return t&&(n.value=t),n}function sc(e,t){if(!tw(e))throw new mt(et.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in t)if(t[s]){const o=t[s].typeString,u="value"in t[s]?{value:t[s].value}:void 0;if(!(s in e)){n=`JSON missing required field: '${s}'`;break}const c=e[s];if(o&&typeof c!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&c!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new mt(et.INVALID_ARGUMENT,n);return!0}const j0=-62135596800,U0=1e6;class de{static now(){return de.fromMillis(Date.now())}static fromDate(t){return de.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor((t-1e3*n)*U0);return new de(n,s)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new mt(et.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new mt(et.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<j0)throw new mt(et.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new mt(et.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/U0}_compareTo(t){return this.seconds===t.seconds?qt(this.nanoseconds,t.nanoseconds):qt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:de._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(sc(t,de._jsonSchema))return new de(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-j0;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}de._jsonSchemaVersion="firestore/timestamp/1.0",de._jsonSchema={type:He("string",de._jsonSchemaVersion),seconds:He("number"),nanoseconds:He("number")};class It{static fromTimestamp(t){return new It(t)}static min(){return new It(new de(0,0))}static max(){return new It(new de(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const zu=-1;function cV(e,t){const n=e.toTimestamp().seconds,s=e.toTimestamp().nanoseconds+1,o=It.fromTimestamp(s===1e9?new de(n+1,0):new de(n,s));return new Lr(o,vt.empty(),t)}function hV(e){return new Lr(e.readTime,e.key,zu)}class Lr{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new Lr(It.min(),vt.empty(),zu)}static max(){return new Lr(It.max(),vt.empty(),zu)}}function fV(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=vt.comparator(e.documentKey,t.documentKey),n!==0?n:qt(e.largestBatchId,t.largestBatchId))}const dV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class mV{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function ll(e){if(e.code!==et.FAILED_PRECONDITION||e.message!==dV)throw e;pt("LocalStore","Unexpectedly lost primary lease")}class it{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&bt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new it(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((t,n)=>{this.next(t,n)}))}wrapUserFunction(t){try{const n=t();return n instanceof it?n:it.resolve(n)}catch(n){return it.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):it.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):it.reject(n)}static resolve(t){return new it(((n,s)=>{n(t)}))}static reject(t){return new it(((n,s)=>{s(t)}))}static waitFor(t){return new it(((n,s)=>{let o=0,u=0,c=!1;t.forEach((d=>{++o,d.next((()=>{++u,c&&u===o&&n()}),(p=>s(p)))})),c=!0,u===o&&n()}))}static or(t){let n=it.resolve(!1);for(const s of t)n=n.next((o=>o?it.resolve(o):s()));return n}static forEach(t,n){const s=[];return t.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(t,n){return new it(((s,o)=>{const u=t.length,c=new Array(u);let d=0;for(let p=0;p<u;p++){const g=p;n(t[g]).next((y=>{c[g]=y,++d,d===u&&s(c)}),(y=>o(y)))}}))}static doWhile(t,n){return new it(((s,o)=>{const u=()=>{t()===!0?n().next((()=>{u()}),o):s()};u()}))}}function pV(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ul(e){return e.name==="IndexedDbTransactionError"}class $f{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}$f.ce=-1;const oy=-1;function Wf(e){return e==null}function Rf(e){return e===0&&1/e==-1/0}function gV(e){return typeof e=="number"&&Number.isInteger(e)&&!Rf(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}const ew="";function yV(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=B0(t)),t=_V(e.get(n),t);return B0(t)}function _V(e,t){let n=t;const s=e.length;for(let o=0;o<s;o++){const u=e.charAt(o);switch(u){case"\0":n+="";break;case ew:n+="";break;default:n+=u}}return n}function B0(e){return e+ew+""}function z0(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Yr(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function nw(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class ve{constructor(t,n){this.comparator=t,this.root=n||ln.EMPTY}insert(t,n){return new ve(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,ln.BLACK,null,null))}remove(t){return new ve(this.comparator,this.root.remove(t,this.comparator).copy(null,null,ln.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(t,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((n,s)=>(t(n,s),!1)))}toString(){const t=[];return this.inorderTraversal(((n,s)=>(t.push(`${n}:${s}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Fh(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Fh(this.root,t,this.comparator,!1)}getReverseIterator(){return new Fh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Fh(this.root,t,this.comparator,!0)}}class Fh{constructor(t,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=n?s(t.key,n):1,n&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class ln{constructor(t,n,s,o,u){this.key=t,this.value=n,this.color=s??ln.RED,this.left=o??ln.EMPTY,this.right=u??ln.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,o,u){return new ln(t??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let o=this;const u=s(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return ln.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return ln.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,ln.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,ln.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw bt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw bt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw bt(27949);return t+(this.isRed()?0:1)}}ln.EMPTY=null,ln.RED=!0,ln.BLACK=!1;ln.EMPTY=new class{constructor(){this.size=0}get key(){throw bt(57766)}get value(){throw bt(16141)}get color(){throw bt(16727)}get left(){throw bt(29726)}get right(){throw bt(36894)}copy(t,n,s,o,u){return this}insert(t,n,s){return new ln(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Xe{constructor(t){this.comparator=t,this.data=new ve(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((n,s)=>(t(n),!1)))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new q0(this.data.getIterator())}getIteratorFrom(t){return new q0(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach((s=>{n=n.add(s)})),n}isEqual(t){if(!(t instanceof Xe)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((n=>{t.push(n)})),t}toString(){const t=[];return this.forEach((n=>t.push(n))),"SortedSet("+t.toString()+")"}copy(t){const n=new Xe(this.comparator);return n.data=t,n}}class q0{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Fn{constructor(t){this.fields=t,t.sort(un.comparator)}static empty(){return new Fn([])}unionWith(t){let n=new Xe(un.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new Fn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Jo(this.fields,t.fields,((n,s)=>n.isEqual(s)))}}class iw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class cn{constructor(t){this.binaryString=t}static fromBase64String(t){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new iw("Invalid base64 string: "+u):u}})(t);return new cn(n)}static fromUint8Array(t){const n=(function(o){let u="";for(let c=0;c<o.length;++c)u+=String.fromCharCode(o[c]);return u})(t);return new cn(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return qt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}cn.EMPTY_BYTE_STRING=new cn("");const vV=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function jr(e){if(Jt(!!e,39018),typeof e=="string"){let t=0;const n=vV.exec(e);if(Jt(!!n,46558,{timestamp:e}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),t=Number(o)}const s=new Date(e);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:Ve(e.seconds),nanos:Ve(e.nanos)}}function Ve(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function Ur(e){return typeof e=="string"?cn.fromBase64String(e):cn.fromUint8Array(e)}const sw="server_timestamp",rw="__type__",aw="__previous_value__",ow="__local_write_time__";function ly(e){return(e?.mapValue?.fields||{})[rw]?.stringValue===sw}function Zf(e){const t=e.mapValue.fields[aw];return ly(t)?Zf(t):t}function qu(e){const t=jr(e.mapValue.fields[ow].timestampValue);return new de(t.seconds,t.nanos)}class TV{constructor(t,n,s,o,u,c,d,p,g,y){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=y}}const Cf="(default)";class Fu{constructor(t,n){this.projectId=t,this.database=n||Cf}static empty(){return new Fu("","")}get isDefaultDatabase(){return this.database===Cf}isEqual(t){return t instanceof Fu&&t.projectId===this.projectId&&t.database===this.database}}const lw="__type__",EV="__max__",Hh={mapValue:{}},uw="__vector__",If="value";function Br(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?ly(e)?4:SV(e)?9007199254740991:AV(e)?10:11:bt(28295,{value:e})}function os(e,t){if(e===t)return!0;const n=Br(e);if(n!==Br(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return qu(e).isEqual(qu(t));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const c=jr(o.timestampValue),d=jr(u.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos})(e,t);case 5:return e.stringValue===t.stringValue;case 6:return(function(o,u){return Ur(o.bytesValue).isEqual(Ur(u.bytesValue))})(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return(function(o,u){return Ve(o.geoPointValue.latitude)===Ve(u.geoPointValue.latitude)&&Ve(o.geoPointValue.longitude)===Ve(u.geoPointValue.longitude)})(e,t);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return Ve(o.integerValue)===Ve(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const c=Ve(o.doubleValue),d=Ve(u.doubleValue);return c===d?Rf(c)===Rf(d):isNaN(c)&&isNaN(d)}return!1})(e,t);case 9:return Jo(e.arrayValue.values||[],t.arrayValue.values||[],os);case 10:case 11:return(function(o,u){const c=o.mapValue.fields||{},d=u.mapValue.fields||{};if(z0(c)!==z0(d))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(d[p]===void 0||!os(c[p],d[p])))return!1;return!0})(e,t);default:return bt(52216,{left:e})}}function Hu(e,t){return(e.values||[]).find((n=>os(n,t)))!==void 0}function tl(e,t){if(e===t)return 0;const n=Br(e),s=Br(t);if(n!==s)return qt(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return qt(e.booleanValue,t.booleanValue);case 2:return(function(u,c){const d=Ve(u.integerValue||u.doubleValue),p=Ve(c.integerValue||c.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1})(e,t);case 3:return F0(e.timestampValue,t.timestampValue);case 4:return F0(qu(e),qu(t));case 5:return rg(e.stringValue,t.stringValue);case 6:return(function(u,c){const d=Ur(u),p=Ur(c);return d.compareTo(p)})(e.bytesValue,t.bytesValue);case 7:return(function(u,c){const d=u.split("/"),p=c.split("/");for(let g=0;g<d.length&&g<p.length;g++){const y=qt(d[g],p[g]);if(y!==0)return y}return qt(d.length,p.length)})(e.referenceValue,t.referenceValue);case 8:return(function(u,c){const d=qt(Ve(u.latitude),Ve(c.latitude));return d!==0?d:qt(Ve(u.longitude),Ve(c.longitude))})(e.geoPointValue,t.geoPointValue);case 9:return H0(e.arrayValue,t.arrayValue);case 10:return(function(u,c){const d=u.fields||{},p=c.fields||{},g=d[If]?.arrayValue,y=p[If]?.arrayValue,A=qt(g?.values?.length||0,y?.values?.length||0);return A!==0?A:H0(g,y)})(e.mapValue,t.mapValue);case 11:return(function(u,c){if(u===Hh.mapValue&&c===Hh.mapValue)return 0;if(u===Hh.mapValue)return 1;if(c===Hh.mapValue)return-1;const d=u.fields||{},p=Object.keys(d),g=c.fields||{},y=Object.keys(g);p.sort(),y.sort();for(let A=0;A<p.length&&A<y.length;++A){const S=rg(p[A],y[A]);if(S!==0)return S;const C=tl(d[p[A]],g[y[A]]);if(C!==0)return C}return qt(p.length,y.length)})(e.mapValue,t.mapValue);default:throw bt(23264,{he:n})}}function F0(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return qt(e,t);const n=jr(e),s=jr(t),o=qt(n.seconds,s.seconds);return o!==0?o:qt(n.nanos,s.nanos)}function H0(e,t){const n=e.values||[],s=t.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=tl(n[o],s[o]);if(u)return u}return qt(n.length,s.length)}function el(e){return ag(e)}function ag(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?(function(n){const s=jr(n);return`time(${s.seconds},${s.nanos})`})(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?(function(n){return Ur(n).toBase64()})(e.bytesValue):"referenceValue"in e?(function(n){return vt.fromName(n).toString()})(e.referenceValue):"geoPointValue"in e?(function(n){return`geo(${n.latitude},${n.longitude})`})(e.geoPointValue):"arrayValue"in e?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=ag(u);return s+"]"})(e.arrayValue):"mapValue"in e?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const c of s)u?u=!1:o+=",",o+=`${c}:${ag(n.fields[c])}`;return o+"}"})(e.mapValue):bt(61005,{value:e})}function af(e){switch(Br(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Zf(e);return t?16+af(t):16;case 5:return 2*e.stringValue.length;case 6:return Ur(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+af(u)),0)})(e.arrayValue);case 10:case 11:return(function(s){let o=0;return Yr(s.fields,((u,c)=>{o+=u.length+af(c)})),o})(e.mapValue);default:throw bt(13486,{value:e})}}function G0(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function og(e){return!!e&&"integerValue"in e}function uy(e){return!!e&&"arrayValue"in e}function K0(e){return!!e&&"nullValue"in e}function Y0(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function of(e){return!!e&&"mapValue"in e}function AV(e){return(e?.mapValue?.fields||{})[lw]?.stringValue===uw}function xu(e){if(e.geoPointValue)return{geoPointValue:{...e.geoPointValue}};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:{...e.timestampValue}};if(e.mapValue){const t={mapValue:{fields:{}}};return Yr(e.mapValue.fields,((n,s)=>t.mapValue.fields[n]=xu(s))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=xu(e.arrayValue.values[n]);return t}return{...e}}function SV(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===EV}class Nn{constructor(t){this.value=t}static empty(){return new Nn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!of(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=xu(n)}setAll(t){let n=un.emptyPath(),s={},o=[];t.forEach(((c,d)=>{if(!n.isImmediateParentOf(d)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=d.popLast()}c?s[d.lastSegment()]=xu(c):o.push(d.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(t){const n=this.field(t.popLast());of(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return os(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let o=n.mapValue.fields[t.get(s)];of(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(t,n,s){Yr(n,((o,u)=>t[o]=u));for(const o of s)delete t[o]}clone(){return new Nn(xu(this.value))}}function cw(e){const t=[];return Yr(e.fields,((n,s)=>{const o=new un([n]);if(of(s)){const u=cw(s.mapValue).fields;if(u.length===0)t.push(o);else for(const c of u)t.push(o.child(c))}else t.push(o)})),new Fn(t)}class pn{constructor(t,n,s,o,u,c,d){this.key=t,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=c,this.documentState=d}static newInvalidDocument(t){return new pn(t,0,It.min(),It.min(),It.min(),Nn.empty(),0)}static newFoundDocument(t,n,s,o){return new pn(t,1,n,It.min(),s,o,0)}static newNoDocument(t,n){return new pn(t,2,n,It.min(),It.min(),Nn.empty(),0)}static newUnknownDocument(t,n){return new pn(t,3,n,It.min(),It.min(),Nn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(It.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Nn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Nn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=It.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof pn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new pn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class xf{constructor(t,n){this.position=t,this.inclusive=n}}function Q0(e,t,n){let s=0;for(let o=0;o<e.position.length;o++){const u=t[o],c=e.position[o];if(u.field.isKeyField()?s=vt.comparator(vt.fromName(c.referenceValue),n.key):s=tl(c,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function X0(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!os(e.position[n],t.position[n]))return!1;return!0}class Df{constructor(t,n="asc"){this.field=t,this.dir=n}}function bV(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class hw{}class Fe extends hw{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,s):new RV(t,n,s):n==="array-contains"?new xV(t,s):n==="in"?new DV(t,s):n==="not-in"?new NV(t,s):n==="array-contains-any"?new VV(t,s):new Fe(t,n,s)}static createKeyFieldInFilter(t,n,s){return n==="in"?new CV(t,s):new IV(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(tl(n,this.value)):n!==null&&Br(this.value)===Br(n)&&this.matchesComparison(tl(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return bt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ri extends hw{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new Ri(t,n)}matches(t){return fw(this)?this.filters.find((n=>!n.matches(t)))===void 0:this.filters.find((n=>n.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,n)=>t.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function fw(e){return e.op==="and"}function dw(e){return wV(e)&&fw(e)}function wV(e){for(const t of e.filters)if(t instanceof Ri)return!1;return!0}function lg(e){if(e instanceof Fe)return e.field.canonicalString()+e.op.toString()+el(e.value);if(dw(e))return e.filters.map((t=>lg(t))).join(",");{const t=e.filters.map((n=>lg(n))).join(",");return`${e.op}(${t})`}}function mw(e,t){return e instanceof Fe?(function(s,o){return o instanceof Fe&&s.op===o.op&&s.field.isEqual(o.field)&&os(s.value,o.value)})(e,t):e instanceof Ri?(function(s,o){return o instanceof Ri&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,c,d)=>u&&mw(c,o.filters[d])),!0):!1})(e,t):void bt(19439)}function pw(e){return e instanceof Fe?(function(n){return`${n.field.canonicalString()} ${n.op} ${el(n.value)}`})(e):e instanceof Ri?(function(n){return n.op.toString()+" {"+n.getFilters().map(pw).join(" ,")+"}"})(e):"Filter"}class RV extends Fe{constructor(t,n,s){super(t,n,s),this.key=vt.fromName(s.referenceValue)}matches(t){const n=vt.comparator(t.key,this.key);return this.matchesComparison(n)}}class CV extends Fe{constructor(t,n){super(t,"in",n),this.keys=gw("in",n)}matches(t){return this.keys.some((n=>n.isEqual(t.key)))}}class IV extends Fe{constructor(t,n){super(t,"not-in",n),this.keys=gw("not-in",n)}matches(t){return!this.keys.some((n=>n.isEqual(t.key)))}}function gw(e,t){return(t.arrayValue?.values||[]).map((n=>vt.fromName(n.referenceValue)))}class xV extends Fe{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return uy(n)&&Hu(n.arrayValue,this.value)}}class DV extends Fe{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Hu(this.value.arrayValue,n)}}class NV extends Fe{constructor(t,n){super(t,"not-in",n)}matches(t){if(Hu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Hu(this.value.arrayValue,n)}}class VV extends Fe{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!uy(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>Hu(this.value.arrayValue,s)))}}class OV{constructor(t,n=null,s=[],o=[],u=null,c=null,d=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=c,this.endAt=d,this.Te=null}}function $0(e,t=null,n=[],s=[],o=null,u=null,c=null){return new OV(e,t,n,s,o,u,c)}function cy(e){const t=Dt(e);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((s=>lg(s))).join(","),n+="|ob:",n+=t.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),Wf(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((s=>el(s))).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((s=>el(s))).join(",")),t.Te=n}return t.Te}function hy(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!bV(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!mw(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!X0(e.startAt,t.startAt)&&X0(e.endAt,t.endAt)}function ug(e){return vt.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}class rc{constructor(t,n=null,s=[],o=[],u=null,c="F",d=null,p=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=c,this.startAt=d,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function MV(e,t,n,s,o,u,c,d){return new rc(e,t,n,s,o,u,c,d)}function yw(e){return new rc(e)}function W0(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function _w(e){return e.collectionGroup!==null}function Du(e){const t=Dt(e);if(t.Ie===null){t.Ie=[];const n=new Set;for(const u of t.explicitOrderBy)t.Ie.push(u),n.add(u.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new Xe(un.comparator);return c.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(d=d.add(g.field))}))})),d})(t).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||t.Ie.push(new Df(u,s))})),n.has(un.keyField().canonicalString())||t.Ie.push(new Df(un.keyField(),s))}return t.Ie}function es(e){const t=Dt(e);return t.Ee||(t.Ee=PV(t,Du(e))),t.Ee}function PV(e,t){if(e.limitType==="F")return $0(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Df(o.field,u)}));const n=e.endAt?new xf(e.endAt.position,e.endAt.inclusive):null,s=e.startAt?new xf(e.startAt.position,e.startAt.inclusive):null;return $0(e.path,e.collectionGroup,t,e.filters,e.limit,n,s)}}function cg(e,t){const n=e.filters.concat([t]);return new rc(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function hg(e,t,n){return new rc(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Jf(e,t){return hy(es(e),es(t))&&e.limitType===t.limitType}function vw(e){return`${cy(es(e))}|lt:${e.limitType}`}function ko(e){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>pw(o))).join(", ")}]`),Wf(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>el(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>el(o))).join(",")),`Target(${s})`})(es(e))}; limitType=${e.limitType})`}function td(e,t){return t.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):vt.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(e,t)&&(function(s,o){for(const u of Du(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(e,t)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(e,t)&&(function(s,o){return!(s.startAt&&!(function(c,d,p){const g=Q0(c,d,p);return c.inclusive?g<=0:g<0})(s.startAt,Du(s),o)||s.endAt&&!(function(c,d,p){const g=Q0(c,d,p);return c.inclusive?g>=0:g>0})(s.endAt,Du(s),o))})(e,t)}function kV(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Tw(e){return(t,n)=>{let s=!1;for(const o of Du(e)){const u=LV(o,t,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function LV(e,t,n){const s=e.field.isKeyField()?vt.comparator(t.key,n.key):(function(u,c,d){const p=c.data.field(u),g=d.data.field(u);return p!==null&&g!==null?tl(p,g):bt(42886)})(e.field,t,n);switch(e.dir){case"asc":return s;case"desc":return-1*s;default:return bt(19790,{direction:e.dir})}}class Ga{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),o=this.inner[s];if(o===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,n]);o.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],t))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(t){Yr(this.inner,((n,s)=>{for(const[o,u]of s)t(o,u)}))}isEmpty(){return nw(this.inner)}size(){return this.innerSize}}const jV=new ve(vt.comparator);function Ls(){return jV}const Ew=new ve(vt.comparator);function bu(...e){let t=Ew;for(const n of e)t=t.insert(n.key,n);return t}function Aw(e){let t=Ew;return e.forEach(((n,s)=>t=t.insert(n,s.overlayedDocument))),t}function Da(){return Nu()}function Sw(){return Nu()}function Nu(){return new Ga((e=>e.toString()),((e,t)=>e.isEqual(t)))}const UV=new ve(vt.comparator),BV=new Xe(vt.comparator);function Ft(...e){let t=BV;for(const n of e)t=t.add(n);return t}const zV=new Xe(qt);function qV(){return zV}function fy(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Rf(t)?"-0":t}}function bw(e){return{integerValue:""+e}}function FV(e,t){return gV(t)?bw(t):fy(e,t)}class ed{constructor(){this._=void 0}}function HV(e,t,n){return e instanceof Nf?(function(o,u){const c={fields:{[rw]:{stringValue:sw},[ow]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&ly(u)&&(u=Zf(u)),u&&(c.fields[aw]=u),{mapValue:c}})(n,t):e instanceof Gu?Rw(e,t):e instanceof Ku?Cw(e,t):(function(o,u){const c=ww(o,u),d=Z0(c)+Z0(o.Ae);return og(c)&&og(o.Ae)?bw(d):fy(o.serializer,d)})(e,t)}function GV(e,t,n){return e instanceof Gu?Rw(e,t):e instanceof Ku?Cw(e,t):n}function ww(e,t){return e instanceof Vf?(function(s){return og(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(t)?t:{integerValue:0}:null}class Nf extends ed{}class Gu extends ed{constructor(t){super(),this.elements=t}}function Rw(e,t){const n=Iw(t);for(const s of e.elements)n.some((o=>os(o,s)))||n.push(s);return{arrayValue:{values:n}}}class Ku extends ed{constructor(t){super(),this.elements=t}}function Cw(e,t){let n=Iw(t);for(const s of e.elements)n=n.filter((o=>!os(o,s)));return{arrayValue:{values:n}}}class Vf extends ed{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function Z0(e){return Ve(e.integerValue||e.doubleValue)}function Iw(e){return uy(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function KV(e,t){return e.field.isEqual(t.field)&&(function(s,o){return s instanceof Gu&&o instanceof Gu||s instanceof Ku&&o instanceof Ku?Jo(s.elements,o.elements,os):s instanceof Vf&&o instanceof Vf?os(s.Ae,o.Ae):s instanceof Nf&&o instanceof Nf})(e.transform,t.transform)}class YV{constructor(t,n){this.version=t,this.transformResults=n}}class bi{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new bi}static exists(t){return new bi(void 0,t)}static updateTime(t){return new bi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function lf(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class nd{}function xw(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new dy(e.key,bi.none()):new ac(e.key,e.data,bi.none());{const n=e.data,s=Nn.empty();let o=new Xe(un.comparator);for(let u of t.fields)if(!o.has(u)){let c=n.field(u);c===null&&u.length>1&&(u=u.popLast(),c=n.field(u)),c===null?s.delete(u):s.set(u,c),o=o.add(u)}return new Qr(e.key,s,new Fn(o.toArray()),bi.none())}}function QV(e,t,n){e instanceof ac?(function(o,u,c){const d=o.value.clone(),p=tA(o.fieldTransforms,u,c.transformResults);d.setAll(p),u.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(e,t,n):e instanceof Qr?(function(o,u,c){if(!lf(o.precondition,u))return void u.convertToUnknownDocument(c.version);const d=tA(o.fieldTransforms,u,c.transformResults),p=u.data;p.setAll(Dw(o)),p.setAll(d),u.convertToFoundDocument(c.version,p).setHasCommittedMutations()})(e,t,n):(function(o,u,c){u.convertToNoDocument(c.version).setHasCommittedMutations()})(0,t,n)}function Vu(e,t,n,s){return e instanceof ac?(function(u,c,d,p){if(!lf(u.precondition,c))return d;const g=u.value.clone(),y=eA(u.fieldTransforms,p,c);return g.setAll(y),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null})(e,t,n,s):e instanceof Qr?(function(u,c,d,p){if(!lf(u.precondition,c))return d;const g=eA(u.fieldTransforms,p,c),y=c.data;return y.setAll(Dw(u)),y.setAll(g),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),d===null?null:d.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((A=>A.field)))})(e,t,n,s):(function(u,c,d){return lf(u.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d})(e,t,n)}function XV(e,t){let n=null;for(const s of e.fieldTransforms){const o=t.data.field(s.field),u=ww(s.transform,o||null);u!=null&&(n===null&&(n=Nn.empty()),n.set(s.field,u))}return n||null}function J0(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Jo(s,o,((u,c)=>KV(u,c)))})(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class ac extends nd{constructor(t,n,s,o=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Qr extends nd{constructor(t,n,s,o,u=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function Dw(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=e.data.field(n);t.set(n,s)}})),t}function tA(e,t,n){const s=new Map;Jt(e.length===n.length,32656,{Re:n.length,Ve:e.length});for(let o=0;o<n.length;o++){const u=e[o],c=u.transform,d=t.data.field(u.field);s.set(u.field,GV(c,d,n[o]))}return s}function eA(e,t,n){const s=new Map;for(const o of e){const u=o.transform,c=n.data.field(o.field);s.set(o.field,HV(u,c,t))}return s}class dy extends nd{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class $V extends nd{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class WV{constructor(t,n,s,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&QV(u,t,s[o])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=Vu(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=Vu(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=Sw();return this.mutations.forEach((o=>{const u=t.get(o.key),c=u.overlayedDocument;let d=this.applyToLocalView(c,u.mutatedFields);d=n.has(o.key)?null:d;const p=xw(c,d);p!==null&&s.set(o.key,p),c.isValidDocument()||c.convertToNoDocument(It.min())})),s}keys(){return this.mutations.reduce(((t,n)=>t.add(n.key)),Ft())}isEqual(t){return this.batchId===t.batchId&&Jo(this.mutations,t.mutations,((n,s)=>J0(n,s)))&&Jo(this.baseMutations,t.baseMutations,((n,s)=>J0(n,s)))}}class my{constructor(t,n,s,o){this.batch=t,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(t,n,s){Jt(t.mutations.length===s.length,58842,{me:t.mutations.length,fe:s.length});let o=(function(){return UV})();const u=t.mutations;for(let c=0;c<u.length;c++)o=o.insert(u[c].key,s[c].version);return new my(t,n,s,o)}}class ZV{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class JV{constructor(t,n){this.count=t,this.unchangedNames=n}}var ze,Gt;function tO(e){switch(e){case et.OK:return bt(64938);case et.CANCELLED:case et.UNKNOWN:case et.DEADLINE_EXCEEDED:case et.RESOURCE_EXHAUSTED:case et.INTERNAL:case et.UNAVAILABLE:case et.UNAUTHENTICATED:return!1;case et.INVALID_ARGUMENT:case et.NOT_FOUND:case et.ALREADY_EXISTS:case et.PERMISSION_DENIED:case et.FAILED_PRECONDITION:case et.ABORTED:case et.OUT_OF_RANGE:case et.UNIMPLEMENTED:case et.DATA_LOSS:return!0;default:return bt(15467,{code:e})}}function Nw(e){if(e===void 0)return ks("GRPC error has no .code"),et.UNKNOWN;switch(e){case ze.OK:return et.OK;case ze.CANCELLED:return et.CANCELLED;case ze.UNKNOWN:return et.UNKNOWN;case ze.DEADLINE_EXCEEDED:return et.DEADLINE_EXCEEDED;case ze.RESOURCE_EXHAUSTED:return et.RESOURCE_EXHAUSTED;case ze.INTERNAL:return et.INTERNAL;case ze.UNAVAILABLE:return et.UNAVAILABLE;case ze.UNAUTHENTICATED:return et.UNAUTHENTICATED;case ze.INVALID_ARGUMENT:return et.INVALID_ARGUMENT;case ze.NOT_FOUND:return et.NOT_FOUND;case ze.ALREADY_EXISTS:return et.ALREADY_EXISTS;case ze.PERMISSION_DENIED:return et.PERMISSION_DENIED;case ze.FAILED_PRECONDITION:return et.FAILED_PRECONDITION;case ze.ABORTED:return et.ABORTED;case ze.OUT_OF_RANGE:return et.OUT_OF_RANGE;case ze.UNIMPLEMENTED:return et.UNIMPLEMENTED;case ze.DATA_LOSS:return et.DATA_LOSS;default:return bt(39323,{code:e})}}(Gt=ze||(ze={}))[Gt.OK=0]="OK",Gt[Gt.CANCELLED=1]="CANCELLED",Gt[Gt.UNKNOWN=2]="UNKNOWN",Gt[Gt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Gt[Gt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Gt[Gt.NOT_FOUND=5]="NOT_FOUND",Gt[Gt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Gt[Gt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Gt[Gt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Gt[Gt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Gt[Gt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Gt[Gt.ABORTED=10]="ABORTED",Gt[Gt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Gt[Gt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Gt[Gt.INTERNAL=13]="INTERNAL",Gt[Gt.UNAVAILABLE=14]="UNAVAILABLE",Gt[Gt.DATA_LOSS=15]="DATA_LOSS";function eO(){return new TextEncoder}const nO=new Or([4294967295,4294967295],0);function nA(e){const t=eO().encode(e),n=new Gb;return n.update(t),new Uint8Array(n.digest())}function iA(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new Or([n,s],0),new Or([o,u],0)]}class py{constructor(t,n,s){if(this.bitmap=t,this.padding=n,this.hashCount=s,n<0||n>=8)throw new wu(`Invalid padding: ${n}`);if(s<0)throw new wu(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new wu(`Invalid hash count: ${s}`);if(t.length===0&&n!==0)throw new wu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=Or.fromNumber(this.ge)}ye(t,n,s){let o=t.add(n.multiply(Or.fromNumber(s)));return o.compare(nO)===1&&(o=new Or([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=nA(t),[s,o]=iA(n);for(let u=0;u<this.hashCount;u++){const c=this.ye(s,o,u);if(!this.we(c))return!1}return!0}static create(t,n,s){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),c=new py(u,o,n);return s.forEach((d=>c.insert(d))),c}insert(t){if(this.ge===0)return;const n=nA(t),[s,o]=iA(n);for(let u=0;u<this.hashCount;u++){const c=this.ye(s,o,u);this.Se(c)}}Se(t){const n=Math.floor(t/8),s=t%8;this.bitmap[n]|=1<<s}}class wu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class id{constructor(t,n,s,o,u){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,n,s){const o=new Map;return o.set(t,oc.createSynthesizedTargetChangeForCurrentChange(t,n,s)),new id(It.min(),o,new ve(qt),Ls(),Ft())}}class oc{constructor(t,n,s,o,u){this.resumeToken=t,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,n,s){return new oc(s,n,Ft(),Ft(),Ft())}}class uf{constructor(t,n,s,o){this.be=t,this.removedTargetIds=n,this.key=s,this.De=o}}class Vw{constructor(t,n){this.targetId=t,this.Ce=n}}class Ow{constructor(t,n,s=cn.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=n,this.resumeToken=s,this.cause=o}}class sA{constructor(){this.ve=0,this.Fe=rA(),this.Me=cn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Ft(),n=Ft(),s=Ft();return this.Fe.forEach(((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:bt(38017,{changeType:u})}})),new oc(this.Me,this.xe,t,n,s)}qe(){this.Oe=!1,this.Fe=rA()}Qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Jt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class iO{constructor(t){this.Ge=t,this.ze=new Map,this.je=Ls(),this.Je=Gh(),this.He=Gh(),this.Ye=new ve(qt)}Ze(t){for(const n of t.be)t.De&&t.De.isFoundDocument()?this.Xe(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,(n=>{const s=this.nt(n);switch(t.state){case 0:this.rt(n)&&s.Le(t.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(t.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(t.resumeToken));break;default:bt(56790,{state:t.state})}}))}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(t){const n=t.targetId,s=t.Ce.count,o=this.ot(n);if(o){const u=o.target;if(ug(u))if(s===0){const c=new vt(u.path);this.et(n,c,pn.newNoDocument(c,It.min()))}else Jt(s===1,20013,{expectedCount:s});else{const c=this._t(n);if(c!==s){const d=this.ut(t),p=d?this.ct(d,t,c):1;if(p!==0){this.it(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,g)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let c,d;try{c=Ur(s).toUint8Array()}catch(p){if(p instanceof iw)return Zo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{d=new py(c,o,u)}catch(p){return Zo(p instanceof wu?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return d.ge===0?null:d}ct(t,n,s){return n.Ce.count===s-this.Pt(t,n.targetId)?0:2}Pt(t,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const c=this.Ge.ht(),d=`projects/${c.projectId}/databases/${c.database}/documents/${u.path.canonicalString()}`;t.mightContain(d)||(this.et(n,u,null),o++)})),o}Tt(t){const n=new Map;this.ze.forEach(((u,c)=>{const d=this.ot(c);if(d){if(u.current&&ug(d.target)){const p=new vt(d.target.path);this.It(p).has(c)||this.Et(c,p)||this.et(c,p,pn.newNoDocument(p,t))}u.Be&&(n.set(c,u.ke()),u.qe())}}));let s=Ft();this.He.forEach(((u,c)=>{let d=!0;c.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(s=s.add(u))})),this.je.forEach(((u,c)=>c.setReadTime(t)));const o=new id(t,n,this.Ye,this.je,s);return this.je=Ls(),this.Je=Gh(),this.He=Gh(),this.Ye=new ve(qt),o}Xe(t,n){if(!this.rt(t))return;const s=this.Et(t,n.key)?2:0;this.nt(t).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(t)),this.He=this.He.insert(n.key,this.dt(n.key).add(t))}et(t,n,s){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(t)),this.He=this.He.insert(n,this.dt(n).add(t)),s&&(this.je=this.je.insert(n,s))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let n=this.ze.get(t);return n||(n=new sA,this.ze.set(t,n)),n}dt(t){let n=this.He.get(t);return n||(n=new Xe(qt),this.He=this.He.insert(t,n)),n}It(t){let n=this.Je.get(t);return n||(n=new Xe(qt),this.Je=this.Je.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||pt("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new sA),this.Ge.getRemoteKeysForTarget(t).forEach((n=>{this.et(t,n,null)}))}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function Gh(){return new ve(vt.comparator)}function rA(){return new ve(vt.comparator)}const sO={asc:"ASCENDING",desc:"DESCENDING"},rO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},aO={and:"AND",or:"OR"};class oO{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function fg(e,t){return e.useProto3Json||Wf(t)?t:{value:t}}function Of(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Mw(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function lO(e,t){return Of(e,t.toTimestamp())}function ns(e){return Jt(!!e,49232),It.fromTimestamp((function(n){const s=jr(n);return new de(s.seconds,s.nanos)})(e))}function gy(e,t){return dg(e,t).canonicalString()}function dg(e,t){const n=(function(o){return new ce(["projects",o.projectId,"databases",o.database])})(e).child("documents");return t===void 0?n:n.child(t)}function Pw(e){const t=ce.fromString(e);return Jt(Bw(t),10190,{key:t.toString()}),t}function mg(e,t){return gy(e.databaseId,t.path)}function Rp(e,t){const n=Pw(t);if(n.get(1)!==e.databaseId.projectId)throw new mt(et.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new mt(et.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new vt(Lw(n))}function kw(e,t){return gy(e.databaseId,t)}function uO(e){const t=Pw(e);return t.length===4?ce.emptyPath():Lw(t)}function pg(e){return new ce(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Lw(e){return Jt(e.length>4&&e.get(4)==="documents",29091,{key:e.toString()}),e.popFirst(5)}function aA(e,t,n){return{name:mg(e,t),fields:n.value.mapValue.fields}}function cO(e,t){let n;if("targetChange"in t){t.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:bt(39313,{state:g})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=(function(g,y){return g.useProto3Json?(Jt(y===void 0||typeof y=="string",58123),cn.fromBase64String(y||"")):(Jt(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),cn.fromUint8Array(y||new Uint8Array))})(e,t.targetChange.resumeToken),c=t.targetChange.cause,d=c&&(function(g){const y=g.code===void 0?et.UNKNOWN:Nw(g.code);return new mt(y,g.message||"")})(c);n=new Ow(s,o,u,d||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const o=Rp(e,s.document.name),u=ns(s.document.updateTime),c=s.document.createTime?ns(s.document.createTime):It.min(),d=new Nn({mapValue:{fields:s.document.fields}}),p=pn.newFoundDocument(o,u,c,d),g=s.targetIds||[],y=s.removedTargetIds||[];n=new uf(g,y,p.key,p)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const o=Rp(e,s.document),u=s.readTime?ns(s.readTime):It.min(),c=pn.newNoDocument(o,u),d=s.removedTargetIds||[];n=new uf([],d,c.key,c)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const o=Rp(e,s.document),u=s.removedTargetIds||[];n=new uf([],u,o,null)}else{if(!("filter"in t))return bt(11601,{Rt:t});{t.filter;const s=t.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,c=new JV(o,u),d=s.targetId;n=new Vw(d,c)}}return n}function hO(e,t){let n;if(t instanceof ac)n={update:aA(e,t.key,t.value)};else if(t instanceof dy)n={delete:mg(e,t.key)};else if(t instanceof Qr)n={update:aA(e,t.key,t.data),updateMask:TO(t.fieldMask)};else{if(!(t instanceof $V))return bt(16599,{Vt:t.type});n={verify:mg(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((s=>(function(u,c){const d=c.transform;if(d instanceof Nf)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Gu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Ku)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Vf)return{fieldPath:c.field.canonicalString(),increment:d.Ae};throw bt(20930,{transform:c.transform})})(0,s)))),t.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:lO(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:bt(27497)})(e,t.precondition)),n}function fO(e,t){return e&&e.length>0?(Jt(t!==void 0,14353),e.map((n=>(function(o,u){let c=o.updateTime?ns(o.updateTime):ns(u);return c.isEqual(It.min())&&(c=ns(u)),new YV(c,o.transformResults||[])})(n,t)))):[]}function dO(e,t){return{documents:[kw(e,t.path)]}}function mO(e,t){const n={structuredQuery:{}},s=t.path;let o;t.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=kw(e,o);const u=(function(g){if(g.length!==0)return Uw(Ri.create(g,"and"))})(t.filters);u&&(n.structuredQuery.where=u);const c=(function(g){if(g.length!==0)return g.map((y=>(function(S){return{field:Lo(S.field),direction:yO(S.dir)}})(y)))})(t.orderBy);c&&(n.structuredQuery.orderBy=c);const d=fg(e,t.limit);return d!==null&&(n.structuredQuery.limit=d),t.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(t.startAt)),t.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(t.endAt)),{ft:n,parent:o}}function pO(e){let t=uO(e.parent);const n=e.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Jt(s===1,65062);const y=n.from[0];y.allDescendants?o=y.collectionId:t=t.child(y.collectionId)}let u=[];n.where&&(u=(function(A){const S=jw(A);return S instanceof Ri&&dw(S)?S.getFilters():[S]})(n.where));let c=[];n.orderBy&&(c=(function(A){return A.map((S=>(function(k){return new Df(jo(k.field),(function(B){switch(B){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(k.direction))})(S)))})(n.orderBy));let d=null;n.limit&&(d=(function(A){let S;return S=typeof A=="object"?A.value:A,Wf(S)?null:S})(n.limit));let p=null;n.startAt&&(p=(function(A){const S=!!A.before,C=A.values||[];return new xf(C,S)})(n.startAt));let g=null;return n.endAt&&(g=(function(A){const S=!A.before,C=A.values||[];return new xf(C,S)})(n.endAt)),MV(t,o,c,u,d,"F",p,g)}function gO(e,t){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return bt(28987,{purpose:o})}})(t.purpose);return n==null?null:{"goog-listen-tags":n}}function jw(e){return e.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=jo(n.unaryFilter.field);return Fe.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=jo(n.unaryFilter.field);return Fe.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=jo(n.unaryFilter.field);return Fe.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=jo(n.unaryFilter.field);return Fe.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return bt(61313);default:return bt(60726)}})(e):e.fieldFilter!==void 0?(function(n){return Fe.create(jo(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return bt(58110);default:return bt(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(e):e.compositeFilter!==void 0?(function(n){return Ri.create(n.compositeFilter.filters.map((s=>jw(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return bt(1026)}})(n.compositeFilter.op))})(e):bt(30097,{filter:e})}function yO(e){return sO[e]}function _O(e){return rO[e]}function vO(e){return aO[e]}function Lo(e){return{fieldPath:e.canonicalString()}}function jo(e){return un.fromServerFormat(e.fieldPath)}function Uw(e){return e instanceof Fe?(function(n){if(n.op==="=="){if(Y0(n.value))return{unaryFilter:{field:Lo(n.field),op:"IS_NAN"}};if(K0(n.value))return{unaryFilter:{field:Lo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Y0(n.value))return{unaryFilter:{field:Lo(n.field),op:"IS_NOT_NAN"}};if(K0(n.value))return{unaryFilter:{field:Lo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Lo(n.field),op:_O(n.op),value:n.value}}})(e):e instanceof Ri?(function(n){const s=n.getFilters().map((o=>Uw(o)));return s.length===1?s[0]:{compositeFilter:{op:vO(n.op),filters:s}}})(e):bt(54877,{filter:e})}function TO(e){const t=[];return e.fields.forEach((n=>t.push(n.canonicalString()))),{fieldPaths:t}}function Bw(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}class Dr{constructor(t,n,s,o,u=It.min(),c=It.min(),d=cn.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=p}withSequenceNumber(t){return new Dr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Dr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Dr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Dr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class EO{constructor(t){this.yt=t}}function AO(e){const t=pO({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?hg(t,t.limit,"L"):t}class SO{constructor(){this.Cn=new bO}addToCollectionParentIndex(t,n){return this.Cn.add(n),it.resolve()}getCollectionParents(t,n){return it.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return it.resolve()}deleteFieldIndex(t,n){return it.resolve()}deleteAllFieldIndexes(t){return it.resolve()}createTargetIndexes(t,n){return it.resolve()}getDocumentsMatchingTarget(t,n){return it.resolve(null)}getIndexType(t,n){return it.resolve(0)}getFieldIndexes(t,n){return it.resolve([])}getNextCollectionGroupToUpdate(t){return it.resolve(null)}getMinOffset(t,n){return it.resolve(Lr.min())}getMinOffsetFromCollectionGroup(t,n){return it.resolve(Lr.min())}updateCollectionGroup(t,n,s){return it.resolve()}updateIndexEntries(t,n){return it.resolve()}}class bO{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n]||new Xe(ce.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(t){return(this.index[t]||new Xe(ce.comparator)).toArray()}}const oA={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},zw=41943040;class Dn{static withCacheSize(t){return new Dn(t,Dn.DEFAULT_COLLECTION_PERCENTILE,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}Dn.DEFAULT_COLLECTION_PERCENTILE=10,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Dn.DEFAULT=new Dn(zw,Dn.DEFAULT_COLLECTION_PERCENTILE,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Dn.DISABLED=new Dn(-1,0,0);class nl{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new nl(0)}static cr(){return new nl(-1)}}const lA="LruGarbageCollector",wO=1048576;function uA([e,t],[n,s]){const o=qt(e,n);return o===0?qt(t,s):o}class RO{constructor(t){this.Ir=t,this.buffer=new Xe(uA),this.Er=0}dr(){return++this.Er}Ar(t){const n=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();uA(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class CO{constructor(t,n,s){this.garbageCollector=t,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){pt(lA,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ul(n)?pt(lA,"Ignoring IndexedDB error during garbage collection: ",n):await ll(n)}await this.Vr(3e5)}))}}class IO{constructor(t,n){this.mr=t,this.params=n}calculateTargetCount(t,n){return this.mr.gr(t).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(t,n){if(n===0)return it.resolve($f.ce);const s=new RO(n);return this.mr.forEachTarget(t,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(t,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(t,n,s){return this.mr.removeTargets(t,n,s)}removeOrphanedDocuments(t,n){return this.mr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(pt("LruGarbageCollector","Garbage collection skipped; disabled"),it.resolve(oA)):this.getCacheSize(t).next((s=>s<this.params.cacheSizeCollectionThreshold?(pt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),oA):this.yr(t,n)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,n){let s,o,u,c,d,p,g;const y=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((A=>(A>this.params.maximumSequenceNumbersToCollect?(pt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),o=this.params.maximumSequenceNumbersToCollect):o=A,c=Date.now(),this.nthSequenceNumber(t,o)))).next((A=>(s=A,d=Date.now(),this.removeTargets(t,s,n)))).next((A=>(u=A,p=Date.now(),this.removeOrphanedDocuments(t,s)))).next((A=>(g=Date.now(),Po()<=zt.DEBUG&&pt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-y}ms
	Determined least recently used ${o} in `+(d-c)+`ms
	Removed ${u} targets in `+(p-d)+`ms
	Removed ${A} documents in `+(g-p)+`ms
Total Duration: ${g-y}ms`),it.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:A}))))}}function xO(e,t){return new IO(e,t)}class DO{constructor(){this.changes=new Ga((t=>t.toString()),((t,n)=>t.isEqual(n))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,pn.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?it.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class NO{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}class VO{constructor(t,n,s,o){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(t,n)))).next((o=>(s!==null&&Vu(s.mutation,o,Fn.empty(),de.now()),o)))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.getLocalViewOfDocuments(t,s,Ft()).next((()=>s))))}getLocalViewOfDocuments(t,n,s=Ft()){const o=Da();return this.populateOverlays(t,o,n).next((()=>this.computeViews(t,n,o,s).next((u=>{let c=bu();return u.forEach(((d,p)=>{c=c.insert(d,p.overlayedDocument)})),c}))))}getOverlayedDocuments(t,n){const s=Da();return this.populateOverlays(t,s,n).next((()=>this.computeViews(t,n,s,Ft())))}populateOverlays(t,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(t,o).next((u=>{u.forEach(((c,d)=>{n.set(c,d)}))}))}computeViews(t,n,s,o){let u=Ls();const c=Nu(),d=(function(){return Nu()})();return n.forEach(((p,g)=>{const y=s.get(g.key);o.has(g.key)&&(y===void 0||y.mutation instanceof Qr)?u=u.insert(g.key,g):y!==void 0?(c.set(g.key,y.mutation.getFieldMask()),Vu(y.mutation,g,y.mutation.getFieldMask(),de.now())):c.set(g.key,Fn.empty())})),this.recalculateAndSaveOverlays(t,u).next((p=>(p.forEach(((g,y)=>c.set(g,y))),n.forEach(((g,y)=>d.set(g,new NO(y,c.get(g)??null)))),d)))}recalculateAndSaveOverlays(t,n){const s=Nu();let o=new ve(((c,d)=>c-d)),u=Ft();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next((c=>{for(const d of c)d.keys().forEach((p=>{const g=n.get(p);if(g===null)return;let y=s.get(p)||Fn.empty();y=d.applyToLocalView(g,y),s.set(p,y);const A=(o.get(d.batchId)||Ft()).add(p);o=o.insert(d.batchId,A)}))})).next((()=>{const c=[],d=o.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),g=p.key,y=p.value,A=Sw();y.forEach((S=>{if(!u.has(S)){const C=xw(n.get(S),s.get(S));C!==null&&A.set(S,C),u=u.add(S)}})),c.push(this.documentOverlayCache.saveOverlays(t,g,A))}return it.waitFor(c)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.recalculateAndSaveOverlays(t,s)))}getDocumentsMatchingQuery(t,n,s,o){return(function(c){return vt.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):_w(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s,o):this.getDocumentsMatchingCollectionQuery(t,n,s,o)}getNextDocuments(t,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,o).next((u=>{const c=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,o-u.size):it.resolve(Da());let d=zu,p=u;return c.next((g=>it.forEach(g,((y,A)=>(d<A.largestBatchId&&(d=A.largestBatchId),u.get(y)?it.resolve():this.remoteDocumentCache.getEntry(t,y).next((S=>{p=p.insert(y,S)}))))).next((()=>this.populateOverlays(t,g,u))).next((()=>this.computeViews(t,p,g,Ft()))).next((y=>({batchId:d,changes:Aw(y)})))))}))}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new vt(n)).next((s=>{let o=bu();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(t,n,s,o){const u=n.collectionGroup;let c=bu();return this.indexManager.getCollectionParents(t,u).next((d=>it.forEach(d,(p=>{const g=(function(A,S){return new rc(S,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(t,g,s,o).next((y=>{y.forEach(((A,S)=>{c=c.insert(A,S)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(t,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId).next((c=>(u=c,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,s,u,o)))).next((c=>{u.forEach(((p,g)=>{const y=g.getKey();c.get(y)===null&&(c=c.insert(y,pn.newInvalidDocument(y)))}));let d=bu();return c.forEach(((p,g)=>{const y=u.get(p);y!==void 0&&Vu(y.mutation,g,Fn.empty(),de.now()),td(n,g)&&(d=d.insert(p,g))})),d}))}}class OO{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,n){return it.resolve(this.Lr.get(n))}saveBundleMetadata(t,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:ns(o.createTime)}})(n)),it.resolve()}getNamedQuery(t,n){return it.resolve(this.kr.get(n))}saveNamedQuery(t,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:AO(o.bundledQuery),readTime:ns(o.readTime)}})(n)),it.resolve()}}class MO{constructor(){this.overlays=new ve(vt.comparator),this.qr=new Map}getOverlay(t,n){return it.resolve(this.overlays.get(n))}getOverlays(t,n){const s=Da();return it.forEach(n,(o=>this.getOverlay(t,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(t,n,s){return s.forEach(((o,u)=>{this.St(t,n,u)})),it.resolve()}removeOverlaysForBatchId(t,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),it.resolve()}getOverlaysForCollection(t,n,s){const o=Da(),u=n.length+1,c=new vt(n.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const p=d.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return it.resolve(o)}getOverlaysForCollectionGroup(t,n,s,o){let u=new ve(((g,y)=>g-y));const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let y=u.get(g.largestBatchId);y===null&&(y=Da(),u=u.insert(g.largestBatchId,y)),y.set(g.getKey(),g)}}const d=Da(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,y)=>d.set(g,y))),!(d.size()>=o)););return it.resolve(d)}St(t,n,s){const o=this.overlays.get(s.key);if(o!==null){const c=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(s.key,new ZV(n,s));let u=this.qr.get(n);u===void 0&&(u=Ft(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}class PO{constructor(){this.sessionToken=cn.EMPTY_BYTE_STRING}getSessionToken(t){return it.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,it.resolve()}}class yy{constructor(){this.Qr=new Xe(Je.$r),this.Ur=new Xe(Je.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,n){const s=new Je(t,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(t,n){t.forEach((s=>this.addReference(s,n)))}removeReference(t,n){this.Gr(new Je(t,n))}zr(t,n){t.forEach((s=>this.removeReference(s,n)))}jr(t){const n=new vt(new ce([])),s=new Je(n,t),o=new Je(n,t+1),u=[];return this.Ur.forEachInRange([s,o],(c=>{this.Gr(c),u.push(c.key)})),u}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const n=new vt(new ce([])),s=new Je(n,t),o=new Je(n,t+1);let u=Ft();return this.Ur.forEachInRange([s,o],(c=>{u=u.add(c.key)})),u}containsKey(t){const n=new Je(t,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class Je{constructor(t,n){this.key=t,this.Yr=n}static $r(t,n){return vt.comparator(t.key,n.key)||qt(t.Yr,n.Yr)}static Kr(t,n){return qt(t.Yr,n.Yr)||vt.comparator(t.key,n.key)}}class kO{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Xe(Je.$r)}checkEmpty(t){return it.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new WV(u,n,s,o);this.mutationQueue.push(c);for(const d of o)this.Zr=this.Zr.add(new Je(d.key,u)),this.indexManager.addToCollectionParentIndex(t,d.key.path.popLast());return it.resolve(c)}lookupMutationBatch(t,n){return it.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,o=this.ei(s),u=o<0?0:o;return it.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return it.resolve(this.mutationQueue.length===0?oy:this.tr-1)}getAllMutationBatches(t){return it.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new Je(n,0),o=new Je(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],(c=>{const d=this.Xr(c.Yr);u.push(d)})),it.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new Xe(qt);return n.forEach((o=>{const u=new Je(o,0),c=new Je(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,c],(d=>{s=s.add(d.Yr)}))})),it.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,o=s.length+1;let u=s;vt.isDocumentKey(u)||(u=u.child(""));const c=new Je(new vt(u),0);let d=new Xe(qt);return this.Zr.forEachWhile((p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(d=d.add(p.Yr)),!0)}),c),it.resolve(this.ti(d))}ti(t){const n=[];return t.forEach((s=>{const o=this.Xr(s);o!==null&&n.push(o)})),n}removeMutationBatch(t,n){Jt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return it.forEach(n.mutations,(o=>{const u=new Je(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Zr=s}))}ir(t){}containsKey(t,n){const s=new Je(n,0),o=this.Zr.firstAfterOrEqual(s);return it.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,it.resolve()}ni(t,n){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const n=this.ei(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class LO{constructor(t){this.ri=t,this.docs=(function(){return new ve(vt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,c=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:c}),this.size+=c-u,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return it.resolve(s?s.document.mutableCopy():pn.newInvalidDocument(n))}getEntries(t,n){let s=Ls();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():pn.newInvalidDocument(o))})),it.resolve(s)}getDocumentsMatchingQuery(t,n,s,o){let u=Ls();const c=n.path,d=new vt(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:g,value:{document:y}}=p.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||fV(hV(y),s)<=0||(o.has(y.key)||td(n,y))&&(u=u.insert(y.key,y.mutableCopy()))}return it.resolve(u)}getAllFromCollectionGroup(t,n,s,o){bt(9500)}ii(t,n){return it.forEach(this.docs,(s=>n(s)))}newChangeBuffer(t){return new jO(this)}getSize(t){return it.resolve(this.size)}}class jO extends DO{constructor(t){super(),this.Nr=t}applyChanges(t){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(t,o)):this.Nr.removeEntry(s)})),it.waitFor(n)}getFromCache(t,n){return this.Nr.getEntry(t,n)}getAllFromCache(t,n){return this.Nr.getEntries(t,n)}}class UO{constructor(t){this.persistence=t,this.si=new Ga((n=>cy(n)),hy),this.lastRemoteSnapshotVersion=It.min(),this.highestTargetId=0,this.oi=0,this._i=new yy,this.targetCount=0,this.ai=nl.ur()}forEachTarget(t,n){return this.si.forEach(((s,o)=>n(o))),it.resolve()}getLastRemoteSnapshotVersion(t){return it.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return it.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),it.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),it.resolve()}Pr(t){this.si.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ai=new nl(n),this.highestTargetId=n),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,n){return this.Pr(n),this.targetCount+=1,it.resolve()}updateTargetData(t,n){return this.Pr(n),it.resolve()}removeTargetData(t,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,it.resolve()}removeTargets(t,n,s){let o=0;const u=[];return this.si.forEach(((c,d)=>{d.sequenceNumber<=n&&s.get(d.targetId)===null&&(this.si.delete(c),u.push(this.removeMatchingKeysForTargetId(t,d.targetId)),o++)})),it.waitFor(u).next((()=>o))}getTargetCount(t){return it.resolve(this.targetCount)}getTargetData(t,n){const s=this.si.get(n)||null;return it.resolve(s)}addMatchingKeys(t,n,s){return this._i.Wr(n,s),it.resolve()}removeMatchingKeys(t,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((c=>{u.push(o.markPotentiallyOrphaned(t,c))})),it.waitFor(u)}removeMatchingKeysForTargetId(t,n){return this._i.jr(n),it.resolve()}getMatchingKeysForTargetId(t,n){const s=this._i.Hr(n);return it.resolve(s)}containsKey(t,n){return it.resolve(this._i.containsKey(n))}}class qw{constructor(t,n){this.ui={},this.overlays={},this.ci=new $f(0),this.li=!1,this.li=!0,this.hi=new PO,this.referenceDelegate=t(this),this.Pi=new UO(this),this.indexManager=new SO,this.remoteDocumentCache=(function(o){return new LO(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new EO(n),this.Ii=new OO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new MO,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this.ui[t.toKey()];return s||(s=new kO(n,this.referenceDelegate),this.ui[t.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,n,s){pt("MemoryPersistence","Starting transaction:",t);const o=new BO(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(t,n){return it.or(Object.values(this.ui).map((s=>()=>s.containsKey(t,n))))}}class BO extends mV{constructor(t){super(),this.currentSequenceNumber=t}}class _y{constructor(t){this.persistence=t,this.Ri=new yy,this.Vi=null}static mi(t){return new _y(t)}get fi(){if(this.Vi)return this.Vi;throw bt(60996)}addReference(t,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),it.resolve()}removeReference(t,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),it.resolve()}markPotentiallyOrphaned(t,n){return this.fi.add(n.toString()),it.resolve()}removeTarget(t,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(t,n)))}Ei(){this.Vi=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return it.forEach(this.fi,(s=>{const o=vt.fromPath(s);return this.gi(t,o).next((u=>{u||n.removeEntry(o,It.min())}))})).next((()=>(this.Vi=null,n.apply(t))))}updateLimboDocument(t,n){return this.gi(t,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(t){return 0}gi(t,n){return it.or([()=>it.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ai(t,n)])}}class Mf{constructor(t,n){this.persistence=t,this.pi=new Ga((s=>yV(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=xO(this,n)}static mi(t,n){return new Mf(t,n)}Ei(){}di(t){return it.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}gr(t){const n=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((s=>n.next((o=>s+o))))}wr(t){let n=0;return this.pr(t,(s=>{n++})).next((()=>n))}pr(t,n){return it.forEach(this.pi,((s,o)=>this.br(t,s,o).next((u=>u?it.resolve():n(o)))))}removeTargets(t,n,s){return this.persistence.getTargetCache().removeTargets(t,n,s)}removeOrphanedDocuments(t,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(t,(c=>this.br(t,c,n).next((d=>{d||(s++,u.removeEntry(c,It.min()))})))).next((()=>u.apply(t))).next((()=>s))}markPotentiallyOrphaned(t,n){return this.pi.set(n,t.currentSequenceNumber),it.resolve()}removeTarget(t,n){const s=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,n,s){return this.pi.set(s,t.currentSequenceNumber),it.resolve()}removeReference(t,n,s){return this.pi.set(s,t.currentSequenceNumber),it.resolve()}updateLimboDocument(t,n){return this.pi.set(n,t.currentSequenceNumber),it.resolve()}Ti(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=af(t.data.value)),n}br(t,n,s){return it.or([()=>this.persistence.Ai(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const o=this.pi.get(n);return it.resolve(o!==void 0&&o>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class vy{constructor(t,n,s,o){this.targetId=t,this.fromCache=n,this.Es=s,this.ds=o}static As(t,n){let s=Ft(),o=Ft();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new vy(t,n.fromCache,s,o)}}class zO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class qO{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return gx()?8:pV(yn())>0?6:4})()}initialize(t,n){this.ps=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,s,o){const u={result:null};return this.ys(t,n).next((c=>{u.result=c})).next((()=>{if(!u.result)return this.ws(t,n,o,s).next((c=>{u.result=c}))})).next((()=>{if(u.result)return;const c=new zO;return this.Ss(t,n,c).next((d=>{if(u.result=d,this.Vs)return this.bs(t,n,c,d.size)}))})).next((()=>u.result))}bs(t,n,s,o){return s.documentReadCount<this.fs?(Po()<=zt.DEBUG&&pt("QueryEngine","SDK will not create cache indexes for query:",ko(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),it.resolve()):(Po()<=zt.DEBUG&&pt("QueryEngine","Query:",ko(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(Po()<=zt.DEBUG&&pt("QueryEngine","The SDK decides to create cache indexes for query:",ko(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,es(n))):it.resolve())}ys(t,n){if(W0(n))return it.resolve(null);let s=es(n);return this.indexManager.getIndexType(t,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=hg(n,null,"F"),s=es(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next((u=>{const c=Ft(...u);return this.ps.getDocuments(t,c).next((d=>this.indexManager.getMinOffset(t,s).next((p=>{const g=this.Ds(n,d);return this.Cs(n,g,c,p.readTime)?this.ys(t,hg(n,null,"F")):this.vs(t,g,n,p)}))))})))))}ws(t,n,s,o){return W0(n)||o.isEqual(It.min())?it.resolve(null):this.ps.getDocuments(t,s).next((u=>{const c=this.Ds(n,u);return this.Cs(n,c,s,o)?it.resolve(null):(Po()<=zt.DEBUG&&pt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),ko(n)),this.vs(t,c,n,cV(o,zu)).next((d=>d)))}))}Ds(t,n){let s=new Xe(Tw(t));return n.forEach(((o,u)=>{td(t,u)&&(s=s.add(u))})),s}Cs(t,n,s,o){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const u=t.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(t,n,s){return Po()<=zt.DEBUG&&pt("QueryEngine","Using full collection scan to execute query:",ko(n)),this.ps.getDocumentsMatchingQuery(t,n,Lr.min(),s)}vs(t,n,s,o){return this.ps.getDocumentsMatchingQuery(t,s,o).next((u=>(n.forEach((c=>{u=u.insert(c.key,c)})),u)))}}const Ty="LocalStore",FO=3e8;class HO{constructor(t,n,s,o){this.persistence=t,this.Fs=n,this.serializer=o,this.Ms=new ve(qt),this.xs=new Ga((u=>cy(u)),hy),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(s)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new VO(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>t.collect(n,this.Ms)))}}function GO(e,t,n,s){return new HO(e,t,n,s)}async function Fw(e,t){const n=Dt(e);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Bs(t),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const c=[],d=[];let p=Ft();for(const g of o){c.push(g.batchId);for(const y of g.mutations)p=p.add(y.key)}for(const g of u){d.push(g.batchId);for(const y of g.mutations)p=p.add(y.key)}return n.localDocuments.getDocuments(s,p).next((g=>({Ls:g,removedBatchIds:c,addedBatchIds:d})))}))}))}function KO(e,t){const n=Dt(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=t.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(d,p,g,y){const A=g.batch,S=A.keys();let C=it.resolve();return S.forEach((k=>{C=C.next((()=>y.getEntry(p,k))).next((G=>{const B=g.docVersions.get(k);Jt(B!==null,48541),G.version.compareTo(B)<0&&(A.applyToRemoteDocument(G,g),G.isValidDocument()&&(G.setReadTime(g.commitVersion),y.addEntry(G)))}))})),C.next((()=>d.mutationQueue.removeMutationBatch(p,A)))})(n,s,t,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(d){let p=Ft();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(p=p.add(d.batch.mutations[g].key));return p})(t)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function Hw(e){const t=Dt(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>t.Pi.getLastRemoteSnapshotVersion(n)))}function YO(e,t){const n=Dt(e),s=t.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const c=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const d=[];t.targetChanges.forEach(((y,A)=>{const S=o.get(A);if(!S)return;d.push(n.Pi.removeMatchingKeys(u,y.removedDocuments,A).next((()=>n.Pi.addMatchingKeys(u,y.addedDocuments,A))));let C=S.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(A)!==null?C=C.withResumeToken(cn.EMPTY_BYTE_STRING,It.min()).withLastLimboFreeSnapshotVersion(It.min()):y.resumeToken.approximateByteSize()>0&&(C=C.withResumeToken(y.resumeToken,s)),o=o.insert(A,C),(function(G,B,Z){return G.resumeToken.approximateByteSize()===0||B.snapshotVersion.toMicroseconds()-G.snapshotVersion.toMicroseconds()>=FO?!0:Z.addedDocuments.size+Z.modifiedDocuments.size+Z.removedDocuments.size>0})(S,C,y)&&d.push(n.Pi.updateTargetData(u,C))}));let p=Ls(),g=Ft();if(t.documentUpdates.forEach((y=>{t.resolvedLimboDocuments.has(y)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(u,y))})),d.push(QO(u,c,t.documentUpdates).next((y=>{p=y.ks,g=y.qs}))),!s.isEqual(It.min())){const y=n.Pi.getLastRemoteSnapshotVersion(u).next((A=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));d.push(y)}return it.waitFor(d).next((()=>c.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,p,g))).next((()=>p))})).then((u=>(n.Ms=o,u)))}function QO(e,t,n){let s=Ft(),o=Ft();return n.forEach((u=>s=s.add(u))),t.getEntries(e,s).next((u=>{let c=Ls();return n.forEach(((d,p)=>{const g=u.get(d);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(d)),p.isNoDocument()&&p.version.isEqual(It.min())?(t.removeEntry(d,p.readTime),c=c.insert(d,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(p),c=c.insert(d,p)):pt(Ty,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",p.version)})),{ks:c,qs:o}}))}function XO(e,t){const n=Dt(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(t===void 0&&(t=oy),n.mutationQueue.getNextMutationBatchAfterBatchId(s,t))))}function $O(e,t){const n=Dt(e);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.Pi.getTargetData(s,t).next((u=>u?(o=u,it.resolve(o)):n.Pi.allocateTargetId(s).next((c=>(o=new Dr(t,c,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(t,s.targetId)),s}))}async function gg(e,t,n){const s=Dt(e),o=s.Ms.get(t),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(c=>s.persistence.referenceDelegate.removeTarget(c,o)))}catch(c){if(!ul(c))throw c;pt(Ty,`Failed to update sequence numbers for target ${t}: ${c}`)}s.Ms=s.Ms.remove(t),s.xs.delete(o.target)}function cA(e,t,n){const s=Dt(e);let o=It.min(),u=Ft();return s.persistence.runTransaction("Execute query","readwrite",(c=>(function(p,g,y){const A=Dt(p),S=A.xs.get(y);return S!==void 0?it.resolve(A.Ms.get(S)):A.Pi.getTargetData(g,y)})(s,c,es(t)).next((d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(c,d.targetId).next((p=>{u=p}))})).next((()=>s.Fs.getDocumentsMatchingQuery(c,t,n?o:It.min(),n?u:Ft()))).next((d=>(WO(s,kV(t),d),{documents:d,Qs:u})))))}function WO(e,t,n){let s=e.Os.get(t)||It.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),e.Os.set(t,s)}class hA{constructor(){this.activeTargetIds=qV()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class ZO{constructor(){this.Mo=new hA,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t,n=!0){return n&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,n,s){this.xo[t]=n}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new hA,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class JO{Oo(t){}shutdown(){}}const fA="ConnectivityMonitor";class dA{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){pt(fA,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){pt(fA,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Kh=null;function yg(){return Kh===null?Kh=(function(){return 268435456+Math.round(2147483648*Math.random())})():Kh++,"0x"+Kh.toString(16)}const Cp="RestConnection",tM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class eM{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+t.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===Cf?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(t,n,s,o,u){const c=yg(),d=this.zo(t,n.toUriEncodedString());pt(Cp,`Sending RPC '${t}' ${c}:`,d,s);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,u);const{host:g}=new URL(d),y=Gr(g);return this.Jo(t,d,p,s,y).then((A=>(pt(Cp,`Received RPC '${t}' ${c}: `,A),A)),(A=>{throw Zo(Cp,`RPC '${t}' ${c} failed with error: `,A,"url: ",d,"request:",s),A}))}Ho(t,n,s,o,u,c){return this.Go(t,n,s,o,u)}jo(t,n,s){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ol})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>t[u]=o)),s&&s.headers.forEach(((o,u)=>t[u]=o))}zo(t,n){const s=tM[t];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}class nM{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const dn="WebChannelConnection";class iM extends eM{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,s,o,u){const c=yg();return new Promise(((d,p)=>{const g=new Kb;g.setWithCredentials(!0),g.listenOnce(Yb.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case rf.NO_ERROR:const A=g.getResponseJson();pt(dn,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(A)),d(A);break;case rf.TIMEOUT:pt(dn,`RPC '${t}' ${c} timed out`),p(new mt(et.DEADLINE_EXCEEDED,"Request time out"));break;case rf.HTTP_ERROR:const S=g.getStatus();if(pt(dn,`RPC '${t}' ${c} failed with status:`,S,"response text:",g.getResponseText()),S>0){let C=g.getResponseJson();Array.isArray(C)&&(C=C[0]);const k=C?.error;if(k&&k.status&&k.message){const G=(function(Z){const nt=Z.toLowerCase().replace(/_/g,"-");return Object.values(et).indexOf(nt)>=0?nt:et.UNKNOWN})(k.status);p(new mt(G,k.message))}else p(new mt(et.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new mt(et.UNAVAILABLE,"Connection failed."));break;default:bt(9055,{l_:t,streamId:c,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{pt(dn,`RPC '${t}' ${c} completed.`)}}));const y=JSON.stringify(o);pt(dn,`RPC '${t}' ${c} sending request:`,o),g.send(n,"POST",y,s,15)}))}T_(t,n,s){const o=yg(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],c=$b(),d=Xb(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const y=u.join("");pt(dn,`Creating RPC '${t}' stream ${o}: ${y}`,p);const A=c.createWebChannel(y,p);this.I_(A);let S=!1,C=!1;const k=new nM({Yo:B=>{C?pt(dn,`Not sending because RPC '${t}' stream ${o} is closed:`,B):(S||(pt(dn,`Opening RPC '${t}' stream ${o} transport.`),A.open(),S=!0),pt(dn,`RPC '${t}' stream ${o} sending:`,B),A.send(B))},Zo:()=>A.close()}),G=(B,Z,nt)=>{B.listen(Z,($=>{try{nt($)}catch(ot){setTimeout((()=>{throw ot}),0)}}))};return G(A,Su.EventType.OPEN,(()=>{C||(pt(dn,`RPC '${t}' stream ${o} transport opened.`),k.o_())})),G(A,Su.EventType.CLOSE,(()=>{C||(C=!0,pt(dn,`RPC '${t}' stream ${o} transport closed`),k.a_(),this.E_(A))})),G(A,Su.EventType.ERROR,(B=>{C||(C=!0,Zo(dn,`RPC '${t}' stream ${o} transport errored. Name:`,B.name,"Message:",B.message),k.a_(new mt(et.UNAVAILABLE,"The operation could not be completed")))})),G(A,Su.EventType.MESSAGE,(B=>{if(!C){const Z=B.data[0];Jt(!!Z,16349);const nt=Z,$=nt?.error||nt[0]?.error;if($){pt(dn,`RPC '${t}' stream ${o} received error:`,$);const ot=$.status;let at=(function(R){const x=ze[R];if(x!==void 0)return Nw(x)})(ot),ht=$.message;at===void 0&&(at=et.INTERNAL,ht="Unknown error status: "+ot+" with message "+$.message),C=!0,k.a_(new mt(at,ht)),A.close()}else pt(dn,`RPC '${t}' stream ${o} received:`,Z),k.u_(Z)}})),G(d,Qb.STAT_EVENT,(B=>{B.stat===sg.PROXY?pt(dn,`RPC '${t}' stream ${o} detected buffering proxy`):B.stat===sg.NOPROXY&&pt(dn,`RPC '${t}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{k.__()}),0),k}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((n=>n===t))}}function Ip(){return typeof document<"u"?document:null}function sd(e){return new oO(e,!0)}class Gw{constructor(t,n,s=1e3,o=1.5,u=6e4){this.Mi=t,this.timerId=n,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&pt("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const mA="PersistentStream";class Kw{constructor(t,n,s,o,u,c,d,p){this.Mi=t,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Gw(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===et.RESOURCE_EXHAUSTED?(ks(n.toString()),ks("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===et.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(n)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{t((()=>{const o=new mt(et.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(t,n){const s=this.W_(this.D_);this.stream=this.j_(t,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return pt(mA,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return n=>{this.Mi.enqueueAndForget((()=>this.D_===t?n():(pt(mA,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class sM extends Kw{constructor(t,n,s,o,u,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,c),this.serializer=u}j_(t,n){return this.connection.T_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=cO(this.serializer,t),s=(function(u){if(!("targetChange"in u))return It.min();const c=u.targetChange;return c.targetIds&&c.targetIds.length?It.min():c.readTime?ns(c.readTime):It.min()})(t);return this.listener.H_(n,s)}Y_(t){const n={};n.database=pg(this.serializer),n.addTarget=(function(u,c){let d;const p=c.target;if(d=ug(p)?{documents:dO(u,p)}:{query:mO(u,p).ft},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=Mw(u,c.resumeToken);const g=fg(u,c.expectedCount);g!==null&&(d.expectedCount=g)}else if(c.snapshotVersion.compareTo(It.min())>0){d.readTime=Of(u,c.snapshotVersion.toTimestamp());const g=fg(u,c.expectedCount);g!==null&&(d.expectedCount=g)}return d})(this.serializer,t);const s=gO(this.serializer,t);s&&(n.labels=s),this.q_(n)}Z_(t){const n={};n.database=pg(this.serializer),n.removeTarget=t,this.q_(n)}}class rM extends Kw{constructor(t,n,s,o,u,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,c),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}J_(t){return Jt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Jt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Jt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=fO(t.writeResults,t.commitTime),s=ns(t.commitTime);return this.listener.na(s,n)}ra(){const t={};t.database=pg(this.serializer),this.q_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map((s=>hO(this.serializer,s)))};this.q_(n)}}class aM{}class oM extends aM{constructor(t,n,s,o){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new mt(et.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,c])=>this.connection.Go(t,dg(n,s),o,u,c))).catch((u=>{throw u.name==="FirebaseError"?(u.code===et.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new mt(et.UNKNOWN,u.toString())}))}Ho(t,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Ho(t,dg(n,s),o,c,d,u))).catch((c=>{throw c.name==="FirebaseError"?(c.code===et.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new mt(et.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class lM{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ks(n),this.aa=!1):pt("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const qa="RemoteStore";class uM{constructor(t,n,s,o,u){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((c=>{s.enqueueAndForget((async()=>{Ka(this)&&(pt(qa,"Restarting streams for network reachability change."),await(async function(p){const g=Dt(p);g.Ea.add(4),await lc(g),g.Ra.set("Unknown"),g.Ea.delete(4),await rd(g)})(this))}))})),this.Ra=new lM(s,o)}}async function rd(e){if(Ka(e))for(const t of e.da)await t(!0)}async function lc(e){for(const t of e.da)await t(!1)}function Yw(e,t){const n=Dt(e);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),by(n)?Sy(n):cl(n).O_()&&Ay(n,t))}function Ey(e,t){const n=Dt(e),s=cl(n);n.Ia.delete(t),s.O_()&&Qw(n,t),n.Ia.size===0&&(s.O_()?s.L_():Ka(n)&&n.Ra.set("Unknown"))}function Ay(e,t){if(e.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(It.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}cl(e).Y_(t)}function Qw(e,t){e.Va.Ue(t),cl(e).Z_(t)}function Sy(e){e.Va=new iO({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),cl(e).start(),e.Ra.ua()}function by(e){return Ka(e)&&!cl(e).x_()&&e.Ia.size>0}function Ka(e){return Dt(e).Ea.size===0}function Xw(e){e.Va=void 0}async function cM(e){e.Ra.set("Online")}async function hM(e){e.Ia.forEach(((t,n)=>{Ay(e,t)}))}async function fM(e,t){Xw(e),by(e)?(e.Ra.ha(t),Sy(e)):e.Ra.set("Unknown")}async function dM(e,t,n){if(e.Ra.set("Online"),t instanceof Ow&&t.state===2&&t.cause)try{await(async function(o,u){const c=u.cause;for(const d of u.targetIds)o.Ia.has(d)&&(await o.remoteSyncer.rejectListen(d,c),o.Ia.delete(d),o.Va.removeTarget(d))})(e,t)}catch(s){pt(qa,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await Pf(e,s)}else if(t instanceof uf?e.Va.Ze(t):t instanceof Vw?e.Va.st(t):e.Va.tt(t),!n.isEqual(It.min()))try{const s=await Hw(e.localStore);n.compareTo(s)>=0&&await(function(u,c){const d=u.Va.Tt(c);return d.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const y=u.Ia.get(g);y&&u.Ia.set(g,y.withResumeToken(p.resumeToken,c))}})),d.targetMismatches.forEach(((p,g)=>{const y=u.Ia.get(p);if(!y)return;u.Ia.set(p,y.withResumeToken(cn.EMPTY_BYTE_STRING,y.snapshotVersion)),Qw(u,p);const A=new Dr(y.target,p,g,y.sequenceNumber);Ay(u,A)})),u.remoteSyncer.applyRemoteEvent(d)})(e,n)}catch(s){pt(qa,"Failed to raise snapshot:",s),await Pf(e,s)}}async function Pf(e,t,n){if(!ul(t))throw t;e.Ea.add(1),await lc(e),e.Ra.set("Offline"),n||(n=()=>Hw(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{pt(qa,"Retrying IndexedDB access"),await n(),e.Ea.delete(1),await rd(e)}))}function $w(e,t){return t().catch((n=>Pf(e,n,t)))}async function ad(e){const t=Dt(e),n=zr(t);let s=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:oy;for(;mM(t);)try{const o=await XO(t.localStore,s);if(o===null){t.Ta.length===0&&n.L_();break}s=o.batchId,pM(t,o)}catch(o){await Pf(t,o)}Ww(t)&&Zw(t)}function mM(e){return Ka(e)&&e.Ta.length<10}function pM(e,t){e.Ta.push(t);const n=zr(e);n.O_()&&n.X_&&n.ea(t.mutations)}function Ww(e){return Ka(e)&&!zr(e).x_()&&e.Ta.length>0}function Zw(e){zr(e).start()}async function gM(e){zr(e).ra()}async function yM(e){const t=zr(e);for(const n of e.Ta)t.ea(n.mutations)}async function _M(e,t,n){const s=e.Ta.shift(),o=my.from(s,t,n);await $w(e,(()=>e.remoteSyncer.applySuccessfulWrite(o))),await ad(e)}async function vM(e,t){t&&zr(e).X_&&await(async function(s,o){if((function(c){return tO(c)&&c!==et.ABORTED})(o.code)){const u=s.Ta.shift();zr(s).B_(),await $w(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await ad(s)}})(e,t),Ww(e)&&Zw(e)}async function pA(e,t){const n=Dt(e);n.asyncQueue.verifyOperationInProgress(),pt(qa,"RemoteStore received new credentials");const s=Ka(n);n.Ea.add(3),await lc(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await rd(n)}async function TM(e,t){const n=Dt(e);t?(n.Ea.delete(2),await rd(n)):t||(n.Ea.add(2),await lc(n),n.Ra.set("Unknown"))}function cl(e){return e.ma||(e.ma=(function(n,s,o){const u=Dt(n);return u.sa(),new sM(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(e.datastore,e.asyncQueue,{Xo:cM.bind(null,e),t_:hM.bind(null,e),r_:fM.bind(null,e),H_:dM.bind(null,e)}),e.da.push((async t=>{t?(e.ma.B_(),by(e)?Sy(e):e.Ra.set("Unknown")):(await e.ma.stop(),Xw(e))}))),e.ma}function zr(e){return e.fa||(e.fa=(function(n,s,o){const u=Dt(n);return u.sa(),new rM(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(e.datastore,e.asyncQueue,{Xo:()=>Promise.resolve(),t_:gM.bind(null,e),r_:vM.bind(null,e),ta:yM.bind(null,e),na:_M.bind(null,e)}),e.da.push((async t=>{t?(e.fa.B_(),await ad(e)):(await e.fa.stop(),e.Ta.length>0&&(pt(qa,`Stopping write stream with ${e.Ta.length} pending writes`),e.Ta=[]))}))),e.fa}class wy{constructor(t,n,s,o,u){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Mr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,o,u){const c=Date.now()+s,d=new wy(t,n,c,o,u);return d.start(s),d}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new mt(et.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ry(e,t){if(ks("AsyncQueue",`${t}: ${e}`),ul(e))return new mt(et.UNAVAILABLE,`${t}: ${e}`);throw e}class Qo{static emptySet(t){return new Qo(t.comparator)}constructor(t){this.comparator=t?(n,s)=>t(n,s)||vt.comparator(n.key,s.key):(n,s)=>vt.comparator(n.key,s.key),this.keyedMap=bu(),this.sortedSet=new ve(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((n,s)=>(t(n),!1)))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Qo)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach((n=>{t.push(n.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const s=new Qo;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=n,s}}class gA{constructor(){this.ga=new ve(vt.comparator)}track(t){const n=t.doc.key,s=this.ga.get(n);s?t.type!==0&&s.type===3?this.ga=this.ga.insert(n,t):t.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.ga=this.ga.remove(n):t.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):bt(63341,{Rt:t,pa:s}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal(((n,s)=>{t.push(s)})),t}}class il{constructor(t,n,s,o,u,c,d,p,g){this.query=t,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(t,n,s,o,u){const c=[];return n.forEach((d=>{c.push({type:0,doc:d})})),new il(t,n,Qo.emptySet(n),c,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Jf(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,s=t.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}class EM{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class AM{constructor(){this.queries=yA(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=Dt(n),u=o.queries;o.queries=yA(),u.forEach(((c,d)=>{for(const p of d.Sa)p.onError(s)}))})(this,new mt(et.ABORTED,"Firestore shutting down"))}}function yA(){return new Ga((e=>vw(e)),Jf)}async function SM(e,t){const n=Dt(e);let s=3;const o=t.query;let u=n.queries.get(o);u?!u.ba()&&t.Da()&&(s=2):(u=new EM,s=t.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(c){const d=Ry(c,`Initialization of query '${ko(t.query)}' failed`);return void t.onError(d)}n.queries.set(o,u),u.Sa.push(t),t.va(n.onlineState),u.wa&&t.Fa(u.wa)&&Cy(n)}async function bM(e,t){const n=Dt(e),s=t.query;let o=3;const u=n.queries.get(s);if(u){const c=u.Sa.indexOf(t);c>=0&&(u.Sa.splice(c,1),u.Sa.length===0?o=t.Da()?0:1:!u.ba()&&t.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function wM(e,t){const n=Dt(e);let s=!1;for(const o of t){const u=o.query,c=n.queries.get(u);if(c){for(const d of c.Sa)d.Fa(o)&&(s=!0);c.wa=o}}s&&Cy(n)}function RM(e,t,n){const s=Dt(e),o=s.queries.get(t);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(t)}function Cy(e){e.Ca.forEach((t=>{t.next()}))}var _g,_A;(_A=_g||(_g={})).Ma="default",_A.Cache="cache";class CM{constructor(t,n,s){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(t){if(!this.options.includeMetadataChanges){const s=[];for(const o of t.docChanges)o.type!==3&&s.push(o);t=new il(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=il.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==_g.Cache}}class Jw{constructor(t){this.key=t}}class t1{constructor(t){this.key=t}}class IM{constructor(t,n){this.query=t,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ft(),this.mutatedKeys=Ft(),this.eu=Tw(t),this.tu=new Qo(this.eu)}get nu(){return this.Ya}ru(t,n){const s=n?n.iu:new gA,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,c=o,d=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((y,A)=>{const S=o.get(y),C=td(this.query,A)?A:null,k=!!S&&this.mutatedKeys.has(S.key),G=!!C&&(C.hasLocalMutations||this.mutatedKeys.has(C.key)&&C.hasCommittedMutations);let B=!1;S&&C?S.data.isEqual(C.data)?k!==G&&(s.track({type:3,doc:C}),B=!0):this.su(S,C)||(s.track({type:2,doc:C}),B=!0,(p&&this.eu(C,p)>0||g&&this.eu(C,g)<0)&&(d=!0)):!S&&C?(s.track({type:0,doc:C}),B=!0):S&&!C&&(s.track({type:1,doc:S}),B=!0,(p||g)&&(d=!0)),B&&(C?(c=c.add(C),u=G?u.add(y):u.delete(y)):(c=c.delete(y),u=u.delete(y)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const y=this.query.limitType==="F"?c.last():c.first();c=c.delete(y.key),u=u.delete(y.key),s.track({type:1,doc:y})}return{tu:c,iu:s,Cs:d,mutatedKeys:u}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,s,o){const u=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const c=t.iu.ya();c.sort(((y,A)=>(function(C,k){const G=B=>{switch(B){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return bt(20277,{Rt:B})}};return G(C)-G(k)})(y.type,A.type)||this.eu(y.doc,A.doc))),this.ou(s),o=o??!1;const d=n&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,g=p!==this.Za;return this.Za=p,c.length!==0||g?{snapshot:new il(this.query,t.tu,u,c,t.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new gA,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),t.modifiedDocuments.forEach((n=>{})),t.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Ft(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return t.forEach((s=>{this.Xa.has(s)||n.push(new t1(s))})),this.Xa.forEach((s=>{t.has(s)||n.push(new Jw(s))})),n}cu(t){this.Ya=t.Qs,this.Xa=Ft();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return il.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Iy="SyncEngine";class xM{constructor(t,n,s){this.query=t,this.targetId=n,this.view=s}}class DM{constructor(t){this.key=t,this.hu=!1}}class NM{constructor(t,n,s,o,u,c){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Ga((d=>vw(d)),Jf),this.Iu=new Map,this.Eu=new Set,this.du=new ve(vt.comparator),this.Au=new Map,this.Ru=new yy,this.Vu={},this.mu=new Map,this.fu=nl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function VM(e,t,n=!0){const s=a1(e);let o;const u=s.Tu.get(t);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await e1(s,t,n,!0),o}async function OM(e,t){const n=a1(e);await e1(n,t,!0,!1)}async function e1(e,t,n,s){const o=await $O(e.localStore,es(t)),u=o.targetId,c=e.sharedClientState.addLocalQueryTarget(u,n);let d;return s&&(d=await MM(e,t,u,c==="current",o.resumeToken)),e.isPrimaryClient&&n&&Yw(e.remoteStore,o),d}async function MM(e,t,n,s,o){e.pu=(A,S,C)=>(async function(G,B,Z,nt){let $=B.view.ru(Z);$.Cs&&($=await cA(G.localStore,B.query,!1).then((({documents:I})=>B.view.ru(I,$))));const ot=nt&&nt.targetChanges.get(B.targetId),at=nt&&nt.targetMismatches.get(B.targetId)!=null,ht=B.view.applyChanges($,G.isPrimaryClient,ot,at);return TA(G,B.targetId,ht.au),ht.snapshot})(e,A,S,C);const u=await cA(e.localStore,t,!0),c=new IM(t,u.Qs),d=c.ru(u.documents),p=oc.createSynthesizedTargetChangeForCurrentChange(n,s&&e.onlineState!=="Offline",o),g=c.applyChanges(d,e.isPrimaryClient,p);TA(e,n,g.au);const y=new xM(t,n,c);return e.Tu.set(t,y),e.Iu.has(n)?e.Iu.get(n).push(t):e.Iu.set(n,[t]),g.snapshot}async function PM(e,t,n){const s=Dt(e),o=s.Tu.get(t),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((c=>!Jf(c,t)))),void s.Tu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await gg(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Ey(s.remoteStore,o.targetId),vg(s,o.targetId)})).catch(ll)):(vg(s,o.targetId),await gg(s.localStore,o.targetId,!0))}async function kM(e,t){const n=Dt(e),s=n.Tu.get(t),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Ey(n.remoteStore,s.targetId))}async function LM(e,t,n){const s=HM(e);try{const o=await(function(c,d){const p=Dt(c),g=de.now(),y=d.reduce(((C,k)=>C.add(k.key)),Ft());let A,S;return p.persistence.runTransaction("Locally write mutations","readwrite",(C=>{let k=Ls(),G=Ft();return p.Ns.getEntries(C,y).next((B=>{k=B,k.forEach(((Z,nt)=>{nt.isValidDocument()||(G=G.add(Z))}))})).next((()=>p.localDocuments.getOverlayedDocuments(C,k))).next((B=>{A=B;const Z=[];for(const nt of d){const $=XV(nt,A.get(nt.key).overlayedDocument);$!=null&&Z.push(new Qr(nt.key,$,cw($.value.mapValue),bi.exists(!0)))}return p.mutationQueue.addMutationBatch(C,g,Z,d)})).next((B=>{S=B;const Z=B.applyToLocalDocumentSet(A,G);return p.documentOverlayCache.saveOverlays(C,B.batchId,Z)}))})).then((()=>({batchId:S.batchId,changes:Aw(A)})))})(s.localStore,t);s.sharedClientState.addPendingMutation(o.batchId),(function(c,d,p){let g=c.Vu[c.currentUser.toKey()];g||(g=new ve(qt)),g=g.insert(d,p),c.Vu[c.currentUser.toKey()]=g})(s,o.batchId,n),await uc(s,o.changes),await ad(s.remoteStore)}catch(o){const u=Ry(o,"Failed to persist write");n.reject(u)}}async function n1(e,t){const n=Dt(e);try{const s=await YO(n.localStore,t);t.targetChanges.forEach(((o,u)=>{const c=n.Au.get(u);c&&(Jt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?c.hu=!0:o.modifiedDocuments.size>0?Jt(c.hu,14607):o.removedDocuments.size>0&&(Jt(c.hu,42227),c.hu=!1))})),await uc(n,s,t)}catch(s){await ll(s)}}function vA(e,t,n){const s=Dt(e);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,c)=>{const d=c.view.va(t);d.snapshot&&o.push(d.snapshot)})),(function(c,d){const p=Dt(c);p.onlineState=d;let g=!1;p.queries.forEach(((y,A)=>{for(const S of A.Sa)S.va(d)&&(g=!0)})),g&&Cy(p)})(s.eventManager,t),o.length&&s.Pu.H_(o),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function jM(e,t,n){const s=Dt(e);s.sharedClientState.updateQueryState(t,"rejected",n);const o=s.Au.get(t),u=o&&o.key;if(u){let c=new ve(vt.comparator);c=c.insert(u,pn.newNoDocument(u,It.min()));const d=Ft().add(u),p=new id(It.min(),new Map,new ve(qt),c,d);await n1(s,p),s.du=s.du.remove(u),s.Au.delete(t),xy(s)}else await gg(s.localStore,t,!1).then((()=>vg(s,t,n))).catch(ll)}async function UM(e,t){const n=Dt(e),s=t.batch.batchId;try{const o=await KO(n.localStore,t);s1(n,s,null),i1(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await uc(n,o)}catch(o){await ll(o)}}async function BM(e,t,n){const s=Dt(e);try{const o=await(function(c,d){const p=Dt(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let y;return p.mutationQueue.lookupMutationBatch(g,d).next((A=>(Jt(A!==null,37113),y=A.keys(),p.mutationQueue.removeMutationBatch(g,A)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,y,d))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,y))).next((()=>p.localDocuments.getDocuments(g,y)))}))})(s.localStore,t);s1(s,t,n),i1(s,t),s.sharedClientState.updateMutationState(t,"rejected",n),await uc(s,o)}catch(o){await ll(o)}}function i1(e,t){(e.mu.get(t)||[]).forEach((n=>{n.resolve()})),e.mu.delete(t)}function s1(e,t,n){const s=Dt(e);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(t);u&&(n?u.reject(n):u.resolve(),o=o.remove(t)),s.Vu[s.currentUser.toKey()]=o}}function vg(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const s of e.Iu.get(t))e.Tu.delete(s),n&&e.Pu.yu(s,n);e.Iu.delete(t),e.isPrimaryClient&&e.Ru.jr(t).forEach((s=>{e.Ru.containsKey(s)||r1(e,s)}))}function r1(e,t){e.Eu.delete(t.path.canonicalString());const n=e.du.get(t);n!==null&&(Ey(e.remoteStore,n),e.du=e.du.remove(t),e.Au.delete(n),xy(e))}function TA(e,t,n){for(const s of n)s instanceof Jw?(e.Ru.addReference(s.key,t),zM(e,s)):s instanceof t1?(pt(Iy,"Document no longer in limbo: "+s.key),e.Ru.removeReference(s.key,t),e.Ru.containsKey(s.key)||r1(e,s.key)):bt(19791,{wu:s})}function zM(e,t){const n=t.key,s=n.path.canonicalString();e.du.get(n)||e.Eu.has(s)||(pt(Iy,"New document in limbo: "+n),e.Eu.add(s),xy(e))}function xy(e){for(;e.Eu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){const t=e.Eu.values().next().value;e.Eu.delete(t);const n=new vt(ce.fromString(t)),s=e.fu.next();e.Au.set(s,new DM(n)),e.du=e.du.insert(n,s),Yw(e.remoteStore,new Dr(es(yw(n.path)),s,"TargetPurposeLimboResolution",$f.ce))}}async function uc(e,t,n){const s=Dt(e),o=[],u=[],c=[];s.Tu.isEmpty()||(s.Tu.forEach(((d,p)=>{c.push(s.pu(p,t,n).then((g=>{if((g||n)&&s.isPrimaryClient){const y=g?!g.fromCache:n?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,y?"current":"not-current")}if(g){o.push(g);const y=vy.As(p.targetId,g);u.push(y)}})))})),await Promise.all(c),s.Pu.H_(o),await(async function(p,g){const y=Dt(p);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>it.forEach(g,(S=>it.forEach(S.Es,(C=>y.persistence.referenceDelegate.addReference(A,S.targetId,C))).next((()=>it.forEach(S.ds,(C=>y.persistence.referenceDelegate.removeReference(A,S.targetId,C)))))))))}catch(A){if(!ul(A))throw A;pt(Ty,"Failed to update sequence numbers: "+A)}for(const A of g){const S=A.targetId;if(!A.fromCache){const C=y.Ms.get(S),k=C.snapshotVersion,G=C.withLastLimboFreeSnapshotVersion(k);y.Ms=y.Ms.insert(S,G)}}})(s.localStore,u))}async function qM(e,t){const n=Dt(e);if(!n.currentUser.isEqual(t)){pt(Iy,"User change. New user:",t.toKey());const s=await Fw(n.localStore,t);n.currentUser=t,(function(u,c){u.mu.forEach((d=>{d.forEach((p=>{p.reject(new mt(et.CANCELLED,c))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await uc(n,s.Ls)}}function FM(e,t){const n=Dt(e),s=n.Au.get(t);if(s&&s.hu)return Ft().add(s.key);{let o=Ft();const u=n.Iu.get(t);if(!u)return o;for(const c of u){const d=n.Tu.get(c);o=o.unionWith(d.view.nu)}return o}}function a1(e){const t=Dt(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=n1.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=FM.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=jM.bind(null,t),t.Pu.H_=wM.bind(null,t.eventManager),t.Pu.yu=RM.bind(null,t.eventManager),t}function HM(e){const t=Dt(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=UM.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=BM.bind(null,t),t}class kf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=sd(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return GO(this.persistence,new qO,t.initialUser,this.serializer)}Cu(t){return new qw(_y.mi,this.serializer)}Du(t){return new ZO}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}kf.provider={build:()=>new kf};class GM extends kf{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){Jt(this.persistence.referenceDelegate instanceof Mf,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new CO(s,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?Dn.withCacheSize(this.cacheSizeBytes):Dn.DEFAULT;return new qw((s=>Mf.mi(s,n)),this.serializer)}}class Tg{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>vA(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=qM.bind(null,this.syncEngine),await TM(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new AM})()}createDatastore(t){const n=sd(t.databaseInfo.databaseId),s=(function(u){return new iM(u)})(t.databaseInfo);return(function(u,c,d,p){return new oM(u,c,d,p)})(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return(function(s,o,u,c,d){return new uM(s,o,u,c,d)})(this.localStore,this.datastore,t.asyncQueue,(n=>vA(this.syncEngine,n,0)),(function(){return dA.v()?new dA:new JO})())}createSyncEngine(t,n){return(function(o,u,c,d,p,g,y){const A=new NM(o,u,c,d,p,g);return y&&(A.gu=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Dt(n);pt(qa,"RemoteStore shutting down."),s.Ea.add(5),await lc(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Tg.provider={build:()=>new Tg};class KM{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):ks("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout((()=>{this.muted||t(n)}),0)}}const qr="FirestoreClient";class YM{constructor(t,n,s,o,u){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=mn.UNAUTHENTICATED,this.clientId=ay.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async c=>{pt(qr,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(s,(c=>(pt(qr,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Mr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=Ry(n,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}async function xp(e,t){e.asyncQueue.verifyOperationInProgress(),pt(qr,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let s=n.initialUser;e.setCredentialChangeListener((async o=>{s.isEqual(o)||(await Fw(t.localStore,o),s=o)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function EA(e,t){e.asyncQueue.verifyOperationInProgress();const n=await QM(e);pt(qr,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((s=>pA(t.remoteStore,s))),e.setAppCheckTokenChangeListener(((s,o)=>pA(t.remoteStore,o))),e._onlineComponents=t}async function QM(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){pt(qr,"Using user provided OfflineComponentProvider");try{await xp(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!(function(o){return o.name==="FirebaseError"?o.code===et.FAILED_PRECONDITION||o.code===et.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;Zo("Error using user provided cache. Falling back to memory cache: "+n),await xp(e,new kf)}}else pt(qr,"Using default OfflineComponentProvider"),await xp(e,new GM(void 0));return e._offlineComponents}async function o1(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(pt(qr,"Using user provided OnlineComponentProvider"),await EA(e,e._uninitializedComponentsProvider._online)):(pt(qr,"Using default OnlineComponentProvider"),await EA(e,new Tg))),e._onlineComponents}function XM(e){return o1(e).then((t=>t.syncEngine))}async function $M(e){const t=await o1(e),n=t.eventManager;return n.onListen=VM.bind(null,t.syncEngine),n.onUnlisten=PM.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=OM.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=kM.bind(null,t.syncEngine),n}function WM(e,t,n={}){const s=new Mr;return e.asyncQueue.enqueueAndForget((async()=>(function(u,c,d,p,g){const y=new KM({next:S=>{y.Nu(),c.enqueueAndForget((()=>bM(u,A))),S.fromCache&&p.source==="server"?g.reject(new mt(et.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(S)},error:S=>g.reject(S)}),A=new CM(d,y,{includeMetadataChanges:!0,qa:!0});return SM(u,A)})(await $M(e),e.asyncQueue,t,n,s))),s.promise}function l1(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}const AA=new Map;const u1="firestore.googleapis.com",SA=!0;class bA{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new mt(et.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=u1,this.ssl=SA}else this.host=t.host,this.ssl=t.ssl??SA;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=zw;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<wO)throw new mt(et.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}uV("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=l1(t.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new mt(et.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new mt(et.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new mt(et.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class od{constructor(t,n,s,o){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new bA({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new mt(et.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new mt(et.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new bA(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new J2;switch(s.type){case"firstParty":return new iV(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new mt(et.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=AA.get(n);s&&(pt("ComponentProvider","Removing Datastore"),AA.delete(n),s.terminate())})(this),Promise.resolve()}}function ZM(e,t,n,s={}){e=za(e,od);const o=Gr(t),u=e._getSettings(),c={...u,emulatorOptions:e._getEmulatorOptions()},d=`${t}:${n}`;o&&(Kg(`https://${d}`),Yg("Firestore",!0)),u.host!==u1&&u.host!==d&&Zo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:d,ssl:o,emulatorOptions:s};if(!ka(p,c)&&(e._setSettings(p),s.mockUserToken)){let g,y;if(typeof s.mockUserToken=="string")g=s.mockUserToken,y=mn.MOCK_USER;else{g=rb(s.mockUserToken,e._app?.options.projectId);const A=s.mockUserToken.sub||s.mockUserToken.user_id;if(!A)throw new mt(et.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new mn(A)}e._authCredentials=new tV(new Zb(g,y))}}class hl{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new hl(this.firestore,t,this._query)}}class Qe{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Pr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Qe(this.firestore,t,this._key)}toJSON(){return{type:Qe._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,s){if(sc(n,Qe._jsonSchema))return new Qe(t,s||null,new vt(ce.fromString(n.referencePath)))}}Qe._jsonSchemaVersion="firestore/documentReference/1.0",Qe._jsonSchema={type:He("string",Qe._jsonSchemaVersion),referencePath:He("string")};class Pr extends hl{constructor(t,n,s){super(t,n,yw(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Qe(this.firestore,null,new vt(t))}withConverter(t){return new Pr(this.firestore,t,this._path)}}function yu(e,t,...n){if(e=be(e),Jb("collection","path",t),e instanceof od){const s=ce.fromString(t,...n);return L0(s),new Pr(e,null,s)}{if(!(e instanceof Qe||e instanceof Pr))throw new mt(et.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=e._path.child(ce.fromString(t,...n));return L0(s),new Pr(e.firestore,null,s)}}function cf(e,t,...n){if(e=be(e),arguments.length===1&&(t=ay.newId()),Jb("doc","path",t),e instanceof od){const s=ce.fromString(t,...n);return k0(s),new Qe(e,null,new vt(s))}{if(!(e instanceof Qe||e instanceof Pr))throw new mt(et.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=e._path.child(ce.fromString(t,...n));return k0(s),new Qe(e.firestore,e instanceof Pr?e.converter:null,new vt(s))}}const wA="AsyncQueue";class RA{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Gw(this,"async_queue_retry"),this._c=()=>{const s=Ip();s&&pt(wA,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=t;const n=Ip();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=Ip();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Mr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!ul(t))throw t;pt(wA,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const n=this.ac.then((()=>(this.rc=!0,t().catch((s=>{throw this.nc=s,this.rc=!1,ks("INTERNAL UNHANDLED ERROR: ",CA(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(t,n,s){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const o=wy.createAndSchedule(this,t,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&bt(47125,{Pc:CA(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function CA(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}class cc extends od{constructor(t,n,s,o){super(t,n,s,o),this.type="firestore",this._queue=new RA,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new RA(t),this._firestoreClient=void 0,await t}}}function JM(e,t){const n=typeof e=="object"?e:$g(),s=typeof e=="string"?e:Cf,o=Gf(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=nb("firestore");u&&ZM(o,...u)}return o}function c1(e){if(e._terminated)throw new mt(et.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||tP(e),e._firestoreClient}function tP(e){const t=e._freezeSettings(),n=(function(o,u,c,d){return new TV(o,u,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,l1(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)})(e._databaseId,e._app?.options.appId||"",e._persistenceKey,t);e._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(e._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),e._firestoreClient=new YM(e._authCredentials,e._appCheckCredentials,e._queue,n,e._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(e._componentsProvider))}class ai{constructor(t){this._byteString=t}static fromBase64String(t){try{return new ai(cn.fromBase64String(t))}catch(n){throw new mt(et.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new ai(cn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:ai._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(sc(t,ai._jsonSchema))return ai.fromBase64String(t.bytes)}}ai._jsonSchemaVersion="firestore/bytes/1.0",ai._jsonSchema={type:He("string",ai._jsonSchemaVersion),bytes:He("string")};class ld{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new mt(et.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new un(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Dy{constructor(t){this._methodName=t}}class is{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new mt(et.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new mt(et.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return qt(this._lat,t._lat)||qt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:is._jsonSchemaVersion}}static fromJSON(t){if(sc(t,is._jsonSchema))return new is(t.latitude,t.longitude)}}is._jsonSchemaVersion="firestore/geoPoint/1.0",is._jsonSchema={type:He("string",is._jsonSchemaVersion),latitude:He("number"),longitude:He("number")};class ss{constructor(t){this._values=(t||[]).map((n=>n))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,t._values)}toJSON(){return{type:ss._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(sc(t,ss._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((n=>typeof n=="number")))return new ss(t.vectorValues);throw new mt(et.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ss._jsonSchemaVersion="firestore/vectorValue/1.0",ss._jsonSchema={type:He("string",ss._jsonSchemaVersion),vectorValues:He("object")};const eP=/^__.*__$/;class nP{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return this.fieldMask!==null?new Qr(t,this.data,this.fieldMask,n,this.fieldTransforms):new ac(t,this.data,n,this.fieldTransforms)}}class h1{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return new Qr(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function f1(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw bt(40011,{Ac:e})}}class Ny{constructor(t,n,s,o,u,c){this.settings=t,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Ny({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const n=this.path?.child(t),s=this.Vc({path:n,fc:!1});return s.gc(t),s}yc(t){const n=this.path?.child(t),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return Lf(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((n=>t.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>t.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(f1(this.Ac)&&eP.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class iP{constructor(t,n,s){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=s||sd(t)}Cc(t,n,s,o=!1){return new Ny({Ac:t,methodName:n,Dc:s,path:un.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Vy(e){const t=e._freezeSettings(),n=sd(e._databaseId);return new iP(e._databaseId,!!t.ignoreUndefinedProperties,n)}function sP(e,t,n,s,o,u={}){const c=e.Cc(u.merge||u.mergeFields?2:0,t,n,o);Oy("Data must be an object, but it was:",c,s);const d=d1(s,c);let p,g;if(u.merge)p=new Fn(c.fieldMask),g=c.fieldTransforms;else if(u.mergeFields){const y=[];for(const A of u.mergeFields){const S=Eg(t,A,n);if(!c.contains(S))throw new mt(et.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);p1(y,S)||y.push(S)}p=new Fn(y),g=c.fieldTransforms.filter((A=>p.covers(A.field)))}else p=null,g=c.fieldTransforms;return new nP(new Nn(d),p,g)}class ud extends Dy{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof ud}}function rP(e,t,n,s){const o=e.Cc(1,t,n);Oy("Data must be an object, but it was:",o,s);const u=[],c=Nn.empty();Yr(s,((p,g)=>{const y=My(t,p,n);g=be(g);const A=o.yc(y);if(g instanceof ud)u.push(y);else{const S=hc(g,A);S!=null&&(u.push(y),c.set(y,S))}}));const d=new Fn(u);return new h1(c,d,o.fieldTransforms)}function aP(e,t,n,s,o,u){const c=e.Cc(1,t,n),d=[Eg(t,s,n)],p=[o];if(u.length%2!=0)throw new mt(et.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<u.length;S+=2)d.push(Eg(t,u[S])),p.push(u[S+1]);const g=[],y=Nn.empty();for(let S=d.length-1;S>=0;--S)if(!p1(g,d[S])){const C=d[S];let k=p[S];k=be(k);const G=c.yc(C);if(k instanceof ud)g.push(C);else{const B=hc(k,G);B!=null&&(g.push(C),y.set(C,B))}}const A=new Fn(g);return new h1(y,A,c.fieldTransforms)}function oP(e,t,n,s=!1){return hc(n,e.Cc(s?4:3,t))}function hc(e,t){if(m1(e=be(e)))return Oy("Unsupported field value:",t,e),d1(e,t);if(e instanceof Dy)return(function(s,o){if(!f1(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(s,o){const u=[];let c=0;for(const d of s){let p=hc(d,o.wc(c));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),c++}return{arrayValue:{values:u}}})(e,t)}return(function(s,o){if((s=be(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return FV(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=de.fromDate(s);return{timestampValue:Of(o.serializer,u)}}if(s instanceof de){const u=new de(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Of(o.serializer,u)}}if(s instanceof is)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof ai)return{bytesValue:Mw(o.serializer,s._byteString)};if(s instanceof Qe){const u=o.databaseId,c=s.firestore._databaseId;if(!c.isEqual(u))throw o.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:gy(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof ss)return(function(c,d){return{mapValue:{fields:{[lw]:{stringValue:uw},[If]:{arrayValue:{values:c.toArray().map((g=>{if(typeof g!="number")throw d.Sc("VectorValues must only contain numeric values.");return fy(d.serializer,g)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${Xf(s)}`)})(e,t)}function d1(e,t){const n={};return nw(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Yr(e,((s,o)=>{const u=hc(o,t.mc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function m1(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof de||e instanceof is||e instanceof ai||e instanceof Qe||e instanceof Dy||e instanceof ss)}function Oy(e,t,n){if(!m1(n)||!tw(n)){const s=Xf(n);throw s==="an object"?t.Sc(e+" a custom object"):t.Sc(e+" "+s)}}function Eg(e,t,n){if((t=be(t))instanceof ld)return t._internalPath;if(typeof t=="string")return My(e,t);throw Lf("Field path arguments must be of type string or ",e,!1,void 0,n)}const lP=new RegExp("[~\\*/\\[\\]]");function My(e,t,n){if(t.search(lP)>=0)throw Lf(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new ld(...t.split("."))._internalPath}catch{throw Lf(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Lf(e,t,n,s,o){const u=s&&!s.isEmpty(),c=o!==void 0;let d=`Function ${t}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(u||c)&&(p+=" (found",u&&(p+=` in field ${s}`),c&&(p+=` in document ${o}`),p+=")"),new mt(et.INVALID_ARGUMENT,d+e+p)}function p1(e,t){return e.some((n=>n.isEqual(t)))}class g1{constructor(t,n,s,o,u){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Qe(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new uP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(Py("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class uP extends g1{data(){return super.data()}}function Py(e,t){return typeof t=="string"?My(e,t):t instanceof ld?t._internalPath:t._delegate._internalPath}function cP(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new mt(et.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ky{}class hP extends ky{}function fP(e,t,...n){let s=[];t instanceof ky&&s.push(t),s=s.concat(n),(function(u){const c=u.filter((p=>p instanceof Ly)).length,d=u.filter((p=>p instanceof cd)).length;if(c>1||c>0&&d>0)throw new mt(et.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)e=o._apply(e);return e}class cd extends hP{constructor(t,n,s){super(),this._field=t,this._op=n,this._value=s,this.type="where"}static _create(t,n,s){return new cd(t,n,s)}_apply(t){const n=this._parse(t);return y1(t._query,n),new hl(t.firestore,t.converter,cg(t._query,n))}_parse(t){const n=Vy(t.firestore);return(function(u,c,d,p,g,y,A){let S;if(g.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new mt(et.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){xA(A,y);const k=[];for(const G of A)k.push(IA(p,u,G));S={arrayValue:{values:k}}}else S=IA(p,u,A)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||xA(A,y),S=oP(d,c,A,y==="in"||y==="not-in");return Fe.create(g,y,S)})(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function dP(e,t,n){const s=t,o=Py("where",e);return cd._create(o,s,n)}class Ly extends ky{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new Ly(t,n)}_parse(t){const n=this._queryConstraints.map((s=>s._parse(t))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:Ri.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:((function(o,u){let c=o;const d=u.getFlattenedFilters();for(const p of d)y1(c,p),c=cg(c,p)})(t._query,n),new hl(t.firestore,t.converter,cg(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function IA(e,t,n){if(typeof(n=be(n))=="string"){if(n==="")throw new mt(et.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!_w(t)&&n.indexOf("/")!==-1)throw new mt(et.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=t.path.child(ce.fromString(n));if(!vt.isDocumentKey(s))throw new mt(et.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return G0(e,new vt(s))}if(n instanceof Qe)return G0(e,n._key);throw new mt(et.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Xf(n)}.`)}function xA(e,t){if(!Array.isArray(e)||e.length===0)throw new mt(et.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function y1(e,t){const n=(function(o,u){for(const c of o)for(const d of c.getFlattenedFilters())if(u.indexOf(d.op)>=0)return d.op;return null})(e.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(n!==null)throw n===t.op?new mt(et.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new mt(et.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class mP{convertValue(t,n="none"){switch(Br(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ve(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Ur(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw bt(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const s={};return Yr(t,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(t){const n=t.fields?.[If].arrayValue?.values?.map((s=>Ve(s.doubleValue)));return new ss(n)}convertGeoPoint(t){return new is(Ve(t.latitude),Ve(t.longitude))}convertArray(t,n){return(t.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(t,n){switch(n){case"previous":const s=Zf(t);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(qu(t));default:return null}}convertTimestamp(t){const n=jr(t);return new de(n.seconds,n.nanos)}convertDocumentKey(t,n){const s=ce.fromString(t);Jt(Bw(s),9688,{name:t});const o=new Fu(s.get(1),s.get(3)),u=new vt(s.popFirst(5));return o.isEqual(n)||ks(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}function pP(e,t,n){let s;return s=e?e.toFirestore(t):t,s}class Yh{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Xo extends g1{constructor(t,n,s,o,u,c){super(t,n,s,o,c),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new hf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field(Py("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new mt(et.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=Xo._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Xo._jsonSchemaVersion="firestore/documentSnapshot/1.0",Xo._jsonSchema={type:He("string",Xo._jsonSchemaVersion),bundleSource:He("string","DocumentSnapshot"),bundleName:He("string"),bundle:He("string")};class hf extends Xo{data(t={}){return super.data(t)}}class $o{constructor(t,n,s,o){this._firestore=t,this._userDataWriter=n,this._snapshot=o,this.metadata=new Yh(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const t=[];return this.forEach((n=>t.push(n))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach((s=>{t.call(n,new hf(this._firestore,this._userDataWriter,s.key,s,new Yh(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new mt(et.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map((d=>{const p=new hf(o._firestore,o._userDataWriter,d.doc.key,d.doc,new Yh(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}}))}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((d=>u||d.type!==3)).map((d=>{const p=new hf(o._firestore,o._userDataWriter,d.doc.key,d.doc,new Yh(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,y=-1;return d.type!==0&&(g=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),y=c.indexOf(d.doc.key)),{type:gP(d.type),doc:p,oldIndex:g,newIndex:y}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new mt(et.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=$o._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=ay.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function gP(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return bt(61501,{type:e})}}$o._jsonSchemaVersion="firestore/querySnapshot/1.0",$o._jsonSchema={type:He("string",$o._jsonSchemaVersion),bundleSource:He("string","QuerySnapshot"),bundleName:He("string"),bundle:He("string")};class yP extends mP{constructor(t){super(),this.firestore=t}convertBytes(t){return new ai(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Qe(this.firestore,null,n)}}function Dp(e){e=za(e,hl);const t=za(e.firestore,cc),n=c1(t),s=new yP(t);return cP(e._query),WM(n,e._query).then((o=>new $o(t,s,e,o)))}function DA(e,t,n,...s){e=za(e,Qe);const o=za(e.firestore,cc),u=Vy(o);let c;return c=typeof(t=be(t))=="string"||t instanceof ld?aP(u,"updateDoc",e._key,t,n,s):rP(u,"updateDoc",e._key,t),jy(o,[c.toMutation(e._key,bi.exists(!0))])}function _P(e){return jy(za(e.firestore,cc),[new dy(e._key,bi.none())])}function NA(e,t){const n=za(e.firestore,cc),s=cf(e),o=pP(e.converter,t);return jy(n,[sP(Vy(e.firestore),"addDoc",s._key,o,e.converter!==null,{}).toMutation(s._key,bi.exists(!1))]).then((()=>s))}function jy(e,t){return(function(s,o){const u=new Mr;return s.asyncQueue.enqueueAndForget((async()=>LM(await XM(s),o,u))),u.promise})(c1(e),t)}(function(t,n=!0){(function(o){ol=o})(Ha),La(new kr("firestore",((s,{instanceIdentifier:o,options:u})=>{const c=s.getProvider("app").getImmediate(),d=new cc(new eV(s.getProvider("auth-internal")),new sV(c,s.getProvider("app-check-internal")),(function(g,y){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new mt(et.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Fu(g.options.projectId,y)})(c,o),c);return u={useFetchStreams:n,...u},d._setSettings(u),d}),"PUBLIC").setMultipleInstances(!0)),Zi(V0,O0,t),Zi(V0,O0,"esm2020")})();const _1="firebasestorage.googleapis.com",v1="storageBucket",vP=120*1e3,TP=600*1e3;class Re extends ls{constructor(t,n,s=0){super(Np(t),`Firebase Storage: ${n} (${Np(t)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Re.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return Np(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var we;(function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(we||(we={}));function Np(e){return"storage/"+e}function Uy(){const e="An unknown error occurred, please check the error payload for server response.";return new Re(we.UNKNOWN,e)}function EP(e){return new Re(we.OBJECT_NOT_FOUND,"Object '"+e+"' does not exist.")}function AP(e){return new Re(we.QUOTA_EXCEEDED,"Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function SP(){const e="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Re(we.UNAUTHENTICATED,e)}function bP(){return new Re(we.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function wP(e){return new Re(we.UNAUTHORIZED,"User does not have permission to access '"+e+"'.")}function RP(){return new Re(we.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function CP(){return new Re(we.CANCELED,"User canceled the upload/download.")}function IP(e){return new Re(we.INVALID_URL,"Invalid URL '"+e+"'.")}function xP(e){return new Re(we.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")}function DP(){return new Re(we.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+v1+"' property when initializing the app?")}function NP(){return new Re(we.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function VP(){return new Re(we.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function OP(e){return new Re(we.UNSUPPORTED_ENVIRONMENT,`${e} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Ag(e){return new Re(we.INVALID_ARGUMENT,e)}function T1(){return new Re(we.APP_DELETED,"The Firebase app was deleted.")}function MP(e){return new Re(we.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Ou(e,t){return new Re(we.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function _u(e){throw new Re(we.INTERNAL_ERROR,"Internal error: "+e)}class Hn{constructor(t,n){this.bucket=t,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,n){let s;try{s=Hn.makeFromUrl(t,n)}catch{return new Hn(t,"")}if(s.path==="")return s;throw xP(t)}static makeFromUrl(t,n){let s=null;const o="([A-Za-z0-9.\\-_]+)";function u(ot){ot.path.charAt(ot.path.length-1)==="/"&&(ot.path_=ot.path_.slice(0,-1))}const c="(/(.*))?$",d=new RegExp("^gs://"+o+c,"i"),p={bucket:1,path:3};function g(ot){ot.path_=decodeURIComponent(ot.path)}const y="v[A-Za-z0-9_]+",A=n.replace(/[.]/g,"\\."),S="(/([^?#]*).*)?$",C=new RegExp(`^https?://${A}/${y}/b/${o}/o${S}`,"i"),k={bucket:1,path:3},G=n===_1?"(?:storage.googleapis.com|storage.cloud.google.com)":n,B="([^?#]*)",Z=new RegExp(`^https?://${G}/${o}/${B}`,"i"),$=[{regex:d,indices:p,postModify:u},{regex:C,indices:k,postModify:g},{regex:Z,indices:{bucket:1,path:2},postModify:g}];for(let ot=0;ot<$.length;ot++){const at=$[ot],ht=at.regex.exec(t);if(ht){const I=ht[at.indices.bucket];let R=ht[at.indices.path];R||(R=""),s=new Hn(I,R),at.postModify(s);break}}if(s==null)throw IP(t);return s}}class PP{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}function kP(e,t,n){let s=1,o=null,u=null,c=!1,d=0;function p(){return d===2}let g=!1;function y(...B){g||(g=!0,t.apply(null,B))}function A(B){o=setTimeout(()=>{o=null,e(C,p())},B)}function S(){u&&clearTimeout(u)}function C(B,...Z){if(g){S();return}if(B){S(),y.call(null,B,...Z);return}if(p()||c){S(),y.call(null,B,...Z);return}s<64&&(s*=2);let $;d===1?(d=2,$=0):$=(s+Math.random())*1e3,A($)}let k=!1;function G(B){k||(k=!0,S(),!g&&(o!==null?(B||(d=2),clearTimeout(o),A(0)):B||(d=1)))}return A(0),u=setTimeout(()=>{c=!0,G(!0)},n),G}function LP(e){e(!1)}function jP(e){return e!==void 0}function UP(e){return typeof e=="object"&&!Array.isArray(e)}function By(e){return typeof e=="string"||e instanceof String}function VA(e){return zy()&&e instanceof Blob}function zy(){return typeof Blob<"u"}function OA(e,t,n,s){if(s<t)throw Ag(`Invalid value for '${e}'. Expected ${t} or greater.`);if(s>n)throw Ag(`Invalid value for '${e}'. Expected ${n} or less.`)}function hd(e,t,n){let s=t;return n==null&&(s=`https://${t}`),`${n}://${s}/v0${e}`}function E1(e){const t=encodeURIComponent;let n="?";for(const s in e)if(e.hasOwnProperty(s)){const o=t(s)+"="+t(e[s]);n=n+o+"&"}return n=n.slice(0,-1),n}var Oa;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(Oa||(Oa={}));function BP(e,t){const n=e>=500&&e<600,o=[408,429].indexOf(e)!==-1,u=t.indexOf(e)!==-1;return n||o||u}class zP{constructor(t,n,s,o,u,c,d,p,g,y,A,S=!0,C=!1){this.url_=t,this.method_=n,this.headers_=s,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=c,this.callback_=d,this.errorCallback_=p,this.timeout_=g,this.progressCallback_=y,this.connectionFactory_=A,this.retry=S,this.isUsingEmulator=C,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((k,G)=>{this.resolve_=k,this.reject_=G,this.start_()})}start_(){const t=(s,o)=>{if(o){s(!1,new Qh(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const c=d=>{const p=d.loaded,g=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,g)};this.progressCallback_!==null&&u.addUploadProgressListener(c),u.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(c),this.pendingConnection_=null;const d=u.getErrorCode()===Oa.NO_ERROR,p=u.getStatus();if(!d||BP(p,this.additionalRetryCodes_)&&this.retry){const y=u.getErrorCode()===Oa.ABORT;s(!1,new Qh(!1,null,y));return}const g=this.successCodes_.indexOf(p)!==-1;s(!0,new Qh(g,u))})},n=(s,o)=>{const u=this.resolve_,c=this.reject_,d=o.connection;if(o.wasSuccessCode)try{const p=this.callback_(d,d.getResponse());jP(p)?u(p):u()}catch(p){c(p)}else if(d!==null){const p=Uy();p.serverResponse=d.getErrorText(),this.errorCallback_?c(this.errorCallback_(d,p)):c(p)}else if(o.canceled){const p=this.appDelete_?T1():CP();c(p)}else{const p=RP();c(p)}};this.canceled_?n(!1,new Qh(!1,null,!0)):this.backoffId_=kP(t,n,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&LP(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Qh{constructor(t,n,s){this.wasSuccessCode=t,this.connection=n,this.canceled=!!s}}function qP(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function FP(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function HP(e,t){t&&(e["X-Firebase-GMPID"]=t)}function GP(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function KP(e,t,n,s,o,u,c=!0,d=!1){const p=E1(e.urlParams),g=e.url+p,y=Object.assign({},e.headers);return HP(y,t),qP(y,n),FP(y,u),GP(y,s),new zP(g,e.method,y,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,o,c,d)}function YP(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function QP(...e){const t=YP();if(t!==void 0){const n=new t;for(let s=0;s<e.length;s++)n.append(e[s]);return n.getBlob()}else{if(zy())return new Blob(e);throw new Re(we.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function XP(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}function $P(e){if(typeof atob>"u")throw OP("base-64");return atob(e)}const Wi={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Vp{constructor(t,n){this.data=t,this.contentType=n||null}}function WP(e,t){switch(e){case Wi.RAW:return new Vp(A1(t));case Wi.BASE64:case Wi.BASE64URL:return new Vp(S1(e,t));case Wi.DATA_URL:return new Vp(JP(t),tk(t))}throw Uy()}function A1(e){const t=[];for(let n=0;n<e.length;n++){let s=e.charCodeAt(n);if(s<=127)t.push(s);else if(s<=2047)t.push(192|s>>6,128|s&63);else if((s&64512)===55296)if(!(n<e.length-1&&(e.charCodeAt(n+1)&64512)===56320))t.push(239,191,189);else{const u=s,c=e.charCodeAt(++n);s=65536|(u&1023)<<10|c&1023,t.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|s&63)}else(s&64512)===56320?t.push(239,191,189):t.push(224|s>>12,128|s>>6&63,128|s&63)}return new Uint8Array(t)}function ZP(e){let t;try{t=decodeURIComponent(e)}catch{throw Ou(Wi.DATA_URL,"Malformed data URL.")}return A1(t)}function S1(e,t){switch(e){case Wi.BASE64:{const o=t.indexOf("-")!==-1,u=t.indexOf("_")!==-1;if(o||u)throw Ou(e,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case Wi.BASE64URL:{const o=t.indexOf("+")!==-1,u=t.indexOf("/")!==-1;if(o||u)throw Ou(e,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=$P(t)}catch(o){throw o.message.includes("polyfill")?o:Ou(e,"Invalid character found")}const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}class b1{constructor(t){this.base64=!1,this.contentType=null;const n=t.match(/^data:([^,]+)?,/);if(n===null)throw Ou(Wi.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const s=n[1]||null;s!=null&&(this.base64=ek(s,";base64"),this.contentType=this.base64?s.substring(0,s.length-7):s),this.rest=t.substring(t.indexOf(",")+1)}}function JP(e){const t=new b1(e);return t.base64?S1(Wi.BASE64,t.rest):ZP(t.rest)}function tk(e){return new b1(e).contentType}function ek(e,t){return e.length>=t.length?e.substring(e.length-t.length)===t:!1}class xr{constructor(t,n){let s=0,o="";VA(t)?(this.data_=t,s=t.size,o=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),s=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),s=t.length),this.size_=s,this.type_=o}size(){return this.size_}type(){return this.type_}slice(t,n){if(VA(this.data_)){const s=this.data_,o=XP(s,t,n);return o===null?null:new xr(o)}else{const s=new Uint8Array(this.data_.buffer,t,n-t);return new xr(s,!0)}}static getBlob(...t){if(zy()){const n=t.map(s=>s instanceof xr?s.data_:s);return new xr(QP.apply(null,n))}else{const n=t.map(c=>By(c)?WP(Wi.RAW,c).data:c.data_);let s=0;n.forEach(c=>{s+=c.byteLength});const o=new Uint8Array(s);let u=0;return n.forEach(c=>{for(let d=0;d<c.length;d++)o[u++]=c[d]}),new xr(o,!0)}}uploadData(){return this.data_}}function w1(e){let t;try{t=JSON.parse(e)}catch{return null}return UP(t)?t:null}function nk(e){if(e.length===0)return null;const t=e.lastIndexOf("/");return t===-1?"":e.slice(0,t)}function ik(e,t){const n=t.split("/").filter(s=>s.length>0).join("/");return e.length===0?n:e+"/"+n}function R1(e){const t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}function sk(e,t){return t}class En{constructor(t,n,s,o){this.server=t,this.local=n||t,this.writable=!!s,this.xform=o||sk}}let Xh=null;function rk(e){return!By(e)||e.length<2?e:R1(e)}function C1(){if(Xh)return Xh;const e=[];e.push(new En("bucket")),e.push(new En("generation")),e.push(new En("metageneration")),e.push(new En("name","fullPath",!0));function t(u,c){return rk(c)}const n=new En("name");n.xform=t,e.push(n);function s(u,c){return c!==void 0?Number(c):c}const o=new En("size");return o.xform=s,e.push(o),e.push(new En("timeCreated")),e.push(new En("updated")),e.push(new En("md5Hash",null,!0)),e.push(new En("cacheControl",null,!0)),e.push(new En("contentDisposition",null,!0)),e.push(new En("contentEncoding",null,!0)),e.push(new En("contentLanguage",null,!0)),e.push(new En("contentType",null,!0)),e.push(new En("metadata","customMetadata",!0)),Xh=e,Xh}function ak(e,t){function n(){const s=e.bucket,o=e.fullPath,u=new Hn(s,o);return t._makeStorageReference(u)}Object.defineProperty(e,"ref",{get:n})}function ok(e,t,n){const s={};s.type="file";const o=n.length;for(let u=0;u<o;u++){const c=n[u];s[c.local]=c.xform(s,t[c.server])}return ak(s,e),s}function I1(e,t,n){const s=w1(t);return s===null?null:ok(e,s,n)}function lk(e,t,n,s){const o=w1(t);if(o===null||!By(o.downloadTokens))return null;const u=o.downloadTokens;if(u.length===0)return null;const c=encodeURIComponent;return u.split(",").map(g=>{const y=e.bucket,A=e.fullPath,S="/b/"+c(y)+"/o/"+c(A),C=hd(S,n,s),k=E1({alt:"media",token:g});return C+k})[0]}function uk(e,t){const n={},s=t.length;for(let o=0;o<s;o++){const u=t[o];u.writable&&(n[u.server]=e[u.local])}return JSON.stringify(n)}class qy{constructor(t,n,s,o){this.url=t,this.method=n,this.handler=s,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function x1(e){if(!e)throw Uy()}function ck(e,t){function n(s,o){const u=I1(e,o,t);return x1(u!==null),u}return n}function hk(e,t){function n(s,o){const u=I1(e,o,t);return x1(u!==null),lk(u,o,e.host,e._protocol)}return n}function D1(e){function t(n,s){let o;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?o=bP():o=SP():n.getStatus()===402?o=AP(e.bucket):n.getStatus()===403?o=wP(e.path):o=s,o.status=n.getStatus(),o.serverResponse=s.serverResponse,o}return t}function N1(e){const t=D1(e);function n(s,o){let u=t(s,o);return s.getStatus()===404&&(u=EP(e.path)),u.serverResponse=o.serverResponse,u}return n}function fk(e,t,n){const s=t.fullServerUrl(),o=hd(s,e.host,e._protocol),u="GET",c=e.maxOperationRetryTime,d=new qy(o,u,hk(e,n),c);return d.errorHandler=N1(t),d}function dk(e,t){const n=t.fullServerUrl(),s=hd(n,e.host,e._protocol),o="DELETE",u=e.maxOperationRetryTime;function c(p,g){}const d=new qy(s,o,c,u);return d.successCodes=[200,204],d.errorHandler=N1(t),d}function mk(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}function pk(e,t,n){const s=Object.assign({},n);return s.fullPath=e.path,s.size=t.size(),s.contentType||(s.contentType=mk(null,t)),s}function gk(e,t,n,s,o){const u=t.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"};function d(){let $="";for(let ot=0;ot<2;ot++)$=$+Math.random().toString().slice(2);return $}const p=d();c["Content-Type"]="multipart/related; boundary="+p;const g=pk(t,s,o),y=uk(g,n),A="--"+p+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+y+`\r
--`+p+`\r
Content-Type: `+g.contentType+`\r
\r
`,S=`\r
--`+p+"--",C=xr.getBlob(A,s,S);if(C===null)throw NP();const k={name:g.fullPath},G=hd(u,e.host,e._protocol),B="POST",Z=e.maxUploadRetryTime,nt=new qy(G,B,ck(e,n),Z);return nt.urlParams=k,nt.headers=c,nt.body=C.uploadData(),nt.errorHandler=D1(t),nt}class yk{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Oa.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Oa.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Oa.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,n,s,o,u){if(this.sent_)throw _u("cannot .send() more than once");if(Gr(t)&&s&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,t,!0),u!==void 0)for(const c in u)u.hasOwnProperty(c)&&this.xhr_.setRequestHeader(c,u[c].toString());return o!==void 0?this.xhr_.send(o):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw _u("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw _u("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw _u("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw _u("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)}}class _k extends yk{initXhr(){this.xhr_.responseType="text"}}function Fy(){return new _k}class Fa{constructor(t,n){this._service=t,n instanceof Hn?this._location=n:this._location=Hn.makeFromUrl(n,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,n){return new Fa(t,n)}get root(){const t=new Hn(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return R1(this._location.path)}get storage(){return this._service}get parent(){const t=nk(this._location.path);if(t===null)return null;const n=new Hn(this._location.bucket,t);return new Fa(this._service,n)}_throwIfRoot(t){if(this._location.path==="")throw MP(t)}}function vk(e,t,n){e._throwIfRoot("uploadBytes");const s=gk(e.storage,e._location,C1(),new xr(t,!0),n);return e.storage.makeRequestWithTokens(s,Fy).then(o=>({metadata:o,ref:e}))}function Tk(e){e._throwIfRoot("getDownloadURL");const t=fk(e.storage,e._location,C1());return e.storage.makeRequestWithTokens(t,Fy).then(n=>{if(n===null)throw VP();return n})}function Ek(e){e._throwIfRoot("deleteObject");const t=dk(e.storage,e._location);return e.storage.makeRequestWithTokens(t,Fy)}function Ak(e,t){const n=ik(e._location.path,t),s=new Hn(e._location.bucket,n);return new Fa(e.storage,s)}function Sk(e){return/^[A-Za-z]+:\/\//.test(e)}function bk(e,t){return new Fa(e,t)}function V1(e,t){if(e instanceof Hy){const n=e;if(n._bucket==null)throw DP();const s=new Fa(n,n._bucket);return t!=null?V1(s,t):s}else return t!==void 0?Ak(e,t):e}function wk(e,t){if(t&&Sk(t)){if(e instanceof Hy)return bk(e,t);throw Ag("To use ref(service, url), the first argument must be a Storage instance.")}else return V1(e,t)}function MA(e,t){const n=t?.[v1];return n==null?null:Hn.makeFromBucketSpec(n,e)}function Rk(e,t,n,s={}){e.host=`${t}:${n}`;const o=Gr(t);o&&(Kg(`https://${e.host}/b`),Yg("Storage",!0)),e._isUsingEmulator=!0,e._protocol=o?"https":"http";const{mockUserToken:u}=s;u&&(e._overrideAuthToken=typeof u=="string"?u:rb(u,e.app.options.projectId))}class Hy{constructor(t,n,s,o,u,c=!1){this.app=t,this._authProvider=n,this._appCheckProvider=s,this._url=o,this._firebaseVersion=u,this._isUsingEmulator=c,this._bucket=null,this._host=_1,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=vP,this._maxUploadRetryTime=TP,this._requests=new Set,o!=null?this._bucket=Hn.makeFromBucketSpec(o,this._host):this._bucket=MA(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=Hn.makeFromBucketSpec(this._url,t):this._bucket=MA(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){OA("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){OA("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const n=await t.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(qn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new Fa(this,t)}_makeRequest(t,n,s,o,u=!0){if(this._deleted)return new PP(T1());{const c=KP(t,this._appId,s,o,n,this._firebaseVersion,u,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(t,n){const[s,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,n,s,o).getPromise()}}const PA="@firebase/storage",kA="0.14.0";const O1="storage";function LA(e,t,n){return e=be(e),vk(e,t,n)}function jA(e){return e=be(e),Tk(e)}function Ck(e){return e=be(e),Ek(e)}function Op(e,t){return e=be(e),wk(e,t)}function Ik(e=$g(),t){e=be(e);const s=Gf(e,O1).getImmediate({identifier:t}),o=nb("storage");return o&&xk(s,...o),s}function xk(e,t,n,s={}){Rk(e,t,n,s)}function Dk(e,{instanceIdentifier:t}){const n=e.getProvider("app").getImmediate(),s=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return new Hy(n,s,o,t,Ha)}function Nk(){La(new kr(O1,Dk,"PUBLIC").setMultipleInstances(!0)),Zi(PA,kA,""),Zi(PA,kA,"esm2020")}Nk();const Gy=rt.createContext({});function Ky(e){const t=rt.useRef(null);return t.current===null&&(t.current=e()),t.current}const Yy=typeof window<"u",M1=Yy?rt.useLayoutEffect:rt.useEffect,fd=rt.createContext(null);function Qy(e,t){e.indexOf(t)===-1&&e.push(t)}function Xy(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const js=(e,t,n)=>n>t?t:n<e?e:n;let $y=()=>{};const Us={},P1=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function k1(e){return typeof e=="object"&&e!==null}const L1=e=>/^0[^.\s]+$/u.test(e);function Wy(e){let t;return()=>(t===void 0&&(t=e()),t)}const li=e=>e,Vk=(e,t)=>n=>t(e(n)),fc=(...e)=>e.reduce(Vk),Yu=(e,t,n)=>{const s=t-e;return s===0?1:(n-e)/s};class Zy{constructor(){this.subscriptions=[]}add(t){return Qy(this.subscriptions,t),()=>Xy(this.subscriptions,t)}notify(t,n,s){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](t,n,s);else for(let u=0;u<o;u++){const c=this.subscriptions[u];c&&c(t,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const rs=e=>e*1e3,oi=e=>e/1e3;function j1(e,t){return t?e*(1e3/t):0}const U1=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,Ok=1e-7,Mk=12;function Pk(e,t,n,s,o){let u,c,d=0;do c=t+(n-t)/2,u=U1(c,s,o)-e,u>0?n=c:t=c;while(Math.abs(u)>Ok&&++d<Mk);return c}function dc(e,t,n,s){if(e===t&&n===s)return li;const o=u=>Pk(u,0,1,e,n);return u=>u===0||u===1?u:U1(o(u),t,s)}const B1=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,z1=e=>t=>1-e(1-t),q1=dc(.33,1.53,.69,.99),Jy=z1(q1),F1=B1(Jy),H1=e=>(e*=2)<1?.5*Jy(e):.5*(2-Math.pow(2,-10*(e-1))),t_=e=>1-Math.sin(Math.acos(e)),G1=z1(t_),K1=B1(t_),kk=dc(.42,0,1,1),Lk=dc(0,0,.58,1),Y1=dc(.42,0,.58,1),jk=e=>Array.isArray(e)&&typeof e[0]!="number",Q1=e=>Array.isArray(e)&&typeof e[0]=="number",Uk={linear:li,easeIn:kk,easeInOut:Y1,easeOut:Lk,circIn:t_,circInOut:K1,circOut:G1,backIn:Jy,backInOut:F1,backOut:q1,anticipate:H1},Bk=e=>typeof e=="string",UA=e=>{if(Q1(e)){$y(e.length===4);const[t,n,s,o]=e;return dc(t,n,s,o)}else if(Bk(e))return Uk[e];return e},$h=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function zk(e,t){let n=new Set,s=new Set,o=!1,u=!1;const c=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1};function p(y){c.has(y)&&(g.schedule(y),e()),y(d)}const g={schedule:(y,A=!1,S=!1)=>{const k=S&&o?n:s;return A&&c.add(y),k.has(y)||k.add(y),y},cancel:y=>{s.delete(y),c.delete(y)},process:y=>{if(d=y,o){u=!0;return}o=!0,[n,s]=[s,n],n.forEach(p),n.clear(),o=!1,u&&(u=!1,g.process(y))}};return g}const qk=40;function X1(e,t){let n=!1,s=!0;const o={delta:0,timestamp:0,isProcessing:!1},u=()=>n=!0,c=$h.reduce(($,ot)=>($[ot]=zk(u),$),{}),{setup:d,read:p,resolveKeyframes:g,preUpdate:y,update:A,preRender:S,render:C,postRender:k}=c,G=()=>{const $=Us.useManualTiming?o.timestamp:performance.now();n=!1,Us.useManualTiming||(o.delta=s?1e3/60:Math.max(Math.min($-o.timestamp,qk),1)),o.timestamp=$,o.isProcessing=!0,d.process(o),p.process(o),g.process(o),y.process(o),A.process(o),S.process(o),C.process(o),k.process(o),o.isProcessing=!1,n&&t&&(s=!1,e(G))},B=()=>{n=!0,s=!0,o.isProcessing||e(G)};return{schedule:$h.reduce(($,ot)=>{const at=c[ot];return $[ot]=(ht,I=!1,R=!1)=>(n||B(),at.schedule(ht,I,R)),$},{}),cancel:$=>{for(let ot=0;ot<$h.length;ot++)c[$h[ot]].cancel($)},state:o,steps:c}}const{schedule:ge,cancel:Fr,state:on,steps:Mp}=X1(typeof requestAnimationFrame<"u"?requestAnimationFrame:li,!0);let ff;function Fk(){ff=void 0}const Vn={now:()=>(ff===void 0&&Vn.set(on.isProcessing||Us.useManualTiming?on.timestamp:performance.now()),ff),set:e=>{ff=e,queueMicrotask(Fk)}},$1=e=>t=>typeof t=="string"&&t.startsWith(e),W1=$1("--"),Hk=$1("var(--"),e_=e=>Hk(e)?Gk.test(e.split("/*")[0].trim()):!1,Gk=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,fl={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Qu={...fl,transform:e=>js(0,1,e)},Wh={...fl,default:1},Mu=e=>Math.round(e*1e5)/1e5,n_=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Kk(e){return e==null}const Yk=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,i_=(e,t)=>n=>!!(typeof n=="string"&&Yk.test(n)&&n.startsWith(e)||t&&!Kk(n)&&Object.prototype.hasOwnProperty.call(n,t)),Z1=(e,t,n)=>s=>{if(typeof s!="string")return s;const[o,u,c,d]=s.match(n_);return{[e]:parseFloat(o),[t]:parseFloat(u),[n]:parseFloat(c),alpha:d!==void 0?parseFloat(d):1}},Qk=e=>js(0,255,e),Pp={...fl,transform:e=>Math.round(Qk(e))},Na={test:i_("rgb","red"),parse:Z1("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:s=1})=>"rgba("+Pp.transform(e)+", "+Pp.transform(t)+", "+Pp.transform(n)+", "+Mu(Qu.transform(s))+")"};function Xk(e){let t="",n="",s="",o="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),s=e.substring(5,7),o=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),s=e.substring(3,4),o=e.substring(4,5),t+=t,n+=n,s+=s,o+=o),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:o?parseInt(o,16)/255:1}}const Sg={test:i_("#"),parse:Xk,transform:Na.transform},mc=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),br=mc("deg"),as=mc("%"),wt=mc("px"),$k=mc("vh"),Wk=mc("vw"),BA={...as,parse:e=>as.parse(e)/100,transform:e=>as.transform(e*100)},Bo={test:i_("hsl","hue"),parse:Z1("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:s=1})=>"hsla("+Math.round(e)+", "+as.transform(Mu(t))+", "+as.transform(Mu(n))+", "+Mu(Qu.transform(s))+")"},qe={test:e=>Na.test(e)||Sg.test(e)||Bo.test(e),parse:e=>Na.test(e)?Na.parse(e):Bo.test(e)?Bo.parse(e):Sg.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Na.transform(e):Bo.transform(e),getAnimatableNone:e=>{const t=qe.parse(e);return t.alpha=0,qe.transform(t)}},Zk=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Jk(e){return isNaN(e)&&typeof e=="string"&&(e.match(n_)?.length||0)+(e.match(Zk)?.length||0)>0}const J1="number",tR="color",tL="var",eL="var(",zA="${}",nL=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Xu(e){const t=e.toString(),n=[],s={color:[],number:[],var:[]},o=[];let u=0;const d=t.replace(nL,p=>(qe.test(p)?(s.color.push(u),o.push(tR),n.push(qe.parse(p))):p.startsWith(eL)?(s.var.push(u),o.push(tL),n.push(p)):(s.number.push(u),o.push(J1),n.push(parseFloat(p))),++u,zA)).split(zA);return{values:n,split:d,indexes:s,types:o}}function eR(e){return Xu(e).values}function nR(e){const{split:t,types:n}=Xu(e),s=t.length;return o=>{let u="";for(let c=0;c<s;c++)if(u+=t[c],o[c]!==void 0){const d=n[c];d===J1?u+=Mu(o[c]):d===tR?u+=qe.transform(o[c]):u+=o[c]}return u}}const iL=e=>typeof e=="number"?0:qe.test(e)?qe.getAnimatableNone(e):e;function sL(e){const t=eR(e);return nR(e)(t.map(iL))}const Hr={test:Jk,parse:eR,createTransformer:nR,getAnimatableNone:sL};function kp(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function rL({hue:e,saturation:t,lightness:n,alpha:s}){e/=360,t/=100,n/=100;let o=0,u=0,c=0;if(!t)o=u=c=n;else{const d=n<.5?n*(1+t):n+t-n*t,p=2*n-d;o=kp(p,d,e+1/3),u=kp(p,d,e),c=kp(p,d,e-1/3)}return{red:Math.round(o*255),green:Math.round(u*255),blue:Math.round(c*255),alpha:s}}function jf(e,t){return n=>n>0?t:e}const _e=(e,t,n)=>e+(t-e)*n,Lp=(e,t,n)=>{const s=e*e,o=n*(t*t-s)+s;return o<0?0:Math.sqrt(o)},aL=[Sg,Na,Bo],oL=e=>aL.find(t=>t.test(e));function qA(e){const t=oL(e);if(!t)return!1;let n=t.parse(e);return t===Bo&&(n=rL(n)),n}const FA=(e,t)=>{const n=qA(e),s=qA(t);if(!n||!s)return jf(e,t);const o={...n};return u=>(o.red=Lp(n.red,s.red,u),o.green=Lp(n.green,s.green,u),o.blue=Lp(n.blue,s.blue,u),o.alpha=_e(n.alpha,s.alpha,u),Na.transform(o))},bg=new Set(["none","hidden"]);function lL(e,t){return bg.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function uL(e,t){return n=>_e(e,t,n)}function s_(e){return typeof e=="number"?uL:typeof e=="string"?e_(e)?jf:qe.test(e)?FA:fL:Array.isArray(e)?iR:typeof e=="object"?qe.test(e)?FA:cL:jf}function iR(e,t){const n=[...e],s=n.length,o=e.map((u,c)=>s_(u)(u,t[c]));return u=>{for(let c=0;c<s;c++)n[c]=o[c](u);return n}}function cL(e,t){const n={...e,...t},s={};for(const o in n)e[o]!==void 0&&t[o]!==void 0&&(s[o]=s_(e[o])(e[o],t[o]));return o=>{for(const u in s)n[u]=s[u](o);return n}}function hL(e,t){const n=[],s={color:0,var:0,number:0};for(let o=0;o<t.values.length;o++){const u=t.types[o],c=e.indexes[u][s[u]],d=e.values[c]??0;n[o]=d,s[u]++}return n}const fL=(e,t)=>{const n=Hr.createTransformer(t),s=Xu(e),o=Xu(t);return s.indexes.var.length===o.indexes.var.length&&s.indexes.color.length===o.indexes.color.length&&s.indexes.number.length>=o.indexes.number.length?bg.has(e)&&!o.values.length||bg.has(t)&&!s.values.length?lL(e,t):fc(iR(hL(s,o),o.values),n):jf(e,t)};function sR(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?_e(e,t,n):s_(e)(e,t)}const dL=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>ge.update(t,n),stop:()=>Fr(t),now:()=>on.isProcessing?on.timestamp:Vn.now()}},rR=(e,t,n=10)=>{let s="";const o=Math.max(Math.round(t/n),2);for(let u=0;u<o;u++)s+=Math.round(e(u/(o-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},Uf=2e4;function r_(e){let t=0;const n=50;let s=e.next(t);for(;!s.done&&t<Uf;)t+=n,s=e.next(t);return t>=Uf?1/0:t}function mL(e,t=100,n){const s=n({...e,keyframes:[0,t]}),o=Math.min(r_(s),Uf);return{type:"keyframes",ease:u=>s.next(o*u).value/t,duration:oi(o)}}const pL=5;function aR(e,t,n){const s=Math.max(t-pL,0);return j1(n-e(s),t-s)}const Se={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},jp=.001;function gL({duration:e=Se.duration,bounce:t=Se.bounce,velocity:n=Se.velocity,mass:s=Se.mass}){let o,u,c=1-t;c=js(Se.minDamping,Se.maxDamping,c),e=js(Se.minDuration,Se.maxDuration,oi(e)),c<1?(o=g=>{const y=g*c,A=y*e,S=y-n,C=wg(g,c),k=Math.exp(-A);return jp-S/C*k},u=g=>{const A=g*c*e,S=A*n+n,C=Math.pow(c,2)*Math.pow(g,2)*e,k=Math.exp(-A),G=wg(Math.pow(g,2),c);return(-o(g)+jp>0?-1:1)*((S-C)*k)/G}):(o=g=>{const y=Math.exp(-g*e),A=(g-n)*e+1;return-jp+y*A},u=g=>{const y=Math.exp(-g*e),A=(n-g)*(e*e);return y*A});const d=5/e,p=_L(o,u,d);if(e=rs(e),isNaN(p))return{stiffness:Se.stiffness,damping:Se.damping,duration:e};{const g=Math.pow(p,2)*s;return{stiffness:g,damping:c*2*Math.sqrt(s*g),duration:e}}}const yL=12;function _L(e,t,n){let s=n;for(let o=1;o<yL;o++)s=s-e(s)/t(s);return s}function wg(e,t){return e*Math.sqrt(1-t*t)}const vL=["duration","bounce"],TL=["stiffness","damping","mass"];function HA(e,t){return t.some(n=>e[n]!==void 0)}function EL(e){let t={velocity:Se.velocity,stiffness:Se.stiffness,damping:Se.damping,mass:Se.mass,isResolvedFromDuration:!1,...e};if(!HA(e,TL)&&HA(e,vL))if(e.visualDuration){const n=e.visualDuration,s=2*Math.PI/(n*1.2),o=s*s,u=2*js(.05,1,1-(e.bounce||0))*Math.sqrt(o);t={...t,mass:Se.mass,stiffness:o,damping:u}}else{const n=gL(e);t={...t,...n,mass:Se.mass},t.isResolvedFromDuration=!0}return t}function Bf(e=Se.visualDuration,t=Se.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:s,restDelta:o}=n;const u=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],d={done:!1,value:u},{stiffness:p,damping:g,mass:y,duration:A,velocity:S,isResolvedFromDuration:C}=EL({...n,velocity:-oi(n.velocity||0)}),k=S||0,G=g/(2*Math.sqrt(p*y)),B=c-u,Z=oi(Math.sqrt(p/y)),nt=Math.abs(B)<5;s||(s=nt?Se.restSpeed.granular:Se.restSpeed.default),o||(o=nt?Se.restDelta.granular:Se.restDelta.default);let $;if(G<1){const at=wg(Z,G);$=ht=>{const I=Math.exp(-G*Z*ht);return c-I*((k+G*Z*B)/at*Math.sin(at*ht)+B*Math.cos(at*ht))}}else if(G===1)$=at=>c-Math.exp(-Z*at)*(B+(k+Z*B)*at);else{const at=Z*Math.sqrt(G*G-1);$=ht=>{const I=Math.exp(-G*Z*ht),R=Math.min(at*ht,300);return c-I*((k+G*Z*B)*Math.sinh(R)+at*B*Math.cosh(R))/at}}const ot={calculatedDuration:C&&A||null,next:at=>{const ht=$(at);if(C)d.done=at>=A;else{let I=at===0?k:0;G<1&&(I=at===0?rs(k):aR($,at,ht));const R=Math.abs(I)<=s,x=Math.abs(c-ht)<=o;d.done=R&&x}return d.value=d.done?c:ht,d},toString:()=>{const at=Math.min(r_(ot),Uf),ht=rR(I=>ot.next(at*I).value,at,30);return at+"ms "+ht},toTransition:()=>{}};return ot}Bf.applyToOptions=e=>{const t=mL(e,100,Bf);return e.ease=t.ease,e.duration=rs(t.duration),e.type="keyframes",e};function Rg({keyframes:e,velocity:t=0,power:n=.8,timeConstant:s=325,bounceDamping:o=10,bounceStiffness:u=500,modifyTarget:c,min:d,max:p,restDelta:g=.5,restSpeed:y}){const A=e[0],S={done:!1,value:A},C=R=>d!==void 0&&R<d||p!==void 0&&R>p,k=R=>d===void 0?p:p===void 0||Math.abs(d-R)<Math.abs(p-R)?d:p;let G=n*t;const B=A+G,Z=c===void 0?B:c(B);Z!==B&&(G=Z-A);const nt=R=>-G*Math.exp(-R/s),$=R=>Z+nt(R),ot=R=>{const x=nt(R),O=$(R);S.done=Math.abs(x)<=g,S.value=S.done?Z:O};let at,ht;const I=R=>{C(S.value)&&(at=R,ht=Bf({keyframes:[S.value,k(S.value)],velocity:aR($,R,S.value),damping:o,stiffness:u,restDelta:g,restSpeed:y}))};return I(0),{calculatedDuration:null,next:R=>{let x=!1;return!ht&&at===void 0&&(x=!0,ot(R),I(R)),at!==void 0&&R>=at?ht.next(R-at):(!x&&ot(R),S)}}}function AL(e,t,n){const s=[],o=n||Us.mix||sR,u=e.length-1;for(let c=0;c<u;c++){let d=o(e[c],e[c+1]);if(t){const p=Array.isArray(t)?t[c]||li:t;d=fc(p,d)}s.push(d)}return s}function SL(e,t,{clamp:n=!0,ease:s,mixer:o}={}){const u=e.length;if($y(u===t.length),u===1)return()=>t[0];if(u===2&&t[0]===t[1])return()=>t[1];const c=e[0]===e[1];e[0]>e[u-1]&&(e=[...e].reverse(),t=[...t].reverse());const d=AL(t,s,o),p=d.length,g=y=>{if(c&&y<e[0])return t[0];let A=0;if(p>1)for(;A<e.length-2&&!(y<e[A+1]);A++);const S=Yu(e[A],e[A+1],y);return d[A](S)};return n?y=>g(js(e[0],e[u-1],y)):g}function bL(e,t){const n=e[e.length-1];for(let s=1;s<=t;s++){const o=Yu(0,t,s);e.push(_e(n,1,o))}}function wL(e){const t=[0];return bL(t,e.length-1),t}function RL(e,t){return e.map(n=>n*t)}function CL(e,t){return e.map(()=>t||Y1).splice(0,e.length-1)}function Pu({duration:e=300,keyframes:t,times:n,ease:s="easeInOut"}){const o=jk(s)?s.map(UA):UA(s),u={done:!1,value:t[0]},c=RL(n&&n.length===t.length?n:wL(t),e),d=SL(c,t,{ease:Array.isArray(o)?o:CL(t,o)});return{calculatedDuration:e,next:p=>(u.value=d(p),u.done=p>=e,u)}}const IL=e=>e!==null;function a_(e,{repeat:t,repeatType:n="loop"},s,o=1){const u=e.filter(IL),d=o<0||t&&n!=="loop"&&t%2===1?0:u.length-1;return!d||s===void 0?u[d]:s}const xL={decay:Rg,inertia:Rg,tween:Pu,keyframes:Pu,spring:Bf};function oR(e){typeof e.type=="string"&&(e.type=xL[e.type])}class o_{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const DL=e=>e/100;class l_ extends o_{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==Vn.now()&&this.tick(Vn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;oR(t);const{type:n=Pu,repeat:s=0,repeatDelay:o=0,repeatType:u,velocity:c=0}=t;let{keyframes:d}=t;const p=n||Pu;p!==Pu&&typeof d[0]!="number"&&(this.mixKeyframes=fc(DL,sR(d[0],d[1])),d=[0,100]);const g=p({...t,keyframes:d});u==="mirror"&&(this.mirroredGenerator=p({...t,keyframes:[...d].reverse(),velocity:-c})),g.calculatedDuration===null&&(g.calculatedDuration=r_(g));const{calculatedDuration:y}=g;this.calculatedDuration=y,this.resolvedDuration=y+o,this.totalDuration=this.resolvedDuration*(s+1)-o,this.generator=g}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:s,totalDuration:o,mixKeyframes:u,mirroredGenerator:c,resolvedDuration:d,calculatedDuration:p}=this;if(this.startTime===null)return s.next(0);const{delay:g=0,keyframes:y,repeat:A,repeatType:S,repeatDelay:C,type:k,onUpdate:G,finalKeyframe:B}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-o/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const Z=this.currentTime-g*(this.playbackSpeed>=0?1:-1),nt=this.playbackSpeed>=0?Z<0:Z>o;this.currentTime=Math.max(Z,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let $=this.currentTime,ot=s;if(A){const R=Math.min(this.currentTime,o)/d;let x=Math.floor(R),O=R%1;!O&&R>=1&&(O=1),O===1&&x--,x=Math.min(x,A+1),x%2&&(S==="reverse"?(O=1-O,C&&(O-=C/d)):S==="mirror"&&(ot=c)),$=js(0,1,O)*d}const at=nt?{done:!1,value:y[0]}:ot.next($);u&&(at.value=u(at.value));let{done:ht}=at;!nt&&p!==null&&(ht=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const I=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ht);return I&&k!==Rg&&(at.value=a_(y,this.options,B,this.speed)),G&&G(at.value),I&&this.finish(),at}then(t,n){return this.finished.then(t,n)}get duration(){return oi(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+oi(t)}get time(){return oi(this.currentTime)}set time(t){t=rs(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Vn.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=oi(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=dL,startTime:n}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),this.options.onPlay?.();const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Vn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function NL(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Va=e=>e*180/Math.PI,Cg=e=>{const t=Va(Math.atan2(e[1],e[0]));return Ig(t)},VL={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:Cg,rotateZ:Cg,skewX:e=>Va(Math.atan(e[1])),skewY:e=>Va(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},Ig=e=>(e=e%360,e<0&&(e+=360),e),GA=Cg,KA=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),YA=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),OL={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:KA,scaleY:YA,scale:e=>(KA(e)+YA(e))/2,rotateX:e=>Ig(Va(Math.atan2(e[6],e[5]))),rotateY:e=>Ig(Va(Math.atan2(-e[2],e[0]))),rotateZ:GA,rotate:GA,skewX:e=>Va(Math.atan(e[4])),skewY:e=>Va(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function xg(e){return e.includes("scale")?1:0}function Dg(e,t){if(!e||e==="none")return xg(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,o;if(n)s=OL,o=n;else{const d=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=VL,o=d}if(!o)return xg(t);const u=s[t],c=o[1].split(",").map(PL);return typeof u=="function"?u(c):c[u]}const ML=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return Dg(n,t)};function PL(e){return parseFloat(e.trim())}const dl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ml=new Set(dl),QA=e=>e===fl||e===wt,kL=new Set(["x","y","z"]),LL=dl.filter(e=>!kL.has(e));function jL(e){const t=[];return LL.forEach(n=>{const s=e.getValue(n);s!==void 0&&(t.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),t}const Ma={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>Dg(t,"x"),y:(e,{transform:t})=>Dg(t,"y")};Ma.translateX=Ma.x;Ma.translateY=Ma.y;const Pa=new Set;let Ng=!1,Vg=!1,Og=!1;function lR(){if(Vg){const e=Array.from(Pa).filter(s=>s.needsMeasurement),t=new Set(e.map(s=>s.element)),n=new Map;t.forEach(s=>{const o=jL(s);o.length&&(n.set(s,o),s.render())}),e.forEach(s=>s.measureInitialState()),t.forEach(s=>{s.render();const o=n.get(s);o&&o.forEach(([u,c])=>{s.getValue(u)?.set(c)})}),e.forEach(s=>s.measureEndState()),e.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}Vg=!1,Ng=!1,Pa.forEach(e=>e.complete(Og)),Pa.clear()}function uR(){Pa.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Vg=!0)})}function UL(){Og=!0,uR(),lR(),Og=!1}class u_{constructor(t,n,s,o,u,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=s,this.motionValue=o,this.element=u,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(Pa.add(this),Ng||(Ng=!0,ge.read(uR),ge.resolveKeyframes(lR))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:s,motionValue:o}=this;if(t[0]===null){const u=o?.get(),c=t[t.length-1];if(u!==void 0)t[0]=u;else if(s&&n){const d=s.readValue(n,c);d!=null&&(t[0]=d)}t[0]===void 0&&(t[0]=c),o&&u===void 0&&o.set(t[0])}NL(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Pa.delete(this)}cancel(){this.state==="scheduled"&&(Pa.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const BL=e=>e.startsWith("--");function zL(e,t,n){BL(t)?e.style.setProperty(t,n):e.style[t]=n}const qL=Wy(()=>window.ScrollTimeline!==void 0),FL={};function HL(e,t){const n=Wy(e);return()=>FL[t]??n()}const cR=HL(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Ru=([e,t,n,s])=>`cubic-bezier(${e}, ${t}, ${n}, ${s})`,XA={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ru([0,.65,.55,1]),circOut:Ru([.55,0,1,.45]),backIn:Ru([.31,.01,.66,-.59]),backOut:Ru([.33,1.53,.69,.99])};function hR(e,t){if(e)return typeof e=="function"?cR()?rR(e,t):"ease-out":Q1(e)?Ru(e):Array.isArray(e)?e.map(n=>hR(n,t)||XA.easeOut):XA[e]}function GL(e,t,n,{delay:s=0,duration:o=300,repeat:u=0,repeatType:c="loop",ease:d="easeOut",times:p}={},g=void 0){const y={[t]:n};p&&(y.offset=p);const A=hR(d,o);Array.isArray(A)&&(y.easing=A);const S={delay:s,duration:o,easing:Array.isArray(A)?"linear":A,fill:"both",iterations:u+1,direction:c==="reverse"?"alternate":"normal"};return g&&(S.pseudoElement=g),e.animate(y,S)}function fR(e){return typeof e=="function"&&"applyToOptions"in e}function KL({type:e,...t}){return fR(e)&&cR()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class YL extends o_{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:s,keyframes:o,pseudoElement:u,allowFlatten:c=!1,finalKeyframe:d,onComplete:p}=t;this.isPseudoElement=!!u,this.allowFlatten=c,this.options=t,$y(typeof t.type!="string");const g=KL(t);this.animation=GL(n,s,o,g,u),g.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!u){const y=a_(o,this.options,d,this.speed);this.updateMotionValue?this.updateMotionValue(y):zL(n,s,y),this.animation.cancel()}p?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return oi(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+oi(t)}get time(){return oi(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=rs(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&qL()?(this.animation.timeline=t,li):n(this)}}const dR={anticipate:H1,backInOut:F1,circInOut:K1};function QL(e){return e in dR}function XL(e){typeof e.ease=="string"&&QL(e.ease)&&(e.ease=dR[e.ease])}const $A=10;class $L extends YL{constructor(t){XL(t),oR(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:s,onComplete:o,element:u,...c}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const d=new l_({...c,autoplay:!1}),p=rs(this.finishedTime??this.time);n.setWithVelocity(d.sample(p-$A).value,d.sample(p).value,$A),d.stop()}}const WA=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Hr.test(e)||e==="0")&&!e.startsWith("url("));function WL(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function ZL(e,t,n,s){const o=e[0];if(o===null)return!1;if(t==="display"||t==="visibility")return!0;const u=e[e.length-1],c=WA(o,t),d=WA(u,t);return!c||!d?!1:WL(e)||(n==="spring"||fR(n))&&s}function Mg(e){e.duration=0,e.type="keyframes"}const JL=new Set(["opacity","clipPath","filter","transform"]),t4=Wy(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function e4(e){const{motionValue:t,name:n,repeatDelay:s,repeatType:o,damping:u,type:c}=e;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:p,transformTemplate:g}=t.owner.getProps();return t4()&&n&&JL.has(n)&&(n!=="transform"||!g)&&!p&&!s&&o!=="mirror"&&u!==0&&c!=="inertia"}const n4=40;class i4 extends o_{constructor({autoplay:t=!0,delay:n=0,type:s="keyframes",repeat:o=0,repeatDelay:u=0,repeatType:c="loop",keyframes:d,name:p,motionValue:g,element:y,...A}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Vn.now();const S={autoplay:t,delay:n,type:s,repeat:o,repeatDelay:u,repeatType:c,name:p,motionValue:g,element:y,...A},C=y?.KeyframeResolver||u_;this.keyframeResolver=new C(d,(k,G,B)=>this.onKeyframesResolved(k,G,S,!B),p,g,y),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,n,s,o){this.keyframeResolver=void 0;const{name:u,type:c,velocity:d,delay:p,isHandoff:g,onUpdate:y}=s;this.resolvedAt=Vn.now(),ZL(t,u,c,d)||((Us.instantAnimations||!p)&&y?.(a_(t,s,n)),t[0]=t[t.length-1],Mg(s),s.repeat=0);const S={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>n4?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:t},C=!g&&e4(S)?new $L({...S,element:S.motionValue.owner.current}):new l_(S);C.finished.then(()=>this.notifyFinished()).catch(li),this.pendingTimeline&&(this.stopTimeline=C.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=C}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),UL()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const s4=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function r4(e){const t=s4.exec(e);if(!t)return[,];const[,n,s,o]=t;return[`--${n??s}`,o]}function mR(e,t,n=1){const[s,o]=r4(e);if(!s)return;const u=window.getComputedStyle(t).getPropertyValue(s);if(u){const c=u.trim();return P1(c)?parseFloat(c):c}return e_(o)?mR(o,t,n+1):o}function c_(e,t){return e?.[t]??e?.default??e}const pR=new Set(["width","height","top","left","right","bottom",...dl]),a4={test:e=>e==="auto",parse:e=>e},gR=e=>t=>t.test(e),yR=[fl,wt,as,br,Wk,$k,a4],ZA=e=>yR.find(gR(e));function o4(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||L1(e):!0}const l4=new Set(["brightness","contrast","saturate","opacity"]);function u4(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[s]=n.match(n_)||[];if(!s)return e;const o=n.replace(s,"");let u=l4.has(t)?1:0;return s!==n&&(u*=100),t+"("+u+o+")"}const c4=/\b([a-z-]*)\(.*?\)/gu,Pg={...Hr,getAnimatableNone:e=>{const t=e.match(c4);return t?t.map(u4).join(" "):e}},JA={...fl,transform:Math.round},h4={rotate:br,rotateX:br,rotateY:br,rotateZ:br,scale:Wh,scaleX:Wh,scaleY:Wh,scaleZ:Wh,skew:br,skewX:br,skewY:br,distance:wt,translateX:wt,translateY:wt,translateZ:wt,x:wt,y:wt,z:wt,perspective:wt,transformPerspective:wt,opacity:Qu,originX:BA,originY:BA,originZ:wt},h_={borderWidth:wt,borderTopWidth:wt,borderRightWidth:wt,borderBottomWidth:wt,borderLeftWidth:wt,borderRadius:wt,radius:wt,borderTopLeftRadius:wt,borderTopRightRadius:wt,borderBottomRightRadius:wt,borderBottomLeftRadius:wt,width:wt,maxWidth:wt,height:wt,maxHeight:wt,top:wt,right:wt,bottom:wt,left:wt,padding:wt,paddingTop:wt,paddingRight:wt,paddingBottom:wt,paddingLeft:wt,margin:wt,marginTop:wt,marginRight:wt,marginBottom:wt,marginLeft:wt,backgroundPositionX:wt,backgroundPositionY:wt,...h4,zIndex:JA,fillOpacity:Qu,strokeOpacity:Qu,numOctaves:JA},f4={...h_,color:qe,backgroundColor:qe,outlineColor:qe,fill:qe,stroke:qe,borderColor:qe,borderTopColor:qe,borderRightColor:qe,borderBottomColor:qe,borderLeftColor:qe,filter:Pg,WebkitFilter:Pg},_R=e=>f4[e];function vR(e,t){let n=_R(e);return n!==Pg&&(n=Hr),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const d4=new Set(["auto","none","0"]);function m4(e,t,n){let s=0,o;for(;s<e.length&&!o;){const u=e[s];typeof u=="string"&&!d4.has(u)&&Xu(u).values.length&&(o=e[s]),s++}if(o&&n)for(const u of t)e[u]=vR(n,o)}class p4 extends u_{constructor(t,n,s,o,u){super(t,n,s,o,u,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let p=0;p<t.length;p++){let g=t[p];if(typeof g=="string"&&(g=g.trim(),e_(g))){const y=mR(g,n.current);y!==void 0&&(t[p]=y),p===t.length-1&&(this.finalKeyframe=g)}}if(this.resolveNoneKeyframes(),!pR.has(s)||t.length!==2)return;const[o,u]=t,c=ZA(o),d=ZA(u);if(c!==d)if(QA(c)&&QA(d))for(let p=0;p<t.length;p++){const g=t[p];typeof g=="string"&&(t[p]=parseFloat(g))}else Ma[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,s=[];for(let o=0;o<t.length;o++)(t[o]===null||o4(t[o]))&&s.push(o);s.length&&m4(t,s,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:s}=this;if(!t||!t.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ma[s](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const o=n[n.length-1];o!==void 0&&t.getValue(s,o).jump(o,!1)}measureEndState(){const{element:t,name:n,unresolvedKeyframes:s}=this;if(!t||!t.current)return;const o=t.getValue(n);o&&o.jump(this.measuredOrigin,!1);const u=s.length-1,c=s[u];s[u]=Ma[n](t.measureViewportBox(),window.getComputedStyle(t.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),this.removedTransforms?.length&&this.removedTransforms.forEach(([d,p])=>{t.getValue(d).set(p)}),this.resolveNoneKeyframes()}}function g4(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let s=document;const o=n?.[e]??s.querySelectorAll(e);return o?Array.from(o):[]}return Array.from(e)}const TR=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function ER(e){return k1(e)&&"offsetHeight"in e}const tS=30,y4=e=>!isNaN(parseFloat(e));class _4{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{const o=Vn.now();if(this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const u of this.dependents)u.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=Vn.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=y4(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new Zy);const s=this.events[t].add(n);return t==="change"?()=>{s(),ge.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-s}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Vn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>tS)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,tS);return j1(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function sl(e,t){return new _4(e,t)}const{schedule:f_}=X1(queueMicrotask,!1),Ai={x:!1,y:!1};function AR(){return Ai.x||Ai.y}function v4(e){return e==="x"||e==="y"?Ai[e]?null:(Ai[e]=!0,()=>{Ai[e]=!1}):Ai.x||Ai.y?null:(Ai.x=Ai.y=!0,()=>{Ai.x=Ai.y=!1})}function SR(e,t){const n=g4(e),s=new AbortController,o={passive:!0,...t,signal:s.signal};return[n,o,()=>s.abort()]}function eS(e){return!(e.pointerType==="touch"||AR())}function T4(e,t,n={}){const[s,o,u]=SR(e,n),c=d=>{if(!eS(d))return;const{target:p}=d,g=t(p,d);if(typeof g!="function"||!p)return;const y=A=>{eS(A)&&(g(A),p.removeEventListener("pointerleave",y))};p.addEventListener("pointerleave",y,o)};return s.forEach(d=>{d.addEventListener("pointerenter",c,o)}),u}const bR=(e,t)=>t?e===t?!0:bR(e,t.parentElement):!1,d_=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,E4=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function A4(e){return E4.has(e.tagName)||e.tabIndex!==-1}const df=new WeakSet;function nS(e){return t=>{t.key==="Enter"&&e(t)}}function Up(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const S4=(e,t)=>{const n=e.currentTarget;if(!n)return;const s=nS(()=>{if(df.has(n))return;Up(n,"down");const o=nS(()=>{Up(n,"up")}),u=()=>Up(n,"cancel");n.addEventListener("keyup",o,t),n.addEventListener("blur",u,t)});n.addEventListener("keydown",s,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),t)};function iS(e){return d_(e)&&!AR()}function b4(e,t,n={}){const[s,o,u]=SR(e,n),c=d=>{const p=d.currentTarget;if(!iS(d))return;df.add(p);const g=t(p,d),y=(C,k)=>{window.removeEventListener("pointerup",A),window.removeEventListener("pointercancel",S),df.has(p)&&df.delete(p),iS(C)&&typeof g=="function"&&g(C,{success:k})},A=C=>{y(C,p===window||p===document||n.useGlobalTarget||bR(p,C.target))},S=C=>{y(C,!1)};window.addEventListener("pointerup",A,o),window.addEventListener("pointercancel",S,o)};return s.forEach(d=>{(n.useGlobalTarget?window:d).addEventListener("pointerdown",c,o),ER(d)&&(d.addEventListener("focus",g=>S4(g,o)),!A4(d)&&!d.hasAttribute("tabindex")&&(d.tabIndex=0))}),u}function wR(e){return k1(e)&&"ownerSVGElement"in e}function w4(e){return wR(e)&&e.tagName==="svg"}const gn=e=>!!(e&&e.getVelocity),R4=[...yR,qe,Hr],C4=e=>R4.find(gR(e)),m_=rt.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function sS(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function I4(...e){return t=>{let n=!1;const s=e.map(o=>{const u=sS(o,t);return!n&&typeof u=="function"&&(n=!0),u});if(n)return()=>{for(let o=0;o<s.length;o++){const u=s[o];typeof u=="function"?u():sS(e[o],null)}}}}function x4(...e){return rt.useCallback(I4(...e),e)}class D4 extends rt.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const s=n.offsetParent,o=ER(s)&&s.offsetWidth||0,u=this.props.sizeRef.current;u.height=n.offsetHeight||0,u.width=n.offsetWidth||0,u.top=n.offsetTop,u.left=n.offsetLeft,u.right=o-u.width-u.left}return null}componentDidUpdate(){}render(){return this.props.children}}function N4({children:e,isPresent:t,anchorX:n,root:s}){const o=rt.useId(),u=rt.useRef(null),c=rt.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:d}=rt.useContext(m_),p=x4(u,e?.ref);return rt.useInsertionEffect(()=>{const{width:g,height:y,top:A,left:S,right:C}=c.current;if(t||!u.current||!g||!y)return;const k=n==="left"?`left: ${S}`:`right: ${C}`;u.current.dataset.motionPopId=o;const G=document.createElement("style");d&&(G.nonce=d);const B=s??document.head;return B.appendChild(G),G.sheet&&G.sheet.insertRule(`
          [data-motion-pop-id="${o}"] {
            position: absolute !important;
            width: ${g}px !important;
            height: ${y}px !important;
            ${k}px !important;
            top: ${A}px !important;
          }
        `),()=>{B.contains(G)&&B.removeChild(G)}},[t]),T.jsx(D4,{isPresent:t,childRef:u,sizeRef:c,children:rt.cloneElement(e,{ref:p})})}const V4=({children:e,initial:t,isPresent:n,onExitComplete:s,custom:o,presenceAffectsLayout:u,mode:c,anchorX:d,root:p})=>{const g=Ky(O4),y=rt.useId();let A=!0,S=rt.useMemo(()=>(A=!1,{id:y,initial:t,isPresent:n,custom:o,onExitComplete:C=>{g.set(C,!0);for(const k of g.values())if(!k)return;s&&s()},register:C=>(g.set(C,!1),()=>g.delete(C))}),[n,g,s]);return u&&A&&(S={...S}),rt.useMemo(()=>{g.forEach((C,k)=>g.set(k,!1))},[n]),rt.useEffect(()=>{!n&&!g.size&&s&&s()},[n]),c==="popLayout"&&(e=T.jsx(N4,{isPresent:n,anchorX:d,root:p,children:e})),T.jsx(fd.Provider,{value:S,children:e})};function O4(){return new Map}function RR(e=!0){const t=rt.useContext(fd);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:o}=t,u=rt.useId();rt.useEffect(()=>{if(e)return o(u)},[e]);const c=rt.useCallback(()=>e&&s&&s(u),[u,s,e]);return!n&&s?[!1,c]:[!0]}const Zh=e=>e.key||"";function rS(e){const t=[];return rt.Children.forEach(e,n=>{rt.isValidElement(n)&&t.push(n)}),t}const mf=({children:e,custom:t,initial:n=!0,onExitComplete:s,presenceAffectsLayout:o=!0,mode:u="sync",propagate:c=!1,anchorX:d="left",root:p})=>{const[g,y]=RR(c),A=rt.useMemo(()=>rS(e),[e]),S=c&&!g?[]:A.map(Zh),C=rt.useRef(!0),k=rt.useRef(A),G=Ky(()=>new Map),[B,Z]=rt.useState(A),[nt,$]=rt.useState(A);M1(()=>{C.current=!1,k.current=A;for(let ht=0;ht<nt.length;ht++){const I=Zh(nt[ht]);S.includes(I)?G.delete(I):G.get(I)!==!0&&G.set(I,!1)}},[nt,S.length,S.join("-")]);const ot=[];if(A!==B){let ht=[...A];for(let I=0;I<nt.length;I++){const R=nt[I],x=Zh(R);S.includes(x)||(ht.splice(I,0,R),ot.push(R))}return u==="wait"&&ot.length&&(ht=ot),$(rS(ht)),Z(A),null}const{forceRender:at}=rt.useContext(Gy);return T.jsx(T.Fragment,{children:nt.map(ht=>{const I=Zh(ht),R=c&&!g?!1:A===nt||S.includes(I),x=()=>{if(G.has(I))G.set(I,!0);else return;let O=!0;G.forEach(V=>{V||(O=!1)}),O&&(at?.(),$(k.current),c&&y?.(),s&&s())};return T.jsx(V4,{isPresent:R,initial:!C.current||n?void 0:!1,custom:t,presenceAffectsLayout:o,mode:u,root:p,onExitComplete:R?void 0:x,anchorX:d,children:ht},I)})})},CR=rt.createContext({strict:!1}),aS={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},rl={};for(const e in aS)rl[e]={isEnabled:t=>aS[e].some(n=>!!t[n])};function M4(e){for(const t in e)rl[t]={...rl[t],...e[t]}}const P4=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function zf(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||P4.has(e)}let IR=e=>!zf(e);function k4(e){typeof e=="function"&&(IR=t=>t.startsWith("on")?!zf(t):e(t))}try{k4(require("@emotion/is-prop-valid").default)}catch{}function L4(e,t,n){const s={};for(const o in e)o==="values"&&typeof e.values=="object"||(IR(o)||n===!0&&zf(o)||!t&&!zf(o)||e.draggable&&o.startsWith("onDrag"))&&(s[o]=e[o]);return s}const dd=rt.createContext({});function md(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function $u(e){return typeof e=="string"||Array.isArray(e)}const p_=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],g_=["initial",...p_];function pd(e){return md(e.animate)||g_.some(t=>$u(e[t]))}function xR(e){return!!(pd(e)||e.variants)}function j4(e,t){if(pd(e)){const{initial:n,animate:s}=e;return{initial:n===!1||$u(n)?n:void 0,animate:$u(s)?s:void 0}}return e.inherit!==!1?t:{}}function U4(e){const{initial:t,animate:n}=j4(e,rt.useContext(dd));return rt.useMemo(()=>({initial:t,animate:n}),[oS(t),oS(n)])}function oS(e){return Array.isArray(e)?e.join(" "):e}function lS(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const vu={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(wt.test(e))e=parseFloat(e);else return e;const n=lS(e,t.target.x),s=lS(e,t.target.y);return`${n}% ${s}%`}},B4={correct:(e,{treeScale:t,projectionDelta:n})=>{const s=e,o=Hr.parse(e);if(o.length>5)return s;const u=Hr.createTransformer(e),c=typeof o[0]!="number"?1:0,d=n.x.scale*t.x,p=n.y.scale*t.y;o[0+c]/=d,o[1+c]/=p;const g=_e(d,p,.5);return typeof o[2+c]=="number"&&(o[2+c]/=g),typeof o[3+c]=="number"&&(o[3+c]/=g),u(o)}},kg={borderRadius:{...vu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:vu,borderTopRightRadius:vu,borderBottomLeftRadius:vu,borderBottomRightRadius:vu,boxShadow:B4};function DR(e,{layout:t,layoutId:n}){return ml.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!kg[e]||e==="opacity")}const z4={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},q4=dl.length;function F4(e,t,n){let s="",o=!0;for(let u=0;u<q4;u++){const c=dl[u],d=e[c];if(d===void 0)continue;let p=!0;if(typeof d=="number"?p=d===(c.startsWith("scale")?1:0):p=parseFloat(d)===0,!p||n){const g=TR(d,h_[c]);if(!p){o=!1;const y=z4[c]||c;s+=`${y}(${g}) `}n&&(t[c]=g)}}return s=s.trim(),n?s=n(t,o?"":s):o&&(s="none"),s}function y_(e,t,n){const{style:s,vars:o,transformOrigin:u}=e;let c=!1,d=!1;for(const p in t){const g=t[p];if(ml.has(p)){c=!0;continue}else if(W1(p)){o[p]=g;continue}else{const y=TR(g,h_[p]);p.startsWith("origin")?(d=!0,u[p]=y):s[p]=y}}if(t.transform||(c||n?s.transform=F4(t,e.transform,n):s.transform&&(s.transform="none")),d){const{originX:p="50%",originY:g="50%",originZ:y=0}=u;s.transformOrigin=`${p} ${g} ${y}`}}const __=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function NR(e,t,n){for(const s in t)!gn(t[s])&&!DR(s,n)&&(e[s]=t[s])}function H4({transformTemplate:e},t){return rt.useMemo(()=>{const n=__();return y_(n,t,e),Object.assign({},n.vars,n.style)},[t])}function G4(e,t){const n=e.style||{},s={};return NR(s,n,e),Object.assign(s,H4(e,t)),s}function K4(e,t){const n={},s=G4(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=s,n}const Y4={offset:"stroke-dashoffset",array:"stroke-dasharray"},Q4={offset:"strokeDashoffset",array:"strokeDasharray"};function X4(e,t,n=1,s=0,o=!0){e.pathLength=1;const u=o?Y4:Q4;e[u.offset]=wt.transform(-s);const c=wt.transform(t),d=wt.transform(n);e[u.array]=`${c} ${d}`}function VR(e,{attrX:t,attrY:n,attrScale:s,pathLength:o,pathSpacing:u=1,pathOffset:c=0,...d},p,g,y){if(y_(e,d,g),p){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:A,style:S}=e;A.transform&&(S.transform=A.transform,delete A.transform),(S.transform||A.transformOrigin)&&(S.transformOrigin=A.transformOrigin??"50% 50%",delete A.transformOrigin),S.transform&&(S.transformBox=y?.transformBox??"fill-box",delete A.transformBox),t!==void 0&&(A.x=t),n!==void 0&&(A.y=n),s!==void 0&&(A.scale=s),o!==void 0&&X4(A,o,u,c,!1)}const OR=()=>({...__(),attrs:{}}),MR=e=>typeof e=="string"&&e.toLowerCase()==="svg";function $4(e,t,n,s){const o=rt.useMemo(()=>{const u=OR();return VR(u,t,MR(s),e.transformTemplate,e.style),{...u.attrs,style:{...u.style}}},[t]);if(e.style){const u={};NR(u,e.style,e),o.style={...u,...o.style}}return o}const W4=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function v_(e){return typeof e!="string"||e.includes("-")?!1:!!(W4.indexOf(e)>-1||/[A-Z]/u.test(e))}function Z4(e,t,n,{latestValues:s},o,u=!1){const d=(v_(e)?$4:K4)(t,s,o,e),p=L4(t,typeof e=="string",u),g=e!==rt.Fragment?{...p,...d,ref:n}:{},{children:y}=t,A=rt.useMemo(()=>gn(y)?y.get():y,[y]);return rt.createElement(e,{...g,children:A})}function uS(e){const t=[{},{}];return e?.values.forEach((n,s)=>{t[0][s]=n.get(),t[1][s]=n.getVelocity()}),t}function T_(e,t,n,s){if(typeof t=="function"){const[o,u]=uS(s);t=t(n!==void 0?n:e.custom,o,u)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[o,u]=uS(s);t=t(n!==void 0?n:e.custom,o,u)}return t}function pf(e){return gn(e)?e.get():e}function J4({scrapeMotionValuesFromProps:e,createRenderState:t},n,s,o){return{latestValues:tj(n,s,o,e),renderState:t()}}function tj(e,t,n,s){const o={},u=s(e,{});for(const S in u)o[S]=pf(u[S]);let{initial:c,animate:d}=e;const p=pd(e),g=xR(e);t&&g&&!p&&e.inherit!==!1&&(c===void 0&&(c=t.initial),d===void 0&&(d=t.animate));let y=n?n.initial===!1:!1;y=y||c===!1;const A=y?d:c;if(A&&typeof A!="boolean"&&!md(A)){const S=Array.isArray(A)?A:[A];for(let C=0;C<S.length;C++){const k=T_(e,S[C]);if(k){const{transitionEnd:G,transition:B,...Z}=k;for(const nt in Z){let $=Z[nt];if(Array.isArray($)){const ot=y?$.length-1:0;$=$[ot]}$!==null&&(o[nt]=$)}for(const nt in G)o[nt]=G[nt]}}}return o}const PR=e=>(t,n)=>{const s=rt.useContext(dd),o=rt.useContext(fd),u=()=>J4(e,t,s,o);return n?u():Ky(u)};function E_(e,t,n){const{style:s}=e,o={};for(const u in s)(gn(s[u])||t.style&&gn(t.style[u])||DR(u,e)||n?.getValue(u)?.liveStyle!==void 0)&&(o[u]=s[u]);return o}const ej=PR({scrapeMotionValuesFromProps:E_,createRenderState:__});function kR(e,t,n){const s=E_(e,t,n);for(const o in e)if(gn(e[o])||gn(t[o])){const u=dl.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;s[u]=e[o]}return s}const nj=PR({scrapeMotionValuesFromProps:kR,createRenderState:OR}),ij=Symbol.for("motionComponentSymbol");function zo(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function sj(e,t,n){return rt.useCallback(s=>{s&&e.onMount&&e.onMount(s),t&&(s?t.mount(s):t.unmount()),n&&(typeof n=="function"?n(s):zo(n)&&(n.current=s))},[t])}const A_=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),rj="framerAppearId",LR="data-"+A_(rj),jR=rt.createContext({});function aj(e,t,n,s,o){const{visualElement:u}=rt.useContext(dd),c=rt.useContext(CR),d=rt.useContext(fd),p=rt.useContext(m_).reducedMotion,g=rt.useRef(null);s=s||c.renderer,!g.current&&s&&(g.current=s(e,{visualState:t,parent:u,props:n,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:p}));const y=g.current,A=rt.useContext(jR);y&&!y.projection&&o&&(y.type==="html"||y.type==="svg")&&oj(g.current,n,o,A);const S=rt.useRef(!1);rt.useInsertionEffect(()=>{y&&S.current&&y.update(n,d)});const C=n[LR],k=rt.useRef(!!C&&!window.MotionHandoffIsComplete?.(C)&&window.MotionHasOptimisedAnimation?.(C));return M1(()=>{y&&(S.current=!0,window.MotionIsMounted=!0,y.updateFeatures(),y.scheduleRenderMicrotask(),k.current&&y.animationState&&y.animationState.animateChanges())}),rt.useEffect(()=>{y&&(!k.current&&y.animationState&&y.animationState.animateChanges(),k.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(C)}),k.current=!1),y.enteringChildren=void 0)}),y}function oj(e,t,n,s){const{layoutId:o,layout:u,drag:c,dragConstraints:d,layoutScroll:p,layoutRoot:g,layoutCrossfade:y}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:UR(e.parent)),e.projection.setOptions({layoutId:o,layout:u,alwaysMeasureLayout:!!c||d&&zo(d),visualElement:e,animationType:typeof u=="string"?u:"both",initialPromotionConfig:s,crossfade:y,layoutScroll:p,layoutRoot:g})}function UR(e){if(e)return e.options.allowProjection!==!1?e.projection:UR(e.parent)}function Bp(e,{forwardMotionProps:t=!1}={},n,s){n&&M4(n);const o=v_(e)?nj:ej;function u(d,p){let g;const y={...rt.useContext(m_),...d,layoutId:lj(d)},{isStatic:A}=y,S=U4(d),C=o(d,A);if(!A&&Yy){uj();const k=cj(y);g=k.MeasureLayout,S.visualElement=aj(e,C,y,s,k.ProjectionNode)}return T.jsxs(dd.Provider,{value:S,children:[g&&S.visualElement?T.jsx(g,{visualElement:S.visualElement,...y}):null,Z4(e,d,sj(C,S.visualElement,p),C,A,t)]})}u.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const c=rt.forwardRef(u);return c[ij]=e,c}function lj({layoutId:e}){const t=rt.useContext(Gy).id;return t&&e!==void 0?t+"-"+e:e}function uj(e,t){rt.useContext(CR).strict}function cj(e){const{drag:t,layout:n}=rl;if(!t&&!n)return{};const s={...t,...n};return{MeasureLayout:t?.isEnabled(e)||n?.isEnabled(e)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function hj(e,t){if(typeof Proxy>"u")return Bp;const n=new Map,s=(u,c)=>Bp(u,c,e,t),o=(u,c)=>s(u,c);return new Proxy(o,{get:(u,c)=>c==="create"?s:(n.has(c)||n.set(c,Bp(c,void 0,e,t)),n.get(c))})}function BR({top:e,left:t,right:n,bottom:s}){return{x:{min:t,max:n},y:{min:e,max:s}}}function fj({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function dj(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),s=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function zp(e){return e===void 0||e===1}function Lg({scale:e,scaleX:t,scaleY:n}){return!zp(e)||!zp(t)||!zp(n)}function xa(e){return Lg(e)||zR(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function zR(e){return cS(e.x)||cS(e.y)}function cS(e){return e&&e!=="0%"}function qf(e,t,n){const s=e-n,o=t*s;return n+o}function hS(e,t,n,s,o){return o!==void 0&&(e=qf(e,o,s)),qf(e,n,s)+t}function jg(e,t=0,n=1,s,o){e.min=hS(e.min,t,n,s,o),e.max=hS(e.max,t,n,s,o)}function qR(e,{x:t,y:n}){jg(e.x,t.translate,t.scale,t.originPoint),jg(e.y,n.translate,n.scale,n.originPoint)}const fS=.999999999999,dS=1.0000000000001;function mj(e,t,n,s=!1){const o=n.length;if(!o)return;t.x=t.y=1;let u,c;for(let d=0;d<o;d++){u=n[d],c=u.projectionDelta;const{visualElement:p}=u.options;p&&p.props.style&&p.props.style.display==="contents"||(s&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Fo(e,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),c&&(t.x*=c.x.scale,t.y*=c.y.scale,qR(e,c)),s&&xa(u.latestValues)&&Fo(e,u.latestValues))}t.x<dS&&t.x>fS&&(t.x=1),t.y<dS&&t.y>fS&&(t.y=1)}function qo(e,t){e.min=e.min+t,e.max=e.max+t}function mS(e,t,n,s,o=.5){const u=_e(e.min,e.max,o);jg(e,t,n,u,s)}function Fo(e,t){mS(e.x,t.x,t.scaleX,t.scale,t.originX),mS(e.y,t.y,t.scaleY,t.scale,t.originY)}function FR(e,t){return BR(dj(e.getBoundingClientRect(),t))}function pj(e,t,n){const s=FR(e,n),{scroll:o}=t;return o&&(qo(s.x,o.offset.x),qo(s.y,o.offset.y)),s}const pS=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ho=()=>({x:pS(),y:pS()}),gS=()=>({min:0,max:0}),Ye=()=>({x:gS(),y:gS()}),Ug={current:null},HR={current:!1};function gj(){if(HR.current=!0,!!Yy)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Ug.current=e.matches;e.addEventListener("change",t),t()}else Ug.current=!1}const yj=new WeakMap;function _j(e,t,n){for(const s in t){const o=t[s],u=n[s];if(gn(o))e.addValue(s,o);else if(gn(u))e.addValue(s,sl(o,{owner:e}));else if(u!==o)if(e.hasValue(s)){const c=e.getValue(s);c.liveStyle===!0?c.jump(o):c.hasAnimated||c.set(o)}else{const c=e.getStaticValue(s);e.addValue(s,sl(c!==void 0?c:o,{owner:e}))}}for(const s in n)t[s]===void 0&&e.removeValue(s);return t}const yS=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class vj{scrapeMotionValuesFromProps(t,n,s){return{}}constructor({parent:t,props:n,presenceContext:s,reducedMotionConfig:o,blockInitialAnimation:u,visualState:c},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=u_,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const S=Vn.now();this.renderScheduledAt<S&&(this.renderScheduledAt=S,ge.render(this.render,!1,!0))};const{latestValues:p,renderState:g}=c;this.latestValues=p,this.baseTarget={...p},this.initialValues=n.initial?{...p}:{},this.renderState=g,this.parent=t,this.props=n,this.presenceContext=s,this.depth=t?t.depth+1:0,this.reducedMotionConfig=o,this.options=d,this.blockInitialAnimation=!!u,this.isControllingVariants=pd(n),this.isVariantNode=xR(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:y,...A}=this.scrapeMotionValuesFromProps(n,{},this);for(const S in A){const C=A[S];p[S]!==void 0&&gn(C)&&C.set(p[S])}}mount(t){this.current=t,yj.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),HR.current||gj(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Ug.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Fr(this.notifyUpdate),Fr(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const s=ml.has(t);s&&this.onBindTransform&&this.onBindTransform();const o=n.on("change",c=>{this.latestValues[t]=c,this.props.onUpdate&&ge.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let u;window.MotionCheckAppearSync&&(u=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{o(),u&&u(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in rl){const n=rl[t];if(!n)continue;const{isEnabled:s,Feature:o}=n;if(!this.features[t]&&o&&s(this.props)&&(this.features[t]=new o(this)),this.features[t]){const u=this.features[t];u.isMounted?u.update():(u.mount(),u.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ye()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<yS.length;s++){const o=yS[s];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const u="on"+o,c=t[u];c&&(this.propEventSubscriptions[o]=this.on(o,c))}this.prevMotionValues=_j(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const s=this.values.get(t);n!==s&&(s&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let s=this.values.get(t);return s===void 0&&n!==void 0&&(s=sl(n===null?void 0:n,{owner:this}),this.addValue(t,s)),s}readValue(t,n){let s=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return s!=null&&(typeof s=="string"&&(P1(s)||L1(s))?s=parseFloat(s):!C4(s)&&Hr.test(n)&&(s=vR(t,n)),this.setBaseTarget(t,gn(s)?s.get():s)),gn(s)?s.get():s}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const u=T_(this.props,n,this.presenceContext?.custom);u&&(s=u[t])}if(n&&s!==void 0)return s;const o=this.getBaseTargetFromProps(this.props,t);return o!==void 0&&!gn(o)?o:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new Zy),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){f_.render(this.render)}}class GR extends vj{constructor(){super(...arguments),this.KeyframeResolver=p4}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:s}){delete n[t],delete s[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;gn(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function KR(e,{style:t,vars:n},s,o){const u=e.style;let c;for(c in t)u[c]=t[c];o?.applyProjectionStyles(u,s);for(c in n)u.setProperty(c,n[c])}function Tj(e){return window.getComputedStyle(e)}class Ej extends GR{constructor(){super(...arguments),this.type="html",this.renderInstance=KR}readValueFromInstance(t,n){if(ml.has(n))return this.projection?.isProjecting?xg(n):ML(t,n);{const s=Tj(t),o=(W1(n)?s.getPropertyValue(n):s[n])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(t,{transformPagePoint:n}){return FR(t,n)}build(t,n,s){y_(t,n,s.transformTemplate)}scrapeMotionValuesFromProps(t,n,s){return E_(t,n,s)}}const YR=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Aj(e,t,n,s){KR(e,t,void 0,s);for(const o in t.attrs)e.setAttribute(YR.has(o)?o:A_(o),t.attrs[o])}class Sj extends GR{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ye}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(ml.has(n)){const s=_R(n);return s&&s.default||0}return n=YR.has(n)?n:A_(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,s){return kR(t,n,s)}build(t,n,s){VR(t,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(t,n,s,o){Aj(t,n,s,o)}mount(t){this.isSVGTag=MR(t.tagName),super.mount(t)}}const bj=(e,t)=>v_(e)?new Sj(t):new Ej(t,{allowProjection:e!==rt.Fragment});function Wo(e,t,n){const s=e.getProps();return T_(s,t,n!==void 0?n:s.custom,e)}const Bg=e=>Array.isArray(e);function wj(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,sl(n))}function Rj(e){return Bg(e)?e[e.length-1]||0:e}function Cj(e,t){const n=Wo(e,t);let{transitionEnd:s={},transition:o={},...u}=n||{};u={...u,...s};for(const c in u){const d=Rj(u[c]);wj(e,c,d)}}function Ij(e){return!!(gn(e)&&e.add)}function zg(e,t){const n=e.getValue("willChange");if(Ij(n))return n.add(t);if(!n&&Us.WillChange){const s=new Us.WillChange("auto");e.addValue("willChange",s),s.add(t)}}function QR(e){return e.props[LR]}const xj=e=>e!==null;function Dj(e,{repeat:t,repeatType:n="loop"},s){const o=e.filter(xj),u=t&&n!=="loop"&&t%2===1?0:o.length-1;return o[u]}const Nj={type:"spring",stiffness:500,damping:25,restSpeed:10},Vj=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),Oj={type:"keyframes",duration:.8},Mj={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Pj=(e,{keyframes:t})=>t.length>2?Oj:ml.has(e)?e.startsWith("scale")?Vj(t[1]):Nj:Mj;function kj({when:e,delay:t,delayChildren:n,staggerChildren:s,staggerDirection:o,repeat:u,repeatType:c,repeatDelay:d,from:p,elapsed:g,...y}){return!!Object.keys(y).length}const S_=(e,t,n,s={},o,u)=>c=>{const d=c_(s,e)||{},p=d.delay||s.delay||0;let{elapsed:g=0}=s;g=g-rs(p);const y={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...d,delay:-g,onUpdate:S=>{t.set(S),d.onUpdate&&d.onUpdate(S)},onComplete:()=>{c(),d.onComplete&&d.onComplete()},name:e,motionValue:t,element:u?void 0:o};kj(d)||Object.assign(y,Pj(e,y)),y.duration&&(y.duration=rs(y.duration)),y.repeatDelay&&(y.repeatDelay=rs(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let A=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(Mg(y),y.delay===0&&(A=!0)),(Us.instantAnimations||Us.skipAnimations)&&(A=!0,Mg(y),y.delay=0),y.allowFlatten=!d.type&&!d.ease,A&&!u&&t.get()!==void 0){const S=Dj(y.keyframes,d);if(S!==void 0){ge.update(()=>{y.onUpdate(S),y.onComplete()});return}}return d.isSync?new l_(y):new i4(y)};function Lj({protectedKeys:e,needsAnimating:t},n){const s=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,s}function XR(e,t,{delay:n=0,transitionOverride:s,type:o}={}){let{transition:u=e.getDefaultTransition(),transitionEnd:c,...d}=t;s&&(u=s);const p=[],g=o&&e.animationState&&e.animationState.getState()[o];for(const y in d){const A=e.getValue(y,e.latestValues[y]??null),S=d[y];if(S===void 0||g&&Lj(g,y))continue;const C={delay:n,...c_(u||{},y)},k=A.get();if(k!==void 0&&!A.isAnimating&&!Array.isArray(S)&&S===k&&!C.velocity)continue;let G=!1;if(window.MotionHandoffAnimation){const Z=QR(e);if(Z){const nt=window.MotionHandoffAnimation(Z,y,ge);nt!==null&&(C.startTime=nt,G=!0)}}zg(e,y),A.start(S_(y,A,S,e.shouldReduceMotion&&pR.has(y)?{type:!1}:C,e,G));const B=A.animation;B&&p.push(B)}return c&&Promise.all(p).then(()=>{ge.update(()=>{c&&Cj(e,c)})}),p}function $R(e,t,n,s=0,o=1){const u=Array.from(e).sort((g,y)=>g.sortNodePosition(y)).indexOf(t),c=e.size,d=(c-1)*s;return typeof n=="function"?n(u,c):o===1?u*s:d-u*s}function qg(e,t,n={}){const s=Wo(e,t,n.type==="exit"?e.presenceContext?.custom:void 0);let{transition:o=e.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(o=n.transitionOverride);const u=s?()=>Promise.all(XR(e,s,n)):()=>Promise.resolve(),c=e.variantChildren&&e.variantChildren.size?(p=0)=>{const{delayChildren:g=0,staggerChildren:y,staggerDirection:A}=o;return jj(e,t,p,g,y,A,n)}:()=>Promise.resolve(),{when:d}=o;if(d){const[p,g]=d==="beforeChildren"?[u,c]:[c,u];return p().then(()=>g())}else return Promise.all([u(),c(n.delay)])}function jj(e,t,n=0,s=0,o=0,u=1,c){const d=[];for(const p of e.variantChildren)p.notify("AnimationStart",t),d.push(qg(p,t,{...c,delay:n+(typeof s=="function"?0:s)+$R(e.variantChildren,p,s,o,u)}).then(()=>p.notify("AnimationComplete",t)));return Promise.all(d)}function Uj(e,t,n={}){e.notify("AnimationStart",t);let s;if(Array.isArray(t)){const o=t.map(u=>qg(e,u,n));s=Promise.all(o)}else if(typeof t=="string")s=qg(e,t,n);else{const o=typeof t=="function"?Wo(e,t,n.custom):t;s=Promise.all(XR(e,o,n))}return s.then(()=>{e.notify("AnimationComplete",t)})}function WR(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let s=0;s<n;s++)if(t[s]!==e[s])return!1;return!0}const Bj=g_.length;function ZR(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?ZR(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<Bj;n++){const s=g_[n],o=e.props[s];($u(o)||o===!1)&&(t[s]=o)}return t}const zj=[...p_].reverse(),qj=p_.length;function Fj(e){return t=>Promise.all(t.map(({animation:n,options:s})=>Uj(e,n,s)))}function Hj(e){let t=Fj(e),n=_S(),s=!0;const o=p=>(g,y)=>{const A=Wo(e,y,p==="exit"?e.presenceContext?.custom:void 0);if(A){const{transition:S,transitionEnd:C,...k}=A;g={...g,...k,...C}}return g};function u(p){t=p(e)}function c(p){const{props:g}=e,y=ZR(e.parent)||{},A=[],S=new Set;let C={},k=1/0;for(let B=0;B<qj;B++){const Z=zj[B],nt=n[Z],$=g[Z]!==void 0?g[Z]:y[Z],ot=$u($),at=Z===p?nt.isActive:null;at===!1&&(k=B);let ht=$===y[Z]&&$!==g[Z]&&ot;if(ht&&s&&e.manuallyAnimateOnMount&&(ht=!1),nt.protectedKeys={...C},!nt.isActive&&at===null||!$&&!nt.prevProp||md($)||typeof $=="boolean")continue;const I=Gj(nt.prevProp,$);let R=I||Z===p&&nt.isActive&&!ht&&ot||B>k&&ot,x=!1;const O=Array.isArray($)?$:[$];let V=O.reduce(o(Z),{});at===!1&&(V={});const{prevResolvedValues:L={}}=nt,D={...L,...V},Zt=st=>{R=!0,S.has(st)&&(x=!0,S.delete(st)),nt.needsAnimating[st]=!0;const dt=e.getValue(st);dt&&(dt.liveStyle=!1)};for(const st in D){const dt=V[st],Ct=L[st];if(C.hasOwnProperty(st))continue;let Pt=!1;Bg(dt)&&Bg(Ct)?Pt=!WR(dt,Ct):Pt=dt!==Ct,Pt?dt!=null?Zt(st):S.add(st):dt!==void 0&&S.has(st)?Zt(st):nt.protectedKeys[st]=!0}nt.prevProp=$,nt.prevResolvedValues=V,nt.isActive&&(C={...C,...V}),s&&e.blockInitialAnimation&&(R=!1);const le=ht&&I;R&&(!le||x)&&A.push(...O.map(st=>{const dt={type:Z};if(typeof st=="string"&&s&&!le&&e.manuallyAnimateOnMount&&e.parent){const{parent:Ct}=e,Pt=Wo(Ct,st);if(Ct.enteringChildren&&Pt){const{delayChildren:M}=Pt.transition||{};dt.delay=$R(Ct.enteringChildren,e,M)}}return{animation:st,options:dt}}))}if(S.size){const B={};if(typeof g.initial!="boolean"){const Z=Wo(e,Array.isArray(g.initial)?g.initial[0]:g.initial);Z&&Z.transition&&(B.transition=Z.transition)}S.forEach(Z=>{const nt=e.getBaseTarget(Z),$=e.getValue(Z);$&&($.liveStyle=!0),B[Z]=nt??null}),A.push({animation:B})}let G=!!A.length;return s&&(g.initial===!1||g.initial===g.animate)&&!e.manuallyAnimateOnMount&&(G=!1),s=!1,G?t(A):Promise.resolve()}function d(p,g){if(n[p].isActive===g)return Promise.resolve();e.variantChildren?.forEach(A=>A.animationState?.setActive(p,g)),n[p].isActive=g;const y=c(p);for(const A in n)n[A].protectedKeys={};return y}return{animateChanges:c,setActive:d,setAnimateFunction:u,getState:()=>n,reset:()=>{n=_S()}}}function Gj(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!WR(t,e):!1}function Ca(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function _S(){return{animate:Ca(!0),whileInView:Ca(),whileHover:Ca(),whileTap:Ca(),whileDrag:Ca(),whileFocus:Ca(),exit:Ca()}}class Xr{constructor(t){this.isMounted=!1,this.node=t}update(){}}class Kj extends Xr{constructor(t){super(t),t.animationState||(t.animationState=Hj(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();md(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let Yj=0;class Qj extends Xr{constructor(){super(...arguments),this.id=Yj++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===s)return;const o=this.node.animationState.setActive("exit",!t);n&&!t&&o.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const Xj={animation:{Feature:Kj},exit:{Feature:Qj}};function Wu(e,t,n,s={passive:!0}){return e.addEventListener(t,n,s),()=>e.removeEventListener(t,n)}function pc(e){return{point:{x:e.pageX,y:e.pageY}}}const $j=e=>t=>d_(t)&&e(t,pc(t));function ku(e,t,n,s){return Wu(e,t,$j(n),s)}const JR=1e-4,Wj=1-JR,Zj=1+JR,tC=.01,Jj=0-tC,tU=0+tC;function An(e){return e.max-e.min}function eU(e,t,n){return Math.abs(e-t)<=n}function vS(e,t,n,s=.5){e.origin=s,e.originPoint=_e(t.min,t.max,e.origin),e.scale=An(n)/An(t),e.translate=_e(n.min,n.max,e.origin)-e.originPoint,(e.scale>=Wj&&e.scale<=Zj||isNaN(e.scale))&&(e.scale=1),(e.translate>=Jj&&e.translate<=tU||isNaN(e.translate))&&(e.translate=0)}function Lu(e,t,n,s){vS(e.x,t.x,n.x,s?s.originX:void 0),vS(e.y,t.y,n.y,s?s.originY:void 0)}function TS(e,t,n){e.min=n.min+t.min,e.max=e.min+An(t)}function nU(e,t,n){TS(e.x,t.x,n.x),TS(e.y,t.y,n.y)}function ES(e,t,n){e.min=t.min-n.min,e.max=e.min+An(t)}function Ff(e,t,n){ES(e.x,t.x,n.x),ES(e.y,t.y,n.y)}function ri(e){return[e("x"),e("y")]}const eC=({current:e})=>e?e.ownerDocument.defaultView:null,AS=(e,t)=>Math.abs(e-t);function iU(e,t){const n=AS(e.x,t.x),s=AS(e.y,t.y);return Math.sqrt(n**2+s**2)}class nC{constructor(t,n,{transformPagePoint:s,contextWindow:o=window,dragSnapToOrigin:u=!1,distanceThreshold:c=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const S=Fp(this.lastMoveEventInfo,this.history),C=this.startEvent!==null,k=iU(S.offset,{x:0,y:0})>=this.distanceThreshold;if(!C&&!k)return;const{point:G}=S,{timestamp:B}=on;this.history.push({...G,timestamp:B});const{onStart:Z,onMove:nt}=this.handlers;C||(Z&&Z(this.lastMoveEvent,S),this.startEvent=this.lastMoveEvent),nt&&nt(this.lastMoveEvent,S)},this.handlePointerMove=(S,C)=>{this.lastMoveEvent=S,this.lastMoveEventInfo=qp(C,this.transformPagePoint),ge.update(this.updatePoint,!0)},this.handlePointerUp=(S,C)=>{this.end();const{onEnd:k,onSessionEnd:G,resumeAnimation:B}=this.handlers;if(this.dragSnapToOrigin&&B&&B(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const Z=Fp(S.type==="pointercancel"?this.lastMoveEventInfo:qp(C,this.transformPagePoint),this.history);this.startEvent&&k&&k(S,Z),G&&G(S,Z)},!d_(t))return;this.dragSnapToOrigin=u,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=c,this.contextWindow=o||window;const d=pc(t),p=qp(d,this.transformPagePoint),{point:g}=p,{timestamp:y}=on;this.history=[{...g,timestamp:y}];const{onSessionStart:A}=n;A&&A(t,Fp(p,this.history)),this.removeListeners=fc(ku(this.contextWindow,"pointermove",this.handlePointerMove),ku(this.contextWindow,"pointerup",this.handlePointerUp),ku(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Fr(this.updatePoint)}}function qp(e,t){return t?{point:t(e.point)}:e}function SS(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Fp({point:e},t){return{point:e,delta:SS(e,iC(t)),offset:SS(e,sU(t)),velocity:rU(t,.1)}}function sU(e){return e[0]}function iC(e){return e[e.length-1]}function rU(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,s=null;const o=iC(e);for(;n>=0&&(s=e[n],!(o.timestamp-s.timestamp>rs(t)));)n--;if(!s)return{x:0,y:0};const u=oi(o.timestamp-s.timestamp);if(u===0)return{x:0,y:0};const c={x:(o.x-s.x)/u,y:(o.y-s.y)/u};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function aU(e,{min:t,max:n},s){return t!==void 0&&e<t?e=s?_e(t,e,s.min):Math.max(e,t):n!==void 0&&e>n&&(e=s?_e(n,e,s.max):Math.min(e,n)),e}function bS(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function oU(e,{top:t,left:n,bottom:s,right:o}){return{x:bS(e.x,n,o),y:bS(e.y,t,s)}}function wS(e,t){let n=t.min-e.min,s=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,s]=[s,n]),{min:n,max:s}}function lU(e,t){return{x:wS(e.x,t.x),y:wS(e.y,t.y)}}function uU(e,t){let n=.5;const s=An(e),o=An(t);return o>s?n=Yu(t.min,t.max-s,e.min):s>o&&(n=Yu(e.min,e.max-o,t.min)),js(0,1,n)}function cU(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const Fg=.35;function hU(e=Fg){return e===!1?e=0:e===!0&&(e=Fg),{x:RS(e,"left","right"),y:RS(e,"top","bottom")}}function RS(e,t,n){return{min:CS(e,t),max:CS(e,n)}}function CS(e,t){return typeof e=="number"?e:e[t]||0}const fU=new WeakMap;class dU{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ye(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const u=A=>{const{dragSnapToOrigin:S}=this.getProps();S?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(pc(A).point)},c=(A,S)=>{const{drag:C,dragPropagation:k,onDragStart:G}=this.getProps();if(C&&!k&&(this.openDragLock&&this.openDragLock(),this.openDragLock=v4(C),!this.openDragLock))return;this.latestPointerEvent=A,this.latestPanInfo=S,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ri(Z=>{let nt=this.getAxisMotionValue(Z).get()||0;if(as.test(nt)){const{projection:$}=this.visualElement;if($&&$.layout){const ot=$.layout.layoutBox[Z];ot&&(nt=An(ot)*(parseFloat(nt)/100))}}this.originPoint[Z]=nt}),G&&ge.postRender(()=>G(A,S)),zg(this.visualElement,"transform");const{animationState:B}=this.visualElement;B&&B.setActive("whileDrag",!0)},d=(A,S)=>{this.latestPointerEvent=A,this.latestPanInfo=S;const{dragPropagation:C,dragDirectionLock:k,onDirectionLock:G,onDrag:B}=this.getProps();if(!C&&!this.openDragLock)return;const{offset:Z}=S;if(k&&this.currentDirection===null){this.currentDirection=mU(Z),this.currentDirection!==null&&G&&G(this.currentDirection);return}this.updateAxis("x",S.point,Z),this.updateAxis("y",S.point,Z),this.visualElement.render(),B&&B(A,S)},p=(A,S)=>{this.latestPointerEvent=A,this.latestPanInfo=S,this.stop(A,S),this.latestPointerEvent=null,this.latestPanInfo=null},g=()=>ri(A=>this.getAnimationState(A)==="paused"&&this.getAxisMotionValue(A).animation?.play()),{dragSnapToOrigin:y}=this.getProps();this.panSession=new nC(t,{onSessionStart:u,onStart:c,onMove:d,onSessionEnd:p,resumeAnimation:g},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:y,distanceThreshold:s,contextWindow:eC(this.visualElement)})}stop(t,n){const s=t||this.latestPointerEvent,o=n||this.latestPanInfo,u=this.isDragging;if(this.cancel(),!u||!o||!s)return;const{velocity:c}=o;this.startAnimation(c);const{onDragEnd:d}=this.getProps();d&&ge.postRender(()=>d(s,o))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,s){const{drag:o}=this.getProps();if(!s||!Jh(t,o,this.currentDirection))return;const u=this.getAxisMotionValue(t);let c=this.originPoint[t]+s[t];this.constraints&&this.constraints[t]&&(c=aU(c,this.constraints[t],this.elastic[t])),u.set(c)}resolveConstraints(){const{dragConstraints:t,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,o=this.constraints;t&&zo(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&s?this.constraints=oU(s.layoutBox,t):this.constraints=!1,this.elastic=hU(n),o!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&ri(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=cU(s.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!zo(t))return!1;const s=t.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const u=pj(s,o.root,this.visualElement.getTransformPagePoint());let c=lU(o.layout.layoutBox,u);if(n){const d=n(fj(c));this.hasMutatedConstraints=!!d,d&&(c=BR(d))}return c}startAnimation(t){const{drag:n,dragMomentum:s,dragElastic:o,dragTransition:u,dragSnapToOrigin:c,onDragTransitionEnd:d}=this.getProps(),p=this.constraints||{},g=ri(y=>{if(!Jh(y,n,this.currentDirection))return;let A=p&&p[y]||{};c&&(A={min:0,max:0});const S=o?200:1e6,C=o?40:1e7,k={type:"inertia",velocity:s?t[y]:0,bounceStiffness:S,bounceDamping:C,timeConstant:750,restDelta:1,restSpeed:10,...u,...A};return this.startAxisValueAnimation(y,k)});return Promise.all(g).then(d)}startAxisValueAnimation(t,n){const s=this.getAxisMotionValue(t);return zg(this.visualElement,t),s.start(S_(t,s,0,n,this.visualElement,!1))}stopAnimation(){ri(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){ri(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,s=this.visualElement.getProps(),o=s[n];return o||this.visualElement.getValue(t,(s.initial?s.initial[t]:void 0)||0)}snapToCursor(t){ri(n=>{const{drag:s}=this.getProps();if(!Jh(n,s,this.currentDirection))return;const{projection:o}=this.visualElement,u=this.getAxisMotionValue(n);if(o&&o.layout){const{min:c,max:d}=o.layout.layoutBox[n];u.set(t[n]-_e(c,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!zo(n)||!s||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};ri(c=>{const d=this.getAxisMotionValue(c);if(d&&this.constraints!==!1){const p=d.get();o[c]=uU({min:p,max:p},this.constraints[c])}});const{transformTemplate:u}=this.visualElement.getProps();this.visualElement.current.style.transform=u?u({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),ri(c=>{if(!Jh(c,t,null))return;const d=this.getAxisMotionValue(c),{min:p,max:g}=this.constraints[c];d.set(_e(p,g,o[c]))})}addListeners(){if(!this.visualElement.current)return;fU.set(this.visualElement,this);const t=this.visualElement.current,n=ku(t,"pointerdown",p=>{const{drag:g,dragListener:y=!0}=this.getProps();g&&y&&this.start(p)}),s=()=>{const{dragConstraints:p}=this.getProps();zo(p)&&p.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,u=o.addEventListener("measure",s);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),ge.read(s);const c=Wu(window,"resize",()=>this.scalePositionWithinConstraints()),d=o.addEventListener("didUpdate",(({delta:p,hasLayoutChanged:g})=>{this.isDragging&&g&&(ri(y=>{const A=this.getAxisMotionValue(y);A&&(this.originPoint[y]+=p[y].translate,A.set(A.get()+p[y].translate))}),this.visualElement.render())}));return()=>{c(),n(),u(),d&&d()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:o=!1,dragConstraints:u=!1,dragElastic:c=Fg,dragMomentum:d=!0}=t;return{...t,drag:n,dragDirectionLock:s,dragPropagation:o,dragConstraints:u,dragElastic:c,dragMomentum:d}}}function Jh(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function mU(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class pU extends Xr{constructor(t){super(t),this.removeGroupControls=li,this.removeListeners=li,this.controls=new dU(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||li}unmount(){this.removeGroupControls(),this.removeListeners()}}const IS=e=>(t,n)=>{e&&ge.postRender(()=>e(t,n))};class gU extends Xr{constructor(){super(...arguments),this.removePointerDownListener=li}onPointerDown(t){this.session=new nC(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:eC(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:s,onPanEnd:o}=this.node.getProps();return{onSessionStart:IS(t),onStart:IS(n),onMove:s,onEnd:(u,c)=>{delete this.session,o&&ge.postRender(()=>o(u,c))}}}mount(){this.removePointerDownListener=ku(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const gf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let Hp=!1;class yU extends rt.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s,layoutId:o}=this.props,{projection:u}=t;u&&(n.group&&n.group.add(u),s&&s.register&&o&&s.register(u),Hp&&u.root.didUpdate(),u.addEventListener("animationComplete",()=>{this.safeToRemove()}),u.setOptions({...u.options,onExitComplete:()=>this.safeToRemove()})),gf.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:s,drag:o,isPresent:u}=this.props,{projection:c}=s;return c&&(c.isPresent=u,Hp=!0,o||t.layoutDependency!==n||n===void 0||t.isPresent!==u?c.willUpdate():this.safeToRemove(),t.isPresent!==u&&(u?c.promote():c.relegate()||ge.postRender(()=>{const d=c.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),f_.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:o}=t;Hp=!0,o&&(o.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(o),s&&s.deregister&&s.deregister(o))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function sC(e){const[t,n]=RR(),s=rt.useContext(Gy);return T.jsx(yU,{...e,layoutGroup:s,switchLayoutGroup:rt.useContext(jR),isPresent:t,safeToRemove:n})}function _U(e,t,n){const s=gn(e)?e:sl(e);return s.start(S_("",s,t,n)),s.animation}const vU=(e,t)=>e.depth-t.depth;class TU{constructor(){this.children=[],this.isDirty=!1}add(t){Qy(this.children,t),this.isDirty=!0}remove(t){Xy(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(vU),this.isDirty=!1,this.children.forEach(t)}}function EU(e,t){const n=Vn.now(),s=({timestamp:o})=>{const u=o-n;u>=t&&(Fr(s),e(u-t))};return ge.setup(s,!0),()=>Fr(s)}const rC=["TopLeft","TopRight","BottomLeft","BottomRight"],AU=rC.length,xS=e=>typeof e=="string"?parseFloat(e):e,DS=e=>typeof e=="number"||wt.test(e);function SU(e,t,n,s,o,u){o?(e.opacity=_e(0,n.opacity??1,bU(s)),e.opacityExit=_e(t.opacity??1,0,wU(s))):u&&(e.opacity=_e(t.opacity??1,n.opacity??1,s));for(let c=0;c<AU;c++){const d=`border${rC[c]}Radius`;let p=NS(t,d),g=NS(n,d);if(p===void 0&&g===void 0)continue;p||(p=0),g||(g=0),p===0||g===0||DS(p)===DS(g)?(e[d]=Math.max(_e(xS(p),xS(g),s),0),(as.test(g)||as.test(p))&&(e[d]+="%")):e[d]=g}(t.rotate||n.rotate)&&(e.rotate=_e(t.rotate||0,n.rotate||0,s))}function NS(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const bU=aC(0,.5,G1),wU=aC(.5,.95,li);function aC(e,t,n){return s=>s<e?0:s>t?1:n(Yu(e,t,s))}function VS(e,t){e.min=t.min,e.max=t.max}function Ei(e,t){VS(e.x,t.x),VS(e.y,t.y)}function OS(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function MS(e,t,n,s,o){return e-=t,e=qf(e,1/n,s),o!==void 0&&(e=qf(e,1/o,s)),e}function RU(e,t=0,n=1,s=.5,o,u=e,c=e){if(as.test(t)&&(t=parseFloat(t),t=_e(c.min,c.max,t/100)-c.min),typeof t!="number")return;let d=_e(u.min,u.max,s);e===u&&(d-=t),e.min=MS(e.min,t,n,d,o),e.max=MS(e.max,t,n,d,o)}function PS(e,t,[n,s,o],u,c){RU(e,t[n],t[s],t[o],t.scale,u,c)}const CU=["x","scaleX","originX"],IU=["y","scaleY","originY"];function kS(e,t,n,s){PS(e.x,t,CU,n?n.x:void 0,s?s.x:void 0),PS(e.y,t,IU,n?n.y:void 0,s?s.y:void 0)}function LS(e){return e.translate===0&&e.scale===1}function oC(e){return LS(e.x)&&LS(e.y)}function jS(e,t){return e.min===t.min&&e.max===t.max}function xU(e,t){return jS(e.x,t.x)&&jS(e.y,t.y)}function US(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function lC(e,t){return US(e.x,t.x)&&US(e.y,t.y)}function BS(e){return An(e.x)/An(e.y)}function zS(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class DU{constructor(){this.members=[]}add(t){Qy(this.members,t),t.scheduleRender()}remove(t){if(Xy(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(o=>t===o);if(n===0)return!1;let s;for(let o=n;o>=0;o--){const u=this.members[o];if(u.isPresent!==!1){s=u;break}}return s?(this.promote(s),!0):!1}promote(t,n){const s=this.lead;if(t!==s&&(this.prevLead=s,this.lead=t,t.show(),s)){s.instance&&s.scheduleRender(),t.scheduleRender(),t.resumeFrom=s,n&&(t.resumeFrom.preserveOpacity=!0),s.snapshot&&(t.snapshot=s.snapshot,t.snapshot.latestValues=s.animationValues||s.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:o}=t.options;o===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:s}=t;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function NU(e,t,n){let s="";const o=e.x.translate/t.x,u=e.y.translate/t.y,c=n?.z||0;if((o||u||c)&&(s=`translate3d(${o}px, ${u}px, ${c}px) `),(t.x!==1||t.y!==1)&&(s+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:g,rotate:y,rotateX:A,rotateY:S,skewX:C,skewY:k}=n;g&&(s=`perspective(${g}px) ${s}`),y&&(s+=`rotate(${y}deg) `),A&&(s+=`rotateX(${A}deg) `),S&&(s+=`rotateY(${S}deg) `),C&&(s+=`skewX(${C}deg) `),k&&(s+=`skewY(${k}deg) `)}const d=e.x.scale*t.x,p=e.y.scale*t.y;return(d!==1||p!==1)&&(s+=`scale(${d}, ${p})`),s||"none"}const Gp=["","X","Y","Z"],VU=1e3;let OU=0;function Kp(e,t,n,s){const{latestValues:o}=t;o[e]&&(n[e]=o[e],t.setStaticValue(e,0),s&&(s[e]=0))}function uC(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=QR(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:o,layoutId:u}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",ge,!(o||u))}const{parent:s}=e;s&&!s.hasCheckedOptimisedAppear&&uC(s)}function cC({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:s,resetTransform:o}){return class{constructor(c={},d=t?.()){this.id=OU++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(kU),this.nodes.forEach(BU),this.nodes.forEach(zU),this.nodes.forEach(LU)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let p=0;p<this.path.length;p++)this.path[p].shouldResetTransform=!0;this.root===this&&(this.nodes=new TU)}addEventListener(c,d){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new Zy),this.eventHandlers.get(c).add(d)}notifyListeners(c,...d){const p=this.eventHandlers.get(c);p&&p.notify(...d)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=wR(c)&&!w4(c),this.instance=c;const{layoutId:d,layout:p,visualElement:g}=this.options;if(g&&!g.current&&g.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(p||d)&&(this.isLayoutDirty=!0),e){let y,A=0;const S=()=>this.root.updateBlockedByResize=!1;ge.read(()=>{A=window.innerWidth}),e(c,()=>{const C=window.innerWidth;C!==A&&(A=C,this.root.updateBlockedByResize=!0,y&&y(),y=EU(S,250),gf.hasAnimatedSinceResize&&(gf.hasAnimatedSinceResize=!1,this.nodes.forEach(HS)))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&g&&(d||p)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:A,hasRelativeLayoutChanged:S,layout:C})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const k=this.options.transition||g.getDefaultTransition()||KU,{onLayoutAnimationStart:G,onLayoutAnimationComplete:B}=g.getProps(),Z=!this.targetLayout||!lC(this.targetLayout,C),nt=!A&&S;if(this.options.layoutRoot||this.resumeFrom||nt||A&&(Z||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const $={...c_(k,"layout"),onPlay:G,onComplete:B};(g.shouldReduceMotion||this.options.layoutRoot)&&($.delay=0,$.type=!1),this.startAnimation($),this.setAnimationOrigin(y,nt)}else A||HS(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=C})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Fr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(qU),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&uC(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const A=this.path[y];A.shouldResetTransform=!0,A.updateScroll("snapshot"),A.options.layoutRoot&&A.willUpdate(!1)}const{layoutId:d,layout:p}=this.options;if(d===void 0&&!p)return;const g=this.getTransformTemplate();this.prevTransformTemplateValue=g?g(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(qS);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(FS);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(UU),this.nodes.forEach(MU),this.nodes.forEach(PU)):this.nodes.forEach(FS),this.clearAllSnapshots();const d=Vn.now();on.delta=js(0,1e3/60,d-on.timestamp),on.timestamp=d,on.isProcessing=!0,Mp.update.process(on),Mp.preRender.process(on),Mp.render.process(on),on.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,f_.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(jU),this.sharedNodes.forEach(FU)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ge.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ge.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!An(this.snapshot.measuredBox.x)&&!An(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let p=0;p<this.path.length;p++)this.path[p].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Ye(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(d=!1),d&&this.instance){const p=s(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:p,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:p}}}resetTransform(){if(!o)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!oC(this.projectionDelta),p=this.getTransformTemplate(),g=p?p(this.latestValues,""):void 0,y=g!==this.prevTransformTemplateValue;c&&this.instance&&(d||xa(this.latestValues)||y)&&(o(this.instance,g),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const d=this.measurePageBox();let p=this.removeElementScroll(d);return c&&(p=this.removeTransform(p)),YU(p),{animationId:this.root.animationId,measuredBox:d,layoutBox:p,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:c}=this.options;if(!c)return Ye();const d=c.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(QU))){const{scroll:g}=this.root;g&&(qo(d.x,g.offset.x),qo(d.y,g.offset.y))}return d}removeElementScroll(c){const d=Ye();if(Ei(d,c),this.scroll?.wasRoot)return d;for(let p=0;p<this.path.length;p++){const g=this.path[p],{scroll:y,options:A}=g;g!==this.root&&y&&A.layoutScroll&&(y.wasRoot&&Ei(d,c),qo(d.x,y.offset.x),qo(d.y,y.offset.y))}return d}applyTransform(c,d=!1){const p=Ye();Ei(p,c);for(let g=0;g<this.path.length;g++){const y=this.path[g];!d&&y.options.layoutScroll&&y.scroll&&y!==y.root&&Fo(p,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),xa(y.latestValues)&&Fo(p,y.latestValues)}return xa(this.latestValues)&&Fo(p,this.latestValues),p}removeTransform(c){const d=Ye();Ei(d,c);for(let p=0;p<this.path.length;p++){const g=this.path[p];if(!g.instance||!xa(g.latestValues))continue;Lg(g.latestValues)&&g.updateSnapshot();const y=Ye(),A=g.measurePageBox();Ei(y,A),kS(d,g.latestValues,g.snapshot?g.snapshot.layoutBox:void 0,y)}return xa(this.latestValues)&&kS(d,this.latestValues),d}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==on.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const p=!!this.resumingFrom||this!==d;if(!(c||p&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:A}=this.options;if(!this.layout||!(y||A))return;this.resolvedRelativeTargetAt=on.timestamp;const S=this.getClosestProjectingParent();S&&this.linkedParentVersion!==S.layoutVersion&&!S.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(S&&S.layout?this.createRelativeTarget(S,this.layout.layoutBox,S.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Ye(),this.targetWithTransforms=Ye()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),nU(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ei(this.target,this.layout.layoutBox),qR(this.target,this.targetDelta)):Ei(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,S&&!!S.resumingFrom==!!this.resumingFrom&&!S.options.layoutScroll&&S.target&&this.animationProgress!==1?this.createRelativeTarget(S,this.target,S.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Lg(this.parent.latestValues)||zR(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(c,d,p){this.relativeParent=c,this.linkedParentVersion=c.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ye(),this.relativeTargetOrigin=Ye(),Ff(this.relativeTargetOrigin,d,p),Ei(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const c=this.getLead(),d=!!this.resumingFrom||this!==c;let p=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(p=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(p=!1),this.resolvedRelativeTargetAt===on.timestamp&&(p=!1),p)return;const{layout:g,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||y))return;Ei(this.layoutCorrected,this.layout.layoutBox);const A=this.treeScale.x,S=this.treeScale.y;mj(this.layoutCorrected,this.treeScale,this.path,d),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=Ye());const{target:C}=c;if(!C){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(OS(this.prevProjectionDelta.x,this.projectionDelta.x),OS(this.prevProjectionDelta.y,this.projectionDelta.y)),Lu(this.projectionDelta,this.layoutCorrected,C,this.latestValues),(this.treeScale.x!==A||this.treeScale.y!==S||!zS(this.projectionDelta.x,this.prevProjectionDelta.x)||!zS(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",C))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){if(this.options.visualElement?.scheduleRender(),c){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ho(),this.projectionDelta=Ho(),this.projectionDeltaWithTransform=Ho()}setAnimationOrigin(c,d=!1){const p=this.snapshot,g=p?p.latestValues:{},y={...this.latestValues},A=Ho();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const S=Ye(),C=p?p.source:void 0,k=this.layout?this.layout.source:void 0,G=C!==k,B=this.getStack(),Z=!B||B.members.length<=1,nt=!!(G&&!Z&&this.options.crossfade===!0&&!this.path.some(GU));this.animationProgress=0;let $;this.mixTargetDelta=ot=>{const at=ot/1e3;GS(A.x,c.x,at),GS(A.y,c.y,at),this.setTargetDelta(A),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ff(S,this.layout.layoutBox,this.relativeParent.layout.layoutBox),HU(this.relativeTarget,this.relativeTargetOrigin,S,at),$&&xU(this.relativeTarget,$)&&(this.isProjectionDirty=!1),$||($=Ye()),Ei($,this.relativeTarget)),G&&(this.animationValues=y,SU(y,g,this.latestValues,at,nt,Z)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=at},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Fr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ge.update(()=>{gf.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=sl(0)),this.currentAnimation=_U(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),c.onUpdate&&c.onUpdate(d)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(VU),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:d,target:p,layout:g,latestValues:y}=c;if(!(!d||!p||!g)){if(this!==c&&this.layout&&g&&hC(this.options.animationType,this.layout.layoutBox,g.layoutBox)){p=this.target||Ye();const A=An(this.layout.layoutBox.x);p.x.min=c.target.x.min,p.x.max=p.x.min+A;const S=An(this.layout.layoutBox.y);p.y.min=c.target.y.min,p.y.max=p.y.min+S}Ei(d,p),Fo(d,y),Lu(this.projectionDeltaWithTransform,this.layoutCorrected,d,y)}}registerSharedNode(c,d){this.sharedNodes.has(c)||this.sharedNodes.set(c,new DU),this.sharedNodes.get(c).add(d);const g=d.options.initialPromotionConfig;d.promote({transition:g?g.transition:void 0,preserveFollowOpacity:g&&g.shouldPreserveFollowOpacity?g.shouldPreserveFollowOpacity(d):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){const{layoutId:c}=this.options;return c?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:c}=this.options;return c?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:d,preserveFollowOpacity:p}={}){const g=this.getStack();g&&g.promote(this,p),c&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let d=!1;const{latestValues:p}=c;if((p.z||p.rotate||p.rotateX||p.rotateY||p.rotateZ||p.skewX||p.skewY)&&(d=!0),!d)return;const g={};p.z&&Kp("z",c,g,this.animationValues);for(let y=0;y<Gp.length;y++)Kp(`rotate${Gp[y]}`,c,g,this.animationValues),Kp(`skew${Gp[y]}`,c,g,this.animationValues);c.render();for(const y in g)c.setStaticValue(y,g[y]),this.animationValues&&(this.animationValues[y]=g[y]);c.scheduleRender()}applyProjectionStyles(c,d){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const p=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=pf(d?.pointerEvents)||"",c.transform=p?p(this.latestValues,""):"none";return}const g=this.getLead();if(!this.projectionDelta||!this.layout||!g.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=pf(d?.pointerEvents)||""),this.hasProjected&&!xa(this.latestValues)&&(c.transform=p?p({},""):"none",this.hasProjected=!1);return}c.visibility="";const y=g.animationValues||g.latestValues;this.applyTransformsToTarget();let A=NU(this.projectionDeltaWithTransform,this.treeScale,y);p&&(A=p(y,A)),c.transform=A;const{x:S,y:C}=this.projectionDelta;c.transformOrigin=`${S.origin*100}% ${C.origin*100}% 0`,g.animationValues?c.opacity=g===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:c.opacity=g===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const k in kg){if(y[k]===void 0)continue;const{correct:G,applyTo:B,isCSSVariable:Z}=kg[k],nt=A==="none"?y[k]:G(y[k],g);if(B){const $=B.length;for(let ot=0;ot<$;ot++)c[B[ot]]=nt}else Z?this.options.visualElement.renderState.vars[k]=nt:c[k]=nt}this.options.layoutId&&(c.pointerEvents=g===this?pf(d?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>c.currentAnimation?.stop()),this.root.nodes.forEach(qS),this.root.sharedNodes.clear()}}}function MU(e){e.updateLayout()}function PU(e){const t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=e.layout,{animationType:o}=e.options,u=t.source!==e.layout.source;o==="size"?ri(y=>{const A=u?t.measuredBox[y]:t.layoutBox[y],S=An(A);A.min=n[y].min,A.max=A.min+S}):hC(o,t.layoutBox,n)&&ri(y=>{const A=u?t.measuredBox[y]:t.layoutBox[y],S=An(n[y]);A.max=A.min+S,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[y].max=e.relativeTarget[y].min+S)});const c=Ho();Lu(c,n,t.layoutBox);const d=Ho();u?Lu(d,e.applyTransform(s,!0),t.measuredBox):Lu(d,n,t.layoutBox);const p=!oC(c);let g=!1;if(!e.resumeFrom){const y=e.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:A,layout:S}=y;if(A&&S){const C=Ye();Ff(C,t.layoutBox,A.layoutBox);const k=Ye();Ff(k,n,S.layoutBox),lC(C,k)||(g=!0),y.options.layoutRoot&&(e.relativeTarget=k,e.relativeTargetOrigin=C,e.relativeParent=y)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:d,layoutDelta:c,hasLayoutChanged:p,hasRelativeLayoutChanged:g})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function kU(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function LU(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function jU(e){e.clearSnapshot()}function qS(e){e.clearMeasurements()}function FS(e){e.isLayoutDirty=!1}function UU(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function HS(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function BU(e){e.resolveTargetDelta()}function zU(e){e.calcProjection()}function qU(e){e.resetSkewAndRotation()}function FU(e){e.removeLeadSnapshot()}function GS(e,t,n){e.translate=_e(t.translate,0,n),e.scale=_e(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function KS(e,t,n,s){e.min=_e(t.min,n.min,s),e.max=_e(t.max,n.max,s)}function HU(e,t,n,s){KS(e.x,t.x,n.x,s),KS(e.y,t.y,n.y,s)}function GU(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const KU={duration:.45,ease:[.4,0,.1,1]},YS=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),QS=YS("applewebkit/")&&!YS("chrome/")?Math.round:li;function XS(e){e.min=QS(e.min),e.max=QS(e.max)}function YU(e){XS(e.x),XS(e.y)}function hC(e,t,n){return e==="position"||e==="preserve-aspect"&&!eU(BS(t),BS(n),.2)}function QU(e){return e!==e.root&&e.scroll?.wasRoot}const XU=cC({attachResizeListener:(e,t)=>Wu(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Yp={current:void 0},fC=cC({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Yp.current){const e=new XU({});e.mount(window),e.setOptions({layoutScroll:!0}),Yp.current=e}return Yp.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),$U={pan:{Feature:gU},drag:{Feature:pU,ProjectionNode:fC,MeasureLayout:sC}};function $S(e,t,n){const{props:s}=e;e.animationState&&s.whileHover&&e.animationState.setActive("whileHover",n==="Start");const o="onHover"+n,u=s[o];u&&ge.postRender(()=>u(t,pc(t)))}class WU extends Xr{mount(){const{current:t}=this.node;t&&(this.unmount=T4(t,(n,s)=>($S(this.node,s,"Start"),o=>$S(this.node,o,"End"))))}unmount(){}}class ZU extends Xr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=fc(Wu(this.node.current,"focus",()=>this.onFocus()),Wu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function WS(e,t,n){const{props:s}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&s.whileTap&&e.animationState.setActive("whileTap",n==="Start");const o="onTap"+(n==="End"?"":n),u=s[o];u&&ge.postRender(()=>u(t,pc(t)))}class JU extends Xr{mount(){const{current:t}=this.node;t&&(this.unmount=b4(t,(n,s)=>(WS(this.node,s,"Start"),(o,{success:u})=>WS(this.node,o,u?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Hg=new WeakMap,Qp=new WeakMap,t3=e=>{const t=Hg.get(e.target);t&&t(e)},e3=e=>{e.forEach(t3)};function n3({root:e,...t}){const n=e||document;Qp.has(n)||Qp.set(n,{});const s=Qp.get(n),o=JSON.stringify(t);return s[o]||(s[o]=new IntersectionObserver(e3,{root:e,...t})),s[o]}function i3(e,t,n){const s=n3(t);return Hg.set(e,n),s.observe(e),()=>{Hg.delete(e),s.unobserve(e)}}const s3={some:0,all:1};class r3 extends Xr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:s,amount:o="some",once:u}=t,c={root:n?n.current:void 0,rootMargin:s,threshold:typeof o=="number"?o:s3[o]},d=p=>{const{isIntersecting:g}=p;if(this.isInView===g||(this.isInView=g,u&&!g&&this.hasEnteredView))return;g&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",g);const{onViewportEnter:y,onViewportLeave:A}=this.node.getProps(),S=g?y:A;S&&S(p)};return i3(this.node.current,c,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(a3(t,n))&&this.startObserver()}unmount(){}}function a3({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const o3={inView:{Feature:r3},tap:{Feature:JU},focus:{Feature:ZU},hover:{Feature:WU}},l3={layout:{ProjectionNode:fC,MeasureLayout:sC}},u3={...Xj,...o3,...$U,...l3},Ds=hj(u3,bj),c3="/images/1.png",h3={apiKey:"AIzaSyBvmR8c5X6HCGZPRnzVQl-rnd8eKeoRxDY",authDomain:"deliqu-foods.firebaseapp.com",projectId:"deliqu-foods",storageBucket:"deliqu-foods.firebasestorage.app",messagingSenderId:"363906701154",appId:"1:363906701154:web:15c966baebb9b2bf693e3b",measurementId:"G-4CCTG5M1S3"},b_=lb(h3),Tu=W2(b_),Sr=JM(b_),Xp=Ik(b_);function f3({p:e,idx:t,getItemQty:n,formatPrice:s,setSelectedProduct:o,setView:u,updateCartQty:c,addToCart:d}){const[p,g]=rt.useState(0),y=n(e.id),A=e.images&&e.images.length>0?e.images:[e.img];return T.jsxs(Ds.div,{layout:!0,initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{delay:t*.05},className:"product-card",children:[T.jsxs("div",{className:"img-container",children:[T.jsx("div",{className:"img-slider",style:{transform:`translateX(-${p*100}%)`},children:A.map((S,C)=>T.jsx("img",{src:S,alt:e.name,className:"slider-img"},C))}),T.jsx(mf,{children:y>0&&T.jsx(Ds.div,{initial:{scale:0},animate:{scale:1},exit:{scale:0},className:"card-qty-badge",children:y})}),A.length>1&&T.jsxs(T.Fragment,{children:[T.jsx("button",{className:"slider-btn prev",onClick:S=>{S.stopPropagation(),g(C=>C>0?C-1:A.length-1)},children:""}),T.jsx("button",{className:"slider-btn next",onClick:S=>{S.stopPropagation(),g(C=>C<A.length-1?C+1:0)},children:""}),T.jsx("div",{className:"slider-dots",children:A.map((S,C)=>T.jsx("div",{className:`dot ${p===C?"active":""}`},C))})]})]}),T.jsxs("div",{className:"card-info",children:[T.jsxs("div",{className:"card-header-flex",children:[T.jsx("h3",{children:e.name}),T.jsx("span",{className:"price",children:s(e.price)})]}),T.jsxs("div",{className:"card-btns",children:[T.jsx("button",{className:"btn-outline",onClick:()=>{o(e),u("details")},children:"Details"}),T.jsxs("div",{className:"counter-control",children:[y>0&&T.jsx("button",{className:"btn-minus",onClick:()=>c(e.id,-1),children:""}),T.jsx("button",{className:"btn-red-sq",onClick:()=>d(e),children:"+"})]})]})]})]})}function d3(){const[e,t]=rt.useState({USD:1,INR:1});rt.useEffect(()=>{fetch("https://open.er-api.com/v6/latest/INR").then(F=>F.json()).then(F=>t(F.rates)).catch(F=>console.error("Currency fetch failed:",F))},[]);const n=F=>{const ct=s(Number(F));return`${o[ye]} ${ct}`},s=F=>{const ct=e[ye]||1;return(F*ct).toFixed(2)},o={INR:"",USD:"$",EUR:"",GBP:""},[u,c]=rt.useState([]),[d,p]=rt.useState([]),[g,y]=rt.useState("home"),[A,S]=rt.useState(null),[C,k]=rt.useState({name:"",price:"",category:"breakfast",img:"",images:[],description:"",ingredients:""}),[G,B]=rt.useState(!1),Z=async F=>{const ct=Array.from(F.target.files);if(ct.length===0)return;B(!0);const Tt=ct.map(async Ot=>{const Yt=Op(Xp,`products/${Date.now()}_${Ot.name}`);return await LA(Yt,Ot),jA(Yt)});X.images||X.img;try{const Ot=await Promise.all(Tt);k(Yt=>({...Yt,images:[...Yt.images||[],...Ot]})),alert("Images uploaded successfully!")}catch(Ot){alert("Upload failed: "+Ot.message)}finally{B(!1)}},nt=d.reduce((F,ct)=>F+(Number(ct.total)||0),0),$=d.length,ot=$>0?(nt/$).toFixed(2):0,at=A&&A.email==="digigrowindia.in@gmail.com",ht=async()=>{if(!at)return;const ct=(await Dp(yu(Sr,"orders"))).docs.map(Tt=>({id:Tt.id,...Tt.data()}));p(ct)};rt.useEffect(()=>{g==="admin"&&at&&ht()},[g]);const I=async F=>{if(F.preventDefault(),!C.name||!C.price){alert("Please fill all required fields");return}try{await NA(yu(Sr,"products"),{name:C.name,price:Number(C.price),category:C.category,img:C.img||C.images?.[0]||"",images:C.images||[],description:C.description,ingredients:C.ingredients||"",createdAt:new Date}),alert("Product added successfully!"),k({name:"",price:"",category:"breakfast",img:"",description:""})}catch(ct){alert(ct.message)}},[R,x]=rt.useState(""),[O,V]=rt.useState(""),[L,D]=rt.useState(!1),[Zt,le]=rt.useState(!1),[Q,st]=rt.useState([]),[dt,Ct]=rt.useState("all"),[Pt,M]=rt.useState(""),[X,ut]=rt.useState(null),[ft,At]=rt.useState(0),[Rt,jt]=rt.useState(0),[ye,ue]=rt.useState("INR"),[Kt,hn]=rt.useState(null),qs=()=>{at?(y("admin"),le(!1)):alert("Access Denied: You do not have permission to view the Management Panel.")},Fs=async F=>{if(window.confirm("Delete this product?"))try{await _P(cf(Sr,"products",F)),c(u.filter(ct=>ct.id!==F))}catch(ct){alert(ct.message)}};rt.useEffect(()=>{(async()=>{const Tt=(await Dp(yu(Sr,"products"))).docs.map(Ot=>({id:Ot.id,...Ot.data(),description:Ot.data().desc||Ot.data().description||"",ingredients:Ot.data().ingredients||Ot.data.ing||""}));c(Tt)})()},[]),rt.useEffect(()=>{const F=BN(Tu,ct=>S(ct));return()=>F()},[]),rt.useEffect(()=>{if(g==="home"&&u.length>0){const F=setInterval(()=>{jt(ct=>ct===u.length-1?0:ct+1)},4e3);return()=>clearInterval(F)}},[g]);const Gn=async F=>{F.preventDefault();try{L?await kN(Tu,R,O):await LN(Tu,R,O),y("home")}catch(ct){alert(ct.message)}},$r=async()=>{if(!R)return alert("Enter email first.");try{await PN(Tu,R),alert("Reset email sent!")}catch(F){alert(F.message)}},Ci=F=>{const ct=Q.find(Tt=>Tt.id===F.id);st(ct?Q.map(Tt=>Tt.id===F.id?{...Tt,qty:Tt.qty+1}:Tt):[...Q,{...F,qty:1}])},Ii=(F,ct)=>{st(Q.map(Tt=>Tt.id===F?{...Tt,qty:Math.max(0,Tt.qty+ct)}:Tt).filter(Tt=>Tt.qty>0))},Wr=async()=>{if(!A)return y("login");const F={userId:A.uid,items:Q,total:Q.reduce((ct,Tt)=>ct+Tt.price*Tt.qty,0),date:new Date().toLocaleString(),rating:0};try{await NA(yu(Sr,"orders"),F),alert("Order Successful!"),st([]),y("home")}catch(ct){alert(ct.message)}},Te=async()=>{if(!A)return;const F=fP(yu(Sr,"orders"),dP("userId","==",A.uid)),Tt=(await Dp(F)).docs.map(Ot=>({id:Ot.id,...Ot.data()}));p(Tt.sort((Ot,Yt)=>new Date(Yt.date)-new Date(Ot.date))),y("history"),le(!1)},Ce=async(F,ct)=>{Octagon;try{const Tt=cf(Sr,"orders",F);await DA(Tt,{rating:ct}),p(d.map(Ot=>Ot.id===F?{...Ot,rating:ct}:Ot))}catch(Tt){alert(Tt.message)}},ui=F=>{const ct=Q.find(Tt=>Tt.id===F);return ct?ct.qty:0},pl=u.filter(F=>{const ct=dt==="all"||F.category===dt,Tt=F.name.toLowerCase().includes(Pt.toLowerCase());return ct&&Tt}),Hs=Q.reduce((F,ct)=>F+ct.price*ct.qty,0),Ge=Q.reduce((F,ct)=>F+ct.qty,0),us=u[Rt]?.images?.[0]||u[Rt]?.img,Zr=async F=>{try{const Tt=decodeURIComponent(F).split("/o/")[1].split("?")[0],Ot=Op(Xp,Tt);await Ck(Ot),console.log("Image deleted from Firebase Storage")}catch(ct){console.error("Failed to delete image:",ct)}},cs=F=>{y(F),setTimeout(()=>{const ct=document.getElementById(F);ct&&ct.scrollIntoView({behavior:"smooth",block:"start"})},100)},_n=()=>{window.scrollTo({top:0,behavior:"smooth"})};return rt.useEffect(()=>{_n()},[g]),T.jsxs("div",{className:"site-wrapper",children:[T.jsx("header",{className:"main-header",children:T.jsxs("div",{className:"header-content",children:[T.jsx("div",{className:"logo-wrapper",onClick:()=>y("home"),children:T.jsx("img",{src:c3,alt:"Deliqu Foods",className:"company-logo",onError:F=>F.target.style.display="none"})}),T.jsx("div",{className:"search-bar-container",children:T.jsx("input",{type:"text",placeholder:"Search...",value:Pt,onChange:F=>M(F.target.value),className:"live-search-input"})}),T.jsx("div",{className:"header-controls",children:T.jsxs("select",{className:"currency-dropdown-nav",value:ye,onChange:F=>ue(F.target.value),children:[T.jsx("option",{value:"INR",children:" INR"}),T.jsx("option",{value:"USD",children:"$ USD"}),T.jsx("option",{value:"EUR",children:" EUR"}),T.jsx("option",{value:"GBP",children:" GBP"})]})}),T.jsxs("nav",{children:[T.jsx("button",{onClick:()=>{Ct("all"),y("home"),M("")},children:"Menu"}),T.jsx("div",{className:"profile-section",children:A?T.jsxs("div",{className:"user-icon",onClick:()=>le(!Zt),children:[A.email[0].toUpperCase(),Zt&&T.jsxs("div",{className:"dropdown",children:[T.jsx("p",{children:A.email}),at&&T.jsx("button",{onClick:qs,className:"admin-link",children:"Management Panel"}),T.jsx("button",{onClick:Te,children:"My Orders"}),T.jsx("button",{onClick:()=>{Tu.signOut(),y("home")},children:"Logout"})]})]}):T.jsx("button",{className:"login-btn",onClick:()=>y("login"),children:"Login"})})]})]})}),T.jsxs(mf,{mode:"wait",children:[g==="admin"&&at&&T.jsxs("div",{className:"admin-dashboard",children:[T.jsxs("aside",{className:"admin-sidebar",children:[T.jsx("div",{className:"logo-wrapper",children:T.jsx("img",{src:"/1.png",alt:"Logo",className:"company-logo"})}),T.jsxs("nav",{children:[T.jsx("button",{className:"active",children:"Add Product"}),T.jsx("button",{onClick:()=>y("home"),children:"View Site"})]})]}),T.jsxs("main",{className:"admin-content",children:[T.jsxs("header",{className:"admin-header-bar",children:[T.jsx("h1",{children:"Product Management"}),T.jsx("button",{onClick:()=>y("home"),className:"btn-outline",children:"Exit Admin"})]}),T.jsxs("div",{className:"admin-stats-bar",children:[T.jsxs("div",{className:"stat-card",children:[T.jsx("span",{children:"Total Revenue"}),T.jsx("h2",{children:n(nt.toLocaleString())})]}),T.jsxs("div",{className:"stat-card",children:[T.jsx("span",{children:"Total Orders"}),T.jsx("h2",{children:$})]}),T.jsxs("div",{className:"stat-card",children:[T.jsx("span",{children:"Avg. Ticket"}),T.jsx("h2",{children:n(ot)})]})]}),T.jsxs("div",{className:"admin-grid",children:[Kt&&T.jsx("div",{className:"edit-modal",children:T.jsxs("div",{className:"edit-card",children:[T.jsx("h3",{children:"Edit Product"}),T.jsx("input",{type:"text",value:Kt.name,onChange:F=>hn({...Kt,name:F.target.value}),placeholder:"Product Name"}),T.jsx("input",{type:"number",value:Kt.price,onChange:F=>hn({...Kt,price:F.target.value}),placeholder:"Price"}),T.jsx("textarea",{value:Kt.description||Kt.desc||"",onChange:F=>hn({...Kt,description:F.target.value}),placeholder:"Description",rows:"4"}),"//  ADD TO ADD PRODUCT FORM (after description textarea):",T.jsx("textarea",{placeholder:"Ingredients (comma separated: Cashew, Khoya, Raisins, Ghee, Sugar)",value:C.ingredients||"",onChange:F=>k({...C,ingredients:F.target.value}),rows:"3"}),"//  ADD TO EDIT MODAL (after description textarea):",T.jsx("textarea",{value:Kt.ingredients||"",onChange:F=>hn({...Kt,ingredients:F.target.value}),placeholder:"Ingredients (comma separated)",rows:"3"}),T.jsx("div",{className:"preview-strip",children:Kt.images?.map((F,ct)=>T.jsxs("div",{style:{position:"relative"},children:[T.jsx("img",{src:F,className:"mini-preview"}),T.jsx("button",{className:"remove-img-btn",onClick:async()=>{const Tt=Kt.images[ct];await Zr(Tt),hn({...Kt,images:Kt.images.filter((Ot,Yt)=>Yt!==ct)})},children:""})]},ct))}),T.jsxs("label",{className:"file-label",children:[" Add Images",T.jsx("input",{type:"file",multiple:!0,hidden:!0,onChange:async F=>{const ct=Array.from(F.target.files),Tt=await Promise.all(ct.map(async Ot=>{const Yt=Op(Xp,`products/${Date.now()}_${Ot.name}`);return await LA(Yt,Ot),jA(Yt)}));hn({...Kt,images:[...Kt.images||[],...Tt]})}})]}),T.jsxs("div",{className:"edit-actions",children:[T.jsx("button",{className:"btn-outline",onClick:()=>hn(null),children:"Cancel"}),T.jsx("button",{className:"btn-red-large",onClick:async()=>{await DA(cf(Sr,"products",Kt.id),{name:Kt.name,price:Number(Kt.price),desc:Kt.desc,images:Kt.images,img:Kt.images?.[0]||Kt.img}),c(u.map(F=>F.id===Kt.id?Kt:F)),hn(null)},children:"Save Changes"})]})]})}),T.jsxs("section",{className:"admin-card",children:[T.jsx("h3",{children:"Add New Product"}),T.jsxs("form",{onSubmit:I,className:"management-form",children:[T.jsx("input",{type:"text",placeholder:"Product Name",value:C.name,onChange:F=>k({...C,name:F.target.value})}),T.jsxs("div",{className:"form-row",children:[T.jsx("input",{type:"number",placeholder:"Price",value:C.price,onChange:F=>k({...C,price:F.target.value})}),T.jsxs("select",{value:C.category,onChange:F=>k({...C,category:F.target.value}),children:[T.jsx("option",{value:"breakfast",children:"Breakfast"}),T.jsx("option",{value:"deserts",children:"Deserts"}),T.jsx("option",{value:"main course",children:"Main Course"})]})]}),T.jsx("input",{type:"text",placeholder:"Image URL (e.g. https://...)",value:C.img,onChange:F=>k({...C,img:F.target.value})}),T.jsx("textarea",{placeholder:"Description",value:C.description,onChange:F=>k({...C,description:F.target.value})}),T.jsxs("div",{className:"upload-box",children:[T.jsxs("label",{className:"file-label",children:[G?"Uploading...":" Select Product Photos (Multiple)",T.jsx("input",{type:"file",multiple:!0,accept:"image/*",onChange:Z,hidden:!0})]}),T.jsx("div",{className:"preview-strip",children:C.images?.map((F,ct)=>T.jsx("img",{src:F,alt:"preview",className:"mini-preview"},ct))})]}),T.jsx("button",{type:"submit",className:"btn-red-large",children:"Add to Menu"})]})]}),T.jsxs("section",{className:"admin-card",children:[T.jsxs("h3",{children:["Current Menu (",u.length,")"]}),T.jsx("div",{className:"admin-table-wrapper",children:T.jsxs("table",{className:"admin-table",children:[T.jsx("thead",{children:T.jsxs("tr",{children:[T.jsx("th",{children:"Item"}),T.jsx("th",{children:"Price"}),T.jsx("th",{children:"Actions"})]})}),T.jsx("tbody",{children:u.map(F=>T.jsxs("tr",{children:[T.jsx("td",{children:F.name}),T.jsx("td",{children:n(F.price)}),T.jsxs("td",{style:{display:"flex",gap:"8px"},children:[T.jsx("button",{className:"btn-outline",onClick:()=>hn(F),children:"Edit"}),T.jsx("button",{className:"delete-btn",onClick:()=>Fs(F.id),children:"Delete"})]})]},F.id))})]})})]})]})]})]}),T.jsx("section",{id:"home",className:"home-section",children:g==="home"&&T.jsxs(Ds.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[T.jsx("section",{className:"hero-slider",children:T.jsx(mf,{mode:"wait",children:T.jsx(Ds.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:1},className:"slide",style:{backgroundImage:`linear-gradient(rgba(0,0,0,0.5), rgba(0,0,0,0.5)), url(${us})`},children:T.jsxs("div",{className:"slide-content",children:[T.jsx(Ds.h2,{initial:{y:20},animate:{y:0},children:u[Rt]?.name}),T.jsx("button",{className:"btn-red-large",onClick:()=>Ct(u[Rt].category),children:"Order Now"})]})},Rt)})}),T.jsxs("div",{className:"main-container",children:[T.jsx("div",{className:"filter-bar",children:["all","breakfast","deserts","main course"].map(F=>T.jsx("button",{onClick:()=>Ct(F),className:dt===F?"active":"",children:F},F))}),T.jsx("div",{className:"product-grid",children:pl.map((F,ct)=>T.jsx(f3,{p:F,idx:ct,getItemQty:ui,formatPrice:n,setSelectedProduct:ut,setView:y,updateCartQty:Ii,addToCart:Ci},F.id))})]}),T.jsx(mf,{children:Q.length>0&&T.jsx("div",{className:"bottom-total-bar",children:T.jsxs("div",{className:"bar-content",children:[T.jsxs("div",{className:"bar-info-stack",children:[T.jsxs("span",{className:"bar-count-label",children:[Ge," ",Ge===1?"Item":"Items"," Selected"]}),T.jsx("span",{className:"bar-price-text",children:n(Hs)})]}),T.jsx("button",{className:"btn-white-action",onClick:()=>y("cart"),children:"View Bag & Checkout"})]})})})]},"home")}),g==="details"&&X&&(()=>{const F=X.images&&X.images.length>0?X.images:[X.img],ct=Array.isArray(X.ingredients)?X.ingredients:typeof X.ingredients=="string"?X.ingredients.split(",").map(Ot=>Ot.trim()).filter(Boolean):[],Tt=ui(X.id);return T.jsx(Ds.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},exit:{opacity:0},className:"main-container",children:T.jsxs("div",{className:"details-card-modern",children:[T.jsxs("div",{className:"details-image-section",children:[T.jsxs("div",{className:"main-image-container",children:[T.jsx("div",{className:"details-slider-track",style:{transform:`translateX(-${ft*100}%)`},children:F.map((Ot,Yt)=>T.jsx("img",{src:Ot,alt:X.name,className:"main-detail-image"},Yt))}),F.length>1&&T.jsxs(T.Fragment,{children:[T.jsx("button",{className:"slider-arrow left",onClick:()=>At(ft===0?F.length-1:ft-1),children:""}),T.jsx("button",{className:"slider-arrow right",onClick:()=>At(ft===F.length-1?0:ft+1),children:""})]})]}),F.length>1&&T.jsx("div",{className:"thumbnail-strip",children:F.map((Ot,Yt)=>T.jsx("img",{src:Ot,alt:`Thumb ${Yt+1}`,className:`thumbnail-img ${ft===Yt?"thumbnail-active":""}`,onClick:()=>At(Yt)},Yt))}),T.jsxs("div",{className:"image-qty-controls",children:[T.jsx("button",{className:"qty-btn-small minus",onClick:()=>Ii(X.id,-1),disabled:Tt===0,children:""}),T.jsx("span",{className:"qty-number",children:Tt||0}),T.jsx("button",{className:"qty-btn-small plus",onClick:()=>Ci(X),children:"+"})]})]}),T.jsxs("div",{className:"details-info-section",children:[T.jsxs("div",{className:"product-header",children:[T.jsx("h1",{className:"product-title",children:X.name}),T.jsxs("div",{className:"price-container",children:[T.jsxs("span",{className:"mrp-price",children:["",X.price]}),T.jsx("span",{className:"current-price",children:n(X.price)})]})]}),ct.length>0&&T.jsxs("div",{className:"ingredients-section",children:[T.jsx("h3",{children:"Ingredients"}),T.jsx("div",{className:"ingredients-grid",children:ct.map((Ot,Yt)=>T.jsx("span",{className:"ingredient-tag",children:Ot},Yt))})]}),X.description&&T.jsxs("div",{className:"description-section",children:[T.jsx("h3",{children:"About"}),T.jsx("p",{children:X.description})]}),T.jsxs("div",{className:"details-actions",children:[T.jsxs("button",{className:"btn-add-to-cart-large",onClick:()=>y("cart"),disabled:Tt===0,children:["Go to Bag (",n(X.price*Tt),")"]}),T.jsx("button",{className:"btn-outline-large",onClick:()=>y("home"),children:"Back to Menu"})]})]})]})},"details")})(),g==="login"&&T.jsx(Ds.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"full-screen-center",children:T.jsxs("div",{className:"auth-card",children:[T.jsxs("div",{className:"auth-header",children:[T.jsx("div",{className:"logo-placeholder",children:""}),T.jsx("h2",{className:"auth-title",children:L?"Join Deliqu Foods":"Welcome Back"}),T.jsx("p",{className:"auth-subtitle",children:"Please enter your details to continue"})]}),T.jsxs("form",{className:"auth-form",onSubmit:Gn,children:[T.jsx("div",{className:"form-group",children:T.jsx("input",{type:"email",className:"form-input",placeholder:"Enter your email",value:R,onChange:F=>x(F.target.value),required:!0})}),T.jsx("div",{className:"form-group",children:T.jsx("input",{type:"password",className:"form-input",placeholder:"Enter your password",value:O,onChange:F=>V(F.target.value),required:!0})}),T.jsx("button",{type:"submit",className:"auth-submit",children:L?"Create Account":"Sign In"})]}),!L&&T.jsx("div",{className:"forgot-password",children:T.jsx("a",{href:"#",className:"forgot-link",onClick:$r,children:"Forgot Password?"})}),T.jsx("div",{className:"toggle-section",children:T.jsx("span",{className:"toggle-link",onClick:()=>D(!L),children:L?"Already have an account? Sign In":"Don't have an account? Sign Up"})})]})},"login"),T.jsx("div",{id:"cart",className:"cart-section",children:g==="cart"&&T.jsx(Ds.div,{initial:{opacity:0},animate:{opacity:1},className:"main-container",children:T.jsxs("div",{className:"cart-page-modern",children:[T.jsxs("div",{className:"cart-header",children:[T.jsxs("h1",{children:[Q.length," Items in Cart"]}),T.jsx("button",{className:"btn-outline",onClick:()=>y("home"),children:"Continue Shopping"})]}),T.jsx("div",{className:"cart-items-modern",children:Q.length===0?T.jsxs("div",{className:"empty-cart-modern",children:[T.jsx("div",{className:"empty-icon",children:""}),T.jsx("h3",{children:"Your cart is empty"}),T.jsx("p",{children:"Add some delicious items to get started"}),T.jsx("button",{className:"btn-red-large",onClick:()=>y("home"),children:"Start Shopping"})]}):T.jsx(T.Fragment,{children:Q.map(F=>T.jsxs("div",{className:"cart-item-modern",children:[T.jsx("img",{src:F.images?.[0]||F.img,alt:F.name,className:"cart-item-image"}),T.jsxs("div",{className:"cart-item-details",children:[T.jsxs("div",{className:"item-name-price",children:[T.jsx("h3",{children:F.name}),T.jsx("span",{className:"item-price",children:n(F.price)})]}),T.jsxs("div",{className:"item-quantity",children:[T.jsx("button",{onClick:()=>Ii(F.id,-1),className:"qty-btn",children:"-"}),T.jsx("span",{className:"qty-display",children:F.qty}),T.jsx("button",{onClick:()=>Ii(F.id,1),className:"qty-btn",children:"+"})]}),T.jsx("span",{className:"item-total",children:n(F.price*F.qty)})]})]},F.id))})}),T.jsxs("div",{className:"cart-summary-modern",children:[T.jsx("h2",{children:"Order Summary"}),T.jsxs("div",{className:"summary-row",children:[T.jsxs("span",{children:["Subtotal (",Ge," items)"]}),T.jsx("span",{children:n(Hs)})]}),T.jsxs("div",{className:"summary-total",children:[T.jsx("span",{children:"Total"}),T.jsx("span",{className:"total-price",children:n(Hs)})]}),T.jsx("button",{className:"btn-checkout-large",onClick:Wr,disabled:!A,children:A?"Proceed to Payment":"Login to Checkout"}),!A&&T.jsx("button",{className:"btn-outline-large",onClick:()=>y("login"),children:"Login"})]})]})},"cart")}),g==="history"&&T.jsx(Ds.div,{initial:{opacity:0},animate:{opacity:1},className:"main-container",children:T.jsxs("div",{className:"history-container",children:[T.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"30px"},children:[T.jsx("h2",{style:{margin:0},children:"My Orders"}),T.jsx("button",{onClick:()=>y("home"),className:"btn-outline",children:"Back to Menu"})]}),d.length===0?T.jsx("p",{children:"No orders yet."}):d.map(F=>T.jsxs("div",{className:"order-card",children:[T.jsxs("div",{className:"order-header",children:[T.jsxs("div",{className:"order-info",children:[T.jsxs("h4",{children:["Order #",F.id.slice(0,6)]}),T.jsxs("span",{children:["Placed on ",F.date]})]}),T.jsx("div",{className:"order-total-price",children:n(F.total)})]}),T.jsx("div",{className:"order-items-preview",children:F.items?.map((ct,Tt)=>T.jsx("img",{src:ct.img,className:"history-item-img",alt:ct.name,title:ct.name},Tt))}),T.jsxs("div",{className:"order-footer",children:[T.jsx("div",{className:"h-stars",children:[1,2,3,4,5].map(ct=>T.jsx("span",{style:{color:F.rating>=ct?"#d63031":"#ccc",cursor:"pointer",fontSize:"1.2rem"},onClick:()=>Ce(F.id,ct),children:""},ct))}),T.jsx("button",{className:"btn-receipt",onClick:()=>window.print(),children:"Print Receipt"})]})]},F.id))]})},"history"),"// Add these new views in your main return statement",g==="privacy"&&T.jsx("div",{className:"policy-page",children:T.jsxs("div",{className:"policy-container",children:[T.jsx("button",{className:"back-btn",onClick:()=>y("home"),children:" Back to Home"}),T.jsxs("div",{className:"policy-header",children:[T.jsx("h1",{children:"Privacy Policy"}),T.jsx("p",{className:"policy-date",children:"Last Updated: January 4, 2026"})]}),T.jsxs("div",{className:"policy-content",children:[T.jsxs("p",{children:["This Privacy Policy outlines how ",T.jsx("strong",{children:"DeliQu Foods"})," collects, uses, discloses, and safeguards your personal information. By using our website, you consent to the practices described below:"]}),T.jsxs("div",{className:"policy-section",children:[T.jsx("h2",{children:"Welcome to DeliQu Foods!"}),T.jsxs("p",{children:["We are ",T.jsx("strong",{children:"deliqufoods.com"})," from ",T.jsx("strong",{children:"Surat, Gujarat, India  395006"}),'. In this Privacy Policy, references to "you" mean any person submitting any data to us or our agent or the Site.']}),T.jsxs("p",{children:["If you have any comments or suggestions, we would be pleased to receive them at our Surat address or by emailing us at",T.jsx("a",{href:"mailto:deliqufoods@gmail.com",children:"deliqufoods@gmail.com"})]})]}),T.jsxs("div",{className:"policy-section",children:[T.jsx("h2",{children:"Data Protection"}),T.jsx("p",{children:"Data protection is a matter of trust and your privacy is important to us. We shall therefore only use your name and other information which relates to you in the manner set out in this Privacy Policy. We will only collect information where it is necessary for us to do so and we will only collect information if it is relevant to our dealings with you."}),T.jsx("p",{children:"We will only keep your information for as long as we are either required to by law or as is relevant for the purposes for which it was collected."})]}),T.jsxs("div",{className:"policy-section",children:[T.jsx("h2",{children:"Browsing Anonymously"}),T.jsx("p",{children:"You can visit the Site and browse without having to provide personal details. During your visit to the Site you remain anonymous and at no time can we identify you unless you have an account on the Site and log on with your username and password."}),T.jsx("p",{children:T.jsx("strong",{children:'Right now our website is not enabled with "cookies"'})})]}),T.jsxs("div",{className:"policy-section",children:[T.jsx("h2",{children:"Purchase Information"}),T.jsx("p",{children:"If you choose to buy on the Website, we collect information about your buying behaviour. If you transact with us, we collect some additional information, such as a billing address, a credit/debit card number and a credit/debit card expiration date and/or other payment instrument details and tracking information from cheques or money orders."}),T.jsx("p",{children:"If you send us personal correspondence, such as emails or letters, we may collect such information into a file specific to you."})]}),T.jsxs("div",{className:"policy-section",children:[T.jsx("h2",{children:"Account Information"}),T.jsx("p",{children:"We collect personally identifiable information (email address, name, phone number, etc.) from you when you set up a free account with us. While you can browse some sections of our Website without being a registered member, certain activities (such as placing an order) do require registration. We do use your contact information to send you offers based on your previous orders and your interests."})]}),T.jsxs("div",{className:"policy-section",children:[T.jsx("h2",{children:"Data Security"}),T.jsxs("p",{children:["All your personal information will be stored in a ",T.jsx("strong",{children:"secure encrypted file"}),". However, no credit or debit card information will be stored beyond that of your current transaction session. When the session expires that data will be permanently deleted."]})]}),T.jsxs("div",{className:"policy-contact",children:[T.jsx("h3",{children:"Need Help?"}),T.jsxs("p",{children:["Email: ",T.jsx("a",{href:"mailto:deliqufoods@gmail.com",children:"deliqufoods@gmail.com"})]})]})]})]})}),g==="shipping"&&T.jsx("div",{className:"policy-page",children:T.jsxs("div",{className:"policy-container",children:[T.jsx("button",{className:"back-btn",onClick:()=>y("home"),children:" Back to Home"}),T.jsxs("div",{className:"policy-header",children:[T.jsx("h1",{children:"Shipping Policy"}),T.jsx("p",{className:"policy-date",children:"Last Updated: January 4, 2026"})]}),T.jsxs("div",{className:"policy-content",children:[T.jsxs("div",{className:"policy-section",children:[T.jsx("h2",{children:"Shipping Costs"}),T.jsxs("p",{children:["You will be responsible for paying for your own ",T.jsx("strong",{children:"shipping costs "}),"for returning your item. ",T.jsx("strong",{children:"Shipping costs are non-refundable"}),"."]})]}),T.jsxs("div",{className:"policy-section",children:[T.jsx("h2",{children:"Refund Deductions"}),T.jsxs("p",{children:["If you receive a refund, ",T.jsx("strong",{children:"the cost of return shipping will be deducted from your refund"}),"."]})]}),T.jsxs("div",{className:"policy-contact",children:[T.jsx("h3",{children:"Contact Us"}),T.jsxs("div",{className:"contact-grid",children:[T.jsxs("div",{className:"contact-item1",children:[T.jsx("strong",{children:"Email:"}),T.jsx("br",{}),T.jsx("a",{href:"mailto:deliqufoods@gmail.com",children:"deliqufoods@gmail.com"})]}),T.jsxs("div",{className:"contact-item1",children:[T.jsx("strong",{children:"Website:"}),T.jsx("br",{}),T.jsx("a",{href:"http://www.deliqufoods.com",target:"_blank",rel:"noopener",children:"www.deliqufoods.com"})]}),T.jsxs("div",{className:"contact-item1",children:[T.jsx("strong",{children:"Customer Care:"}),T.jsx("br",{}),T.jsx("a",{href:"tel:+919512720820",children:"+91 95127 20820"})]})]})]})]})]})}),g==="refund"&&T.jsx("div",{className:"policy-page",children:T.jsxs("div",{className:"policy-container",children:[T.jsx("button",{className:"back-btn",onClick:()=>y("home"),children:" Back to Home"}),T.jsxs("div",{className:"policy-header",children:[T.jsx("h1",{children:"Refund Policy"}),T.jsx("p",{className:"policy-date",children:"Last Updated: January 4, 2026"})]}),T.jsxs("div",{className:"policy-content",children:[T.jsxs("div",{className:"policy-section",children:[T.jsx("h2",{children:"Refund & Cancellation"}),T.jsxs("p",{children:["No replacement/refund/or any other resolution will be provided for liquidated damages of an amount equivalent to the ",T.jsx("strong",{children:"Order Value"}),"."]})]}),T.jsxs("div",{className:"policy-section",children:[T.jsx("h2",{children:"Incorrect Particulars"}),T.jsxs("p",{children:["In the event, You have provided ",T.jsx("strong",{children:"incorrect particulars"}),", e.g., contact number, delivery address, etc., or that You were unresponsive, not reachable, or unavailable for the fulfilment of the services offered to You, ",T.jsx("strong",{children:"You will not be eligible for any refunds"}),"."]})]}),T.jsxs("div",{className:"policy-section",children:[T.jsx("h2",{children:"Complaints & Proof"}),T.jsxs("p",{children:["Any complaint, with respect to the Order which shall include instances but not be limited to food spillage, foreign objects in food, or delivery of the wrong order,",T.jsx("strong",{children:"you will be required to share the proof of the same before any resolution can be provided"}),"."]})]}),T.jsxs("div",{className:"policy-section",children:[T.jsx("h2",{children:"Order Instructions"}),T.jsxs("p",{children:["You shall not be entitled to a refund in case instructions placed along with the Order are not followed in the form and manner you had intended.",T.jsx("strong",{children:"Instructions are followed by the company on a best-efforts basis"}),"."]})]}),T.jsxs("div",{className:"policy-section",children:[T.jsx("h2",{children:"Refund Processing"}),T.jsxs("p",{children:["All refunds shall be processed in the ",T.jsx("strong",{children:"same manner as they are received"}),", unless refunds have been provided to you in the form of credits, the refund amount will reflect in your account based on respective banks' policies."]})]})]})]})}),g==="terms"&&T.jsx("div",{className:"policy-page",children:T.jsxs("div",{className:"policy-container",children:[T.jsx("button",{className:"back-btn",onClick:()=>y("home"),children:" Back to Home"}),T.jsxs("div",{className:"policy-header",children:[T.jsx("h1",{children:"Terms of Service"}),T.jsx("p",{className:"policy-date",children:"Last Updated: January 4, 2026"})]}),T.jsxs("div",{className:"policy-content",children:[T.jsxs("div",{className:"policy-section",children:[T.jsx("h2",{children:"At Deliqu Foods, trust matters to us"}),T.jsxs("p",{children:["These Terms of Service explain how our website works, how orders are handled, and what you can expect when you shop with us. By using ",T.jsx("a",{href:"http://www.deliqufoods.com",target:"_blank",rel:"noopener",children:"www.deliqufoods.com"}),", you agree to the terms written here. If you do not agree, please stop using the website."]})]}),T.jsxs("div",{className:"policy-section",children:[T.jsx("h2",{children:"Who we are"}),T.jsx("p",{children:"Deliqu Foods is a ready-to-eat food brand offering packaged meals through our website and other authorised platforms. We serve customers across India and selected international markets with a focus on quality, safety, and convenience."})]}),T.jsxs("div",{className:"policy-section",children:[T.jsx("h2",{children:"Using our website"}),T.jsx("p",{children:"Our website is meant for personal and lawful use only. You agree not to misuse the website, interfere with its operation, provide false information, or engage in any activity that may harm the website or our business. We may restrict or block access if misuse is identified."})]}),T.jsxs("div",{className:"policy-section",children:[T.jsx("h2",{children:"Product details"}),T.jsx("p",{children:"We do our best to present accurate information about our products, including descriptions, prices, and images. Product images are for reference only, and minor variations in packaging or appearance may occur. Product availability and pricing may change without prior notice."})]}),T.jsxs("div",{className:"policy-section",children:[T.jsx("h2",{children:"Placing an order"}),T.jsx("p",{children:"When you place an order on our website, it means you agree to purchase the selected product at the displayed price. Orders are confirmed only after successful payment. In certain situations, such as stock issues or payment concerns, we reserve the right to cancel or decline an order."})]}),T.jsxs("div",{className:"policy-section",children:[T.jsx("h2",{children:"Delivery information"}),T.jsx("p",{children:"Delivery timelines shown on the website are estimates and may vary due to courier operations, location, weather, or customs procedures. For international orders, customers are responsible for any applicable customs duties, taxes, or import regulations. Delays caused by third-party delivery partners are beyond our control."})]}),T.jsxs("div",{className:"policy-section",children:[T.jsx("h2",{children:"Returns and support"}),T.jsxs("p",{children:["Because we sell food products, opened or consumed items cannot be returned. Replacements or refunds may be considered only if the product received is damaged, expired, or incorrect. Any such concern must be reported within",T.jsx("strong",{children:"24 hours of delivery"}),", and each request is reviewed carefully."]})]}),T.jsxs("div",{className:"policy-section",children:[T.jsx("h2",{children:"Food safety and allergies"}),T.jsx("p",{children:"Our products are prepared and packed following applicable food safety standards. Customers are responsible for reading ingredient information, allergen details, and storage instructions mentioned on the packaging. Deliqu Foods is not responsible for health issues arising from improper storage, misuse, or known allergies."})]}),T.jsxs("div",{className:"policy-section",children:[T.jsx("h2",{children:"Our responsibility"}),T.jsx("p",{children:"Deliqu Foods is not liable for indirect or unexpected losses, delays beyond our control, or issues caused by product misuse after delivery. Our total liability, if any, will be limited to the amount paid for the product."})]}),T.jsxs("div",{className:"policy-section",children:[T.jsx("h2",{children:"Intellectual property"}),T.jsx("p",{children:"All content on this website, including text, images, logos, designs, and product names, belongs to Deliqu Foods. Copying, reproducing, or using any content without written permission is not allowed."})]}),T.jsxs("div",{className:"policy-section",children:[T.jsx("h2",{children:"External websites"}),T.jsx("p",{children:"Our website may include links to third-party websites for convenience. We do not control or take responsibility for the content or policies of those websites."})]}),T.jsxs("div",{className:"policy-section",children:[T.jsx("h2",{children:"Updates to these terms"}),T.jsx("p",{children:"We may update these Terms of Service from time to time. Continued use of the website after changes are made means you accept the updated terms."})]}),T.jsxs("div",{className:"policy-section",children:[T.jsx("h2",{children:"Legal details"}),T.jsxs("p",{children:["These Terms are governed by the ",T.jsx("strong",{children:"laws of India"}),", and any disputes will be subject to",T.jsx("strong",{children:"Indian jurisdiction"}),"."]})]})]})]})}),g==="support"&&T.jsx("div",{className:"policy-page",children:T.jsxs("div",{className:"policy-container",children:[T.jsx("button",{className:"back-btn",onClick:()=>y("home"),children:" Back to Home"}),T.jsx("h1",{children:"Customer Support"}),T.jsxs("div",{className:"policy-content",children:[T.jsx("h2",{children:"Contact Information"}),T.jsxs("div",{className:"support-grid",children:[T.jsxs("div",{className:"support-item",children:[T.jsx("h3",{children:"Email"}),T.jsx("p",{children:"deliqufoods@gmail.com"}),T.jsx("p",{children:"Reply within 24 hours"})]}),T.jsxs("div",{className:"support-item",children:[T.jsx("h3",{children:" Customer Care"}),T.jsx("p",{children:"+91 95127 20820"}),T.jsx("p",{children:"Mon-Sat 10AM-6PM"})]})]})]})]})})]}),(g==="home"||g==="details")&&T.jsx("section",{className:"why-choose-us",children:T.jsx("div",{className:"container",children:T.jsxs("div",{className:"why-choose-content",children:[T.jsx("div",{className:"why-image",children:T.jsx("div",{className:"product-image",children:T.jsx("img",{src:"/images/GAJAR_HALWA.jpg",alt:"Pure Food Product"})})}),T.jsxs("div",{className:"why-text",children:[T.jsx("h2",{className:"highlight-title",children:"Why Choose Us ?"}),T.jsxs("div",{className:"highlight-text",children:["We don't just serve food, ",T.jsx("span",{className:"highlight-word",children:"we serve purity on a plate"}),". Our every recipe is a celebration of nature, made with",T.jsx("span",{className:"highlight-word",children:" oil free"}),",",T.jsx("span",{className:"highlight-word",children:" preservative free"}),",",T.jsx("span",{className:"highlight-word",children:" chemical free"}),", and",T.jsx("span",{className:"highlight-word",children:" additive free"}),", so you can indulge without compromise."]}),T.jsxs("div",{className:"highlight-text",children:["With ",T.jsx("span",{className:"highlight-word",children:"organic ingredients"})," and no artificial colours, our meals embody authenticity and integrity, sealed with a",T.jsx("span",{className:"highlight-badge",children:"12-month shelf life"})," that preserves freshness and trust."]}),T.jsxs("div",{className:"highlight-text",children:["Designed for the modern wanderer, our packs are light to carry, saving you precious time and effort. Think of it as ",T.jsx("span",{className:"highlight-word",children:"hassle-free goodness"}),"  a perfect blend of quality, hygiene, taste and convenience that lets you enjoy wholesome meals anytime, anywhere."]})]})]})})}),T.jsx("footer",{className:"global-footer",children:T.jsxs("div",{className:"footer-content",children:[T.jsxs("div",{className:"footer-grid",children:[T.jsxs("div",{className:"footer-section",children:[T.jsx("img",{src:"/images/2.png",alt:"Deliqu Foods",className:"footer-logo-img"}),T.jsx("p",{className:"footer-desc",children:"Authentic ready-to-eat meals delivered to your doorstep. 100% preservative-free, made with love."}),T.jsxs("div",{className:"social-links",children:[T.jsx("a",{href:"https://www.instagram.com/deliqu_foods?utm_source=ig_web_button_share_sheet&igsh=ZDNlZDc0MzIxNw==",className:"social-icon",target:"_blank",rel:"noopener",children:T.jsx("img",{src:"/images/instagram.png",alt:"Instagram"})}),T.jsx("a",{href:"https://www.facebook.com/share/16bqXrkGcB/?mibextid=wwXIfr",className:"social-icon",target:"_blank",rel:"noopener",children:T.jsx("img",{src:"/images/facebook.png",alt:"Facebook"})}),T.jsx("a",{href:"https://youtube.com/@deliqufoods?si=c79cBF77jucjTGgp",className:"social-icon",target:"_blank",rel:"noopener",children:T.jsx("img",{src:"/images/youtube.png",alt:"YouTube"})}),T.jsx("a",{href:"https://whatsapp.com/deliqufoods",className:"social-icon",target:"_blank",rel:"noopener",children:T.jsx("img",{src:"/images/whatsapp.png",alt:"WhatsApp"})})]})]}),T.jsxs("div",{className:"footer-section",children:[T.jsx("h4",{children:"Quick Links"}),T.jsxs("ul",{children:[T.jsx("li",{children:T.jsx("a",{href:"#",className:"scroll-link",onClick:F=>{F.preventDefault(),cs("home")},children:"Home"})}),T.jsx("li",{children:T.jsx("a",{href:"#",className:"scroll-link",onClick:F=>{F.preventDefault(),cs("cart")},children:"Cart"})}),T.jsx("li",{children:T.jsx("a",{href:"#",className:"scroll-link",onClick:F=>{F.preventDefault(),cs("help")},children:"Help"})})]})]}),T.jsxs("div",{className:"footer-section",children:[T.jsx("h4",{children:"Help"}),T.jsxs("ul",{children:[T.jsx("li",{children:T.jsx("a",{href:"#",onClick:F=>{F.preventDefault(),y("support"),_n()},children:"Customer Support"})}),T.jsx("li",{children:T.jsx("a",{href:"#",onClick:F=>{F.preventDefault(),y("privacy"),_n()},children:"Privacy Policy"})}),T.jsx("li",{children:T.jsx("a",{href:"#",onClick:F=>{F.preventDefault(),y("shipping"),_n()},children:"Shipping Policy"})}),T.jsx("li",{children:T.jsx("a",{href:"#",onClick:F=>{F.preventDefault(),y("refund"),_n()},children:"Refund Policy"})}),T.jsx("li",{children:T.jsx("a",{href:"#",onClick:F=>{F.preventDefault(),y("terms"),_n()},children:"Terms of Service"})})]})]}),T.jsxs("div",{className:"footer-section",children:[T.jsx("h4",{children:"Contact Us"}),T.jsxs("div",{className:"contact-item",children:[T.jsx("img",{src:"/images/location.png",alt:"Location",className:"contact-icon"}),T.jsx("span",{children:"Surat, Gujarat 395007"})]}),T.jsxs("div",{className:"contact-item",children:[T.jsx("img",{src:"/images/email.png",alt:"Email",className:"contact-icon"}),T.jsx("span",{children:"deliqufoods@gmail.com"})]}),T.jsxs("div",{className:"contact-item",children:[T.jsx("img",{src:"/images/phone.png",alt:"Phone",className:"contact-icon"}),T.jsx("span",{children:"+91 95127 20820"})]}),T.jsxs("div",{className:"contact-item",children:[T.jsx("img",{src:"/images/hours.png",alt:"Hours",className:"contact-icon"}),T.jsx("span",{children:"Mon-Sat 10AM-6PM"})]})]})]}),T.jsx("div",{className:"footer-bottom",children:T.jsx("p",{children:" 2026 Deliqu Foods. All rights reserved. Made in Surat."})})]})})]})}ZI.createRoot(document.getElementById("root")).render(T.jsx(rt.StrictMode,{children:T.jsx(d3,{})}));
