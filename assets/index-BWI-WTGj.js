(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var fp={exports:{}},mu={};var GE;function FI(){if(GE)return mu;GE=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,o,u){var c=null;if(u!==void 0&&(c=""+u),o.key!==void 0&&(c=""+o.key),"key"in o){u={};for(var d in o)d!=="key"&&(u[d]=o[d])}else u=o;return o=u.ref,{$$typeof:e,type:s,key:c,ref:o!==void 0?o:null,props:u}}return mu.Fragment=t,mu.jsx=n,mu.jsxs=n,mu}var KE;function HI(){return KE||(KE=1,fp.exports=FI()),fp.exports}var x=HI(),dp={exports:{}},Dt={};var YE;function GI(){if(YE)return Dt;YE=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),E=Symbol.for("react.activity"),A=Symbol.iterator;function R(M){return M===null||typeof M!="object"?null:(M=A&&M[A]||M["@@iterator"],typeof M=="function"?M:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},H=Object.assign,B={};function Z(M,X,ut){this.props=M,this.context=X,this.refs=B,this.updater=ut||k}Z.prototype.isReactComponent={},Z.prototype.setState=function(M,X){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,X,"setState")},Z.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function nt(){}nt.prototype=Z.prototype;function $(M,X,ut){this.props=M,this.context=X,this.refs=B,this.updater=ut||k}var ot=$.prototype=new nt;ot.constructor=$,H(ot,Z.prototype),ot.isPureReactComponent=!0;var at=Array.isArray;function ht(){}var C={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function I(M,X,ut){var ft=ut.ref;return{$$typeof:e,type:M,key:X,ref:ft!==void 0?ft:null,props:ut}}function O(M,X){return I(M.type,X,M.props)}function V(M){return typeof M=="object"&&M!==null&&M.$$typeof===e}function L(M){var X={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(ut){return X[ut]})}var D=/\/+/g;function Xt(M,X){return typeof M=="object"&&M!==null&&M.key!=null?L(""+M.key):X.toString(36)}function le(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(ht,ht):(M.status="pending",M.then(function(X){M.status==="pending"&&(M.status="fulfilled",M.value=X)},function(X){M.status==="pending"&&(M.status="rejected",M.reason=X)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function Y(M,X,ut,ft,Et){var wt=typeof M;(wt==="undefined"||wt==="boolean")&&(M=null);var Lt=!1;if(M===null)Lt=!0;else switch(wt){case"bigint":case"string":case"number":Lt=!0;break;case"object":switch(M.$$typeof){case e:case t:Lt=!0;break;case _:return Lt=M._init,Y(Lt(M._payload),X,ut,ft,Et)}}if(Lt)return Et=Et(M),Lt=ft===""?"."+Xt(M,0):ft,at(Et)?(ut="",Lt!=null&&(ut=Lt.replace(D,"$&/")+"/"),Y(Et,X,ut,"",function($t){return $t})):Et!=null&&(V(Et)&&(Et=O(Et,ut+(Et.key==null||M&&M.key===Et.key?"":(""+Et.key).replace(D,"$&/")+"/")+Lt)),X.push(Et)),1;Lt=0;var ce=ft===""?".":ft+":";if(at(M))for(var ae=0;ae<M.length;ae++)ft=M[ae],wt=ce+Xt(ft,ae),Lt+=Y(ft,X,ut,wt,Et);else if(ae=R(M),typeof ae=="function")for(M=ae.call(M),ae=0;!(ft=M.next()).done;)ft=ft.value,wt=ce+Xt(ft,ae++),Lt+=Y(ft,X,ut,wt,Et);else if(wt==="object"){if(typeof M.then=="function")return Y(le(M),X,ut,ft,Et);throw X=String(M),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return Lt}function st(M,X,ut){if(M==null)return M;var ft=[],Et=0;return Y(M,ft,"","",function(wt){return X.call(ut,wt,Et++)}),ft}function dt(M){if(M._status===-1){var X=M._result;X=X(),X.then(function(ut){(M._status===0||M._status===-1)&&(M._status=1,M._result=ut)},function(ut){(M._status===0||M._status===-1)&&(M._status=2,M._result=ut)}),M._status===-1&&(M._status=0,M._result=X)}if(M._status===1)return M._result.default;throw M._result}var Ct=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},Mt={map:st,forEach:function(M,X,ut){st(M,function(){X.apply(this,arguments)},ut)},count:function(M){var X=0;return st(M,function(){X++}),X},toArray:function(M){return st(M,function(X){return X})||[]},only:function(M){if(!V(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return Dt.Activity=E,Dt.Children=Mt,Dt.Component=Z,Dt.Fragment=n,Dt.Profiler=o,Dt.PureComponent=$,Dt.StrictMode=s,Dt.Suspense=p,Dt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,Dt.__COMPILER_RUNTIME={__proto__:null,c:function(M){return C.H.useMemoCache(M)}},Dt.cache=function(M){return function(){return M.apply(null,arguments)}},Dt.cacheSignal=function(){return null},Dt.cloneElement=function(M,X,ut){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var ft=H({},M.props),Et=M.key;if(X!=null)for(wt in X.key!==void 0&&(Et=""+X.key),X)!w.call(X,wt)||wt==="key"||wt==="__self"||wt==="__source"||wt==="ref"&&X.ref===void 0||(ft[wt]=X[wt]);var wt=arguments.length-2;if(wt===1)ft.children=ut;else if(1<wt){for(var Lt=Array(wt),ce=0;ce<wt;ce++)Lt[ce]=arguments[ce+2];ft.children=Lt}return I(M.type,Et,ft)},Dt.createContext=function(M){return M={$$typeof:c,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:u,_context:M},M},Dt.createElement=function(M,X,ut){var ft,Et={},wt=null;if(X!=null)for(ft in X.key!==void 0&&(wt=""+X.key),X)w.call(X,ft)&&ft!=="key"&&ft!=="__self"&&ft!=="__source"&&(Et[ft]=X[ft]);var Lt=arguments.length-2;if(Lt===1)Et.children=ut;else if(1<Lt){for(var ce=Array(Lt),ae=0;ae<Lt;ae++)ce[ae]=arguments[ae+2];Et.children=ce}if(M&&M.defaultProps)for(ft in Lt=M.defaultProps,Lt)Et[ft]===void 0&&(Et[ft]=Lt[ft]);return I(M,wt,Et)},Dt.createRef=function(){return{current:null}},Dt.forwardRef=function(M){return{$$typeof:d,render:M}},Dt.isValidElement=V,Dt.lazy=function(M){return{$$typeof:_,_payload:{_status:-1,_result:M},_init:dt}},Dt.memo=function(M,X){return{$$typeof:g,type:M,compare:X===void 0?null:X}},Dt.startTransition=function(M){var X=C.T,ut={};C.T=ut;try{var ft=M(),Et=C.S;Et!==null&&Et(ut,ft),typeof ft=="object"&&ft!==null&&typeof ft.then=="function"&&ft.then(ht,Ct)}catch(wt){Ct(wt)}finally{X!==null&&ut.types!==null&&(X.types=ut.types),C.T=X}},Dt.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},Dt.use=function(M){return C.H.use(M)},Dt.useActionState=function(M,X,ut){return C.H.useActionState(M,X,ut)},Dt.useCallback=function(M,X){return C.H.useCallback(M,X)},Dt.useContext=function(M){return C.H.useContext(M)},Dt.useDebugValue=function(){},Dt.useDeferredValue=function(M,X){return C.H.useDeferredValue(M,X)},Dt.useEffect=function(M,X){return C.H.useEffect(M,X)},Dt.useEffectEvent=function(M){return C.H.useEffectEvent(M)},Dt.useId=function(){return C.H.useId()},Dt.useImperativeHandle=function(M,X,ut){return C.H.useImperativeHandle(M,X,ut)},Dt.useInsertionEffect=function(M,X){return C.H.useInsertionEffect(M,X)},Dt.useLayoutEffect=function(M,X){return C.H.useLayoutEffect(M,X)},Dt.useMemo=function(M,X){return C.H.useMemo(M,X)},Dt.useOptimistic=function(M,X){return C.H.useOptimistic(M,X)},Dt.useReducer=function(M,X,ut){return C.H.useReducer(M,X,ut)},Dt.useRef=function(M){return C.H.useRef(M)},Dt.useState=function(M){return C.H.useState(M)},Dt.useSyncExternalStore=function(M,X,ut){return C.H.useSyncExternalStore(M,X,ut)},Dt.useTransition=function(){return C.H.useTransition()},Dt.version="19.2.3",Dt}var QE;function Gg(){return QE||(QE=1,dp.exports=GI()),dp.exports}var rt=Gg(),mp={exports:{}},pu={},pp={exports:{}},gp={};var XE;function KI(){return XE||(XE=1,(function(e){function t(Y,st){var dt=Y.length;Y.push(st);t:for(;0<dt;){var Ct=dt-1>>>1,Mt=Y[Ct];if(0<o(Mt,st))Y[Ct]=st,Y[dt]=Mt,dt=Ct;else break t}}function n(Y){return Y.length===0?null:Y[0]}function s(Y){if(Y.length===0)return null;var st=Y[0],dt=Y.pop();if(dt!==st){Y[0]=dt;t:for(var Ct=0,Mt=Y.length,M=Mt>>>1;Ct<M;){var X=2*(Ct+1)-1,ut=Y[X],ft=X+1,Et=Y[ft];if(0>o(ut,dt))ft<Mt&&0>o(Et,ut)?(Y[Ct]=Et,Y[ft]=dt,Ct=ft):(Y[Ct]=ut,Y[X]=dt,Ct=X);else if(ft<Mt&&0>o(Et,dt))Y[Ct]=Et,Y[ft]=dt,Ct=ft;else break t}}return st}function o(Y,st){var dt=Y.sortIndex-st.sortIndex;return dt!==0?dt:Y.id-st.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;e.unstable_now=function(){return u.now()}}else{var c=Date,d=c.now();e.unstable_now=function(){return c.now()-d}}var p=[],g=[],_=1,E=null,A=3,R=!1,k=!1,H=!1,B=!1,Z=typeof setTimeout=="function"?setTimeout:null,nt=typeof clearTimeout=="function"?clearTimeout:null,$=typeof setImmediate<"u"?setImmediate:null;function ot(Y){for(var st=n(g);st!==null;){if(st.callback===null)s(g);else if(st.startTime<=Y)s(g),st.sortIndex=st.expirationTime,t(p,st);else break;st=n(g)}}function at(Y){if(H=!1,ot(Y),!k)if(n(p)!==null)k=!0,ht||(ht=!0,L());else{var st=n(g);st!==null&&le(at,st.startTime-Y)}}var ht=!1,C=-1,w=5,I=-1;function O(){return B?!0:!(e.unstable_now()-I<w)}function V(){if(B=!1,ht){var Y=e.unstable_now();I=Y;var st=!0;try{t:{k=!1,H&&(H=!1,nt(C),C=-1),R=!0;var dt=A;try{e:{for(ot(Y),E=n(p);E!==null&&!(E.expirationTime>Y&&O());){var Ct=E.callback;if(typeof Ct=="function"){E.callback=null,A=E.priorityLevel;var Mt=Ct(E.expirationTime<=Y);if(Y=e.unstable_now(),typeof Mt=="function"){E.callback=Mt,ot(Y),st=!0;break e}E===n(p)&&s(p),ot(Y)}else s(p);E=n(p)}if(E!==null)st=!0;else{var M=n(g);M!==null&&le(at,M.startTime-Y),st=!1}}break t}finally{E=null,A=dt,R=!1}st=void 0}}finally{st?L():ht=!1}}}var L;if(typeof $=="function")L=function(){$(V)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,Xt=D.port2;D.port1.onmessage=V,L=function(){Xt.postMessage(null)}}else L=function(){Z(V,0)};function le(Y,st){C=Z(function(){Y(e.unstable_now())},st)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Y){Y.callback=null},e.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<Y?Math.floor(1e3/Y):5},e.unstable_getCurrentPriorityLevel=function(){return A},e.unstable_next=function(Y){switch(A){case 1:case 2:case 3:var st=3;break;default:st=A}var dt=A;A=st;try{return Y()}finally{A=dt}},e.unstable_requestPaint=function(){B=!0},e.unstable_runWithPriority=function(Y,st){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var dt=A;A=Y;try{return st()}finally{A=dt}},e.unstable_scheduleCallback=function(Y,st,dt){var Ct=e.unstable_now();switch(typeof dt=="object"&&dt!==null?(dt=dt.delay,dt=typeof dt=="number"&&0<dt?Ct+dt:Ct):dt=Ct,Y){case 1:var Mt=-1;break;case 2:Mt=250;break;case 5:Mt=1073741823;break;case 4:Mt=1e4;break;default:Mt=5e3}return Mt=dt+Mt,Y={id:_++,callback:st,priorityLevel:Y,startTime:dt,expirationTime:Mt,sortIndex:-1},dt>Ct?(Y.sortIndex=dt,t(g,Y),n(p)===null&&Y===n(g)&&(H?(nt(C),C=-1):H=!0,le(at,dt-Ct))):(Y.sortIndex=Mt,t(p,Y),k||R||(k=!0,ht||(ht=!0,L()))),Y},e.unstable_shouldYield=O,e.unstable_wrapCallback=function(Y){var st=A;return function(){var dt=A;A=st;try{return Y.apply(this,arguments)}finally{A=dt}}}})(gp)),gp}var $E;function YI(){return $E||($E=1,pp.exports=KI()),pp.exports}var yp={exports:{}},hn={};var WE;function QI(){if(WE)return hn;WE=1;var e=Gg();function t(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)g+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,_){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:E==null?null:""+E,children:p,containerInfo:g,implementation:_}}var c=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return hn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,hn.createPortal=function(p,g){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return u(p,g,null,_)},hn.flushSync=function(p){var g=c.T,_=s.p;try{if(c.T=null,s.p=2,p)return p()}finally{c.T=g,s.p=_,s.d.f()}},hn.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},hn.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},hn.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var _=g.as,E=d(_,g.crossOrigin),A=typeof g.integrity=="string"?g.integrity:void 0,R=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;_==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:E,integrity:A,fetchPriority:R}):_==="script"&&s.d.X(p,{crossOrigin:E,integrity:A,fetchPriority:R,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},hn.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var _=d(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},hn.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var _=g.as,E=d(_,g.crossOrigin);s.d.L(p,_,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},hn.preloadModule=function(p,g){if(typeof p=="string")if(g){var _=d(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},hn.requestFormReset=function(p){s.d.r(p)},hn.unstable_batchedUpdates=function(p,g){return p(g)},hn.useFormState=function(p,g,_){return c.H.useFormState(p,g,_)},hn.useFormStatus=function(){return c.H.useHostTransitionStatus()},hn.version="19.2.3",hn}var ZE;function XI(){if(ZE)return yp.exports;ZE=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),yp.exports=QI(),yp.exports}var JE;function $I(){if(JE)return pu;JE=1;var e=YI(),t=Gg(),n=XI();function s(i){var r="https://react.dev/errors/"+i;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function u(i){var r=i,a=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,(r.flags&4098)!==0&&(a=r.return),i=r.return;while(i)}return r.tag===3?a:null}function c(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function d(i){if(i.tag===31){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function p(i){if(u(i)!==i)throw Error(s(188))}function g(i){var r=i.alternate;if(!r){if(r=u(i),r===null)throw Error(s(188));return r!==i?null:i}for(var a=i,l=r;;){var f=a.return;if(f===null)break;var m=f.alternate;if(m===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===a)return p(f),i;if(m===l)return p(f),r;m=m.sibling}throw Error(s(188))}if(a.return!==l.return)a=f,l=m;else{for(var v=!1,S=f.child;S;){if(S===a){v=!0,a=f,l=m;break}if(S===l){v=!0,l=f,a=m;break}S=S.sibling}if(!v){for(S=m.child;S;){if(S===a){v=!0,a=m,l=f;break}if(S===l){v=!0,l=m,a=f;break}S=S.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?i:r}function _(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i;for(i=i.child;i!==null;){if(r=_(i),r!==null)return r;i=i.sibling}return null}var E=Object.assign,A=Symbol.for("react.element"),R=Symbol.for("react.transitional.element"),k=Symbol.for("react.portal"),H=Symbol.for("react.fragment"),B=Symbol.for("react.strict_mode"),Z=Symbol.for("react.profiler"),nt=Symbol.for("react.consumer"),$=Symbol.for("react.context"),ot=Symbol.for("react.forward_ref"),at=Symbol.for("react.suspense"),ht=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function L(i){return i===null||typeof i!="object"?null:(i=V&&i[V]||i["@@iterator"],typeof i=="function"?i:null)}var D=Symbol.for("react.client.reference");function Xt(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===D?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case H:return"Fragment";case Z:return"Profiler";case B:return"StrictMode";case at:return"Suspense";case ht:return"SuspenseList";case I:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case k:return"Portal";case $:return i.displayName||"Context";case nt:return(i._context.displayName||"Context")+".Consumer";case ot:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case C:return r=i.displayName||null,r!==null?r:Xt(i.type)||"Memo";case w:r=i._payload,i=i._init;try{return Xt(i(r))}catch{}}return null}var le=Array.isArray,Y=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,st=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,dt={pending:!1,data:null,method:null,action:null},Ct=[],Mt=-1;function M(i){return{current:i}}function X(i){0>Mt||(i.current=Ct[Mt],Ct[Mt]=null,Mt--)}function ut(i,r){Mt++,Ct[Mt]=i.current,i.current=r}var ft=M(null),Et=M(null),wt=M(null),Lt=M(null);function ce(i,r){switch(ut(wt,r),ut(Et,i),ut(ft,null),r.nodeType){case 9:case 11:i=(i=r.documentElement)&&(i=i.namespaceURI)?mE(i):0;break;default:if(i=r.tagName,r=r.namespaceURI)r=mE(r),i=pE(r,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}X(ft),ut(ft,i)}function ae(){X(ft),X(Et),X(wt)}function $t(i){i.memoizedState!==null&&ut(Lt,i);var r=ft.current,a=pE(r,i.type);r!==a&&(ut(Et,i),ut(ft,a))}function yn(i){Et.current===i&&(X(ft),X(Et)),Lt.current===i&&(X(Lt),cu._currentValue=dt)}var zs,qs;function Hn(i){if(zs===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);zs=r&&r[1]||"",qs=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+zs+i+qs}var Xr=!1;function Ri(i,r){if(!i||Xr)return"";Xr=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var tt=function(){throw Error()};if(Object.defineProperty(tt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(tt,[])}catch(K){var F=K}Reflect.construct(i,[],tt)}else{try{tt.call()}catch(K){F=K}i.call(tt.prototype)}}else{try{throw Error()}catch(K){F=K}(tt=i())&&typeof tt.catch=="function"&&tt.catch(function(){})}}catch(K){if(K&&F&&typeof K.stack=="string")return[K.stack,F.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=l.DetermineComponentFrameRoot(),v=m[0],S=m[1];if(v&&S){var N=v.split(`
`),q=S.split(`
`);for(f=l=0;l<N.length&&!N[l].includes("DetermineComponentFrameRoot");)l++;for(;f<q.length&&!q[f].includes("DetermineComponentFrameRoot");)f++;if(l===N.length||f===q.length)for(l=N.length-1,f=q.length-1;1<=l&&0<=f&&N[l]!==q[f];)f--;for(;1<=l&&0<=f;l--,f--)if(N[l]!==q[f]){if(l!==1||f!==1)do if(l--,f--,0>f||N[l]!==q[f]){var W=`
`+N[l].replace(" at new "," at ");return i.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",i.displayName)),W}while(1<=l&&0<=f);break}}}finally{Xr=!1,Error.prepareStackTrace=a}return(a=i?i.displayName||i.name:"")?Hn(a):""}function us(i,r){switch(i.tag){case 26:case 27:case 5:return Hn(i.type);case 16:return Hn("Lazy");case 13:return i.child!==r&&r!==null?Hn("Suspense Fallback"):Hn("Suspense");case 19:return Hn("SuspenseList");case 0:case 15:return Ri(i.type,!1);case 11:return Ri(i.type.render,!1);case 1:return Ri(i.type,!0);case 31:return Hn("Activity");default:return""}}function $r(i){try{var r="",a=null;do r+=us(i,a),a=i,i=i.return;while(i);return r}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var ve=Object.prototype.hasOwnProperty,Re=e.unstable_scheduleCallback,Ci=e.unstable_cancelCallback,ml=e.unstable_shouldYield,Fs=e.unstable_requestPaint,Ze=e.unstable_now,cs=e.unstable_getCurrentPriorityLevel,Wr=e.unstable_ImmediatePriority,Q=e.unstable_UserBlockingPriority,ct=e.unstable_NormalPriority,Rt=e.unstable_LowPriority,Zt=e.unstable_IdlePriority,Je=e.log,pc=e.unstable_setDisableYieldValue,li=null,tn=null;function Gn(i){if(typeof Je=="function"&&pc(i),tn&&typeof tn.setStrictMode=="function")try{tn.setStrictMode(li,i)}catch{}}var Ce=Math.clz32?Math.clz32:yc,gc=Math.log,Ka=Math.LN2;function yc(i){return i>>>=0,i===0?32:31-(gc(i)/Ka|0)|0}var Ii=256,Zr=262144,Ve=4194304;function Di(i){var r=i&42;if(r!==0)return r;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Ni(i,r,a){var l=i.pendingLanes;if(l===0)return 0;var f=0,m=i.suspendedLanes,v=i.pingedLanes;i=i.warmLanes;var S=l&134217727;return S!==0?(l=S&~m,l!==0?f=Di(l):(v&=S,v!==0?f=Di(v):a||(a=S&~i,a!==0&&(f=Di(a))))):(S=l&~m,S!==0?f=Di(S):v!==0?f=Di(v):a||(a=l&~i,a!==0&&(f=Di(a)))),f===0?0:r!==0&&r!==f&&(r&m)===0&&(m=f&-f,a=r&-r,m>=a||m===32&&(a&4194048)!==0)?r:f}function ui(i,r){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&r)===0}function gd(i,r){switch(i){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _c(){var i=Ve;return Ve<<=1,(Ve&62914560)===0&&(Ve=4194304),i}function xi(i){for(var r=[],a=0;31>a;a++)r.push(i);return r}function Jr(i,r){i.pendingLanes|=r,r!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function yd(i,r,a,l,f,m){var v=i.pendingLanes;i.pendingLanes=a,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=a,i.entangledLanes&=a,i.errorRecoveryDisabledLanes&=a,i.shellSuspendCounter=0;var S=i.entanglements,N=i.expirationTimes,q=i.hiddenUpdates;for(a=v&~a;0<a;){var W=31-Ce(a),tt=1<<W;S[W]=0,N[W]=-1;var F=q[W];if(F!==null)for(q[W]=null,W=0;W<F.length;W++){var K=F[W];K!==null&&(K.lane&=-536870913)}a&=~tt}l!==0&&ta(i,l,0),m!==0&&f===0&&i.tag!==0&&(i.suspendedLanes|=m&~(v&~r))}function ta(i,r,a){i.pendingLanes|=r,i.suspendedLanes&=~r;var l=31-Ce(r);i.entangledLanes|=r,i.entanglements[l]=i.entanglements[l]|1073741824|a&261930}function pl(i,r){var a=i.entangledLanes|=r;for(i=i.entanglements;a;){var l=31-Ce(a),f=1<<l;f&r|i[l]&r&&(i[l]|=r),a&=~f}}function gl(i,r){var a=r&-r;return a=(a&42)!==0?1:ea(a),(a&(i.suspendedLanes|r))!==0?0:a}function ea(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function hs(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function vc(){var i=st.p;return i!==0?i:(i=window.event,i===void 0?32:UE(i.type))}function ci(i,r){var a=st.p;try{return st.p=i,r()}finally{st.p=a}}var hi=Math.random().toString(36).slice(2),Oe="__reactFiber$"+hi,Qe="__reactProps$"+hi,Vi="__reactContainer$"+hi,Ya="__reactEvents$"+hi,_d="__reactListeners$"+hi,Tc="__reactHandles$"+hi,Ec="__reactResources$"+hi,Oi="__reactMarker$"+hi;function Qa(i){delete i[Oe],delete i[Qe],delete i[Ya],delete i[_d],delete i[Tc]}function Mi(i){var r=i[Oe];if(r)return r;for(var a=i.parentNode;a;){if(r=a[Vi]||a[Oe]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(i=AE(i);i!==null;){if(a=i[Oe])return a;i=AE(i)}return r}i=a,a=i.parentNode}return null}function Kn(i){if(i=i[Oe]||i[Vi]){var r=i.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return i}return null}function Vn(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i.stateNode;throw Error(s(33))}function Pi(i){var r=i[Ec];return r||(r=i[Ec]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Me(i){i[Oi]=!0}var yl=new Set,_l={};function ki(i,r){Li(i,r),Li(i+"Capture",r)}function Li(i,r){for(_l[i]=r,i=0;i<r.length;i++)yl.add(r[i])}var vl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Tl={},El={};function Ac(i){return ve.call(El,i)?!0:ve.call(Tl,i)?!1:vl.test(i)?El[i]=!0:(Tl[i]=!0,!1)}function Xa(i,r,a){if(Ac(r))if(a===null)i.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":i.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){i.removeAttribute(r);return}}i.setAttribute(r,""+a)}}function On(i,r,a){if(a===null)i.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttribute(r,""+a)}}function Pe(i,r,a,l){if(l===null)i.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(a);return}i.setAttributeNS(r,a,""+l)}}function Xe(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Hs(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Al(i,r,a){var l=Object.getOwnPropertyDescriptor(i.constructor.prototype,r);if(!i.hasOwnProperty(r)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,m=l.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return f.call(this)},set:function(v){a=""+v,m.call(this,v)}}),Object.defineProperty(i,r,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(v){a=""+v},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function Jt(i){if(!i._valueTracker){var r=Hs(i)?"checked":"value";i._valueTracker=Al(i,r,""+i[r])}}function na(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return i&&(l=Hs(i)?i.checked?"true":"false":i.value),i=l,i!==a?(r.setValue(i),!0):!1}function Ui(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var ia=/[\n"\\]/g;function An(i){return i.replace(ia,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function $a(i,r,a,l,f,m,v,S){i.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?i.type=v:i.removeAttribute("type"),r!=null?v==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+Xe(r)):i.value!==""+Xe(r)&&(i.value=""+Xe(r)):v!=="submit"&&v!=="reset"||i.removeAttribute("value"),r!=null?Sl(i,v,Xe(r)):a!=null?Sl(i,v,Xe(a)):l!=null&&i.removeAttribute("value"),f==null&&m!=null&&(i.defaultChecked=!!m),f!=null&&(i.checked=f&&typeof f!="function"&&typeof f!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?i.name=""+Xe(S):i.removeAttribute("name")}function Sc(i,r,a,l,f,m,v,S){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(i.type=m),r!=null||a!=null){if(!(m!=="submit"&&m!=="reset"||r!=null)){Jt(i);return}a=a!=null?""+Xe(a):"",r=r!=null?""+Xe(r):a,S||r===i.value||(i.value=r),i.defaultValue=r}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,i.checked=S?i.checked:!!l,i.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(i.name=v),Jt(i)}function Sl(i,r,a){r==="number"&&Ui(i.ownerDocument)===i||i.defaultValue===""+a||(i.defaultValue=""+a)}function Gs(i,r,a,l){if(i=i.options,r){r={};for(var f=0;f<a.length;f++)r["$"+a[f]]=!0;for(a=0;a<i.length;a++)f=r.hasOwnProperty("$"+i[a].value),i[a].selected!==f&&(i[a].selected=f),f&&l&&(i[a].defaultSelected=!0)}else{for(a=""+Xe(a),r=null,f=0;f<i.length;f++){if(i[f].value===a){i[f].selected=!0,l&&(i[f].defaultSelected=!0);return}r!==null||i[f].disabled||(r=i[f])}r!==null&&(r.selected=!0)}}function bc(i,r,a){if(r!=null&&(r=""+Xe(r),r!==i.value&&(i.value=r),a==null)){i.defaultValue!==r&&(i.defaultValue=r);return}i.defaultValue=a!=null?""+Xe(a):""}function Ks(i,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(le(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=Xe(r),i.defaultValue=a,l=i.textContent,l===a&&l!==""&&l!==null&&(i.value=l),Jt(i)}function Sn(i,r){if(r){var a=i.firstChild;if(a&&a===i.lastChild&&a.nodeType===3){a.nodeValue=r;return}}i.textContent=r}var wc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function bl(i,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?i.setProperty(r,""):r==="float"?i.cssFloat="":i[r]="":l?i.setProperty(r,a):typeof a!="number"||a===0||wc.has(r)?r==="float"?i.cssFloat=a:i[r]=(""+a).trim():i[r]=a+"px"}function wl(i,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(i=i.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?i.setProperty(l,""):l==="float"?i.cssFloat="":i[l]="");for(var f in r)l=r[f],r.hasOwnProperty(f)&&a[f]!==l&&bl(i,f,l)}else for(var m in r)r.hasOwnProperty(m)&&bl(i,m,r[m])}function Wa(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Rc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ys=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Za(i){return Ys.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function fi(){}var Rl=null;function Yn(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Qs=null,ji=null;function sa(i){var r=Kn(i);if(r&&(i=r.stateNode)){var a=i[Qe]||null;t:switch(i=r.stateNode,r.type){case"input":if($a(i,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=i;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+An(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==i&&l.form===i.form){var f=l[Qe]||null;if(!f)throw Error(s(90));$a(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===i.form&&na(l)}break t;case"textarea":bc(i,a.value,a.defaultValue);break t;case"select":r=a.value,r!=null&&Gs(i,!!a.multiple,r,!1)}}}var Ja=!1;function Xs(i,r,a){if(Ja)return i(r,a);Ja=!0;try{var l=i(r);return l}finally{if(Ja=!1,(Qs!==null||ji!==null)&&(vh(),Qs&&(r=Qs,i=ji,ji=Qs=null,sa(r),i)))for(r=0;r<i.length;r++)sa(i[r])}}function di(i,r){var a=i.stateNode;if(a===null)return null;var l=a[Qe]||null;if(l===null)return null;a=l[r];t:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(i=i.type,l=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!l;break t;default:i=!1}if(i)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var Qn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ra=!1;if(Qn)try{var ne={};Object.defineProperty(ne,"passive",{get:function(){ra=!0}}),window.addEventListener("test",ne,ne),window.removeEventListener("test",ne,ne)}catch{ra=!1}var Bi=null,Cl=null,aa=null;function Il(){if(aa)return aa;var i,r=Cl,a=r.length,l,f="value"in Bi?Bi.value:Bi.textContent,m=f.length;for(i=0;i<a&&r[i]===f[i];i++);var v=a-i;for(l=1;l<=v&&r[a-l]===f[m-l];l++);return aa=f.slice(i,1<l?1-l:void 0)}function oa(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function fs(){return!0}function mi(){return!1}function en(i){function r(a,l,f,m,v){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=m,this.target=v,this.currentTarget=null;for(var S in i)i.hasOwnProperty(S)&&(a=i[S],this[S]=a?a(m):m[S]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?fs:mi,this.isPropagationStopped=mi,this}return E(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=fs)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=fs)},persist:function(){},isPersistent:fs}),r}var ds={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zi=en(ds),$s=E({},ds,{view:0,detail:0}),Dl=en($s),Ws,to,qi,eo=E({},$s,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zs,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==qi&&(qi&&i.type==="mousemove"?(Ws=i.screenX-qi.screenX,to=i.screenY-qi.screenY):to=Ws=0,qi=i),Ws)},movementY:function(i){return"movementY"in i?i.movementY:to}}),Nl=en(eo),la=E({},eo,{dataTransfer:0}),Cc=en(la),Ic=E({},$s,{relatedTarget:0}),ua=en(Ic),xl=E({},ds,{animationName:0,elapsedTime:0,pseudoElement:0}),Dc=en(xl),no=E({},ds,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Nc=en(no),xc=E({},ds,{data:0}),Fi=en(xc),Vc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Oc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Mc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pc(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=Mc[i])?!!r[i]:!1}function Zs(){return Pc}var _n=E({},$s,{key:function(i){if(i.key){var r=Vc[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=oa(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Oc[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zs,charCode:function(i){return i.type==="keypress"?oa(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?oa(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),kc=en(_n),Lc=E({},eo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ms=en(Lc),h=E({},$s,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zs}),y=en(h),T=E({},ds,{propertyName:0,elapsedTime:0,pseudoElement:0}),b=en(T),j=E({},eo,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),G=en(j),lt=E({},ds,{newState:0,oldState:0}),xt=en(lt),Ie=[9,13,27,32],Yt=Qn&&"CompositionEvent"in window,me=null;Qn&&"documentMode"in document&&(me=document.documentMode);var Xn=Qn&&"TextEvent"in window&&!me,Hi=Qn&&(!Yt||me&&8<me&&11>=me),pi=" ",gi=!1;function ca(i,r){switch(i){case"keyup":return Ie.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function io(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var so=!1;function dC(i,r){switch(i){case"compositionend":return io(r);case"keypress":return r.which!==32?null:(gi=!0,pi);case"textInput":return i=r.data,i===pi&&gi?null:i;default:return null}}function mC(i,r){if(so)return i==="compositionend"||!Yt&&ca(i,r)?(i=Il(),aa=Cl=Bi=null,so=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Hi&&r.locale!=="ko"?null:r.data;default:return null}}var pC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function w_(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!pC[i.type]:r==="textarea"}function R_(i,r,a,l){Qs?ji?ji.push(l):ji=[l]:Qs=l,r=Rh(r,"onChange"),0<r.length&&(a=new zi("onChange","change",null,a,l),i.push({event:a,listeners:r}))}var Vl=null,Ol=null;function gC(i){lE(i,0)}function Uc(i){var r=Vn(i);if(na(r))return i}function C_(i,r){if(i==="change")return r}var I_=!1;if(Qn){var vd;if(Qn){var Td="oninput"in document;if(!Td){var D_=document.createElement("div");D_.setAttribute("oninput","return;"),Td=typeof D_.oninput=="function"}vd=Td}else vd=!1;I_=vd&&(!document.documentMode||9<document.documentMode)}function N_(){Vl&&(Vl.detachEvent("onpropertychange",x_),Ol=Vl=null)}function x_(i){if(i.propertyName==="value"&&Uc(Ol)){var r=[];R_(r,Ol,i,Yn(i)),Xs(gC,r)}}function yC(i,r,a){i==="focusin"?(N_(),Vl=r,Ol=a,Vl.attachEvent("onpropertychange",x_)):i==="focusout"&&N_()}function _C(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Uc(Ol)}function vC(i,r){if(i==="click")return Uc(r)}function TC(i,r){if(i==="input"||i==="change")return Uc(r)}function EC(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var Mn=typeof Object.is=="function"?Object.is:EC;function Ml(i,r){if(Mn(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var a=Object.keys(i),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!ve.call(r,f)||!Mn(i[f],r[f]))return!1}return!0}function V_(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function O_(i,r){var a=V_(i);i=0;for(var l;a;){if(a.nodeType===3){if(l=i+a.textContent.length,i<=r&&l>=r)return{node:a,offset:r-i};i=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=V_(a)}}function M_(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?M_(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function P_(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var r=Ui(i.document);r instanceof i.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)i=r.contentWindow;else break;r=Ui(i.document)}return r}function Ed(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}var AC=Qn&&"documentMode"in document&&11>=document.documentMode,ro=null,Ad=null,Pl=null,Sd=!1;function k_(i,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Sd||ro==null||ro!==Ui(l)||(l=ro,"selectionStart"in l&&Ed(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Pl&&Ml(Pl,l)||(Pl=l,l=Rh(Ad,"onSelect"),0<l.length&&(r=new zi("onSelect","select",null,r,a),i.push({event:r,listeners:l}),r.target=ro)))}function ha(i,r){var a={};return a[i.toLowerCase()]=r.toLowerCase(),a["Webkit"+i]="webkit"+r,a["Moz"+i]="moz"+r,a}var ao={animationend:ha("Animation","AnimationEnd"),animationiteration:ha("Animation","AnimationIteration"),animationstart:ha("Animation","AnimationStart"),transitionrun:ha("Transition","TransitionRun"),transitionstart:ha("Transition","TransitionStart"),transitioncancel:ha("Transition","TransitionCancel"),transitionend:ha("Transition","TransitionEnd")},bd={},L_={};Qn&&(L_=document.createElement("div").style,"AnimationEvent"in window||(delete ao.animationend.animation,delete ao.animationiteration.animation,delete ao.animationstart.animation),"TransitionEvent"in window||delete ao.transitionend.transition);function fa(i){if(bd[i])return bd[i];if(!ao[i])return i;var r=ao[i],a;for(a in r)if(r.hasOwnProperty(a)&&a in L_)return bd[i]=r[a];return i}var U_=fa("animationend"),j_=fa("animationiteration"),B_=fa("animationstart"),SC=fa("transitionrun"),bC=fa("transitionstart"),wC=fa("transitioncancel"),z_=fa("transitionend"),q_=new Map,wd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");wd.push("scrollEnd");function yi(i,r){q_.set(i,r),ki(r,[i])}var jc=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},$n=[],oo=0,Rd=0;function Bc(){for(var i=oo,r=Rd=oo=0;r<i;){var a=$n[r];$n[r++]=null;var l=$n[r];$n[r++]=null;var f=$n[r];$n[r++]=null;var m=$n[r];if($n[r++]=null,l!==null&&f!==null){var v=l.pending;v===null?f.next=f:(f.next=v.next,v.next=f),l.pending=f}m!==0&&F_(a,f,m)}}function zc(i,r,a,l){$n[oo++]=i,$n[oo++]=r,$n[oo++]=a,$n[oo++]=l,Rd|=l,i.lanes|=l,i=i.alternate,i!==null&&(i.lanes|=l)}function Cd(i,r,a,l){return zc(i,r,a,l),qc(i)}function da(i,r){return zc(i,null,null,r),qc(i)}function F_(i,r,a){i.lanes|=a;var l=i.alternate;l!==null&&(l.lanes|=a);for(var f=!1,m=i.return;m!==null;)m.childLanes|=a,l=m.alternate,l!==null&&(l.childLanes|=a),m.tag===22&&(i=m.stateNode,i===null||i._visibility&1||(f=!0)),i=m,m=m.return;return i.tag===3?(m=i.stateNode,f&&r!==null&&(f=31-Ce(a),i=m.hiddenUpdates,l=i[f],l===null?i[f]=[r]:l.push(r),r.lane=a|536870912),m):null}function qc(i){if(50<iu)throw iu=0,km=null,Error(s(185));for(var r=i.return;r!==null;)i=r,r=i.return;return i.tag===3?i.stateNode:null}var lo={};function RC(i,r,a,l){this.tag=i,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pn(i,r,a,l){return new RC(i,r,a,l)}function Id(i){return i=i.prototype,!(!i||!i.isReactComponent)}function ps(i,r){var a=i.alternate;return a===null?(a=Pn(i.tag,r,i.key,i.mode),a.elementType=i.elementType,a.type=i.type,a.stateNode=i.stateNode,a.alternate=i,i.alternate=a):(a.pendingProps=r,a.type=i.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=i.flags&65011712,a.childLanes=i.childLanes,a.lanes=i.lanes,a.child=i.child,a.memoizedProps=i.memoizedProps,a.memoizedState=i.memoizedState,a.updateQueue=i.updateQueue,r=i.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=i.sibling,a.index=i.index,a.ref=i.ref,a.refCleanup=i.refCleanup,a}function H_(i,r){i.flags&=65011714;var a=i.alternate;return a===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,r=a.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i}function Fc(i,r,a,l,f,m){var v=0;if(l=i,typeof i=="function")Id(i)&&(v=1);else if(typeof i=="string")v=xI(i,a,ft.current)?26:i==="html"||i==="head"||i==="body"?27:5;else t:switch(i){case I:return i=Pn(31,a,r,f),i.elementType=I,i.lanes=m,i;case H:return ma(a.children,f,m,r);case B:v=8,f|=24;break;case Z:return i=Pn(12,a,r,f|2),i.elementType=Z,i.lanes=m,i;case at:return i=Pn(13,a,r,f),i.elementType=at,i.lanes=m,i;case ht:return i=Pn(19,a,r,f),i.elementType=ht,i.lanes=m,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case $:v=10;break t;case nt:v=9;break t;case ot:v=11;break t;case C:v=14;break t;case w:v=16,l=null;break t}v=29,a=Error(s(130,i===null?"null":typeof i,"")),l=null}return r=Pn(v,a,r,f),r.elementType=i,r.type=l,r.lanes=m,r}function ma(i,r,a,l){return i=Pn(7,i,l,r),i.lanes=a,i}function Dd(i,r,a){return i=Pn(6,i,null,r),i.lanes=a,i}function G_(i){var r=Pn(18,null,null,0);return r.stateNode=i,r}function Nd(i,r,a){return r=Pn(4,i.children!==null?i.children:[],i.key,r),r.lanes=a,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}var K_=new WeakMap;function Wn(i,r){if(typeof i=="object"&&i!==null){var a=K_.get(i);return a!==void 0?a:(r={value:i,source:r,stack:$r(r)},K_.set(i,r),r)}return{value:i,source:r,stack:$r(r)}}var uo=[],co=0,Hc=null,kl=0,Zn=[],Jn=0,Js=null,Gi=1,Ki="";function gs(i,r){uo[co++]=kl,uo[co++]=Hc,Hc=i,kl=r}function Y_(i,r,a){Zn[Jn++]=Gi,Zn[Jn++]=Ki,Zn[Jn++]=Js,Js=i;var l=Gi;i=Ki;var f=32-Ce(l)-1;l&=~(1<<f),a+=1;var m=32-Ce(r)+f;if(30<m){var v=f-f%5;m=(l&(1<<v)-1).toString(32),l>>=v,f-=v,Gi=1<<32-Ce(r)+f|a<<f|l,Ki=m+i}else Gi=1<<m|a<<f|l,Ki=i}function xd(i){i.return!==null&&(gs(i,1),Y_(i,1,0))}function Vd(i){for(;i===Hc;)Hc=uo[--co],uo[co]=null,kl=uo[--co],uo[co]=null;for(;i===Js;)Js=Zn[--Jn],Zn[Jn]=null,Ki=Zn[--Jn],Zn[Jn]=null,Gi=Zn[--Jn],Zn[Jn]=null}function Q_(i,r){Zn[Jn++]=Gi,Zn[Jn++]=Ki,Zn[Jn++]=Js,Gi=r.id,Ki=r.overflow,Js=i}var nn=null,he=null,Ft=!1,tr=null,ti=!1,Od=Error(s(519));function er(i){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ll(Wn(r,i)),Od}function X_(i){var r=i.stateNode,a=i.type,l=i.memoizedProps;switch(r[Oe]=i,r[Qe]=l,a){case"dialog":kt("cancel",r),kt("close",r);break;case"iframe":case"object":case"embed":kt("load",r);break;case"video":case"audio":for(a=0;a<ru.length;a++)kt(ru[a],r);break;case"source":kt("error",r);break;case"img":case"image":case"link":kt("error",r),kt("load",r);break;case"details":kt("toggle",r);break;case"input":kt("invalid",r),Sc(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":kt("invalid",r);break;case"textarea":kt("invalid",r),Ks(r,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||fE(r.textContent,a)?(l.popover!=null&&(kt("beforetoggle",r),kt("toggle",r)),l.onScroll!=null&&kt("scroll",r),l.onScrollEnd!=null&&kt("scrollend",r),l.onClick!=null&&(r.onclick=fi),r=!0):r=!1,r||er(i,!0)}function $_(i){for(nn=i.return;nn;)switch(nn.tag){case 5:case 31:case 13:ti=!1;return;case 27:case 3:ti=!0;return;default:nn=nn.return}}function ho(i){if(i!==nn)return!1;if(!Ft)return $_(i),Ft=!0,!1;var r=i.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=i.type,a=!(a!=="form"&&a!=="button")||Wm(i.type,i.memoizedProps)),a=!a),a&&he&&er(i),$_(i),r===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));he=EE(i)}else if(r===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));he=EE(i)}else r===27?(r=he,pr(i.type)?(i=np,np=null,he=i):he=r):he=nn?ni(i.stateNode.nextSibling):null;return!0}function pa(){he=nn=null,Ft=!1}function Md(){var i=tr;return i!==null&&(Cn===null?Cn=i:Cn.push.apply(Cn,i),tr=null),i}function Ll(i){tr===null?tr=[i]:tr.push(i)}var Pd=M(null),ga=null,ys=null;function nr(i,r,a){ut(Pd,r._currentValue),r._currentValue=a}function _s(i){i._currentValue=Pd.current,X(Pd)}function kd(i,r,a){for(;i!==null;){var l=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),i===a)break;i=i.return}}function Ld(i,r,a,l){var f=i.child;for(f!==null&&(f.return=i);f!==null;){var m=f.dependencies;if(m!==null){var v=f.child;m=m.firstContext;t:for(;m!==null;){var S=m;m=f;for(var N=0;N<r.length;N++)if(S.context===r[N]){m.lanes|=a,S=m.alternate,S!==null&&(S.lanes|=a),kd(m.return,a,i),l||(v=null);break t}m=S.next}}else if(f.tag===18){if(v=f.return,v===null)throw Error(s(341));v.lanes|=a,m=v.alternate,m!==null&&(m.lanes|=a),kd(v,a,i),v=null}else v=f.child;if(v!==null)v.return=f;else for(v=f;v!==null;){if(v===i){v=null;break}if(f=v.sibling,f!==null){f.return=v.return,v=f;break}v=v.return}f=v}}function fo(i,r,a,l){i=null;for(var f=r,m=!1;f!==null;){if(!m){if((f.flags&524288)!==0)m=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var v=f.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var S=f.type;Mn(f.pendingProps.value,v.value)||(i!==null?i.push(S):i=[S])}}else if(f===Lt.current){if(v=f.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(i!==null?i.push(cu):i=[cu])}f=f.return}i!==null&&Ld(r,i,a,l),r.flags|=262144}function Gc(i){for(i=i.firstContext;i!==null;){if(!Mn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function ya(i){ga=i,ys=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function sn(i){return W_(ga,i)}function Kc(i,r){return ga===null&&ya(i),W_(i,r)}function W_(i,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},ys===null){if(i===null)throw Error(s(308));ys=r,i.dependencies={lanes:0,firstContext:r},i.flags|=524288}else ys=ys.next=r;return a}var CC=typeof AbortController<"u"?AbortController:function(){var i=[],r=this.signal={aborted:!1,addEventListener:function(a,l){i.push(l)}};this.abort=function(){r.aborted=!0,i.forEach(function(a){return a()})}},IC=e.unstable_scheduleCallback,DC=e.unstable_NormalPriority,ke={$$typeof:$,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ud(){return{controller:new CC,data:new Map,refCount:0}}function Ul(i){i.refCount--,i.refCount===0&&IC(DC,function(){i.controller.abort()})}var jl=null,jd=0,mo=0,po=null;function NC(i,r){if(jl===null){var a=jl=[];jd=0,mo=qm(),po={status:"pending",value:void 0,then:function(l){a.push(l)}}}return jd++,r.then(Z_,Z_),r}function Z_(){if(--jd===0&&jl!==null){po!==null&&(po.status="fulfilled");var i=jl;jl=null,mo=0,po=null;for(var r=0;r<i.length;r++)(0,i[r])()}}function xC(i,r){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return i.then(function(){l.status="fulfilled",l.value=r;for(var f=0;f<a.length;f++)(0,a[f])(r)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var J_=Y.S;Y.S=function(i,r){kT=Ze(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&NC(i,r),J_!==null&&J_(i,r)};var _a=M(null);function Bd(){var i=_a.current;return i!==null?i:oe.pooledCache}function Yc(i,r){r===null?ut(_a,_a.current):ut(_a,r.pool)}function tv(){var i=Bd();return i===null?null:{parent:ke._currentValue,pool:i}}var go=Error(s(460)),zd=Error(s(474)),Qc=Error(s(542)),Xc={then:function(){}};function ev(i){return i=i.status,i==="fulfilled"||i==="rejected"}function nv(i,r,a){switch(a=i[a],a===void 0?i.push(r):a!==r&&(r.then(fi,fi),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,sv(i),i;default:if(typeof r.status=="string")r.then(fi,fi);else{if(i=oe,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=r,i.status="pending",i.then(function(l){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=l}},function(l){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,sv(i),i}throw Ta=r,go}}function va(i){try{var r=i._init;return r(i._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Ta=a,go):a}}var Ta=null;function iv(){if(Ta===null)throw Error(s(459));var i=Ta;return Ta=null,i}function sv(i){if(i===go||i===Qc)throw Error(s(483))}var yo=null,Bl=0;function $c(i){var r=Bl;return Bl+=1,yo===null&&(yo=[]),nv(yo,i,r)}function zl(i,r){r=r.props.ref,i.ref=r!==void 0?r:null}function Wc(i,r){throw r.$$typeof===A?Error(s(525)):(i=Object.prototype.toString.call(r),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)))}function rv(i){function r(U,P){if(i){var z=U.deletions;z===null?(U.deletions=[P],U.flags|=16):z.push(P)}}function a(U,P){if(!i)return null;for(;P!==null;)r(U,P),P=P.sibling;return null}function l(U){for(var P=new Map;U!==null;)U.key!==null?P.set(U.key,U):P.set(U.index,U),U=U.sibling;return P}function f(U,P){return U=ps(U,P),U.index=0,U.sibling=null,U}function m(U,P,z){return U.index=z,i?(z=U.alternate,z!==null?(z=z.index,z<P?(U.flags|=67108866,P):z):(U.flags|=67108866,P)):(U.flags|=1048576,P)}function v(U){return i&&U.alternate===null&&(U.flags|=67108866),U}function S(U,P,z,J){return P===null||P.tag!==6?(P=Dd(z,U.mode,J),P.return=U,P):(P=f(P,z),P.return=U,P)}function N(U,P,z,J){var _t=z.type;return _t===H?W(U,P,z.props.children,J,z.key):P!==null&&(P.elementType===_t||typeof _t=="object"&&_t!==null&&_t.$$typeof===w&&va(_t)===P.type)?(P=f(P,z.props),zl(P,z),P.return=U,P):(P=Fc(z.type,z.key,z.props,null,U.mode,J),zl(P,z),P.return=U,P)}function q(U,P,z,J){return P===null||P.tag!==4||P.stateNode.containerInfo!==z.containerInfo||P.stateNode.implementation!==z.implementation?(P=Nd(z,U.mode,J),P.return=U,P):(P=f(P,z.children||[]),P.return=U,P)}function W(U,P,z,J,_t){return P===null||P.tag!==7?(P=ma(z,U.mode,J,_t),P.return=U,P):(P=f(P,z),P.return=U,P)}function tt(U,P,z){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return P=Dd(""+P,U.mode,z),P.return=U,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case R:return z=Fc(P.type,P.key,P.props,null,U.mode,z),zl(z,P),z.return=U,z;case k:return P=Nd(P,U.mode,z),P.return=U,P;case w:return P=va(P),tt(U,P,z)}if(le(P)||L(P))return P=ma(P,U.mode,z,null),P.return=U,P;if(typeof P.then=="function")return tt(U,$c(P),z);if(P.$$typeof===$)return tt(U,Kc(U,P),z);Wc(U,P)}return null}function F(U,P,z,J){var _t=P!==null?P.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return _t!==null?null:S(U,P,""+z,J);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case R:return z.key===_t?N(U,P,z,J):null;case k:return z.key===_t?q(U,P,z,J):null;case w:return z=va(z),F(U,P,z,J)}if(le(z)||L(z))return _t!==null?null:W(U,P,z,J,null);if(typeof z.then=="function")return F(U,P,$c(z),J);if(z.$$typeof===$)return F(U,P,Kc(U,z),J);Wc(U,z)}return null}function K(U,P,z,J,_t){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return U=U.get(z)||null,S(P,U,""+J,_t);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case R:return U=U.get(J.key===null?z:J.key)||null,N(P,U,J,_t);case k:return U=U.get(J.key===null?z:J.key)||null,q(P,U,J,_t);case w:return J=va(J),K(U,P,z,J,_t)}if(le(J)||L(J))return U=U.get(z)||null,W(P,U,J,_t,null);if(typeof J.then=="function")return K(U,P,z,$c(J),_t);if(J.$$typeof===$)return K(U,P,z,Kc(P,J),_t);Wc(P,J)}return null}function gt(U,P,z,J){for(var _t=null,Gt=null,yt=P,Ot=P=0,jt=null;yt!==null&&Ot<z.length;Ot++){yt.index>Ot?(jt=yt,yt=null):jt=yt.sibling;var Kt=F(U,yt,z[Ot],J);if(Kt===null){yt===null&&(yt=jt);break}i&&yt&&Kt.alternate===null&&r(U,yt),P=m(Kt,P,Ot),Gt===null?_t=Kt:Gt.sibling=Kt,Gt=Kt,yt=jt}if(Ot===z.length)return a(U,yt),Ft&&gs(U,Ot),_t;if(yt===null){for(;Ot<z.length;Ot++)yt=tt(U,z[Ot],J),yt!==null&&(P=m(yt,P,Ot),Gt===null?_t=yt:Gt.sibling=yt,Gt=yt);return Ft&&gs(U,Ot),_t}for(yt=l(yt);Ot<z.length;Ot++)jt=K(yt,U,Ot,z[Ot],J),jt!==null&&(i&&jt.alternate!==null&&yt.delete(jt.key===null?Ot:jt.key),P=m(jt,P,Ot),Gt===null?_t=jt:Gt.sibling=jt,Gt=jt);return i&&yt.forEach(function(Tr){return r(U,Tr)}),Ft&&gs(U,Ot),_t}function Tt(U,P,z,J){if(z==null)throw Error(s(151));for(var _t=null,Gt=null,yt=P,Ot=P=0,jt=null,Kt=z.next();yt!==null&&!Kt.done;Ot++,Kt=z.next()){yt.index>Ot?(jt=yt,yt=null):jt=yt.sibling;var Tr=F(U,yt,Kt.value,J);if(Tr===null){yt===null&&(yt=jt);break}i&&yt&&Tr.alternate===null&&r(U,yt),P=m(Tr,P,Ot),Gt===null?_t=Tr:Gt.sibling=Tr,Gt=Tr,yt=jt}if(Kt.done)return a(U,yt),Ft&&gs(U,Ot),_t;if(yt===null){for(;!Kt.done;Ot++,Kt=z.next())Kt=tt(U,Kt.value,J),Kt!==null&&(P=m(Kt,P,Ot),Gt===null?_t=Kt:Gt.sibling=Kt,Gt=Kt);return Ft&&gs(U,Ot),_t}for(yt=l(yt);!Kt.done;Ot++,Kt=z.next())Kt=K(yt,U,Ot,Kt.value,J),Kt!==null&&(i&&Kt.alternate!==null&&yt.delete(Kt.key===null?Ot:Kt.key),P=m(Kt,P,Ot),Gt===null?_t=Kt:Gt.sibling=Kt,Gt=Kt);return i&&yt.forEach(function(qI){return r(U,qI)}),Ft&&gs(U,Ot),_t}function re(U,P,z,J){if(typeof z=="object"&&z!==null&&z.type===H&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case R:t:{for(var _t=z.key;P!==null;){if(P.key===_t){if(_t=z.type,_t===H){if(P.tag===7){a(U,P.sibling),J=f(P,z.props.children),J.return=U,U=J;break t}}else if(P.elementType===_t||typeof _t=="object"&&_t!==null&&_t.$$typeof===w&&va(_t)===P.type){a(U,P.sibling),J=f(P,z.props),zl(J,z),J.return=U,U=J;break t}a(U,P);break}else r(U,P);P=P.sibling}z.type===H?(J=ma(z.props.children,U.mode,J,z.key),J.return=U,U=J):(J=Fc(z.type,z.key,z.props,null,U.mode,J),zl(J,z),J.return=U,U=J)}return v(U);case k:t:{for(_t=z.key;P!==null;){if(P.key===_t)if(P.tag===4&&P.stateNode.containerInfo===z.containerInfo&&P.stateNode.implementation===z.implementation){a(U,P.sibling),J=f(P,z.children||[]),J.return=U,U=J;break t}else{a(U,P);break}else r(U,P);P=P.sibling}J=Nd(z,U.mode,J),J.return=U,U=J}return v(U);case w:return z=va(z),re(U,P,z,J)}if(le(z))return gt(U,P,z,J);if(L(z)){if(_t=L(z),typeof _t!="function")throw Error(s(150));return z=_t.call(z),Tt(U,P,z,J)}if(typeof z.then=="function")return re(U,P,$c(z),J);if(z.$$typeof===$)return re(U,P,Kc(U,z),J);Wc(U,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,P!==null&&P.tag===6?(a(U,P.sibling),J=f(P,z),J.return=U,U=J):(a(U,P),J=Dd(z,U.mode,J),J.return=U,U=J),v(U)):a(U,P)}return function(U,P,z,J){try{Bl=0;var _t=re(U,P,z,J);return yo=null,_t}catch(yt){if(yt===go||yt===Qc)throw yt;var Gt=Pn(29,yt,null,U.mode);return Gt.lanes=J,Gt.return=U,Gt}}}var Ea=rv(!0),av=rv(!1),ir=!1;function qd(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Fd(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function sr(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function rr(i,r,a){var l=i.updateQueue;if(l===null)return null;if(l=l.shared,(Qt&2)!==0){var f=l.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),l.pending=r,r=qc(i),F_(i,null,a),r}return zc(i,l,r,a),qc(i)}function ql(i,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var l=r.lanes;l&=i.pendingLanes,a|=l,r.lanes=a,pl(i,a)}}function Hd(i,r){var a=i.updateQueue,l=i.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};m===null?f=m=v:m=m.next=v,a=a.next}while(a!==null);m===null?f=m=r:m=m.next=r}else f=m=r;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:l.shared,callbacks:l.callbacks},i.updateQueue=a;return}i=a.lastBaseUpdate,i===null?a.firstBaseUpdate=r:i.next=r,a.lastBaseUpdate=r}var Gd=!1;function Fl(){if(Gd){var i=po;if(i!==null)throw i}}function Hl(i,r,a,l){Gd=!1;var f=i.updateQueue;ir=!1;var m=f.firstBaseUpdate,v=f.lastBaseUpdate,S=f.shared.pending;if(S!==null){f.shared.pending=null;var N=S,q=N.next;N.next=null,v===null?m=q:v.next=q,v=N;var W=i.alternate;W!==null&&(W=W.updateQueue,S=W.lastBaseUpdate,S!==v&&(S===null?W.firstBaseUpdate=q:S.next=q,W.lastBaseUpdate=N))}if(m!==null){var tt=f.baseState;v=0,W=q=N=null,S=m;do{var F=S.lane&-536870913,K=F!==S.lane;if(K?(Ut&F)===F:(l&F)===F){F!==0&&F===mo&&(Gd=!0),W!==null&&(W=W.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});t:{var gt=i,Tt=S;F=r;var re=a;switch(Tt.tag){case 1:if(gt=Tt.payload,typeof gt=="function"){tt=gt.call(re,tt,F);break t}tt=gt;break t;case 3:gt.flags=gt.flags&-65537|128;case 0:if(gt=Tt.payload,F=typeof gt=="function"?gt.call(re,tt,F):gt,F==null)break t;tt=E({},tt,F);break t;case 2:ir=!0}}F=S.callback,F!==null&&(i.flags|=64,K&&(i.flags|=8192),K=f.callbacks,K===null?f.callbacks=[F]:K.push(F))}else K={lane:F,tag:S.tag,payload:S.payload,callback:S.callback,next:null},W===null?(q=W=K,N=tt):W=W.next=K,v|=F;if(S=S.next,S===null){if(S=f.shared.pending,S===null)break;K=S,S=K.next,K.next=null,f.lastBaseUpdate=K,f.shared.pending=null}}while(!0);W===null&&(N=tt),f.baseState=N,f.firstBaseUpdate=q,f.lastBaseUpdate=W,m===null&&(f.shared.lanes=0),cr|=v,i.lanes=v,i.memoizedState=tt}}function ov(i,r){if(typeof i!="function")throw Error(s(191,i));i.call(r)}function lv(i,r){var a=i.callbacks;if(a!==null)for(i.callbacks=null,i=0;i<a.length;i++)ov(a[i],r)}var _o=M(null),Zc=M(0);function uv(i,r){i=Cs,ut(Zc,i),ut(_o,r),Cs=i|r.baseLanes}function Kd(){ut(Zc,Cs),ut(_o,_o.current)}function Yd(){Cs=Zc.current,X(_o),X(Zc)}var kn=M(null),ei=null;function ar(i){var r=i.alternate;ut(De,De.current&1),ut(kn,i),ei===null&&(r===null||_o.current!==null||r.memoizedState!==null)&&(ei=i)}function Qd(i){ut(De,De.current),ut(kn,i),ei===null&&(ei=i)}function cv(i){i.tag===22?(ut(De,De.current),ut(kn,i),ei===null&&(ei=i)):or()}function or(){ut(De,De.current),ut(kn,kn.current)}function Ln(i){X(kn),ei===i&&(ei=null),X(De)}var De=M(0);function Jc(i){for(var r=i;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||tp(a)||ep(a)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var vs=0,Vt=null,ie=null,Le=null,th=!1,vo=!1,Aa=!1,eh=0,Gl=0,To=null,VC=0;function Te(){throw Error(s(321))}function Xd(i,r){if(r===null)return!1;for(var a=0;a<r.length&&a<i.length;a++)if(!Mn(i[a],r[a]))return!1;return!0}function $d(i,r,a,l,f,m){return vs=m,Vt=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Y.H=i===null||i.memoizedState===null?Yv:hm,Aa=!1,m=a(l,f),Aa=!1,vo&&(m=fv(r,a,l,f)),hv(i),m}function hv(i){Y.H=Ql;var r=ie!==null&&ie.next!==null;if(vs=0,Le=ie=Vt=null,th=!1,Gl=0,To=null,r)throw Error(s(300));i===null||Ue||(i=i.dependencies,i!==null&&Gc(i)&&(Ue=!0))}function fv(i,r,a,l){Vt=i;var f=0;do{if(vo&&(To=null),Gl=0,vo=!1,25<=f)throw Error(s(301));if(f+=1,Le=ie=null,i.updateQueue!=null){var m=i.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}Y.H=Qv,m=r(a,l)}while(vo);return m}function OC(){var i=Y.H,r=i.useState()[0];return r=typeof r.then=="function"?Kl(r):r,i=i.useState()[0],(ie!==null?ie.memoizedState:null)!==i&&(Vt.flags|=1024),r}function Wd(){var i=eh!==0;return eh=0,i}function Zd(i,r,a){r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~a}function Jd(i){if(th){for(i=i.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}th=!1}vs=0,Le=ie=Vt=null,vo=!1,Gl=eh=0,To=null}function vn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Le===null?Vt.memoizedState=Le=i:Le=Le.next=i,Le}function Ne(){if(ie===null){var i=Vt.alternate;i=i!==null?i.memoizedState:null}else i=ie.next;var r=Le===null?Vt.memoizedState:Le.next;if(r!==null)Le=r,ie=i;else{if(i===null)throw Vt.alternate===null?Error(s(467)):Error(s(310));ie=i,i={memoizedState:ie.memoizedState,baseState:ie.baseState,baseQueue:ie.baseQueue,queue:ie.queue,next:null},Le===null?Vt.memoizedState=Le=i:Le=Le.next=i}return Le}function nh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Kl(i){var r=Gl;return Gl+=1,To===null&&(To=[]),i=nv(To,i,r),r=Vt,(Le===null?r.memoizedState:Le.next)===null&&(r=r.alternate,Y.H=r===null||r.memoizedState===null?Yv:hm),i}function ih(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Kl(i);if(i.$$typeof===$)return sn(i)}throw Error(s(438,String(i)))}function tm(i){var r=null,a=Vt.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=Vt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=nh(),Vt.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(i),l=0;l<i;l++)a[l]=O;return r.index++,a}function Ts(i,r){return typeof r=="function"?r(i):r}function sh(i){var r=Ne();return em(r,ie,i)}function em(i,r,a){var l=i.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var f=i.baseQueue,m=l.pending;if(m!==null){if(f!==null){var v=f.next;f.next=m.next,m.next=v}r.baseQueue=f=m,l.pending=null}if(m=i.baseState,f===null)i.memoizedState=m;else{r=f.next;var S=v=null,N=null,q=r,W=!1;do{var tt=q.lane&-536870913;if(tt!==q.lane?(Ut&tt)===tt:(vs&tt)===tt){var F=q.revertLane;if(F===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),tt===mo&&(W=!0);else if((vs&F)===F){q=q.next,F===mo&&(W=!0);continue}else tt={lane:0,revertLane:q.revertLane,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},N===null?(S=N=tt,v=m):N=N.next=tt,Vt.lanes|=F,cr|=F;tt=q.action,Aa&&a(m,tt),m=q.hasEagerState?q.eagerState:a(m,tt)}else F={lane:tt,revertLane:q.revertLane,gesture:q.gesture,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},N===null?(S=N=F,v=m):N=N.next=F,Vt.lanes|=tt,cr|=tt;q=q.next}while(q!==null&&q!==r);if(N===null?v=m:N.next=S,!Mn(m,i.memoizedState)&&(Ue=!0,W&&(a=po,a!==null)))throw a;i.memoizedState=m,i.baseState=v,i.baseQueue=N,l.lastRenderedState=m}return f===null&&(l.lanes=0),[i.memoizedState,l.dispatch]}function nm(i){var r=Ne(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=i;var l=a.dispatch,f=a.pending,m=r.memoizedState;if(f!==null){a.pending=null;var v=f=f.next;do m=i(m,v.action),v=v.next;while(v!==f);Mn(m,r.memoizedState)||(Ue=!0),r.memoizedState=m,r.baseQueue===null&&(r.baseState=m),a.lastRenderedState=m}return[m,l]}function dv(i,r,a){var l=Vt,f=Ne(),m=Ft;if(m){if(a===void 0)throw Error(s(407));a=a()}else a=r();var v=!Mn((ie||f).memoizedState,a);if(v&&(f.memoizedState=a,Ue=!0),f=f.queue,rm(gv.bind(null,l,f,i),[i]),f.getSnapshot!==r||v||Le!==null&&Le.memoizedState.tag&1){if(l.flags|=2048,Eo(9,{destroy:void 0},pv.bind(null,l,f,a,r),null),oe===null)throw Error(s(349));m||(vs&127)!==0||mv(l,r,a)}return a}function mv(i,r,a){i.flags|=16384,i={getSnapshot:r,value:a},r=Vt.updateQueue,r===null?(r=nh(),Vt.updateQueue=r,r.stores=[i]):(a=r.stores,a===null?r.stores=[i]:a.push(i))}function pv(i,r,a,l){r.value=a,r.getSnapshot=l,yv(r)&&_v(i)}function gv(i,r,a){return a(function(){yv(r)&&_v(i)})}function yv(i){var r=i.getSnapshot;i=i.value;try{var a=r();return!Mn(i,a)}catch{return!0}}function _v(i){var r=da(i,2);r!==null&&In(r,i,2)}function im(i){var r=vn();if(typeof i=="function"){var a=i;if(i=a(),Aa){Gn(!0);try{a()}finally{Gn(!1)}}}return r.memoizedState=r.baseState=i,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ts,lastRenderedState:i},r}function vv(i,r,a,l){return i.baseState=a,em(i,ie,typeof l=="function"?l:Ts)}function MC(i,r,a,l,f){if(oh(i))throw Error(s(485));if(i=r.action,i!==null){var m={payload:f,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){m.listeners.push(v)}};Y.T!==null?a(!0):m.isTransition=!1,l(m),a=r.pending,a===null?(m.next=r.pending=m,Tv(r,m)):(m.next=a.next,r.pending=a.next=m)}}function Tv(i,r){var a=r.action,l=r.payload,f=i.state;if(r.isTransition){var m=Y.T,v={};Y.T=v;try{var S=a(f,l),N=Y.S;N!==null&&N(v,S),Ev(i,r,S)}catch(q){sm(i,r,q)}finally{m!==null&&v.types!==null&&(m.types=v.types),Y.T=m}}else try{m=a(f,l),Ev(i,r,m)}catch(q){sm(i,r,q)}}function Ev(i,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Av(i,r,l)},function(l){return sm(i,r,l)}):Av(i,r,a)}function Av(i,r,a){r.status="fulfilled",r.value=a,Sv(r),i.state=a,r=i.pending,r!==null&&(a=r.next,a===r?i.pending=null:(a=a.next,r.next=a,Tv(i,a)))}function sm(i,r,a){var l=i.pending;if(i.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,Sv(r),r=r.next;while(r!==l)}i.action=null}function Sv(i){i=i.listeners;for(var r=0;r<i.length;r++)(0,i[r])()}function bv(i,r){return r}function wv(i,r){if(Ft){var a=oe.formState;if(a!==null){t:{var l=Vt;if(Ft){if(he){e:{for(var f=he,m=ti;f.nodeType!==8;){if(!m){f=null;break e}if(f=ni(f.nextSibling),f===null){f=null;break e}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){he=ni(f.nextSibling),l=f.data==="F!";break t}}er(l)}l=!1}l&&(r=a[0])}}return a=vn(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:bv,lastRenderedState:r},a.queue=l,a=Hv.bind(null,Vt,l),l.dispatch=a,l=im(!1),m=cm.bind(null,Vt,!1,l.queue),l=vn(),f={state:r,dispatch:null,action:i,pending:null},l.queue=f,a=MC.bind(null,Vt,f,m,a),f.dispatch=a,l.memoizedState=i,[r,a,!1]}function Rv(i){var r=Ne();return Cv(r,ie,i)}function Cv(i,r,a){if(r=em(i,r,bv)[0],i=sh(Ts)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=Kl(r)}catch(v){throw v===go?Qc:v}else l=r;r=Ne();var f=r.queue,m=f.dispatch;return a!==r.memoizedState&&(Vt.flags|=2048,Eo(9,{destroy:void 0},PC.bind(null,f,a),null)),[l,m,i]}function PC(i,r){i.action=r}function Iv(i){var r=Ne(),a=ie;if(a!==null)return Cv(r,a,i);Ne(),r=r.memoizedState,a=Ne();var l=a.queue.dispatch;return a.memoizedState=i,[r,l,!1]}function Eo(i,r,a,l){return i={tag:i,create:a,deps:l,inst:r,next:null},r=Vt.updateQueue,r===null&&(r=nh(),Vt.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=i.next=i:(l=a.next,a.next=i,i.next=l,r.lastEffect=i),i}function Dv(){return Ne().memoizedState}function rh(i,r,a,l){var f=vn();Vt.flags|=i,f.memoizedState=Eo(1|r,{destroy:void 0},a,l===void 0?null:l)}function ah(i,r,a,l){var f=Ne();l=l===void 0?null:l;var m=f.memoizedState.inst;ie!==null&&l!==null&&Xd(l,ie.memoizedState.deps)?f.memoizedState=Eo(r,m,a,l):(Vt.flags|=i,f.memoizedState=Eo(1|r,m,a,l))}function Nv(i,r){rh(8390656,8,i,r)}function rm(i,r){ah(2048,8,i,r)}function kC(i){Vt.flags|=4;var r=Vt.updateQueue;if(r===null)r=nh(),Vt.updateQueue=r,r.events=[i];else{var a=r.events;a===null?r.events=[i]:a.push(i)}}function xv(i){var r=Ne().memoizedState;return kC({ref:r,nextImpl:i}),function(){if((Qt&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function Vv(i,r){return ah(4,2,i,r)}function Ov(i,r){return ah(4,4,i,r)}function Mv(i,r){if(typeof r=="function"){i=i();var a=r(i);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function Pv(i,r,a){a=a!=null?a.concat([i]):null,ah(4,4,Mv.bind(null,r,i),a)}function am(){}function kv(i,r){var a=Ne();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&Xd(r,l[1])?l[0]:(a.memoizedState=[i,r],i)}function Lv(i,r){var a=Ne();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&Xd(r,l[1]))return l[0];if(l=i(),Aa){Gn(!0);try{i()}finally{Gn(!1)}}return a.memoizedState=[l,r],l}function om(i,r,a){return a===void 0||(vs&1073741824)!==0&&(Ut&261930)===0?i.memoizedState=r:(i.memoizedState=a,i=UT(),Vt.lanes|=i,cr|=i,a)}function Uv(i,r,a,l){return Mn(a,r)?a:_o.current!==null?(i=om(i,a,l),Mn(i,r)||(Ue=!0),i):(vs&42)===0||(vs&1073741824)!==0&&(Ut&261930)===0?(Ue=!0,i.memoizedState=a):(i=UT(),Vt.lanes|=i,cr|=i,r)}function jv(i,r,a,l,f){var m=st.p;st.p=m!==0&&8>m?m:8;var v=Y.T,S={};Y.T=S,cm(i,!1,r,a);try{var N=f(),q=Y.S;if(q!==null&&q(S,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var W=xC(N,l);Yl(i,r,W,Bn(i))}else Yl(i,r,l,Bn(i))}catch(tt){Yl(i,r,{then:function(){},status:"rejected",reason:tt},Bn())}finally{st.p=m,v!==null&&S.types!==null&&(v.types=S.types),Y.T=v}}function LC(){}function lm(i,r,a,l){if(i.tag!==5)throw Error(s(476));var f=Bv(i).queue;jv(i,f,r,dt,a===null?LC:function(){return zv(i),a(l)})}function Bv(i){var r=i.memoizedState;if(r!==null)return r;r={memoizedState:dt,baseState:dt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ts,lastRenderedState:dt},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ts,lastRenderedState:a},next:null},i.memoizedState=r,i=i.alternate,i!==null&&(i.memoizedState=r),r}function zv(i){var r=Bv(i);r.next===null&&(r=i.alternate.memoizedState),Yl(i,r.next.queue,{},Bn())}function um(){return sn(cu)}function qv(){return Ne().memoizedState}function Fv(){return Ne().memoizedState}function UC(i){for(var r=i.return;r!==null;){switch(r.tag){case 24:case 3:var a=Bn();i=sr(a);var l=rr(r,i,a);l!==null&&(In(l,r,a),ql(l,r,a)),r={cache:Ud()},i.payload=r;return}r=r.return}}function jC(i,r,a){var l=Bn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},oh(i)?Gv(r,a):(a=Cd(i,r,a,l),a!==null&&(In(a,i,l),Kv(a,r,l)))}function Hv(i,r,a){var l=Bn();Yl(i,r,a,l)}function Yl(i,r,a,l){var f={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(oh(i))Gv(r,f);else{var m=i.alternate;if(i.lanes===0&&(m===null||m.lanes===0)&&(m=r.lastRenderedReducer,m!==null))try{var v=r.lastRenderedState,S=m(v,a);if(f.hasEagerState=!0,f.eagerState=S,Mn(S,v))return zc(i,r,f,0),oe===null&&Bc(),!1}catch{}if(a=Cd(i,r,f,l),a!==null)return In(a,i,l),Kv(a,r,l),!0}return!1}function cm(i,r,a,l){if(l={lane:2,revertLane:qm(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},oh(i)){if(r)throw Error(s(479))}else r=Cd(i,a,l,2),r!==null&&In(r,i,2)}function oh(i){var r=i.alternate;return i===Vt||r!==null&&r===Vt}function Gv(i,r){vo=th=!0;var a=i.pending;a===null?r.next=r:(r.next=a.next,a.next=r),i.pending=r}function Kv(i,r,a){if((a&4194048)!==0){var l=r.lanes;l&=i.pendingLanes,a|=l,r.lanes=a,pl(i,a)}}var Ql={readContext:sn,use:ih,useCallback:Te,useContext:Te,useEffect:Te,useImperativeHandle:Te,useLayoutEffect:Te,useInsertionEffect:Te,useMemo:Te,useReducer:Te,useRef:Te,useState:Te,useDebugValue:Te,useDeferredValue:Te,useTransition:Te,useSyncExternalStore:Te,useId:Te,useHostTransitionStatus:Te,useFormState:Te,useActionState:Te,useOptimistic:Te,useMemoCache:Te,useCacheRefresh:Te};Ql.useEffectEvent=Te;var Yv={readContext:sn,use:ih,useCallback:function(i,r){return vn().memoizedState=[i,r===void 0?null:r],i},useContext:sn,useEffect:Nv,useImperativeHandle:function(i,r,a){a=a!=null?a.concat([i]):null,rh(4194308,4,Mv.bind(null,r,i),a)},useLayoutEffect:function(i,r){return rh(4194308,4,i,r)},useInsertionEffect:function(i,r){rh(4,2,i,r)},useMemo:function(i,r){var a=vn();r=r===void 0?null:r;var l=i();if(Aa){Gn(!0);try{i()}finally{Gn(!1)}}return a.memoizedState=[l,r],l},useReducer:function(i,r,a){var l=vn();if(a!==void 0){var f=a(r);if(Aa){Gn(!0);try{a(r)}finally{Gn(!1)}}}else f=r;return l.memoizedState=l.baseState=f,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:f},l.queue=i,i=i.dispatch=jC.bind(null,Vt,i),[l.memoizedState,i]},useRef:function(i){var r=vn();return i={current:i},r.memoizedState=i},useState:function(i){i=im(i);var r=i.queue,a=Hv.bind(null,Vt,r);return r.dispatch=a,[i.memoizedState,a]},useDebugValue:am,useDeferredValue:function(i,r){var a=vn();return om(a,i,r)},useTransition:function(){var i=im(!1);return i=jv.bind(null,Vt,i.queue,!0,!1),vn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,r,a){var l=Vt,f=vn();if(Ft){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),oe===null)throw Error(s(349));(Ut&127)!==0||mv(l,r,a)}f.memoizedState=a;var m={value:a,getSnapshot:r};return f.queue=m,Nv(gv.bind(null,l,m,i),[i]),l.flags|=2048,Eo(9,{destroy:void 0},pv.bind(null,l,m,a,r),null),a},useId:function(){var i=vn(),r=oe.identifierPrefix;if(Ft){var a=Ki,l=Gi;a=(l&~(1<<32-Ce(l)-1)).toString(32)+a,r="_"+r+"R_"+a,a=eh++,0<a&&(r+="H"+a.toString(32)),r+="_"}else a=VC++,r="_"+r+"r_"+a.toString(32)+"_";return i.memoizedState=r},useHostTransitionStatus:um,useFormState:wv,useActionState:wv,useOptimistic:function(i){var r=vn();r.memoizedState=r.baseState=i;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=cm.bind(null,Vt,!0,a),a.dispatch=r,[i,r]},useMemoCache:tm,useCacheRefresh:function(){return vn().memoizedState=UC.bind(null,Vt)},useEffectEvent:function(i){var r=vn(),a={impl:i};return r.memoizedState=a,function(){if((Qt&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},hm={readContext:sn,use:ih,useCallback:kv,useContext:sn,useEffect:rm,useImperativeHandle:Pv,useInsertionEffect:Vv,useLayoutEffect:Ov,useMemo:Lv,useReducer:sh,useRef:Dv,useState:function(){return sh(Ts)},useDebugValue:am,useDeferredValue:function(i,r){var a=Ne();return Uv(a,ie.memoizedState,i,r)},useTransition:function(){var i=sh(Ts)[0],r=Ne().memoizedState;return[typeof i=="boolean"?i:Kl(i),r]},useSyncExternalStore:dv,useId:qv,useHostTransitionStatus:um,useFormState:Rv,useActionState:Rv,useOptimistic:function(i,r){var a=Ne();return vv(a,ie,i,r)},useMemoCache:tm,useCacheRefresh:Fv};hm.useEffectEvent=xv;var Qv={readContext:sn,use:ih,useCallback:kv,useContext:sn,useEffect:rm,useImperativeHandle:Pv,useInsertionEffect:Vv,useLayoutEffect:Ov,useMemo:Lv,useReducer:nm,useRef:Dv,useState:function(){return nm(Ts)},useDebugValue:am,useDeferredValue:function(i,r){var a=Ne();return ie===null?om(a,i,r):Uv(a,ie.memoizedState,i,r)},useTransition:function(){var i=nm(Ts)[0],r=Ne().memoizedState;return[typeof i=="boolean"?i:Kl(i),r]},useSyncExternalStore:dv,useId:qv,useHostTransitionStatus:um,useFormState:Iv,useActionState:Iv,useOptimistic:function(i,r){var a=Ne();return ie!==null?vv(a,ie,i,r):(a.baseState=i,[i,a.queue.dispatch])},useMemoCache:tm,useCacheRefresh:Fv};Qv.useEffectEvent=xv;function fm(i,r,a,l){r=i.memoizedState,a=a(l,r),a=a==null?r:E({},r,a),i.memoizedState=a,i.lanes===0&&(i.updateQueue.baseState=a)}var dm={enqueueSetState:function(i,r,a){i=i._reactInternals;var l=Bn(),f=sr(l);f.payload=r,a!=null&&(f.callback=a),r=rr(i,f,l),r!==null&&(In(r,i,l),ql(r,i,l))},enqueueReplaceState:function(i,r,a){i=i._reactInternals;var l=Bn(),f=sr(l);f.tag=1,f.payload=r,a!=null&&(f.callback=a),r=rr(i,f,l),r!==null&&(In(r,i,l),ql(r,i,l))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var a=Bn(),l=sr(a);l.tag=2,r!=null&&(l.callback=r),r=rr(i,l,a),r!==null&&(In(r,i,a),ql(r,i,a))}};function Xv(i,r,a,l,f,m,v){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(l,m,v):r.prototype&&r.prototype.isPureReactComponent?!Ml(a,l)||!Ml(f,m):!0}function $v(i,r,a,l){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==i&&dm.enqueueReplaceState(r,r.state,null)}function Sa(i,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(i=i.defaultProps){a===r&&(a=E({},a));for(var f in i)a[f]===void 0&&(a[f]=i[f])}return a}function Wv(i){jc(i)}function Zv(i){console.error(i)}function Jv(i){jc(i)}function lh(i,r){try{var a=i.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function tT(i,r,a){try{var l=i.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function mm(i,r,a){return a=sr(a),a.tag=3,a.payload={element:null},a.callback=function(){lh(i,r)},a}function eT(i){return i=sr(i),i.tag=3,i}function nT(i,r,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var m=l.value;i.payload=function(){return f(m)},i.callback=function(){tT(r,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(i.callback=function(){tT(r,a,l),typeof f!="function"&&(hr===null?hr=new Set([this]):hr.add(this));var S=l.stack;this.componentDidCatch(l.value,{componentStack:S!==null?S:""})})}function BC(i,r,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&fo(r,a,f,!0),a=kn.current,a!==null){switch(a.tag){case 31:case 13:return ei===null?Th():a.alternate===null&&Ee===0&&(Ee=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===Xc?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),jm(i,l,f)),!1;case 22:return a.flags|=65536,l===Xc?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),jm(i,l,f)),!1}throw Error(s(435,a.tag))}return jm(i,l,f),Th(),!1}if(Ft)return r=kn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,l!==Od&&(i=Error(s(422),{cause:l}),Ll(Wn(i,a)))):(l!==Od&&(r=Error(s(423),{cause:l}),Ll(Wn(r,a))),i=i.current.alternate,i.flags|=65536,f&=-f,i.lanes|=f,l=Wn(l,a),f=mm(i.stateNode,l,f),Hd(i,f),Ee!==4&&(Ee=2)),!1;var m=Error(s(520),{cause:l});if(m=Wn(m,a),nu===null?nu=[m]:nu.push(m),Ee!==4&&(Ee=2),r===null)return!0;l=Wn(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,i=f&-f,a.lanes|=i,i=mm(a.stateNode,l,i),Hd(a,i),!1;case 1:if(r=a.type,m=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(hr===null||!hr.has(m))))return a.flags|=65536,f&=-f,a.lanes|=f,f=eT(f),nT(f,i,a,l),Hd(a,f),!1}a=a.return}while(a!==null);return!1}var pm=Error(s(461)),Ue=!1;function rn(i,r,a,l){r.child=i===null?av(r,null,a,l):Ea(r,i.child,a,l)}function iT(i,r,a,l,f){a=a.render;var m=r.ref;if("ref"in l){var v={};for(var S in l)S!=="ref"&&(v[S]=l[S])}else v=l;return ya(r),l=$d(i,r,a,v,m,f),S=Wd(),i!==null&&!Ue?(Zd(i,r,f),Es(i,r,f)):(Ft&&S&&xd(r),r.flags|=1,rn(i,r,l,f),r.child)}function sT(i,r,a,l,f){if(i===null){var m=a.type;return typeof m=="function"&&!Id(m)&&m.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=m,rT(i,r,m,l,f)):(i=Fc(a.type,null,l,r,r.mode,f),i.ref=r.ref,i.return=r,r.child=i)}if(m=i.child,!Sm(i,f)){var v=m.memoizedProps;if(a=a.compare,a=a!==null?a:Ml,a(v,l)&&i.ref===r.ref)return Es(i,r,f)}return r.flags|=1,i=ps(m,l),i.ref=r.ref,i.return=r,r.child=i}function rT(i,r,a,l,f){if(i!==null){var m=i.memoizedProps;if(Ml(m,l)&&i.ref===r.ref)if(Ue=!1,r.pendingProps=l=m,Sm(i,f))(i.flags&131072)!==0&&(Ue=!0);else return r.lanes=i.lanes,Es(i,r,f)}return gm(i,r,a,l,f)}function aT(i,r,a,l){var f=l.children,m=i!==null?i.memoizedState:null;if(i===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((r.flags&128)!==0){if(m=m!==null?m.baseLanes|a:a,i!==null){for(l=r.child=i.child,f=0;l!==null;)f=f|l.lanes|l.childLanes,l=l.sibling;l=f&~m}else l=0,r.child=null;return oT(i,r,m,a,l)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},i!==null&&Yc(r,m!==null?m.cachePool:null),m!==null?uv(r,m):Kd(),cv(r);else return l=r.lanes=536870912,oT(i,r,m!==null?m.baseLanes|a:a,a,l)}else m!==null?(Yc(r,m.cachePool),uv(r,m),or(),r.memoizedState=null):(i!==null&&Yc(r,null),Kd(),or());return rn(i,r,f,a),r.child}function Xl(i,r){return i!==null&&i.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function oT(i,r,a,l,f){var m=Bd();return m=m===null?null:{parent:ke._currentValue,pool:m},r.memoizedState={baseLanes:a,cachePool:m},i!==null&&Yc(r,null),Kd(),cv(r),i!==null&&fo(i,r,l,!0),r.childLanes=f,null}function uh(i,r){return r=hh({mode:r.mode,children:r.children},i.mode),r.ref=i.ref,i.child=r,r.return=i,r}function lT(i,r,a){return Ea(r,i.child,null,a),i=uh(r,r.pendingProps),i.flags|=2,Ln(r),r.memoizedState=null,i}function zC(i,r,a){var l=r.pendingProps,f=(r.flags&128)!==0;if(r.flags&=-129,i===null){if(Ft){if(l.mode==="hidden")return i=uh(r,l),r.lanes=536870912,Xl(null,i);if(Qd(r),(i=he)?(i=TE(i,ti),i=i!==null&&i.data==="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:Js!==null?{id:Gi,overflow:Ki}:null,retryLane:536870912,hydrationErrors:null},a=G_(i),a.return=r,r.child=a,nn=r,he=null)):i=null,i===null)throw er(r);return r.lanes=536870912,null}return uh(r,l)}var m=i.memoizedState;if(m!==null){var v=m.dehydrated;if(Qd(r),f)if(r.flags&256)r.flags&=-257,r=lT(i,r,a);else if(r.memoizedState!==null)r.child=i.child,r.flags|=128,r=null;else throw Error(s(558));else if(Ue||fo(i,r,a,!1),f=(a&i.childLanes)!==0,Ue||f){if(l=oe,l!==null&&(v=gl(l,a),v!==0&&v!==m.retryLane))throw m.retryLane=v,da(i,v),In(l,i,v),pm;Th(),r=lT(i,r,a)}else i=m.treeContext,he=ni(v.nextSibling),nn=r,Ft=!0,tr=null,ti=!1,i!==null&&Q_(r,i),r=uh(r,l),r.flags|=4096;return r}return i=ps(i.child,{mode:l.mode,children:l.children}),i.ref=r.ref,r.child=i,i.return=r,i}function ch(i,r){var a=r.ref;if(a===null)i!==null&&i.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(i===null||i.ref!==a)&&(r.flags|=4194816)}}function gm(i,r,a,l,f){return ya(r),a=$d(i,r,a,l,void 0,f),l=Wd(),i!==null&&!Ue?(Zd(i,r,f),Es(i,r,f)):(Ft&&l&&xd(r),r.flags|=1,rn(i,r,a,f),r.child)}function uT(i,r,a,l,f,m){return ya(r),r.updateQueue=null,a=fv(r,l,a,f),hv(i),l=Wd(),i!==null&&!Ue?(Zd(i,r,m),Es(i,r,m)):(Ft&&l&&xd(r),r.flags|=1,rn(i,r,a,m),r.child)}function cT(i,r,a,l,f){if(ya(r),r.stateNode===null){var m=lo,v=a.contextType;typeof v=="object"&&v!==null&&(m=sn(v)),m=new a(l,m),r.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=dm,r.stateNode=m,m._reactInternals=r,m=r.stateNode,m.props=l,m.state=r.memoizedState,m.refs={},qd(r),v=a.contextType,m.context=typeof v=="object"&&v!==null?sn(v):lo,m.state=r.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(fm(r,a,v,l),m.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(v=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),v!==m.state&&dm.enqueueReplaceState(m,m.state,null),Hl(r,l,m,f),Fl(),m.state=r.memoizedState),typeof m.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(i===null){m=r.stateNode;var S=r.memoizedProps,N=Sa(a,S);m.props=N;var q=m.context,W=a.contextType;v=lo,typeof W=="object"&&W!==null&&(v=sn(W));var tt=a.getDerivedStateFromProps;W=typeof tt=="function"||typeof m.getSnapshotBeforeUpdate=="function",S=r.pendingProps!==S,W||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(S||q!==v)&&$v(r,m,l,v),ir=!1;var F=r.memoizedState;m.state=F,Hl(r,l,m,f),Fl(),q=r.memoizedState,S||F!==q||ir?(typeof tt=="function"&&(fm(r,a,tt,l),q=r.memoizedState),(N=ir||Xv(r,a,N,l,F,q,v))?(W||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(r.flags|=4194308)):(typeof m.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=q),m.props=l,m.state=q,m.context=v,l=N):(typeof m.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{m=r.stateNode,Fd(i,r),v=r.memoizedProps,W=Sa(a,v),m.props=W,tt=r.pendingProps,F=m.context,q=a.contextType,N=lo,typeof q=="object"&&q!==null&&(N=sn(q)),S=a.getDerivedStateFromProps,(q=typeof S=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(v!==tt||F!==N)&&$v(r,m,l,N),ir=!1,F=r.memoizedState,m.state=F,Hl(r,l,m,f),Fl();var K=r.memoizedState;v!==tt||F!==K||ir||i!==null&&i.dependencies!==null&&Gc(i.dependencies)?(typeof S=="function"&&(fm(r,a,S,l),K=r.memoizedState),(W=ir||Xv(r,a,W,l,F,K,N)||i!==null&&i.dependencies!==null&&Gc(i.dependencies))?(q||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(l,K,N),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(l,K,N)),typeof m.componentDidUpdate=="function"&&(r.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof m.componentDidUpdate!="function"||v===i.memoizedProps&&F===i.memoizedState||(r.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||v===i.memoizedProps&&F===i.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=K),m.props=l,m.state=K,m.context=N,l=W):(typeof m.componentDidUpdate!="function"||v===i.memoizedProps&&F===i.memoizedState||(r.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||v===i.memoizedProps&&F===i.memoizedState||(r.flags|=1024),l=!1)}return m=l,ch(i,r),l=(r.flags&128)!==0,m||l?(m=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:m.render(),r.flags|=1,i!==null&&l?(r.child=Ea(r,i.child,null,f),r.child=Ea(r,null,a,f)):rn(i,r,a,f),r.memoizedState=m.state,i=r.child):i=Es(i,r,f),i}function hT(i,r,a,l){return pa(),r.flags|=256,rn(i,r,a,l),r.child}var ym={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function _m(i){return{baseLanes:i,cachePool:tv()}}function vm(i,r,a){return i=i!==null?i.childLanes&~a:0,r&&(i|=jn),i}function fT(i,r,a){var l=r.pendingProps,f=!1,m=(r.flags&128)!==0,v;if((v=m)||(v=i!==null&&i.memoizedState===null?!1:(De.current&2)!==0),v&&(f=!0,r.flags&=-129),v=(r.flags&32)!==0,r.flags&=-33,i===null){if(Ft){if(f?ar(r):or(),(i=he)?(i=TE(i,ti),i=i!==null&&i.data!=="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:Js!==null?{id:Gi,overflow:Ki}:null,retryLane:536870912,hydrationErrors:null},a=G_(i),a.return=r,r.child=a,nn=r,he=null)):i=null,i===null)throw er(r);return ep(i)?r.lanes=32:r.lanes=536870912,null}var S=l.children;return l=l.fallback,f?(or(),f=r.mode,S=hh({mode:"hidden",children:S},f),l=ma(l,f,a,null),S.return=r,l.return=r,S.sibling=l,r.child=S,l=r.child,l.memoizedState=_m(a),l.childLanes=vm(i,v,a),r.memoizedState=ym,Xl(null,l)):(ar(r),Tm(r,S))}var N=i.memoizedState;if(N!==null&&(S=N.dehydrated,S!==null)){if(m)r.flags&256?(ar(r),r.flags&=-257,r=Em(i,r,a)):r.memoizedState!==null?(or(),r.child=i.child,r.flags|=128,r=null):(or(),S=l.fallback,f=r.mode,l=hh({mode:"visible",children:l.children},f),S=ma(S,f,a,null),S.flags|=2,l.return=r,S.return=r,l.sibling=S,r.child=l,Ea(r,i.child,null,a),l=r.child,l.memoizedState=_m(a),l.childLanes=vm(i,v,a),r.memoizedState=ym,r=Xl(null,l));else if(ar(r),ep(S)){if(v=S.nextSibling&&S.nextSibling.dataset,v)var q=v.dgst;v=q,l=Error(s(419)),l.stack="",l.digest=v,Ll({value:l,source:null,stack:null}),r=Em(i,r,a)}else if(Ue||fo(i,r,a,!1),v=(a&i.childLanes)!==0,Ue||v){if(v=oe,v!==null&&(l=gl(v,a),l!==0&&l!==N.retryLane))throw N.retryLane=l,da(i,l),In(v,i,l),pm;tp(S)||Th(),r=Em(i,r,a)}else tp(S)?(r.flags|=192,r.child=i.child,r=null):(i=N.treeContext,he=ni(S.nextSibling),nn=r,Ft=!0,tr=null,ti=!1,i!==null&&Q_(r,i),r=Tm(r,l.children),r.flags|=4096);return r}return f?(or(),S=l.fallback,f=r.mode,N=i.child,q=N.sibling,l=ps(N,{mode:"hidden",children:l.children}),l.subtreeFlags=N.subtreeFlags&65011712,q!==null?S=ps(q,S):(S=ma(S,f,a,null),S.flags|=2),S.return=r,l.return=r,l.sibling=S,r.child=l,Xl(null,l),l=r.child,S=i.child.memoizedState,S===null?S=_m(a):(f=S.cachePool,f!==null?(N=ke._currentValue,f=f.parent!==N?{parent:N,pool:N}:f):f=tv(),S={baseLanes:S.baseLanes|a,cachePool:f}),l.memoizedState=S,l.childLanes=vm(i,v,a),r.memoizedState=ym,Xl(i.child,l)):(ar(r),a=i.child,i=a.sibling,a=ps(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,i!==null&&(v=r.deletions,v===null?(r.deletions=[i],r.flags|=16):v.push(i)),r.child=a,r.memoizedState=null,a)}function Tm(i,r){return r=hh({mode:"visible",children:r},i.mode),r.return=i,i.child=r}function hh(i,r){return i=Pn(22,i,null,r),i.lanes=0,i}function Em(i,r,a){return Ea(r,i.child,null,a),i=Tm(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function dT(i,r,a){i.lanes|=r;var l=i.alternate;l!==null&&(l.lanes|=r),kd(i.return,r,a)}function Am(i,r,a,l,f,m){var v=i.memoizedState;v===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f,treeForkCount:m}:(v.isBackwards=r,v.rendering=null,v.renderingStartTime=0,v.last=l,v.tail=a,v.tailMode=f,v.treeForkCount=m)}function mT(i,r,a){var l=r.pendingProps,f=l.revealOrder,m=l.tail;l=l.children;var v=De.current,S=(v&2)!==0;if(S?(v=v&1|2,r.flags|=128):v&=1,ut(De,v),rn(i,r,l,a),l=Ft?kl:0,!S&&i!==null&&(i.flags&128)!==0)t:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&dT(i,a,r);else if(i.tag===19)dT(i,a,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break t;for(;i.sibling===null;){if(i.return===null||i.return===r)break t;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(f){case"forwards":for(a=r.child,f=null;a!==null;)i=a.alternate,i!==null&&Jc(i)===null&&(f=a),a=a.sibling;a=f,a===null?(f=r.child,r.child=null):(f=a.sibling,a.sibling=null),Am(r,!1,f,a,m,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=r.child,r.child=null;f!==null;){if(i=f.alternate,i!==null&&Jc(i)===null){r.child=f;break}i=f.sibling,f.sibling=a,a=f,f=i}Am(r,!0,a,null,m,l);break;case"together":Am(r,!1,null,null,void 0,l);break;default:r.memoizedState=null}return r.child}function Es(i,r,a){if(i!==null&&(r.dependencies=i.dependencies),cr|=r.lanes,(a&r.childLanes)===0)if(i!==null){if(fo(i,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(i!==null&&r.child!==i.child)throw Error(s(153));if(r.child!==null){for(i=r.child,a=ps(i,i.pendingProps),r.child=a,a.return=r;i.sibling!==null;)i=i.sibling,a=a.sibling=ps(i,i.pendingProps),a.return=r;a.sibling=null}return r.child}function Sm(i,r){return(i.lanes&r)!==0?!0:(i=i.dependencies,!!(i!==null&&Gc(i)))}function qC(i,r,a){switch(r.tag){case 3:ce(r,r.stateNode.containerInfo),nr(r,ke,i.memoizedState.cache),pa();break;case 27:case 5:$t(r);break;case 4:ce(r,r.stateNode.containerInfo);break;case 10:nr(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,Qd(r),null;break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(ar(r),r.flags|=128,null):(a&r.child.childLanes)!==0?fT(i,r,a):(ar(r),i=Es(i,r,a),i!==null?i.sibling:null);ar(r);break;case 19:var f=(i.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(fo(i,r,a,!1),l=(a&r.childLanes)!==0),f){if(l)return mT(i,r,a);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ut(De,De.current),l)break;return null;case 22:return r.lanes=0,aT(i,r,a,r.pendingProps);case 24:nr(r,ke,i.memoizedState.cache)}return Es(i,r,a)}function pT(i,r,a){if(i!==null)if(i.memoizedProps!==r.pendingProps)Ue=!0;else{if(!Sm(i,a)&&(r.flags&128)===0)return Ue=!1,qC(i,r,a);Ue=(i.flags&131072)!==0}else Ue=!1,Ft&&(r.flags&1048576)!==0&&Y_(r,kl,r.index);switch(r.lanes=0,r.tag){case 16:t:{var l=r.pendingProps;if(i=va(r.elementType),r.type=i,typeof i=="function")Id(i)?(l=Sa(i,l),r.tag=1,r=cT(null,r,i,l,a)):(r.tag=0,r=gm(null,r,i,l,a));else{if(i!=null){var f=i.$$typeof;if(f===ot){r.tag=11,r=iT(null,r,i,l,a);break t}else if(f===C){r.tag=14,r=sT(null,r,i,l,a);break t}}throw r=Xt(i)||i,Error(s(306,r,""))}}return r;case 0:return gm(i,r,r.type,r.pendingProps,a);case 1:return l=r.type,f=Sa(l,r.pendingProps),cT(i,r,l,f,a);case 3:t:{if(ce(r,r.stateNode.containerInfo),i===null)throw Error(s(387));l=r.pendingProps;var m=r.memoizedState;f=m.element,Fd(i,r),Hl(r,l,null,a);var v=r.memoizedState;if(l=v.cache,nr(r,ke,l),l!==m.cache&&Ld(r,[ke],a,!0),Fl(),l=v.element,m.isDehydrated)if(m={element:l,isDehydrated:!1,cache:v.cache},r.updateQueue.baseState=m,r.memoizedState=m,r.flags&256){r=hT(i,r,l,a);break t}else if(l!==f){f=Wn(Error(s(424)),r),Ll(f),r=hT(i,r,l,a);break t}else for(i=r.stateNode.containerInfo,i.nodeType===9?i=i.body:i=i.nodeName==="HTML"?i.ownerDocument.body:i,he=ni(i.firstChild),nn=r,Ft=!0,tr=null,ti=!0,a=av(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(pa(),l===f){r=Es(i,r,a);break t}rn(i,r,l,a)}r=r.child}return r;case 26:return ch(i,r),i===null?(a=RE(r.type,null,r.pendingProps,null))?r.memoizedState=a:Ft||(a=r.type,i=r.pendingProps,l=Ch(wt.current).createElement(a),l[Oe]=r,l[Qe]=i,an(l,a,i),Me(l),r.stateNode=l):r.memoizedState=RE(r.type,i.memoizedProps,r.pendingProps,i.memoizedState),null;case 27:return $t(r),i===null&&Ft&&(l=r.stateNode=SE(r.type,r.pendingProps,wt.current),nn=r,ti=!0,f=he,pr(r.type)?(np=f,he=ni(l.firstChild)):he=f),rn(i,r,r.pendingProps.children,a),ch(i,r),i===null&&(r.flags|=4194304),r.child;case 5:return i===null&&Ft&&((f=l=he)&&(l=_I(l,r.type,r.pendingProps,ti),l!==null?(r.stateNode=l,nn=r,he=ni(l.firstChild),ti=!1,f=!0):f=!1),f||er(r)),$t(r),f=r.type,m=r.pendingProps,v=i!==null?i.memoizedProps:null,l=m.children,Wm(f,m)?l=null:v!==null&&Wm(f,v)&&(r.flags|=32),r.memoizedState!==null&&(f=$d(i,r,OC,null,null,a),cu._currentValue=f),ch(i,r),rn(i,r,l,a),r.child;case 6:return i===null&&Ft&&((i=a=he)&&(a=vI(a,r.pendingProps,ti),a!==null?(r.stateNode=a,nn=r,he=null,i=!0):i=!1),i||er(r)),null;case 13:return fT(i,r,a);case 4:return ce(r,r.stateNode.containerInfo),l=r.pendingProps,i===null?r.child=Ea(r,null,l,a):rn(i,r,l,a),r.child;case 11:return iT(i,r,r.type,r.pendingProps,a);case 7:return rn(i,r,r.pendingProps,a),r.child;case 8:return rn(i,r,r.pendingProps.children,a),r.child;case 12:return rn(i,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,nr(r,r.type,l.value),rn(i,r,l.children,a),r.child;case 9:return f=r.type._context,l=r.pendingProps.children,ya(r),f=sn(f),l=l(f),r.flags|=1,rn(i,r,l,a),r.child;case 14:return sT(i,r,r.type,r.pendingProps,a);case 15:return rT(i,r,r.type,r.pendingProps,a);case 19:return mT(i,r,a);case 31:return zC(i,r,a);case 22:return aT(i,r,a,r.pendingProps);case 24:return ya(r),l=sn(ke),i===null?(f=Bd(),f===null&&(f=oe,m=Ud(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=a),f=m),r.memoizedState={parent:l,cache:f},qd(r),nr(r,ke,f)):((i.lanes&a)!==0&&(Fd(i,r),Hl(r,null,null,a),Fl()),f=i.memoizedState,m=r.memoizedState,f.parent!==l?(f={parent:l,cache:l},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),nr(r,ke,l)):(l=m.cache,nr(r,ke,l),l!==f.cache&&Ld(r,[ke],a,!0))),rn(i,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function As(i){i.flags|=4}function bm(i,r,a,l,f){if((r=(i.mode&32)!==0)&&(r=!1),r){if(i.flags|=16777216,(f&335544128)===f)if(i.stateNode.complete)i.flags|=8192;else if(qT())i.flags|=8192;else throw Ta=Xc,zd}else i.flags&=-16777217}function gT(i,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!xE(r))if(qT())i.flags|=8192;else throw Ta=Xc,zd}function fh(i,r){r!==null&&(i.flags|=4),i.flags&16384&&(r=i.tag!==22?_c():536870912,i.lanes|=r,wo|=r)}function $l(i,r){if(!Ft)switch(i.tailMode){case"hidden":r=i.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?i.tail=null:a.sibling=null;break;case"collapsed":a=i.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:l.sibling=null}}function fe(i){var r=i.alternate!==null&&i.alternate.child===i.child,a=0,l=0;if(r)for(var f=i.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=i,f=f.sibling;else for(f=i.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=i,f=f.sibling;return i.subtreeFlags|=l,i.childLanes=a,r}function FC(i,r,a){var l=r.pendingProps;switch(Vd(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return fe(r),null;case 1:return fe(r),null;case 3:return a=r.stateNode,l=null,i!==null&&(l=i.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),_s(ke),ae(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(i===null||i.child===null)&&(ho(r)?As(r):i===null||i.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Md())),fe(r),null;case 26:var f=r.type,m=r.memoizedState;return i===null?(As(r),m!==null?(fe(r),gT(r,m)):(fe(r),bm(r,f,null,l,a))):m?m!==i.memoizedState?(As(r),fe(r),gT(r,m)):(fe(r),r.flags&=-16777217):(i=i.memoizedProps,i!==l&&As(r),fe(r),bm(r,f,i,l,a)),null;case 27:if(yn(r),a=wt.current,f=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==l&&As(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return fe(r),null}i=ft.current,ho(r)?X_(r):(i=SE(f,l,a),r.stateNode=i,As(r))}return fe(r),null;case 5:if(yn(r),f=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==l&&As(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return fe(r),null}if(m=ft.current,ho(r))X_(r);else{var v=Ch(wt.current);switch(m){case 1:m=v.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:m=v.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":m=v.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":m=v.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":m=v.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof l.is=="string"?v.createElement("select",{is:l.is}):v.createElement("select"),l.multiple?m.multiple=!0:l.size&&(m.size=l.size);break;default:m=typeof l.is=="string"?v.createElement(f,{is:l.is}):v.createElement(f)}}m[Oe]=r,m[Qe]=l;t:for(v=r.child;v!==null;){if(v.tag===5||v.tag===6)m.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===r)break t;for(;v.sibling===null;){if(v.return===null||v.return===r)break t;v=v.return}v.sibling.return=v.return,v=v.sibling}r.stateNode=m;t:switch(an(m,f,l),f){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&As(r)}}return fe(r),bm(r,r.type,i===null?null:i.memoizedProps,r.pendingProps,a),null;case 6:if(i&&r.stateNode!=null)i.memoizedProps!==l&&As(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(i=wt.current,ho(r)){if(i=r.stateNode,a=r.memoizedProps,l=null,f=nn,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}i[Oe]=r,i=!!(i.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||fE(i.nodeValue,a)),i||er(r,!0)}else i=Ch(i).createTextNode(l),i[Oe]=r,r.stateNode=i}return fe(r),null;case 31:if(a=r.memoizedState,i===null||i.memoizedState!==null){if(l=ho(r),a!==null){if(i===null){if(!l)throw Error(s(318));if(i=r.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(557));i[Oe]=r}else pa(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;fe(r),i=!1}else a=Md(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=a),i=!0;if(!i)return r.flags&256?(Ln(r),r):(Ln(r),null);if((r.flags&128)!==0)throw Error(s(558))}return fe(r),null;case 13:if(l=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(f=ho(r),l!==null&&l.dehydrated!==null){if(i===null){if(!f)throw Error(s(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[Oe]=r}else pa(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;fe(r),f=!1}else f=Md(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?(Ln(r),r):(Ln(r),null)}return Ln(r),(r.flags&128)!==0?(r.lanes=a,r):(a=l!==null,i=i!==null&&i.memoizedState!==null,a&&(l=r.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool),m=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==f&&(l.flags|=2048)),a!==i&&a&&(r.child.flags|=8192),fh(r,r.updateQueue),fe(r),null);case 4:return ae(),i===null&&Km(r.stateNode.containerInfo),fe(r),null;case 10:return _s(r.type),fe(r),null;case 19:if(X(De),l=r.memoizedState,l===null)return fe(r),null;if(f=(r.flags&128)!==0,m=l.rendering,m===null)if(f)$l(l,!1);else{if(Ee!==0||i!==null&&(i.flags&128)!==0)for(i=r.child;i!==null;){if(m=Jc(i),m!==null){for(r.flags|=128,$l(l,!1),i=m.updateQueue,r.updateQueue=i,fh(r,i),r.subtreeFlags=0,i=a,a=r.child;a!==null;)H_(a,i),a=a.sibling;return ut(De,De.current&1|2),Ft&&gs(r,l.treeForkCount),r.child}i=i.sibling}l.tail!==null&&Ze()>yh&&(r.flags|=128,f=!0,$l(l,!1),r.lanes=4194304)}else{if(!f)if(i=Jc(m),i!==null){if(r.flags|=128,f=!0,i=i.updateQueue,r.updateQueue=i,fh(r,i),$l(l,!0),l.tail===null&&l.tailMode==="hidden"&&!m.alternate&&!Ft)return fe(r),null}else 2*Ze()-l.renderingStartTime>yh&&a!==536870912&&(r.flags|=128,f=!0,$l(l,!1),r.lanes=4194304);l.isBackwards?(m.sibling=r.child,r.child=m):(i=l.last,i!==null?i.sibling=m:r.child=m,l.last=m)}return l.tail!==null?(i=l.tail,l.rendering=i,l.tail=i.sibling,l.renderingStartTime=Ze(),i.sibling=null,a=De.current,ut(De,f?a&1|2:a&1),Ft&&gs(r,l.treeForkCount),i):(fe(r),null);case 22:case 23:return Ln(r),Yd(),l=r.memoizedState!==null,i!==null?i.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(fe(r),r.subtreeFlags&6&&(r.flags|=8192)):fe(r),a=r.updateQueue,a!==null&&fh(r,a.retryQueue),a=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),i!==null&&X(_a),null;case 24:return a=null,i!==null&&(a=i.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),_s(ke),fe(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function HC(i,r){switch(Vd(r),r.tag){case 1:return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return _s(ke),ae(),i=r.flags,(i&65536)!==0&&(i&128)===0?(r.flags=i&-65537|128,r):null;case 26:case 27:case 5:return yn(r),null;case 31:if(r.memoizedState!==null){if(Ln(r),r.alternate===null)throw Error(s(340));pa()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 13:if(Ln(r),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(s(340));pa()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return X(De),null;case 4:return ae(),null;case 10:return _s(r.type),null;case 22:case 23:return Ln(r),Yd(),i!==null&&X(_a),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 24:return _s(ke),null;case 25:return null;default:return null}}function yT(i,r){switch(Vd(r),r.tag){case 3:_s(ke),ae();break;case 26:case 27:case 5:yn(r);break;case 4:ae();break;case 31:r.memoizedState!==null&&Ln(r);break;case 13:Ln(r);break;case 19:X(De);break;case 10:_s(r.type);break;case 22:case 23:Ln(r),Yd(),i!==null&&X(_a);break;case 24:_s(ke)}}function Wl(i,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&i)===i){l=void 0;var m=a.create,v=a.inst;l=m(),v.destroy=l}a=a.next}while(a!==f)}}catch(S){ee(r,r.return,S)}}function lr(i,r,a){try{var l=r.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var m=f.next;l=m;do{if((l.tag&i)===i){var v=l.inst,S=v.destroy;if(S!==void 0){v.destroy=void 0,f=r;var N=a,q=S;try{q()}catch(W){ee(f,N,W)}}}l=l.next}while(l!==m)}}catch(W){ee(r,r.return,W)}}function _T(i){var r=i.updateQueue;if(r!==null){var a=i.stateNode;try{lv(r,a)}catch(l){ee(i,i.return,l)}}}function vT(i,r,a){a.props=Sa(i.type,i.memoizedProps),a.state=i.memoizedState;try{a.componentWillUnmount()}catch(l){ee(i,r,l)}}function Zl(i,r){try{var a=i.ref;if(a!==null){switch(i.tag){case 26:case 27:case 5:var l=i.stateNode;break;case 30:l=i.stateNode;break;default:l=i.stateNode}typeof a=="function"?i.refCleanup=a(l):a.current=l}}catch(f){ee(i,r,f)}}function Yi(i,r){var a=i.ref,l=i.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){ee(i,r,f)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){ee(i,r,f)}else a.current=null}function TT(i){var r=i.type,a=i.memoizedProps,l=i.stateNode;try{t:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){ee(i,i.return,f)}}function wm(i,r,a){try{var l=i.stateNode;fI(l,i.type,a,r),l[Qe]=r}catch(f){ee(i,i.return,f)}}function ET(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&pr(i.type)||i.tag===4}function Rm(i){t:for(;;){for(;i.sibling===null;){if(i.return===null||ET(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&pr(i.type)||i.flags&2||i.child===null||i.tag===4)continue t;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Cm(i,r,a){var l=i.tag;if(l===5||l===6)i=i.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(i,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(i),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=fi));else if(l!==4&&(l===27&&pr(i.type)&&(a=i.stateNode,r=null),i=i.child,i!==null))for(Cm(i,r,a),i=i.sibling;i!==null;)Cm(i,r,a),i=i.sibling}function dh(i,r,a){var l=i.tag;if(l===5||l===6)i=i.stateNode,r?a.insertBefore(i,r):a.appendChild(i);else if(l!==4&&(l===27&&pr(i.type)&&(a=i.stateNode),i=i.child,i!==null))for(dh(i,r,a),i=i.sibling;i!==null;)dh(i,r,a),i=i.sibling}function AT(i){var r=i.stateNode,a=i.memoizedProps;try{for(var l=i.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);an(r,l,a),r[Oe]=i,r[Qe]=a}catch(m){ee(i,i.return,m)}}var Ss=!1,je=!1,Im=!1,ST=typeof WeakSet=="function"?WeakSet:Set,$e=null;function GC(i,r){if(i=i.containerInfo,Xm=Mh,i=P_(i),Ed(i)){if("selectionStart"in i)var a={start:i.selectionStart,end:i.selectionEnd};else t:{a=(a=i.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,m=l.focusNode;l=l.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break t}var v=0,S=-1,N=-1,q=0,W=0,tt=i,F=null;e:for(;;){for(var K;tt!==a||f!==0&&tt.nodeType!==3||(S=v+f),tt!==m||l!==0&&tt.nodeType!==3||(N=v+l),tt.nodeType===3&&(v+=tt.nodeValue.length),(K=tt.firstChild)!==null;)F=tt,tt=K;for(;;){if(tt===i)break e;if(F===a&&++q===f&&(S=v),F===m&&++W===l&&(N=v),(K=tt.nextSibling)!==null)break;tt=F,F=tt.parentNode}tt=K}a=S===-1||N===-1?null:{start:S,end:N}}else a=null}a=a||{start:0,end:0}}else a=null;for($m={focusedElem:i,selectionRange:a},Mh=!1,$e=r;$e!==null;)if(r=$e,i=r.child,(r.subtreeFlags&1028)!==0&&i!==null)i.return=r,$e=i;else for(;$e!==null;){switch(r=$e,m=r.alternate,i=r.flags,r.tag){case 0:if((i&4)!==0&&(i=r.updateQueue,i=i!==null?i.events:null,i!==null))for(a=0;a<i.length;a++)f=i[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&m!==null){i=void 0,a=r,f=m.memoizedProps,m=m.memoizedState,l=a.stateNode;try{var gt=Sa(a.type,f);i=l.getSnapshotBeforeUpdate(gt,m),l.__reactInternalSnapshotBeforeUpdate=i}catch(Tt){ee(a,a.return,Tt)}}break;case 3:if((i&1024)!==0){if(i=r.stateNode.containerInfo,a=i.nodeType,a===9)Jm(i);else if(a===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Jm(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=r.sibling,i!==null){i.return=r.return,$e=i;break}$e=r.return}}function bT(i,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:ws(i,a),l&4&&Wl(5,a);break;case 1:if(ws(i,a),l&4)if(i=a.stateNode,r===null)try{i.componentDidMount()}catch(v){ee(a,a.return,v)}else{var f=Sa(a.type,r.memoizedProps);r=r.memoizedState;try{i.componentDidUpdate(f,r,i.__reactInternalSnapshotBeforeUpdate)}catch(v){ee(a,a.return,v)}}l&64&&_T(a),l&512&&Zl(a,a.return);break;case 3:if(ws(i,a),l&64&&(i=a.updateQueue,i!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{lv(i,r)}catch(v){ee(a,a.return,v)}}break;case 27:r===null&&l&4&&AT(a);case 26:case 5:ws(i,a),r===null&&l&4&&TT(a),l&512&&Zl(a,a.return);break;case 12:ws(i,a);break;case 31:ws(i,a),l&4&&CT(i,a);break;case 13:ws(i,a),l&4&&IT(i,a),l&64&&(i=a.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(a=tI.bind(null,a),TI(i,a))));break;case 22:if(l=a.memoizedState!==null||Ss,!l){r=r!==null&&r.memoizedState!==null||je,f=Ss;var m=je;Ss=l,(je=r)&&!m?Rs(i,a,(a.subtreeFlags&8772)!==0):ws(i,a),Ss=f,je=m}break;case 30:break;default:ws(i,a)}}function wT(i){var r=i.alternate;r!==null&&(i.alternate=null,wT(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&Qa(r)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var pe=null,bn=!1;function bs(i,r,a){for(a=a.child;a!==null;)RT(i,r,a),a=a.sibling}function RT(i,r,a){if(tn&&typeof tn.onCommitFiberUnmount=="function")try{tn.onCommitFiberUnmount(li,a)}catch{}switch(a.tag){case 26:je||Yi(a,r),bs(i,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:je||Yi(a,r);var l=pe,f=bn;pr(a.type)&&(pe=a.stateNode,bn=!1),bs(i,r,a),ou(a.stateNode),pe=l,bn=f;break;case 5:je||Yi(a,r);case 6:if(l=pe,f=bn,pe=null,bs(i,r,a),pe=l,bn=f,pe!==null)if(bn)try{(pe.nodeType===9?pe.body:pe.nodeName==="HTML"?pe.ownerDocument.body:pe).removeChild(a.stateNode)}catch(m){ee(a,r,m)}else try{pe.removeChild(a.stateNode)}catch(m){ee(a,r,m)}break;case 18:pe!==null&&(bn?(i=pe,_E(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,a.stateNode),Oo(i)):_E(pe,a.stateNode));break;case 4:l=pe,f=bn,pe=a.stateNode.containerInfo,bn=!0,bs(i,r,a),pe=l,bn=f;break;case 0:case 11:case 14:case 15:lr(2,a,r),je||lr(4,a,r),bs(i,r,a);break;case 1:je||(Yi(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&vT(a,r,l)),bs(i,r,a);break;case 21:bs(i,r,a);break;case 22:je=(l=je)||a.memoizedState!==null,bs(i,r,a),je=l;break;default:bs(i,r,a)}}function CT(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{Oo(i)}catch(a){ee(r,r.return,a)}}}function IT(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Oo(i)}catch(a){ee(r,r.return,a)}}function KC(i){switch(i.tag){case 31:case 13:case 19:var r=i.stateNode;return r===null&&(r=i.stateNode=new ST),r;case 22:return i=i.stateNode,r=i._retryCache,r===null&&(r=i._retryCache=new ST),r;default:throw Error(s(435,i.tag))}}function mh(i,r){var a=KC(i);r.forEach(function(l){if(!a.has(l)){a.add(l);var f=eI.bind(null,i,l);l.then(f,f)}})}function wn(i,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],m=i,v=r,S=v;t:for(;S!==null;){switch(S.tag){case 27:if(pr(S.type)){pe=S.stateNode,bn=!1;break t}break;case 5:pe=S.stateNode,bn=!1;break t;case 3:case 4:pe=S.stateNode.containerInfo,bn=!0;break t}S=S.return}if(pe===null)throw Error(s(160));RT(m,v,f),pe=null,bn=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)DT(r,i),r=r.sibling}var _i=null;function DT(i,r){var a=i.alternate,l=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:wn(r,i),Rn(i),l&4&&(lr(3,i,i.return),Wl(3,i),lr(5,i,i.return));break;case 1:wn(r,i),Rn(i),l&512&&(je||a===null||Yi(a,a.return)),l&64&&Ss&&(i=i.updateQueue,i!==null&&(l=i.callbacks,l!==null&&(a=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=_i;if(wn(r,i),Rn(i),l&512&&(je||a===null||Yi(a,a.return)),l&4){var m=a!==null?a.memoizedState:null;if(l=i.memoizedState,a===null)if(l===null)if(i.stateNode===null){t:{l=i.type,a=i.memoizedProps,f=f.ownerDocument||f;e:switch(l){case"title":m=f.getElementsByTagName("title")[0],(!m||m[Oi]||m[Oe]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(l),f.head.insertBefore(m,f.querySelector("head > title"))),an(m,l,a),m[Oe]=i,Me(m),l=m;break t;case"link":var v=DE("link","href",f).get(l+(a.href||""));if(v){for(var S=0;S<v.length;S++)if(m=v[S],m.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&m.getAttribute("rel")===(a.rel==null?null:a.rel)&&m.getAttribute("title")===(a.title==null?null:a.title)&&m.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(S,1);break e}}m=f.createElement(l),an(m,l,a),f.head.appendChild(m);break;case"meta":if(v=DE("meta","content",f).get(l+(a.content||""))){for(S=0;S<v.length;S++)if(m=v[S],m.getAttribute("content")===(a.content==null?null:""+a.content)&&m.getAttribute("name")===(a.name==null?null:a.name)&&m.getAttribute("property")===(a.property==null?null:a.property)&&m.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&m.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(S,1);break e}}m=f.createElement(l),an(m,l,a),f.head.appendChild(m);break;default:throw Error(s(468,l))}m[Oe]=i,Me(m),l=m}i.stateNode=l}else NE(f,i.type,i.stateNode);else i.stateNode=IE(f,l,i.memoizedProps);else m!==l?(m===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):m.count--,l===null?NE(f,i.type,i.stateNode):IE(f,l,i.memoizedProps)):l===null&&i.stateNode!==null&&wm(i,i.memoizedProps,a.memoizedProps)}break;case 27:wn(r,i),Rn(i),l&512&&(je||a===null||Yi(a,a.return)),a!==null&&l&4&&wm(i,i.memoizedProps,a.memoizedProps);break;case 5:if(wn(r,i),Rn(i),l&512&&(je||a===null||Yi(a,a.return)),i.flags&32){f=i.stateNode;try{Sn(f,"")}catch(gt){ee(i,i.return,gt)}}l&4&&i.stateNode!=null&&(f=i.memoizedProps,wm(i,f,a!==null?a.memoizedProps:f)),l&1024&&(Im=!0);break;case 6:if(wn(r,i),Rn(i),l&4){if(i.stateNode===null)throw Error(s(162));l=i.memoizedProps,a=i.stateNode;try{a.nodeValue=l}catch(gt){ee(i,i.return,gt)}}break;case 3:if(Nh=null,f=_i,_i=Ih(r.containerInfo),wn(r,i),_i=f,Rn(i),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Oo(r.containerInfo)}catch(gt){ee(i,i.return,gt)}Im&&(Im=!1,NT(i));break;case 4:l=_i,_i=Ih(i.stateNode.containerInfo),wn(r,i),Rn(i),_i=l;break;case 12:wn(r,i),Rn(i);break;case 31:wn(r,i),Rn(i),l&4&&(l=i.updateQueue,l!==null&&(i.updateQueue=null,mh(i,l)));break;case 13:wn(r,i),Rn(i),i.child.flags&8192&&i.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(gh=Ze()),l&4&&(l=i.updateQueue,l!==null&&(i.updateQueue=null,mh(i,l)));break;case 22:f=i.memoizedState!==null;var N=a!==null&&a.memoizedState!==null,q=Ss,W=je;if(Ss=q||f,je=W||N,wn(r,i),je=W,Ss=q,Rn(i),l&8192)t:for(r=i.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(a===null||N||Ss||je||ba(i)),a=null,r=i;;){if(r.tag===5||r.tag===26){if(a===null){N=a=r;try{if(m=N.stateNode,f)v=m.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{S=N.stateNode;var tt=N.memoizedProps.style,F=tt!=null&&tt.hasOwnProperty("display")?tt.display:null;S.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch(gt){ee(N,N.return,gt)}}}else if(r.tag===6){if(a===null){N=r;try{N.stateNode.nodeValue=f?"":N.memoizedProps}catch(gt){ee(N,N.return,gt)}}}else if(r.tag===18){if(a===null){N=r;try{var K=N.stateNode;f?vE(K,!0):vE(N.stateNode,!1)}catch(gt){ee(N,N.return,gt)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===i)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break t;for(;r.sibling===null;){if(r.return===null||r.return===i)break t;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=i.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,mh(i,a))));break;case 19:wn(r,i),Rn(i),l&4&&(l=i.updateQueue,l!==null&&(i.updateQueue=null,mh(i,l)));break;case 30:break;case 21:break;default:wn(r,i),Rn(i)}}function Rn(i){var r=i.flags;if(r&2){try{for(var a,l=i.return;l!==null;){if(ET(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var f=a.stateNode,m=Rm(i);dh(i,m,f);break;case 5:var v=a.stateNode;a.flags&32&&(Sn(v,""),a.flags&=-33);var S=Rm(i);dh(i,S,v);break;case 3:case 4:var N=a.stateNode.containerInfo,q=Rm(i);Cm(i,q,N);break;default:throw Error(s(161))}}catch(W){ee(i,i.return,W)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function NT(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var r=i;NT(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),i=i.sibling}}function ws(i,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)bT(i,r.alternate,r),r=r.sibling}function ba(i){for(i=i.child;i!==null;){var r=i;switch(r.tag){case 0:case 11:case 14:case 15:lr(4,r,r.return),ba(r);break;case 1:Yi(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&vT(r,r.return,a),ba(r);break;case 27:ou(r.stateNode);case 26:case 5:Yi(r,r.return),ba(r);break;case 22:r.memoizedState===null&&ba(r);break;case 30:ba(r);break;default:ba(r)}i=i.sibling}}function Rs(i,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,f=i,m=r,v=m.flags;switch(m.tag){case 0:case 11:case 15:Rs(f,m,a),Wl(4,m);break;case 1:if(Rs(f,m,a),l=m,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(q){ee(l,l.return,q)}if(l=m,f=l.updateQueue,f!==null){var S=l.stateNode;try{var N=f.shared.hiddenCallbacks;if(N!==null)for(f.shared.hiddenCallbacks=null,f=0;f<N.length;f++)ov(N[f],S)}catch(q){ee(l,l.return,q)}}a&&v&64&&_T(m),Zl(m,m.return);break;case 27:AT(m);case 26:case 5:Rs(f,m,a),a&&l===null&&v&4&&TT(m),Zl(m,m.return);break;case 12:Rs(f,m,a);break;case 31:Rs(f,m,a),a&&v&4&&CT(f,m);break;case 13:Rs(f,m,a),a&&v&4&&IT(f,m);break;case 22:m.memoizedState===null&&Rs(f,m,a),Zl(m,m.return);break;case 30:break;default:Rs(f,m,a)}r=r.sibling}}function Dm(i,r){var a=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==a&&(i!=null&&i.refCount++,a!=null&&Ul(a))}function Nm(i,r){i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&Ul(i))}function vi(i,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)xT(i,r,a,l),r=r.sibling}function xT(i,r,a,l){var f=r.flags;switch(r.tag){case 0:case 11:case 15:vi(i,r,a,l),f&2048&&Wl(9,r);break;case 1:vi(i,r,a,l);break;case 3:vi(i,r,a,l),f&2048&&(i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&Ul(i)));break;case 12:if(f&2048){vi(i,r,a,l),i=r.stateNode;try{var m=r.memoizedProps,v=m.id,S=m.onPostCommit;typeof S=="function"&&S(v,r.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(N){ee(r,r.return,N)}}else vi(i,r,a,l);break;case 31:vi(i,r,a,l);break;case 13:vi(i,r,a,l);break;case 23:break;case 22:m=r.stateNode,v=r.alternate,r.memoizedState!==null?m._visibility&2?vi(i,r,a,l):Jl(i,r):m._visibility&2?vi(i,r,a,l):(m._visibility|=2,Ao(i,r,a,l,(r.subtreeFlags&10256)!==0||!1)),f&2048&&Dm(v,r);break;case 24:vi(i,r,a,l),f&2048&&Nm(r.alternate,r);break;default:vi(i,r,a,l)}}function Ao(i,r,a,l,f){for(f=f&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var m=i,v=r,S=a,N=l,q=v.flags;switch(v.tag){case 0:case 11:case 15:Ao(m,v,S,N,f),Wl(8,v);break;case 23:break;case 22:var W=v.stateNode;v.memoizedState!==null?W._visibility&2?Ao(m,v,S,N,f):Jl(m,v):(W._visibility|=2,Ao(m,v,S,N,f)),f&&q&2048&&Dm(v.alternate,v);break;case 24:Ao(m,v,S,N,f),f&&q&2048&&Nm(v.alternate,v);break;default:Ao(m,v,S,N,f)}r=r.sibling}}function Jl(i,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=i,l=r,f=l.flags;switch(l.tag){case 22:Jl(a,l),f&2048&&Dm(l.alternate,l);break;case 24:Jl(a,l),f&2048&&Nm(l.alternate,l);break;default:Jl(a,l)}r=r.sibling}}var tu=8192;function So(i,r,a){if(i.subtreeFlags&tu)for(i=i.child;i!==null;)VT(i,r,a),i=i.sibling}function VT(i,r,a){switch(i.tag){case 26:So(i,r,a),i.flags&tu&&i.memoizedState!==null&&VI(a,_i,i.memoizedState,i.memoizedProps);break;case 5:So(i,r,a);break;case 3:case 4:var l=_i;_i=Ih(i.stateNode.containerInfo),So(i,r,a),_i=l;break;case 22:i.memoizedState===null&&(l=i.alternate,l!==null&&l.memoizedState!==null?(l=tu,tu=16777216,So(i,r,a),tu=l):So(i,r,a));break;default:So(i,r,a)}}function OT(i){var r=i.alternate;if(r!==null&&(i=r.child,i!==null)){r.child=null;do r=i.sibling,i.sibling=null,i=r;while(i!==null)}}function eu(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];$e=l,PT(l,i)}OT(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)MT(i),i=i.sibling}function MT(i){switch(i.tag){case 0:case 11:case 15:eu(i),i.flags&2048&&lr(9,i,i.return);break;case 3:eu(i);break;case 12:eu(i);break;case 22:var r=i.stateNode;i.memoizedState!==null&&r._visibility&2&&(i.return===null||i.return.tag!==13)?(r._visibility&=-3,ph(i)):eu(i);break;default:eu(i)}}function ph(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];$e=l,PT(l,i)}OT(i)}for(i=i.child;i!==null;){switch(r=i,r.tag){case 0:case 11:case 15:lr(8,r,r.return),ph(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,ph(r));break;default:ph(r)}i=i.sibling}}function PT(i,r){for(;$e!==null;){var a=$e;switch(a.tag){case 0:case 11:case 15:lr(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Ul(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,$e=l;else t:for(a=i;$e!==null;){l=$e;var f=l.sibling,m=l.return;if(wT(l),l===a){$e=null;break t}if(f!==null){f.return=m,$e=f;break t}$e=m}}}var YC={getCacheForType:function(i){var r=sn(ke),a=r.data.get(i);return a===void 0&&(a=i(),r.data.set(i,a)),a},cacheSignal:function(){return sn(ke).controller.signal}},QC=typeof WeakMap=="function"?WeakMap:Map,Qt=0,oe=null,Pt=null,Ut=0,te=0,Un=null,ur=!1,bo=!1,xm=!1,Cs=0,Ee=0,cr=0,wa=0,Vm=0,jn=0,wo=0,nu=null,Cn=null,Om=!1,gh=0,kT=0,yh=1/0,_h=null,hr=null,He=0,fr=null,Ro=null,Is=0,Mm=0,Pm=null,LT=null,iu=0,km=null;function Bn(){return(Qt&2)!==0&&Ut!==0?Ut&-Ut:Y.T!==null?qm():vc()}function UT(){if(jn===0)if((Ut&536870912)===0||Ft){var i=Zr;Zr<<=1,(Zr&3932160)===0&&(Zr=262144),jn=i}else jn=536870912;return i=kn.current,i!==null&&(i.flags|=32),jn}function In(i,r,a){(i===oe&&(te===2||te===9)||i.cancelPendingCommit!==null)&&(Co(i,0),dr(i,Ut,jn,!1)),Jr(i,a),((Qt&2)===0||i!==oe)&&(i===oe&&((Qt&2)===0&&(wa|=a),Ee===4&&dr(i,Ut,jn,!1)),Qi(i))}function jT(i,r,a){if((Qt&6)!==0)throw Error(s(327));var l=!a&&(r&127)===0&&(r&i.expiredLanes)===0||ui(i,r),f=l?WC(i,r):Um(i,r,!0),m=l;do{if(f===0){bo&&!l&&dr(i,r,0,!1);break}else{if(a=i.current.alternate,m&&!XC(a)){f=Um(i,r,!1),m=!1;continue}if(f===2){if(m=r,i.errorRecoveryDisabledLanes&m)var v=0;else v=i.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){r=v;t:{var S=i;f=nu;var N=S.current.memoizedState.isDehydrated;if(N&&(Co(S,v).flags|=256),v=Um(S,v,!1),v!==2){if(xm&&!N){S.errorRecoveryDisabledLanes|=m,wa|=m,f=4;break t}m=Cn,Cn=f,m!==null&&(Cn===null?Cn=m:Cn.push.apply(Cn,m))}f=v}if(m=!1,f!==2)continue}}if(f===1){Co(i,0),dr(i,r,0,!0);break}t:{switch(l=i,m=f,m){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:dr(l,r,jn,!ur);break t;case 2:Cn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(f=gh+300-Ze(),10<f)){if(dr(l,r,jn,!ur),Ni(l,0,!0)!==0)break t;Is=r,l.timeoutHandle=gE(BT.bind(null,l,a,Cn,_h,Om,r,jn,wa,wo,ur,m,"Throttled",-0,0),f);break t}BT(l,a,Cn,_h,Om,r,jn,wa,wo,ur,m,null,-0,0)}}break}while(!0);Qi(i)}function BT(i,r,a,l,f,m,v,S,N,q,W,tt,F,K){if(i.timeoutHandle=-1,tt=r.subtreeFlags,tt&8192||(tt&16785408)===16785408){tt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:fi},VT(r,m,tt);var gt=(m&62914560)===m?gh-Ze():(m&4194048)===m?kT-Ze():0;if(gt=OI(tt,gt),gt!==null){Is=m,i.cancelPendingCommit=gt(QT.bind(null,i,r,m,a,l,f,v,S,N,W,tt,null,F,K)),dr(i,m,v,!q);return}}QT(i,r,m,a,l,f,v,S,N)}function XC(i){for(var r=i;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],m=f.getSnapshot;f=f.value;try{if(!Mn(m(),f))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function dr(i,r,a,l){r&=~Vm,r&=~wa,i.suspendedLanes|=r,i.pingedLanes&=~r,l&&(i.warmLanes|=r),l=i.expirationTimes;for(var f=r;0<f;){var m=31-Ce(f),v=1<<m;l[m]=-1,f&=~v}a!==0&&ta(i,a,r)}function vh(){return(Qt&6)===0?(su(0),!1):!0}function Lm(){if(Pt!==null){if(te===0)var i=Pt.return;else i=Pt,ys=ga=null,Jd(i),yo=null,Bl=0,i=Pt;for(;i!==null;)yT(i.alternate,i),i=i.return;Pt=null}}function Co(i,r){var a=i.timeoutHandle;a!==-1&&(i.timeoutHandle=-1,pI(a)),a=i.cancelPendingCommit,a!==null&&(i.cancelPendingCommit=null,a()),Is=0,Lm(),oe=i,Pt=a=ps(i.current,null),Ut=r,te=0,Un=null,ur=!1,bo=ui(i,r),xm=!1,wo=jn=Vm=wa=cr=Ee=0,Cn=nu=null,Om=!1,(r&8)!==0&&(r|=r&32);var l=i.entangledLanes;if(l!==0)for(i=i.entanglements,l&=r;0<l;){var f=31-Ce(l),m=1<<f;r|=i[f],l&=~m}return Cs=r,Bc(),a}function zT(i,r){Vt=null,Y.H=Ql,r===go||r===Qc?(r=iv(),te=3):r===zd?(r=iv(),te=4):te=r===pm?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Un=r,Pt===null&&(Ee=1,lh(i,Wn(r,i.current)))}function qT(){var i=kn.current;return i===null?!0:(Ut&4194048)===Ut?ei===null:(Ut&62914560)===Ut||(Ut&536870912)!==0?i===ei:!1}function FT(){var i=Y.H;return Y.H=Ql,i===null?Ql:i}function HT(){var i=Y.A;return Y.A=YC,i}function Th(){Ee=4,ur||(Ut&4194048)!==Ut&&kn.current!==null||(bo=!0),(cr&134217727)===0&&(wa&134217727)===0||oe===null||dr(oe,Ut,jn,!1)}function Um(i,r,a){var l=Qt;Qt|=2;var f=FT(),m=HT();(oe!==i||Ut!==r)&&(_h=null,Co(i,r)),r=!1;var v=Ee;t:do try{if(te!==0&&Pt!==null){var S=Pt,N=Un;switch(te){case 8:Lm(),v=6;break t;case 3:case 2:case 9:case 6:kn.current===null&&(r=!0);var q=te;if(te=0,Un=null,Io(i,S,N,q),a&&bo){v=0;break t}break;default:q=te,te=0,Un=null,Io(i,S,N,q)}}$C(),v=Ee;break}catch(W){zT(i,W)}while(!0);return r&&i.shellSuspendCounter++,ys=ga=null,Qt=l,Y.H=f,Y.A=m,Pt===null&&(oe=null,Ut=0,Bc()),v}function $C(){for(;Pt!==null;)GT(Pt)}function WC(i,r){var a=Qt;Qt|=2;var l=FT(),f=HT();oe!==i||Ut!==r?(_h=null,yh=Ze()+500,Co(i,r)):bo=ui(i,r);t:do try{if(te!==0&&Pt!==null){r=Pt;var m=Un;e:switch(te){case 1:te=0,Un=null,Io(i,r,m,1);break;case 2:case 9:if(ev(m)){te=0,Un=null,KT(r);break}r=function(){te!==2&&te!==9||oe!==i||(te=7),Qi(i)},m.then(r,r);break t;case 3:te=7;break t;case 4:te=5;break t;case 7:ev(m)?(te=0,Un=null,KT(r)):(te=0,Un=null,Io(i,r,m,7));break;case 5:var v=null;switch(Pt.tag){case 26:v=Pt.memoizedState;case 5:case 27:var S=Pt;if(v?xE(v):S.stateNode.complete){te=0,Un=null;var N=S.sibling;if(N!==null)Pt=N;else{var q=S.return;q!==null?(Pt=q,Eh(q)):Pt=null}break e}}te=0,Un=null,Io(i,r,m,5);break;case 6:te=0,Un=null,Io(i,r,m,6);break;case 8:Lm(),Ee=6;break t;default:throw Error(s(462))}}ZC();break}catch(W){zT(i,W)}while(!0);return ys=ga=null,Y.H=l,Y.A=f,Qt=a,Pt!==null?0:(oe=null,Ut=0,Bc(),Ee)}function ZC(){for(;Pt!==null&&!ml();)GT(Pt)}function GT(i){var r=pT(i.alternate,i,Cs);i.memoizedProps=i.pendingProps,r===null?Eh(i):Pt=r}function KT(i){var r=i,a=r.alternate;switch(r.tag){case 15:case 0:r=uT(a,r,r.pendingProps,r.type,void 0,Ut);break;case 11:r=uT(a,r,r.pendingProps,r.type.render,r.ref,Ut);break;case 5:Jd(r);default:yT(a,r),r=Pt=H_(r,Cs),r=pT(a,r,Cs)}i.memoizedProps=i.pendingProps,r===null?Eh(i):Pt=r}function Io(i,r,a,l){ys=ga=null,Jd(r),yo=null,Bl=0;var f=r.return;try{if(BC(i,f,r,a,Ut)){Ee=1,lh(i,Wn(a,i.current)),Pt=null;return}}catch(m){if(f!==null)throw Pt=f,m;Ee=1,lh(i,Wn(a,i.current)),Pt=null;return}r.flags&32768?(Ft||l===1?i=!0:bo||(Ut&536870912)!==0?i=!1:(ur=i=!0,(l===2||l===9||l===3||l===6)&&(l=kn.current,l!==null&&l.tag===13&&(l.flags|=16384))),YT(r,i)):Eh(r)}function Eh(i){var r=i;do{if((r.flags&32768)!==0){YT(r,ur);return}i=r.return;var a=FC(r.alternate,r,Cs);if(a!==null){Pt=a;return}if(r=r.sibling,r!==null){Pt=r;return}Pt=r=i}while(r!==null);Ee===0&&(Ee=5)}function YT(i,r){do{var a=HC(i.alternate,i);if(a!==null){a.flags&=32767,Pt=a;return}if(a=i.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(i=i.sibling,i!==null)){Pt=i;return}Pt=i=a}while(i!==null);Ee=6,Pt=null}function QT(i,r,a,l,f,m,v,S,N){i.cancelPendingCommit=null;do Ah();while(He!==0);if((Qt&6)!==0)throw Error(s(327));if(r!==null){if(r===i.current)throw Error(s(177));if(m=r.lanes|r.childLanes,m|=Rd,yd(i,a,m,v,S,N),i===oe&&(Pt=oe=null,Ut=0),Ro=r,fr=i,Is=a,Mm=m,Pm=f,LT=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,nI(ct,function(){return JT(),null})):(i.callbackNode=null,i.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=Y.T,Y.T=null,f=st.p,st.p=2,v=Qt,Qt|=4;try{GC(i,r,a)}finally{Qt=v,st.p=f,Y.T=l}}He=1,XT(),$T(),WT()}}function XT(){if(He===1){He=0;var i=fr,r=Ro,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=Y.T,Y.T=null;var l=st.p;st.p=2;var f=Qt;Qt|=4;try{DT(r,i);var m=$m,v=P_(i.containerInfo),S=m.focusedElem,N=m.selectionRange;if(v!==S&&S&&S.ownerDocument&&M_(S.ownerDocument.documentElement,S)){if(N!==null&&Ed(S)){var q=N.start,W=N.end;if(W===void 0&&(W=q),"selectionStart"in S)S.selectionStart=q,S.selectionEnd=Math.min(W,S.value.length);else{var tt=S.ownerDocument||document,F=tt&&tt.defaultView||window;if(F.getSelection){var K=F.getSelection(),gt=S.textContent.length,Tt=Math.min(N.start,gt),re=N.end===void 0?Tt:Math.min(N.end,gt);!K.extend&&Tt>re&&(v=re,re=Tt,Tt=v);var U=O_(S,Tt),P=O_(S,re);if(U&&P&&(K.rangeCount!==1||K.anchorNode!==U.node||K.anchorOffset!==U.offset||K.focusNode!==P.node||K.focusOffset!==P.offset)){var z=tt.createRange();z.setStart(U.node,U.offset),K.removeAllRanges(),Tt>re?(K.addRange(z),K.extend(P.node,P.offset)):(z.setEnd(P.node,P.offset),K.addRange(z))}}}}for(tt=[],K=S;K=K.parentNode;)K.nodeType===1&&tt.push({element:K,left:K.scrollLeft,top:K.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<tt.length;S++){var J=tt[S];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}Mh=!!Xm,$m=Xm=null}finally{Qt=f,st.p=l,Y.T=a}}i.current=r,He=2}}function $T(){if(He===2){He=0;var i=fr,r=Ro,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=Y.T,Y.T=null;var l=st.p;st.p=2;var f=Qt;Qt|=4;try{bT(i,r.alternate,r)}finally{Qt=f,st.p=l,Y.T=a}}He=3}}function WT(){if(He===4||He===3){He=0,Fs();var i=fr,r=Ro,a=Is,l=LT;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?He=5:(He=0,Ro=fr=null,ZT(i,i.pendingLanes));var f=i.pendingLanes;if(f===0&&(hr=null),hs(a),r=r.stateNode,tn&&typeof tn.onCommitFiberRoot=="function")try{tn.onCommitFiberRoot(li,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=Y.T,f=st.p,st.p=2,Y.T=null;try{for(var m=i.onRecoverableError,v=0;v<l.length;v++){var S=l[v];m(S.value,{componentStack:S.stack})}}finally{Y.T=r,st.p=f}}(Is&3)!==0&&Ah(),Qi(i),f=i.pendingLanes,(a&261930)!==0&&(f&42)!==0?i===km?iu++:(iu=0,km=i):iu=0,su(0)}}function ZT(i,r){(i.pooledCacheLanes&=r)===0&&(r=i.pooledCache,r!=null&&(i.pooledCache=null,Ul(r)))}function Ah(){return XT(),$T(),WT(),JT()}function JT(){if(He!==5)return!1;var i=fr,r=Mm;Mm=0;var a=hs(Is),l=Y.T,f=st.p;try{st.p=32>a?32:a,Y.T=null,a=Pm,Pm=null;var m=fr,v=Is;if(He=0,Ro=fr=null,Is=0,(Qt&6)!==0)throw Error(s(331));var S=Qt;if(Qt|=4,MT(m.current),xT(m,m.current,v,a),Qt=S,su(0,!1),tn&&typeof tn.onPostCommitFiberRoot=="function")try{tn.onPostCommitFiberRoot(li,m)}catch{}return!0}finally{st.p=f,Y.T=l,ZT(i,r)}}function tE(i,r,a){r=Wn(a,r),r=mm(i.stateNode,r,2),i=rr(i,r,2),i!==null&&(Jr(i,2),Qi(i))}function ee(i,r,a){if(i.tag===3)tE(i,i,a);else for(;r!==null;){if(r.tag===3){tE(r,i,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(hr===null||!hr.has(l))){i=Wn(a,i),a=eT(2),l=rr(r,a,2),l!==null&&(nT(a,l,r,i),Jr(l,2),Qi(l));break}}r=r.return}}function jm(i,r,a){var l=i.pingCache;if(l===null){l=i.pingCache=new QC;var f=new Set;l.set(r,f)}else f=l.get(r),f===void 0&&(f=new Set,l.set(r,f));f.has(a)||(xm=!0,f.add(a),i=JC.bind(null,i,r,a),r.then(i,i))}function JC(i,r,a){var l=i.pingCache;l!==null&&l.delete(r),i.pingedLanes|=i.suspendedLanes&a,i.warmLanes&=~a,oe===i&&(Ut&a)===a&&(Ee===4||Ee===3&&(Ut&62914560)===Ut&&300>Ze()-gh?(Qt&2)===0&&Co(i,0):Vm|=a,wo===Ut&&(wo=0)),Qi(i)}function eE(i,r){r===0&&(r=_c()),i=da(i,r),i!==null&&(Jr(i,r),Qi(i))}function tI(i){var r=i.memoizedState,a=0;r!==null&&(a=r.retryLane),eE(i,a)}function eI(i,r){var a=0;switch(i.tag){case 31:case 13:var l=i.stateNode,f=i.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=i.stateNode;break;case 22:l=i.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),eE(i,a)}function nI(i,r){return Re(i,r)}var Sh=null,Do=null,Bm=!1,bh=!1,zm=!1,mr=0;function Qi(i){i!==Do&&i.next===null&&(Do===null?Sh=Do=i:Do=Do.next=i),bh=!0,Bm||(Bm=!0,sI())}function su(i,r){if(!zm&&bh){zm=!0;do for(var a=!1,l=Sh;l!==null;){if(i!==0){var f=l.pendingLanes;if(f===0)var m=0;else{var v=l.suspendedLanes,S=l.pingedLanes;m=(1<<31-Ce(42|i)+1)-1,m&=f&~(v&~S),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(a=!0,rE(l,m))}else m=Ut,m=Ni(l,l===oe?m:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(m&3)===0||ui(l,m)||(a=!0,rE(l,m));l=l.next}while(a);zm=!1}}function iI(){nE()}function nE(){bh=Bm=!1;var i=0;mr!==0&&mI()&&(i=mr);for(var r=Ze(),a=null,l=Sh;l!==null;){var f=l.next,m=iE(l,r);m===0?(l.next=null,a===null?Sh=f:a.next=f,f===null&&(Do=a)):(a=l,(i!==0||(m&3)!==0)&&(bh=!0)),l=f}He!==0&&He!==5||su(i),mr!==0&&(mr=0)}function iE(i,r){for(var a=i.suspendedLanes,l=i.pingedLanes,f=i.expirationTimes,m=i.pendingLanes&-62914561;0<m;){var v=31-Ce(m),S=1<<v,N=f[v];N===-1?((S&a)===0||(S&l)!==0)&&(f[v]=gd(S,r)):N<=r&&(i.expiredLanes|=S),m&=~S}if(r=oe,a=Ut,a=Ni(i,i===r?a:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),l=i.callbackNode,a===0||i===r&&(te===2||te===9)||i.cancelPendingCommit!==null)return l!==null&&l!==null&&Ci(l),i.callbackNode=null,i.callbackPriority=0;if((a&3)===0||ui(i,a)){if(r=a&-a,r===i.callbackPriority)return r;switch(l!==null&&Ci(l),hs(a)){case 2:case 8:a=Q;break;case 32:a=ct;break;case 268435456:a=Zt;break;default:a=ct}return l=sE.bind(null,i),a=Re(a,l),i.callbackPriority=r,i.callbackNode=a,r}return l!==null&&l!==null&&Ci(l),i.callbackPriority=2,i.callbackNode=null,2}function sE(i,r){if(He!==0&&He!==5)return i.callbackNode=null,i.callbackPriority=0,null;var a=i.callbackNode;if(Ah()&&i.callbackNode!==a)return null;var l=Ut;return l=Ni(i,i===oe?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),l===0?null:(jT(i,l,r),iE(i,Ze()),i.callbackNode!=null&&i.callbackNode===a?sE.bind(null,i):null)}function rE(i,r){if(Ah())return null;jT(i,r,!0)}function sI(){gI(function(){(Qt&6)!==0?Re(Wr,iI):nE()})}function qm(){if(mr===0){var i=mo;i===0&&(i=Ii,Ii<<=1,(Ii&261888)===0&&(Ii=256)),mr=i}return mr}function aE(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Za(""+i)}function oE(i,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,i.id&&a.setAttribute("form",i.id),r.parentNode.insertBefore(a,r),i=new FormData(i),a.parentNode.removeChild(a),i}function rI(i,r,a,l,f){if(r==="submit"&&a&&a.stateNode===f){var m=aE((f[Qe]||null).action),v=l.submitter;v&&(r=(r=v[Qe]||null)?aE(r.formAction):v.getAttribute("formAction"),r!==null&&(m=r,v=null));var S=new zi("action","action",null,l,f);i.push({event:S,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(mr!==0){var N=v?oE(f,v):new FormData(f);lm(a,{pending:!0,data:N,method:f.method,action:m},null,N)}}else typeof m=="function"&&(S.preventDefault(),N=v?oE(f,v):new FormData(f),lm(a,{pending:!0,data:N,method:f.method,action:m},m,N))},currentTarget:f}]})}}for(var Fm=0;Fm<wd.length;Fm++){var Hm=wd[Fm],aI=Hm.toLowerCase(),oI=Hm[0].toUpperCase()+Hm.slice(1);yi(aI,"on"+oI)}yi(U_,"onAnimationEnd"),yi(j_,"onAnimationIteration"),yi(B_,"onAnimationStart"),yi("dblclick","onDoubleClick"),yi("focusin","onFocus"),yi("focusout","onBlur"),yi(SC,"onTransitionRun"),yi(bC,"onTransitionStart"),yi(wC,"onTransitionCancel"),yi(z_,"onTransitionEnd"),Li("onMouseEnter",["mouseout","mouseover"]),Li("onMouseLeave",["mouseout","mouseover"]),Li("onPointerEnter",["pointerout","pointerover"]),Li("onPointerLeave",["pointerout","pointerover"]),ki("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ki("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ki("onBeforeInput",["compositionend","keypress","textInput","paste"]),ki("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ki("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ki("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ru="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),lI=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ru));function lE(i,r){r=(r&4)!==0;for(var a=0;a<i.length;a++){var l=i[a],f=l.event;l=l.listeners;t:{var m=void 0;if(r)for(var v=l.length-1;0<=v;v--){var S=l[v],N=S.instance,q=S.currentTarget;if(S=S.listener,N!==m&&f.isPropagationStopped())break t;m=S,f.currentTarget=q;try{m(f)}catch(W){jc(W)}f.currentTarget=null,m=N}else for(v=0;v<l.length;v++){if(S=l[v],N=S.instance,q=S.currentTarget,S=S.listener,N!==m&&f.isPropagationStopped())break t;m=S,f.currentTarget=q;try{m(f)}catch(W){jc(W)}f.currentTarget=null,m=N}}}}function kt(i,r){var a=r[Ya];a===void 0&&(a=r[Ya]=new Set);var l=i+"__bubble";a.has(l)||(uE(r,i,2,!1),a.add(l))}function Gm(i,r,a){var l=0;r&&(l|=4),uE(a,i,l,r)}var wh="_reactListening"+Math.random().toString(36).slice(2);function Km(i){if(!i[wh]){i[wh]=!0,yl.forEach(function(a){a!=="selectionchange"&&(lI.has(a)||Gm(a,!1,i),Gm(a,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[wh]||(r[wh]=!0,Gm("selectionchange",!1,r))}}function uE(i,r,a,l){switch(UE(r)){case 2:var f=kI;break;case 8:f=LI;break;default:f=op}a=f.bind(null,r,a,i),f=void 0,!ra||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),l?f!==void 0?i.addEventListener(r,a,{capture:!0,passive:f}):i.addEventListener(r,a,!0):f!==void 0?i.addEventListener(r,a,{passive:f}):i.addEventListener(r,a,!1)}function Ym(i,r,a,l,f){var m=l;if((r&1)===0&&(r&2)===0&&l!==null)t:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var S=l.stateNode.containerInfo;if(S===f)break;if(v===4)for(v=l.return;v!==null;){var N=v.tag;if((N===3||N===4)&&v.stateNode.containerInfo===f)return;v=v.return}for(;S!==null;){if(v=Mi(S),v===null)return;if(N=v.tag,N===5||N===6||N===26||N===27){l=m=v;continue t}S=S.parentNode}}l=l.return}Xs(function(){var q=m,W=Yn(a),tt=[];t:{var F=q_.get(i);if(F!==void 0){var K=zi,gt=i;switch(i){case"keypress":if(oa(a)===0)break t;case"keydown":case"keyup":K=kc;break;case"focusin":gt="focus",K=ua;break;case"focusout":gt="blur",K=ua;break;case"beforeblur":case"afterblur":K=ua;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=Nl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=Cc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=y;break;case U_:case j_:case B_:K=Dc;break;case z_:K=b;break;case"scroll":case"scrollend":K=Dl;break;case"wheel":K=G;break;case"copy":case"cut":case"paste":K=Nc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=ms;break;case"toggle":case"beforetoggle":K=xt}var Tt=(r&4)!==0,re=!Tt&&(i==="scroll"||i==="scrollend"),U=Tt?F!==null?F+"Capture":null:F;Tt=[];for(var P=q,z;P!==null;){var J=P;if(z=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||z===null||U===null||(J=di(P,U),J!=null&&Tt.push(au(P,J,z))),re)break;P=P.return}0<Tt.length&&(F=new K(F,gt,null,a,W),tt.push({event:F,listeners:Tt}))}}if((r&7)===0){t:{if(F=i==="mouseover"||i==="pointerover",K=i==="mouseout"||i==="pointerout",F&&a!==Rl&&(gt=a.relatedTarget||a.fromElement)&&(Mi(gt)||gt[Vi]))break t;if((K||F)&&(F=W.window===W?W:(F=W.ownerDocument)?F.defaultView||F.parentWindow:window,K?(gt=a.relatedTarget||a.toElement,K=q,gt=gt?Mi(gt):null,gt!==null&&(re=u(gt),Tt=gt.tag,gt!==re||Tt!==5&&Tt!==27&&Tt!==6)&&(gt=null)):(K=null,gt=q),K!==gt)){if(Tt=Nl,J="onMouseLeave",U="onMouseEnter",P="mouse",(i==="pointerout"||i==="pointerover")&&(Tt=ms,J="onPointerLeave",U="onPointerEnter",P="pointer"),re=K==null?F:Vn(K),z=gt==null?F:Vn(gt),F=new Tt(J,P+"leave",K,a,W),F.target=re,F.relatedTarget=z,J=null,Mi(W)===q&&(Tt=new Tt(U,P+"enter",gt,a,W),Tt.target=z,Tt.relatedTarget=re,J=Tt),re=J,K&&gt)e:{for(Tt=uI,U=K,P=gt,z=0,J=U;J;J=Tt(J))z++;J=0;for(var _t=P;_t;_t=Tt(_t))J++;for(;0<z-J;)U=Tt(U),z--;for(;0<J-z;)P=Tt(P),J--;for(;z--;){if(U===P||P!==null&&U===P.alternate){Tt=U;break e}U=Tt(U),P=Tt(P)}Tt=null}else Tt=null;K!==null&&cE(tt,F,K,Tt,!1),gt!==null&&re!==null&&cE(tt,re,gt,Tt,!0)}}t:{if(F=q?Vn(q):window,K=F.nodeName&&F.nodeName.toLowerCase(),K==="select"||K==="input"&&F.type==="file")var Gt=C_;else if(w_(F))if(I_)Gt=TC;else{Gt=_C;var yt=yC}else K=F.nodeName,!K||K.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?q&&Wa(q.elementType)&&(Gt=C_):Gt=vC;if(Gt&&(Gt=Gt(i,q))){R_(tt,Gt,a,W);break t}yt&&yt(i,F,q),i==="focusout"&&q&&F.type==="number"&&q.memoizedProps.value!=null&&Sl(F,"number",F.value)}switch(yt=q?Vn(q):window,i){case"focusin":(w_(yt)||yt.contentEditable==="true")&&(ro=yt,Ad=q,Pl=null);break;case"focusout":Pl=Ad=ro=null;break;case"mousedown":Sd=!0;break;case"contextmenu":case"mouseup":case"dragend":Sd=!1,k_(tt,a,W);break;case"selectionchange":if(AC)break;case"keydown":case"keyup":k_(tt,a,W)}var Ot;if(Yt)t:{switch(i){case"compositionstart":var jt="onCompositionStart";break t;case"compositionend":jt="onCompositionEnd";break t;case"compositionupdate":jt="onCompositionUpdate";break t}jt=void 0}else so?ca(i,a)&&(jt="onCompositionEnd"):i==="keydown"&&a.keyCode===229&&(jt="onCompositionStart");jt&&(Hi&&a.locale!=="ko"&&(so||jt!=="onCompositionStart"?jt==="onCompositionEnd"&&so&&(Ot=Il()):(Bi=W,Cl="value"in Bi?Bi.value:Bi.textContent,so=!0)),yt=Rh(q,jt),0<yt.length&&(jt=new Fi(jt,i,null,a,W),tt.push({event:jt,listeners:yt}),Ot?jt.data=Ot:(Ot=io(a),Ot!==null&&(jt.data=Ot)))),(Ot=Xn?dC(i,a):mC(i,a))&&(jt=Rh(q,"onBeforeInput"),0<jt.length&&(yt=new Fi("onBeforeInput","beforeinput",null,a,W),tt.push({event:yt,listeners:jt}),yt.data=Ot)),rI(tt,i,q,a,W)}lE(tt,r)})}function au(i,r,a){return{instance:i,listener:r,currentTarget:a}}function Rh(i,r){for(var a=r+"Capture",l=[];i!==null;){var f=i,m=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=di(i,a),f!=null&&l.unshift(au(i,f,m)),f=di(i,r),f!=null&&l.push(au(i,f,m))),i.tag===3)return l;i=i.return}return[]}function uI(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function cE(i,r,a,l,f){for(var m=r._reactName,v=[];a!==null&&a!==l;){var S=a,N=S.alternate,q=S.stateNode;if(S=S.tag,N!==null&&N===l)break;S!==5&&S!==26&&S!==27||q===null||(N=q,f?(q=di(a,m),q!=null&&v.unshift(au(a,q,N))):f||(q=di(a,m),q!=null&&v.push(au(a,q,N)))),a=a.return}v.length!==0&&i.push({event:r,listeners:v})}var cI=/\r\n?/g,hI=/\u0000|\uFFFD/g;function hE(i){return(typeof i=="string"?i:""+i).replace(cI,`
`).replace(hI,"")}function fE(i,r){return r=hE(r),hE(i)===r}function se(i,r,a,l,f,m){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||Sn(i,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&Sn(i,""+l);break;case"className":On(i,"class",l);break;case"tabIndex":On(i,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":On(i,a,l);break;case"style":wl(i,l,m);break;case"data":if(r!=="object"){On(i,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){i.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){i.removeAttribute(a);break}l=Za(""+l),i.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){i.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(a==="formAction"?(r!=="input"&&se(i,r,"name",f.name,f,null),se(i,r,"formEncType",f.formEncType,f,null),se(i,r,"formMethod",f.formMethod,f,null),se(i,r,"formTarget",f.formTarget,f,null)):(se(i,r,"encType",f.encType,f,null),se(i,r,"method",f.method,f,null),se(i,r,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){i.removeAttribute(a);break}l=Za(""+l),i.setAttribute(a,l);break;case"onClick":l!=null&&(i.onclick=fi);break;case"onScroll":l!=null&&kt("scroll",i);break;case"onScrollEnd":l!=null&&kt("scrollend",i);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));i.innerHTML=a}}break;case"multiple":i.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":i.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){i.removeAttribute("xlink:href");break}a=Za(""+l),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?i.setAttribute(a,""+l):i.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?i.setAttribute(a,""):i.removeAttribute(a);break;case"capture":case"download":l===!0?i.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?i.setAttribute(a,l):i.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?i.setAttribute(a,l):i.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?i.removeAttribute(a):i.setAttribute(a,l);break;case"popover":kt("beforetoggle",i),kt("toggle",i),Xa(i,"popover",l);break;case"xlinkActuate":Pe(i,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Pe(i,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Pe(i,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Pe(i,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Pe(i,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Pe(i,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Pe(i,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Pe(i,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Pe(i,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Xa(i,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Rc.get(a)||a,Xa(i,a,l))}}function Qm(i,r,a,l,f,m){switch(a){case"style":wl(i,l,m);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));i.innerHTML=a}}break;case"children":typeof l=="string"?Sn(i,l):(typeof l=="number"||typeof l=="bigint")&&Sn(i,""+l);break;case"onScroll":l!=null&&kt("scroll",i);break;case"onScrollEnd":l!=null&&kt("scrollend",i);break;case"onClick":l!=null&&(i.onclick=fi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!_l.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),r=a.slice(2,f?a.length-7:void 0),m=i[Qe]||null,m=m!=null?m[a]:null,typeof m=="function"&&i.removeEventListener(r,m,f),typeof l=="function")){typeof m!="function"&&m!==null&&(a in i?i[a]=null:i.hasAttribute(a)&&i.removeAttribute(a)),i.addEventListener(r,l,f);break t}a in i?i[a]=l:l===!0?i.setAttribute(a,""):Xa(i,a,l)}}}function an(i,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":kt("error",i),kt("load",i);var l=!1,f=!1,m;for(m in a)if(a.hasOwnProperty(m)){var v=a[m];if(v!=null)switch(m){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:se(i,r,m,v,a,null)}}f&&se(i,r,"srcSet",a.srcSet,a,null),l&&se(i,r,"src",a.src,a,null);return;case"input":kt("invalid",i);var S=m=v=f=null,N=null,q=null;for(l in a)if(a.hasOwnProperty(l)){var W=a[l];if(W!=null)switch(l){case"name":f=W;break;case"type":v=W;break;case"checked":N=W;break;case"defaultChecked":q=W;break;case"value":m=W;break;case"defaultValue":S=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(s(137,r));break;default:se(i,r,l,W,a,null)}}Sc(i,m,S,N,q,v,f,!1);return;case"select":kt("invalid",i),l=v=m=null;for(f in a)if(a.hasOwnProperty(f)&&(S=a[f],S!=null))switch(f){case"value":m=S;break;case"defaultValue":v=S;break;case"multiple":l=S;default:se(i,r,f,S,a,null)}r=m,a=v,i.multiple=!!l,r!=null?Gs(i,!!l,r,!1):a!=null&&Gs(i,!!l,a,!0);return;case"textarea":kt("invalid",i),m=f=l=null;for(v in a)if(a.hasOwnProperty(v)&&(S=a[v],S!=null))switch(v){case"value":l=S;break;case"defaultValue":f=S;break;case"children":m=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(s(91));break;default:se(i,r,v,S,a,null)}Ks(i,l,f,m);return;case"option":for(N in a)a.hasOwnProperty(N)&&(l=a[N],l!=null)&&(N==="selected"?i.selected=l&&typeof l!="function"&&typeof l!="symbol":se(i,r,N,l,a,null));return;case"dialog":kt("beforetoggle",i),kt("toggle",i),kt("cancel",i),kt("close",i);break;case"iframe":case"object":kt("load",i);break;case"video":case"audio":for(l=0;l<ru.length;l++)kt(ru[l],i);break;case"image":kt("error",i),kt("load",i);break;case"details":kt("toggle",i);break;case"embed":case"source":case"link":kt("error",i),kt("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in a)if(a.hasOwnProperty(q)&&(l=a[q],l!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:se(i,r,q,l,a,null)}return;default:if(Wa(r)){for(W in a)a.hasOwnProperty(W)&&(l=a[W],l!==void 0&&Qm(i,r,W,l,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(l=a[S],l!=null&&se(i,r,S,l,a,null))}function fI(i,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,v=null,S=null,N=null,q=null,W=null;for(K in a){var tt=a[K];if(a.hasOwnProperty(K)&&tt!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":N=tt;default:l.hasOwnProperty(K)||se(i,r,K,null,l,tt)}}for(var F in l){var K=l[F];if(tt=a[F],l.hasOwnProperty(F)&&(K!=null||tt!=null))switch(F){case"type":m=K;break;case"name":f=K;break;case"checked":q=K;break;case"defaultChecked":W=K;break;case"value":v=K;break;case"defaultValue":S=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,r));break;default:K!==tt&&se(i,r,F,K,l,tt)}}$a(i,v,S,N,q,W,m,f);return;case"select":K=v=S=F=null;for(m in a)if(N=a[m],a.hasOwnProperty(m)&&N!=null)switch(m){case"value":break;case"multiple":K=N;default:l.hasOwnProperty(m)||se(i,r,m,null,l,N)}for(f in l)if(m=l[f],N=a[f],l.hasOwnProperty(f)&&(m!=null||N!=null))switch(f){case"value":F=m;break;case"defaultValue":S=m;break;case"multiple":v=m;default:m!==N&&se(i,r,f,m,l,N)}r=S,a=v,l=K,F!=null?Gs(i,!!a,F,!1):!!l!=!!a&&(r!=null?Gs(i,!!a,r,!0):Gs(i,!!a,a?[]:"",!1));return;case"textarea":K=F=null;for(S in a)if(f=a[S],a.hasOwnProperty(S)&&f!=null&&!l.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:se(i,r,S,null,l,f)}for(v in l)if(f=l[v],m=a[v],l.hasOwnProperty(v)&&(f!=null||m!=null))switch(v){case"value":F=f;break;case"defaultValue":K=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==m&&se(i,r,v,f,l,m)}bc(i,F,K);return;case"option":for(var gt in a)F=a[gt],a.hasOwnProperty(gt)&&F!=null&&!l.hasOwnProperty(gt)&&(gt==="selected"?i.selected=!1:se(i,r,gt,null,l,F));for(N in l)F=l[N],K=a[N],l.hasOwnProperty(N)&&F!==K&&(F!=null||K!=null)&&(N==="selected"?i.selected=F&&typeof F!="function"&&typeof F!="symbol":se(i,r,N,F,l,K));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Tt in a)F=a[Tt],a.hasOwnProperty(Tt)&&F!=null&&!l.hasOwnProperty(Tt)&&se(i,r,Tt,null,l,F);for(q in l)if(F=l[q],K=a[q],l.hasOwnProperty(q)&&F!==K&&(F!=null||K!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,r));break;default:se(i,r,q,F,l,K)}return;default:if(Wa(r)){for(var re in a)F=a[re],a.hasOwnProperty(re)&&F!==void 0&&!l.hasOwnProperty(re)&&Qm(i,r,re,void 0,l,F);for(W in l)F=l[W],K=a[W],!l.hasOwnProperty(W)||F===K||F===void 0&&K===void 0||Qm(i,r,W,F,l,K);return}}for(var U in a)F=a[U],a.hasOwnProperty(U)&&F!=null&&!l.hasOwnProperty(U)&&se(i,r,U,null,l,F);for(tt in l)F=l[tt],K=a[tt],!l.hasOwnProperty(tt)||F===K||F==null&&K==null||se(i,r,tt,F,l,K)}function dE(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function dI(){if(typeof performance.getEntriesByType=="function"){for(var i=0,r=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var f=a[l],m=f.transferSize,v=f.initiatorType,S=f.duration;if(m&&S&&dE(v)){for(v=0,S=f.responseEnd,l+=1;l<a.length;l++){var N=a[l],q=N.startTime;if(q>S)break;var W=N.transferSize,tt=N.initiatorType;W&&dE(tt)&&(N=N.responseEnd,v+=W*(N<S?1:(S-q)/(N-q)))}if(--l,r+=8*(m+v)/(f.duration/1e3),i++,10<i)break}}if(0<i)return r/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var Xm=null,$m=null;function Ch(i){return i.nodeType===9?i:i.ownerDocument}function mE(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function pE(i,r){if(i===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&r==="foreignObject"?0:i}function Wm(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Zm=null;function mI(){var i=window.event;return i&&i.type==="popstate"?i===Zm?!1:(Zm=i,!0):(Zm=null,!1)}var gE=typeof setTimeout=="function"?setTimeout:void 0,pI=typeof clearTimeout=="function"?clearTimeout:void 0,yE=typeof Promise=="function"?Promise:void 0,gI=typeof queueMicrotask=="function"?queueMicrotask:typeof yE<"u"?function(i){return yE.resolve(null).then(i).catch(yI)}:gE;function yI(i){setTimeout(function(){throw i})}function pr(i){return i==="head"}function _E(i,r){var a=r,l=0;do{var f=a.nextSibling;if(i.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(l===0){i.removeChild(f),Oo(r);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")ou(i.ownerDocument.documentElement);else if(a==="head"){a=i.ownerDocument.head,ou(a);for(var m=a.firstChild;m;){var v=m.nextSibling,S=m.nodeName;m[Oi]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&m.rel.toLowerCase()==="stylesheet"||a.removeChild(m),m=v}}else a==="body"&&ou(i.ownerDocument.body);a=f}while(a);Oo(r)}function vE(i,r){var a=i;i=0;do{var l=a.nextSibling;if(a.nodeType===1?r?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(r?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(i===0)break;i--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||i++;a=l}while(a)}function Jm(i){var r=i.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Jm(a),Qa(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}i.removeChild(a)}}function _I(i,r,a,l){for(;i.nodeType===1;){var f=a;if(i.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(l){if(!i[Oi])switch(r){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(m=i.getAttribute("rel"),m==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(m!==f.rel||i.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||i.getAttribute("title")!==(f.title==null?null:f.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(m=i.getAttribute("src"),(m!==(f.src==null?null:f.src)||i.getAttribute("type")!==(f.type==null?null:f.type)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(r==="input"&&i.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&i.getAttribute("name")===m)return i}else return i;if(i=ni(i.nextSibling),i===null)break}return null}function vI(i,r,a){if(r==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!a||(i=ni(i.nextSibling),i===null))return null;return i}function TE(i,r){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!r||(i=ni(i.nextSibling),i===null))return null;return i}function tp(i){return i.data==="$?"||i.data==="$~"}function ep(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function TI(i,r){var a=i.ownerDocument;if(i.data==="$~")i._reactRetry=r;else if(i.data!=="$?"||a.readyState!=="loading")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),i._reactRetry=l}}function ni(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return i}var np=null;function EE(i){i=i.nextSibling;for(var r=0;i;){if(i.nodeType===8){var a=i.data;if(a==="/$"||a==="/&"){if(r===0)return ni(i.nextSibling);r--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||r++}i=i.nextSibling}return null}function AE(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var a=i.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(r===0)return i;r--}else a!=="/$"&&a!=="/&"||r++}i=i.previousSibling}return null}function SE(i,r,a){switch(r=Ch(a),i){case"html":if(i=r.documentElement,!i)throw Error(s(452));return i;case"head":if(i=r.head,!i)throw Error(s(453));return i;case"body":if(i=r.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}function ou(i){for(var r=i.attributes;r.length;)i.removeAttributeNode(r[0]);Qa(i)}var ii=new Map,bE=new Set;function Ih(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Ds=st.d;st.d={f:EI,r:AI,D:SI,C:bI,L:wI,m:RI,X:II,S:CI,M:DI};function EI(){var i=Ds.f(),r=vh();return i||r}function AI(i){var r=Kn(i);r!==null&&r.tag===5&&r.type==="form"?zv(r):Ds.r(i)}var No=typeof document>"u"?null:document;function wE(i,r,a){var l=No;if(l&&typeof r=="string"&&r){var f=An(r);f='link[rel="'+i+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),bE.has(f)||(bE.add(f),i={rel:i,crossOrigin:a,href:r},l.querySelector(f)===null&&(r=l.createElement("link"),an(r,"link",i),Me(r),l.head.appendChild(r)))}}function SI(i){Ds.D(i),wE("dns-prefetch",i,null)}function bI(i,r){Ds.C(i,r),wE("preconnect",i,r)}function wI(i,r,a){Ds.L(i,r,a);var l=No;if(l&&i&&r){var f='link[rel="preload"][as="'+An(r)+'"]';r==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+An(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+An(a.imageSizes)+'"]')):f+='[href="'+An(i)+'"]';var m=f;switch(r){case"style":m=xo(i);break;case"script":m=Vo(i)}ii.has(m)||(i=E({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:i,as:r},a),ii.set(m,i),l.querySelector(f)!==null||r==="style"&&l.querySelector(lu(m))||r==="script"&&l.querySelector(uu(m))||(r=l.createElement("link"),an(r,"link",i),Me(r),l.head.appendChild(r)))}}function RI(i,r){Ds.m(i,r);var a=No;if(a&&i){var l=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+An(l)+'"][href="'+An(i)+'"]',m=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=Vo(i)}if(!ii.has(m)&&(i=E({rel:"modulepreload",href:i},r),ii.set(m,i),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(uu(m)))return}l=a.createElement("link"),an(l,"link",i),Me(l),a.head.appendChild(l)}}}function CI(i,r,a){Ds.S(i,r,a);var l=No;if(l&&i){var f=Pi(l).hoistableStyles,m=xo(i);r=r||"default";var v=f.get(m);if(!v){var S={loading:0,preload:null};if(v=l.querySelector(lu(m)))S.loading=5;else{i=E({rel:"stylesheet",href:i,"data-precedence":r},a),(a=ii.get(m))&&ip(i,a);var N=v=l.createElement("link");Me(N),an(N,"link",i),N._p=new Promise(function(q,W){N.onload=q,N.onerror=W}),N.addEventListener("load",function(){S.loading|=1}),N.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Dh(v,r,l)}v={type:"stylesheet",instance:v,count:1,state:S},f.set(m,v)}}}function II(i,r){Ds.X(i,r);var a=No;if(a&&i){var l=Pi(a).hoistableScripts,f=Vo(i),m=l.get(f);m||(m=a.querySelector(uu(f)),m||(i=E({src:i,async:!0},r),(r=ii.get(f))&&sp(i,r),m=a.createElement("script"),Me(m),an(m,"link",i),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(f,m))}}function DI(i,r){Ds.M(i,r);var a=No;if(a&&i){var l=Pi(a).hoistableScripts,f=Vo(i),m=l.get(f);m||(m=a.querySelector(uu(f)),m||(i=E({src:i,async:!0,type:"module"},r),(r=ii.get(f))&&sp(i,r),m=a.createElement("script"),Me(m),an(m,"link",i),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(f,m))}}function RE(i,r,a,l){var f=(f=wt.current)?Ih(f):null;if(!f)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=xo(a.href),a=Pi(f).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){i=xo(a.href);var m=Pi(f).hoistableStyles,v=m.get(i);if(v||(f=f.ownerDocument||f,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(i,v),(m=f.querySelector(lu(i)))&&!m._p&&(v.instance=m,v.state.loading=5),ii.has(i)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},ii.set(i,a),m||NI(f,i,a,v.state))),r&&l===null)throw Error(s(528,""));return v}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Vo(a),a=Pi(f).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function xo(i){return'href="'+An(i)+'"'}function lu(i){return'link[rel="stylesheet"]['+i+"]"}function CE(i){return E({},i,{"data-precedence":i.precedence,precedence:null})}function NI(i,r,a,l){i.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=i.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),an(r,"link",a),Me(r),i.head.appendChild(r))}function Vo(i){return'[src="'+An(i)+'"]'}function uu(i){return"script[async]"+i}function IE(i,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=i.querySelector('style[data-href~="'+An(a.href)+'"]');if(l)return r.instance=l,Me(l),l;var f=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(i.ownerDocument||i).createElement("style"),Me(l),an(l,"style",f),Dh(l,a.precedence,i),r.instance=l;case"stylesheet":f=xo(a.href);var m=i.querySelector(lu(f));if(m)return r.state.loading|=4,r.instance=m,Me(m),m;l=CE(a),(f=ii.get(f))&&ip(l,f),m=(i.ownerDocument||i).createElement("link"),Me(m);var v=m;return v._p=new Promise(function(S,N){v.onload=S,v.onerror=N}),an(m,"link",l),r.state.loading|=4,Dh(m,a.precedence,i),r.instance=m;case"script":return m=Vo(a.src),(f=i.querySelector(uu(m)))?(r.instance=f,Me(f),f):(l=a,(f=ii.get(m))&&(l=E({},a),sp(l,f)),i=i.ownerDocument||i,f=i.createElement("script"),Me(f),an(f,"link",l),i.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,Dh(l,a.precedence,i));return r.instance}function Dh(i,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,m=f,v=0;v<l.length;v++){var S=l[v];if(S.dataset.precedence===r)m=S;else if(m!==f)break}m?m.parentNode.insertBefore(i,m.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(i,r.firstChild))}function ip(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.title==null&&(i.title=r.title)}function sp(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.integrity==null&&(i.integrity=r.integrity)}var Nh=null;function DE(i,r,a){if(Nh===null){var l=new Map,f=Nh=new Map;f.set(a,l)}else f=Nh,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(i))return l;for(l.set(i,null),a=a.getElementsByTagName(i),f=0;f<a.length;f++){var m=a[f];if(!(m[Oi]||m[Oe]||i==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var v=m.getAttribute(r)||"";v=i+v;var S=l.get(v);S?S.push(m):l.set(v,[m])}}return l}function NE(i,r,a){i=i.ownerDocument||i,i.head.insertBefore(a,r==="title"?i.querySelector("head > title"):null)}function xI(i,r,a){if(a===1||r.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;return r.rel==="stylesheet"?(i=r.disabled,typeof r.precedence=="string"&&i==null):!0;case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function xE(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function VI(i,r,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=xo(l.href),m=r.querySelector(lu(f));if(m){r=m._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(i.count++,i=xh.bind(i),r.then(i,i)),a.state.loading|=4,a.instance=m,Me(m);return}m=r.ownerDocument||r,l=CE(l),(f=ii.get(f))&&ip(l,f),m=m.createElement("link"),Me(m);var v=m;v._p=new Promise(function(S,N){v.onload=S,v.onerror=N}),an(m,"link",l),a.instance=m}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(a,r),(r=a.state.preload)&&(a.state.loading&3)===0&&(i.count++,a=xh.bind(i),r.addEventListener("load",a),r.addEventListener("error",a))}}var rp=0;function OI(i,r){return i.stylesheets&&i.count===0&&Oh(i,i.stylesheets),0<i.count||0<i.imgCount?function(a){var l=setTimeout(function(){if(i.stylesheets&&Oh(i,i.stylesheets),i.unsuspend){var m=i.unsuspend;i.unsuspend=null,m()}},6e4+r);0<i.imgBytes&&rp===0&&(rp=62500*dI());var f=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&Oh(i,i.stylesheets),i.unsuspend)){var m=i.unsuspend;i.unsuspend=null,m()}},(i.imgBytes>rp?50:800)+r);return i.unsuspend=a,function(){i.unsuspend=null,clearTimeout(l),clearTimeout(f)}}:null}function xh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Oh(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Vh=null;function Oh(i,r){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Vh=new Map,r.forEach(MI,i),Vh=null,xh.call(i))}function MI(i,r){if(!(r.state.loading&4)){var a=Vh.get(i);if(a)var l=a.get(null);else{a=new Map,Vh.set(i,a);for(var f=i.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var v=f[m];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}f=r.instance,v=f.getAttribute("data-precedence"),m=a.get(v)||l,m===l&&a.set(null,f),a.set(v,f),this.count++,l=xh.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),m?m.parentNode.insertBefore(f,m.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(f,i.firstChild)),r.state.loading|=4}}var cu={$$typeof:$,Provider:null,Consumer:null,_currentValue:dt,_currentValue2:dt,_threadCount:0};function PI(i,r,a,l,f,m,v,S,N){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=xi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xi(0),this.hiddenUpdates=xi(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function VE(i,r,a,l,f,m,v,S,N,q,W,tt){return i=new PI(i,r,a,v,N,q,W,tt,S),r=1,m===!0&&(r|=24),m=Pn(3,null,null,r),i.current=m,m.stateNode=i,r=Ud(),r.refCount++,i.pooledCache=r,r.refCount++,m.memoizedState={element:l,isDehydrated:a,cache:r},qd(m),i}function OE(i){return i?(i=lo,i):lo}function ME(i,r,a,l,f,m){f=OE(f),l.context===null?l.context=f:l.pendingContext=f,l=sr(r),l.payload={element:a},m=m===void 0?null:m,m!==null&&(l.callback=m),a=rr(i,l,r),a!==null&&(In(a,i,r),ql(a,i,r))}function PE(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var a=i.retryLane;i.retryLane=a!==0&&a<r?a:r}}function ap(i,r){PE(i,r),(i=i.alternate)&&PE(i,r)}function kE(i){if(i.tag===13||i.tag===31){var r=da(i,67108864);r!==null&&In(r,i,67108864),ap(i,67108864)}}function LE(i){if(i.tag===13||i.tag===31){var r=Bn();r=ea(r);var a=da(i,r);a!==null&&In(a,i,r),ap(i,r)}}var Mh=!0;function kI(i,r,a,l){var f=Y.T;Y.T=null;var m=st.p;try{st.p=2,op(i,r,a,l)}finally{st.p=m,Y.T=f}}function LI(i,r,a,l){var f=Y.T;Y.T=null;var m=st.p;try{st.p=8,op(i,r,a,l)}finally{st.p=m,Y.T=f}}function op(i,r,a,l){if(Mh){var f=lp(l);if(f===null)Ym(i,r,l,Ph,a),jE(i,l);else if(jI(f,i,r,a,l))l.stopPropagation();else if(jE(i,l),r&4&&-1<UI.indexOf(i)){for(;f!==null;){var m=Kn(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var v=Di(m.pendingLanes);if(v!==0){var S=m;for(S.pendingLanes|=2,S.entangledLanes|=2;v;){var N=1<<31-Ce(v);S.entanglements[1]|=N,v&=~N}Qi(m),(Qt&6)===0&&(yh=Ze()+500,su(0))}}break;case 31:case 13:S=da(m,2),S!==null&&In(S,m,2),vh(),ap(m,2)}if(m=lp(l),m===null&&Ym(i,r,l,Ph,a),m===f)break;f=m}f!==null&&l.stopPropagation()}else Ym(i,r,l,null,a)}}function lp(i){return i=Yn(i),up(i)}var Ph=null;function up(i){if(Ph=null,i=Mi(i),i!==null){var r=u(i);if(r===null)i=null;else{var a=r.tag;if(a===13){if(i=c(r),i!==null)return i;i=null}else if(a===31){if(i=d(r),i!==null)return i;i=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return Ph=i,null}function UE(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(cs()){case Wr:return 2;case Q:return 8;case ct:case Rt:return 32;case Zt:return 268435456;default:return 32}default:return 32}}var cp=!1,gr=null,yr=null,_r=null,hu=new Map,fu=new Map,vr=[],UI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function jE(i,r){switch(i){case"focusin":case"focusout":gr=null;break;case"dragenter":case"dragleave":yr=null;break;case"mouseover":case"mouseout":_r=null;break;case"pointerover":case"pointerout":hu.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":fu.delete(r.pointerId)}}function du(i,r,a,l,f,m){return i===null||i.nativeEvent!==m?(i={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:m,targetContainers:[f]},r!==null&&(r=Kn(r),r!==null&&kE(r)),i):(i.eventSystemFlags|=l,r=i.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),i)}function jI(i,r,a,l,f){switch(r){case"focusin":return gr=du(gr,i,r,a,l,f),!0;case"dragenter":return yr=du(yr,i,r,a,l,f),!0;case"mouseover":return _r=du(_r,i,r,a,l,f),!0;case"pointerover":var m=f.pointerId;return hu.set(m,du(hu.get(m)||null,i,r,a,l,f)),!0;case"gotpointercapture":return m=f.pointerId,fu.set(m,du(fu.get(m)||null,i,r,a,l,f)),!0}return!1}function BE(i){var r=Mi(i.target);if(r!==null){var a=u(r);if(a!==null){if(r=a.tag,r===13){if(r=c(a),r!==null){i.blockedOn=r,ci(i.priority,function(){LE(a)});return}}else if(r===31){if(r=d(a),r!==null){i.blockedOn=r,ci(i.priority,function(){LE(a)});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){i.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}i.blockedOn=null}function kh(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var a=lp(i.nativeEvent);if(a===null){a=i.nativeEvent;var l=new a.constructor(a.type,a);Rl=l,a.target.dispatchEvent(l),Rl=null}else return r=Kn(a),r!==null&&kE(r),i.blockedOn=a,!1;r.shift()}return!0}function zE(i,r,a){kh(i)&&a.delete(r)}function BI(){cp=!1,gr!==null&&kh(gr)&&(gr=null),yr!==null&&kh(yr)&&(yr=null),_r!==null&&kh(_r)&&(_r=null),hu.forEach(zE),fu.forEach(zE)}function Lh(i,r){i.blockedOn===r&&(i.blockedOn=null,cp||(cp=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,BI)))}var Uh=null;function qE(i){Uh!==i&&(Uh=i,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Uh===i&&(Uh=null);for(var r=0;r<i.length;r+=3){var a=i[r],l=i[r+1],f=i[r+2];if(typeof l!="function"){if(up(l||a)===null)continue;break}var m=Kn(a);m!==null&&(i.splice(r,3),r-=3,lm(m,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function Oo(i){function r(N){return Lh(N,i)}gr!==null&&Lh(gr,i),yr!==null&&Lh(yr,i),_r!==null&&Lh(_r,i),hu.forEach(r),fu.forEach(r);for(var a=0;a<vr.length;a++){var l=vr[a];l.blockedOn===i&&(l.blockedOn=null)}for(;0<vr.length&&(a=vr[0],a.blockedOn===null);)BE(a),a.blockedOn===null&&vr.shift();if(a=(i.ownerDocument||i).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],m=a[l+1],v=f[Qe]||null;if(typeof m=="function")v||qE(a);else if(v){var S=null;if(m&&m.hasAttribute("formAction")){if(f=m,v=m[Qe]||null)S=v.formAction;else if(up(f)!==null)continue}else S=v.action;typeof S=="function"?a[l+1]=S:(a.splice(l,3),l-=3),qE(a)}}}function FE(){function i(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(v){return f=v})},focusReset:"manual",scroll:"manual"})}function r(){f!==null&&(f(),f=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,f=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),f!==null&&(f(),f=null)}}}function hp(i){this._internalRoot=i}jh.prototype.render=hp.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=Bn();ME(a,l,i,r,null,null)},jh.prototype.unmount=hp.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;ME(i.current,2,null,i,null,null),vh(),r[Vi]=null}};function jh(i){this._internalRoot=i}jh.prototype.unstable_scheduleHydration=function(i){if(i){var r=vc();i={blockedOn:null,target:i,priority:r};for(var a=0;a<vr.length&&r!==0&&r<vr[a].priority;a++);vr.splice(a,0,i),a===0&&BE(i)}};var HE=t.version;if(HE!=="19.2.3")throw Error(s(527,HE,"19.2.3"));st.findDOMNode=function(i){var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=g(r),i=i!==null?_(i):null,i=i===null?null:i.stateNode,i};var zI={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bh.isDisabled&&Bh.supportsFiber)try{li=Bh.inject(zI),tn=Bh}catch{}}return pu.createRoot=function(i,r){if(!o(i))throw Error(s(299));var a=!1,l="",f=Wv,m=Zv,v=Jv;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(m=r.onCaughtError),r.onRecoverableError!==void 0&&(v=r.onRecoverableError)),r=VE(i,1,!1,null,null,a,l,null,f,m,v,FE),i[Vi]=r.current,Km(i),new hp(r)},pu.hydrateRoot=function(i,r,a){if(!o(i))throw Error(s(299));var l=!1,f="",m=Wv,v=Zv,S=Jv,N=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.formState!==void 0&&(N=a.formState)),r=VE(i,1,!0,r,a??null,l,f,N,m,v,S,FE),r.context=OE(null),a=r.current,l=Bn(),l=ea(l),f=sr(l),f.callback=null,rr(a,f,l),a=l,r.current.lanes=a,Jr(r,a),Qi(r),i[Vi]=r.current,Km(i),new jh(r)},pu.version="19.2.3",pu}var t0;function WI(){if(t0)return mp.exports;t0=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),mp.exports=$I(),mp.exports}var ZI=WI();const JI=()=>{};var e0={};const ZS=function(e){const t=[];let n=0;for(let s=0;s<e.length;s++){let o=e.charCodeAt(s);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&s+1<e.length&&(e.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(e.charCodeAt(++s)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},tD=function(e){const t=[];let n=0,s=0;for(;n<e.length;){const o=e[n++];if(o<128)t[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=e[n++];t[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=e[n++],c=e[n++],d=e[n++],p=((o&7)<<18|(u&63)<<12|(c&63)<<6|d&63)-65536;t[s++]=String.fromCharCode(55296+(p>>10)),t[s++]=String.fromCharCode(56320+(p&1023))}else{const u=e[n++],c=e[n++];t[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|c&63)}}return t.join("")},JS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<e.length;o+=3){const u=e[o],c=o+1<e.length,d=c?e[o+1]:0,p=o+2<e.length,g=p?e[o+2]:0,_=u>>2,E=(u&3)<<4|d>>4;let A=(d&15)<<2|g>>6,R=g&63;p||(R=64,c||(A=64)),s.push(n[_],n[E],n[A],n[R])}return s.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(ZS(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):tD(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<e.length;){const u=n[e.charAt(o++)],d=o<e.length?n[e.charAt(o)]:0;++o;const g=o<e.length?n[e.charAt(o)]:64;++o;const E=o<e.length?n[e.charAt(o)]:64;if(++o,u==null||d==null||g==null||E==null)throw new eD;const A=u<<2|d>>4;if(s.push(A),g!==64){const R=d<<4&240|g>>2;if(s.push(R),E!==64){const k=g<<6&192|E;s.push(k)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class eD extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const nD=function(e){const t=ZS(e);return JS.encodeByteArray(t,!0)},yf=function(e){return nD(e).replace(/\./g,"")},tb=function(e){try{return JS.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function iD(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const sD=()=>iD().__FIREBASE_DEFAULTS__,rD=()=>{if(typeof process>"u"||typeof e0>"u")return;const e=e0.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},aD=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&tb(e[1]);return t&&JSON.parse(t)},Hf=()=>{try{return JI()||sD()||rD()||aD()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},eb=e=>Hf()?.emulatorHosts?.[e],nb=e=>{const t=eb(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),s]:[t.substring(0,n),s]},ib=()=>Hf()?.config,sb=e=>Hf()?.[`_${e}`];class oD{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}function Hr(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Kg(e){return(await fetch(e,{credentials:"include"})).ok}function rb(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=t||"demo-project",o=e.iat||0,u=e.sub||e.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...e};return[yf(JSON.stringify(n)),yf(JSON.stringify(c)),""].join(".")}const Ru={};function lD(){const e={prod:[],emulator:[]};for(const t of Object.keys(Ru))Ru[t]?e.emulator.push(t):e.prod.push(t);return e}function uD(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}let n0=!1;function Yg(e,t){if(typeof window>"u"||typeof document>"u"||!Hr(window.location.host)||Ru[e]===t||Ru[e]||n0)return;Ru[e]=t;function n(A){return`__firebase__banner__${A}`}const s="__firebase__banner",u=lD().prod.length>0;function c(){const A=document.getElementById(s);A&&A.remove()}function d(A){A.style.display="flex",A.style.background="#7faaf0",A.style.position="fixed",A.style.bottom="5px",A.style.left="5px",A.style.padding=".5em",A.style.borderRadius="5px",A.style.alignItems="center"}function p(A,R){A.setAttribute("width","24"),A.setAttribute("id",R),A.setAttribute("height","24"),A.setAttribute("viewBox","0 0 24 24"),A.setAttribute("fill","none"),A.style.marginLeft="-6px"}function g(){const A=document.createElement("span");return A.style.cursor="pointer",A.style.marginLeft="16px",A.style.fontSize="24px",A.innerHTML=" &times;",A.onclick=()=>{n0=!0,c()},A}function _(A,R){A.setAttribute("id",R),A.innerText="Learn more",A.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",A.setAttribute("target","__blank"),A.style.paddingLeft="5px",A.style.textDecoration="underline"}function E(){const A=uD(s),R=n("text"),k=document.getElementById(R)||document.createElement("span"),H=n("learnmore"),B=document.getElementById(H)||document.createElement("a"),Z=n("preprendIcon"),nt=document.getElementById(Z)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(A.created){const $=A.element;d($),_(B,H);const ot=g();p(nt,Z),$.append(nt,k,B,ot),document.body.appendChild($)}u?(k.innerText="Preview backend disconnected.",nt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(nt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,k.innerText="Preview backend running in this workspace."),k.setAttribute("id",R)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}function gn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function cD(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(gn())}function hD(){const e=Hf()?.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function fD(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function dD(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function mD(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function pD(){const e=gn();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function gD(){return!hD()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function yD(){try{return typeof indexedDB=="object"}catch{return!1}}function _D(){return new Promise((e,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),e(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(n){t(n)}})}const vD="FirebaseError";class ls extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=vD,Object.setPrototypeOf(this,ls.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Wu.prototype.create)}}class Wu{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},o=`${this.service}/${t}`,u=this.errors[t],c=u?TD(u,s):"Error",d=`${this.serviceName}: ${c} (${o}).`;return new ls(o,d,s)}}function TD(e,t){return e.replace(ED,(n,s)=>{const o=t[s];return o!=null?String(o):`<${s}?>`})}const ED=/\{\$([^}]+)}/g;function AD(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Pa(e,t){if(e===t)return!0;const n=Object.keys(e),s=Object.keys(t);for(const o of n){if(!s.includes(o))return!1;const u=e[o],c=t[o];if(i0(u)&&i0(c)){if(!Pa(u,c))return!1}else if(u!==c)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function i0(e){return e!==null&&typeof e=="object"}function Zu(e){const t=[];for(const[n,s]of Object.entries(e))Array.isArray(s)?s.forEach(o=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function Tu(e){const t={};return e.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");t[decodeURIComponent(o)]=decodeURIComponent(u)}}),t}function Eu(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function SD(e,t){const n=new bD(e,t);return n.subscribe.bind(n)}class bD{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,s){let o;if(t===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");wD(t,["next","error","complete"])?o=t:o={next:t,error:n,complete:s},o.next===void 0&&(o.next=_p),o.error===void 0&&(o.error=_p),o.complete===void 0&&(o.complete=_p);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function wD(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function _p(){}function Se(e){return e&&e._delegate?e._delegate:e}class Pr{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Ca="[DEFAULT]";class RD{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new oD;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t?.identifier),s=t?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(ID(t))try{this.getOrInitializeService({instanceIdentifier:Ca})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(t=Ca){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ca){return this.instances.has(t)}getOptions(t=Ca){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(u);s===d&&c.resolve(o)}return o}onInit(t,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(t),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&t(u,s),()=>{o.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:CD(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=Ca){return this.component?this.component.multipleInstances?t:Ca:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function CD(e){return e===Ca?void 0:e}function ID(e){return e.instantiationMode==="EAGER"}class DD{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new RD(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}var Bt;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(Bt||(Bt={}));const ND={debug:Bt.DEBUG,verbose:Bt.VERBOSE,info:Bt.INFO,warn:Bt.WARN,error:Bt.ERROR,silent:Bt.SILENT},xD=Bt.INFO,VD={[Bt.DEBUG]:"log",[Bt.VERBOSE]:"log",[Bt.INFO]:"info",[Bt.WARN]:"warn",[Bt.ERROR]:"error"},OD=(e,t,...n)=>{if(t<e.logLevel)return;const s=new Date().toISOString(),o=VD[t];if(o)console[o](`[${s}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Qg{constructor(t){this.name=t,this._logLevel=xD,this._logHandler=OD,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Bt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?ND[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Bt.DEBUG,...t),this._logHandler(this,Bt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Bt.VERBOSE,...t),this._logHandler(this,Bt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Bt.INFO,...t),this._logHandler(this,Bt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Bt.WARN,...t),this._logHandler(this,Bt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Bt.ERROR,...t),this._logHandler(this,Bt.ERROR,...t)}}const MD=(e,t)=>t.some(n=>e instanceof n);let s0,r0;function PD(){return s0||(s0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function kD(){return r0||(r0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ab=new WeakMap,$p=new WeakMap,ob=new WeakMap,vp=new WeakMap,Xg=new WeakMap;function LD(e){const t=new Promise((n,s)=>{const o=()=>{e.removeEventListener("success",u),e.removeEventListener("error",c)},u=()=>{n(Nr(e.result)),o()},c=()=>{s(e.error),o()};e.addEventListener("success",u),e.addEventListener("error",c)});return t.then(n=>{n instanceof IDBCursor&&ab.set(n,e)}).catch(()=>{}),Xg.set(t,e),t}function UD(e){if($p.has(e))return;const t=new Promise((n,s)=>{const o=()=>{e.removeEventListener("complete",u),e.removeEventListener("error",c),e.removeEventListener("abort",c)},u=()=>{n(),o()},c=()=>{s(e.error||new DOMException("AbortError","AbortError")),o()};e.addEventListener("complete",u),e.addEventListener("error",c),e.addEventListener("abort",c)});$p.set(e,t)}let Wp={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return $p.get(e);if(t==="objectStoreNames")return e.objectStoreNames||ob.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Nr(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function jD(e){Wp=e(Wp)}function BD(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=e.call(Tp(this),t,...n);return ob.set(s,t.sort?t.sort():[t]),Nr(s)}:kD().includes(e)?function(...t){return e.apply(Tp(this),t),Nr(ab.get(this))}:function(...t){return Nr(e.apply(Tp(this),t))}}function zD(e){return typeof e=="function"?BD(e):(e instanceof IDBTransaction&&UD(e),MD(e,PD())?new Proxy(e,Wp):e)}function Nr(e){if(e instanceof IDBRequest)return LD(e);if(vp.has(e))return vp.get(e);const t=zD(e);return t!==e&&(vp.set(e,t),Xg.set(t,e)),t}const Tp=e=>Xg.get(e);function qD(e,t,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const c=indexedDB.open(e,t),d=Nr(c);return s&&c.addEventListener("upgradeneeded",p=>{s(Nr(c.result),p.oldVersion,p.newVersion,Nr(c.transaction),p)}),n&&c.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),d.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const FD=["get","getKey","getAll","getAllKeys","count"],HD=["put","add","delete","clear"],Ep=new Map;function a0(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Ep.get(t))return Ep.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,o=HD.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||FD.includes(n)))return;const u=async function(c,...d){const p=this.transaction(c,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(d.shift())),(await Promise.all([g[n](...d),o&&p.done]))[0]};return Ep.set(t,u),u}jD(e=>({...e,get:(t,n,s)=>a0(t,n)||e.get(t,n,s),has:(t,n)=>!!a0(t,n)||e.has(t,n)}));class GD{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(KD(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function KD(e){return e.getComponent()?.type==="VERSION"}const Zp="@firebase/app",o0="0.14.6";const Os=new Qg("@firebase/app"),YD="@firebase/app-compat",QD="@firebase/analytics-compat",XD="@firebase/analytics",$D="@firebase/app-check-compat",WD="@firebase/app-check",ZD="@firebase/auth",JD="@firebase/auth-compat",tN="@firebase/database",eN="@firebase/data-connect",nN="@firebase/database-compat",iN="@firebase/functions",sN="@firebase/functions-compat",rN="@firebase/installations",aN="@firebase/installations-compat",oN="@firebase/messaging",lN="@firebase/messaging-compat",uN="@firebase/performance",cN="@firebase/performance-compat",hN="@firebase/remote-config",fN="@firebase/remote-config-compat",dN="@firebase/storage",mN="@firebase/storage-compat",pN="@firebase/firestore",gN="@firebase/ai",yN="@firebase/firestore-compat",_N="firebase",vN="12.6.0";const Jp="[DEFAULT]",TN={[Zp]:"fire-core",[YD]:"fire-core-compat",[XD]:"fire-analytics",[QD]:"fire-analytics-compat",[WD]:"fire-app-check",[$D]:"fire-app-check-compat",[ZD]:"fire-auth",[JD]:"fire-auth-compat",[tN]:"fire-rtdb",[eN]:"fire-data-connect",[nN]:"fire-rtdb-compat",[iN]:"fire-fn",[sN]:"fire-fn-compat",[rN]:"fire-iid",[aN]:"fire-iid-compat",[oN]:"fire-fcm",[lN]:"fire-fcm-compat",[uN]:"fire-perf",[cN]:"fire-perf-compat",[hN]:"fire-rc",[fN]:"fire-rc-compat",[dN]:"fire-gcs",[mN]:"fire-gcs-compat",[pN]:"fire-fst",[yN]:"fire-fst-compat",[gN]:"fire-vertex","fire-js":"fire-js",[_N]:"fire-js-all"};const _f=new Map,EN=new Map,tg=new Map;function l0(e,t){try{e.container.addComponent(t)}catch(n){Os.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function ka(e){const t=e.name;if(tg.has(t))return Os.debug(`There were multiple attempts to register component ${t}.`),!1;tg.set(t,e);for(const n of _f.values())l0(n,e);for(const n of EN.values())l0(n,e);return!0}function Gf(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function zn(e){return e==null?!1:e.settings!==void 0}const AN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},xr=new Wu("app","Firebase",AN);class SN{constructor(t,n,s){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Pr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw xr.create("app-deleted",{appName:this._name})}}const Fa=vN;function lb(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const s={name:Jp,automaticDataCollectionEnabled:!0,...t},o=s.name;if(typeof o!="string"||!o)throw xr.create("bad-app-name",{appName:String(o)});if(n||(n=ib()),!n)throw xr.create("no-options");const u=_f.get(o);if(u){if(Pa(n,u.options)&&Pa(s,u.config))return u;throw xr.create("duplicate-app",{appName:o})}const c=new DD(o);for(const p of tg.values())c.addComponent(p);const d=new SN(n,s,c);return _f.set(o,d),d}function $g(e=Jp){const t=_f.get(e);if(!t&&e===Jp&&ib())return lb();if(!t)throw xr.create("no-app",{appName:e});return t}function Zi(e,t,n){let s=TN[e]??e;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=t.match(/\s|\//);if(o||u){const c=[`Unable to register library "${s}" with version "${t}":`];o&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&c.push("and"),u&&c.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Os.warn(c.join(" "));return}ka(new Pr(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}const bN="firebase-heartbeat-database",wN=1,Lu="firebase-heartbeat-store";let Ap=null;function ub(){return Ap||(Ap=qD(bN,wN,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(Lu)}catch(n){console.warn(n)}}}}).catch(e=>{throw xr.create("idb-open",{originalErrorMessage:e.message})})),Ap}async function RN(e){try{const n=(await ub()).transaction(Lu),s=await n.objectStore(Lu).get(cb(e));return await n.done,s}catch(t){if(t instanceof ls)Os.warn(t.message);else{const n=xr.create("idb-get",{originalErrorMessage:t?.message});Os.warn(n.message)}}}async function u0(e,t){try{const s=(await ub()).transaction(Lu,"readwrite");await s.objectStore(Lu).put(t,cb(e)),await s.done}catch(n){if(n instanceof ls)Os.warn(n.message);else{const s=xr.create("idb-set",{originalErrorMessage:n?.message});Os.warn(s.message)}}}function cb(e){return`${e.name}!${e.options.appId}`}const CN=1024,IN=30;class DN{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new xN(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=c0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>IN){const o=VN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Os.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=c0(),{heartbeatsToSend:n,unsentEntries:s}=NN(this._heartbeatsCache.heartbeats),o=yf(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Os.warn(t),""}}}function c0(){return new Date().toISOString().substring(0,10)}function NN(e,t=CN){const n=[];let s=e.slice();for(const o of e){const u=n.find(c=>c.agent===o.agent);if(u){if(u.dates.push(o.date),h0(n)>t){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),h0(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class xN{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return yD()?_D().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await RN(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return u0(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return u0(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function h0(e){return yf(JSON.stringify({version:2,heartbeats:e})).length}function VN(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let s=1;s<e.length;s++)e[s].date<n&&(n=e[s].date,t=s);return t}function ON(e){ka(new Pr("platform-logger",t=>new GD(t),"PRIVATE")),ka(new Pr("heartbeat",t=>new DN(t),"PRIVATE")),Zi(Zp,o0,e),Zi(Zp,o0,"esm2020"),Zi("fire-js","")}ON("");var MN="firebase",PN="12.7.0";Zi(MN,PN,"app");function hb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const kN=hb,fb=new Wu("auth","Firebase",hb());const vf=new Qg("@firebase/auth");function LN(e,...t){vf.logLevel<=Bt.WARN&&vf.warn(`Auth (${Fa}): ${e}`,...t)}function tf(e,...t){vf.logLevel<=Bt.ERROR&&vf.error(`Auth (${Fa}): ${e}`,...t)}function bi(e,...t){throw Wg(e,...t)}function Ji(e,...t){return Wg(e,...t)}function db(e,t,n){const s={...kN(),[t]:n};return new Wu("auth","Firebase",s).create(t,{appName:e.name})}function Vs(e){return db(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Wg(e,...t){if(typeof e!="string"){const n=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=e.name),e._errorFactory.create(n,...s)}return fb.create(e,...t)}function At(e,t,...n){if(!e)throw Wg(t,...n)}function Ns(e){const t="INTERNAL ASSERTION FAILED: "+e;throw tf(t),new Error(t)}function Ms(e,t){e||Ns(t)}function eg(){return typeof self<"u"&&self.location?.href||""}function UN(){return f0()==="http:"||f0()==="https:"}function f0(){return typeof self<"u"&&self.location?.protocol||null}function jN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(UN()||dD()||"connection"in navigator)?navigator.onLine:!0}function BN(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}class Ju{constructor(t,n){this.shortDelay=t,this.longDelay=n,Ms(n>t,"Short delay should be less than long delay!"),this.isMobile=cD()||mD()}get(){return jN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Zg(e,t){Ms(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class mb{static initialize(t,n,s){this.fetchImpl=t,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ns("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ns("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ns("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const zN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const qN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],FN=new Ju(3e4,6e4);function js(e,t){return e.tenantId&&!t.tenantId?{...t,tenantId:e.tenantId}:t}async function Bs(e,t,n,s,o={}){return pb(e,o,async()=>{let u={},c={};s&&(t==="GET"?c=s:u={body:JSON.stringify(s)});const d=Zu({key:e.config.apiKey,...c}).slice(1),p=await e._getAdditionalHeaders();p["Content-Type"]="application/json",e.languageCode&&(p["X-Firebase-Locale"]=e.languageCode);const g={method:t,headers:p,...u};return fD()||(g.referrerPolicy="no-referrer"),e.emulatorConfig&&Hr(e.emulatorConfig.host)&&(g.credentials="include"),mb.fetch()(await gb(e,e.config.apiHost,n,d),g)})}async function pb(e,t,n){e._canInitEmulator=!1;const s={...zN,...t};try{const o=new GN(e),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const c=await u.json();if("needConfirmation"in c)throw zh(e,"account-exists-with-different-credential",c);if(u.ok&&!("errorMessage"in c))return c;{const d=u.ok?c.errorMessage:c.error.message,[p,g]=d.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw zh(e,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw zh(e,"email-already-in-use",c);if(p==="USER_DISABLED")throw zh(e,"user-disabled",c);const _=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw db(e,_,g);bi(e,_)}}catch(o){if(o instanceof ls)throw o;bi(e,"network-request-failed",{message:String(o)})}}async function tc(e,t,n,s,o={}){const u=await Bs(e,t,n,s,o);return"mfaPendingCredential"in u&&bi(e,"multi-factor-auth-required",{_serverResponse:u}),u}async function gb(e,t,n,s){const o=`${t}${n}?${s}`,u=e,c=u.config.emulator?Zg(e.config,o):`${e.config.apiScheme}://${o}`;return qN.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(c).toString():c}function HN(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class GN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Ji(this.auth,"network-request-failed")),FN.get())})}}function zh(e,t,n){const s={appName:e.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Ji(e,t,s);return o.customData._tokenResponse=n,o}function d0(e){return e!==void 0&&e.enterprise!==void 0}class KN{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return HN(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function YN(e,t){return Bs(e,"GET","/v2/recaptchaConfig",js(e,t))}async function QN(e,t){return Bs(e,"POST","/v1/accounts:delete",t)}async function Tf(e,t){return Bs(e,"POST","/v1/accounts:lookup",t)}function Cu(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function XN(e,t=!1){const n=Se(e),s=await n.getIdToken(t),o=Jg(s);At(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,c=u?.sign_in_provider;return{claims:o,token:s,authTime:Cu(Sp(o.auth_time)),issuedAtTime:Cu(Sp(o.iat)),expirationTime:Cu(Sp(o.exp)),signInProvider:c||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Sp(e){return Number(e)*1e3}function Jg(e){const[t,n,s]=e.split(".");if(t===void 0||n===void 0||s===void 0)return tf("JWT malformed, contained fewer than 3 sections"),null;try{const o=tb(n);return o?JSON.parse(o):(tf("Failed to decode base64 JWT payload"),null)}catch(o){return tf("Caught error parsing JWT payload as JSON",o?.toString()),null}}function m0(e){const t=Jg(e);return At(t,"internal-error"),At(typeof t.exp<"u","internal-error"),At(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Uu(e,t,n=!1){if(n)return t;try{return await t}catch(s){throw s instanceof ls&&$N(s)&&e.auth.currentUser===e&&await e.auth.signOut(),s}}function $N({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}class WN{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class ng{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Cu(this.lastLoginAt),this.creationTime=Cu(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Ef(e){const t=e.auth,n=await e.getIdToken(),s=await Uu(e,Tf(t,{idToken:n}));At(s?.users.length,t,"internal-error");const o=s.users[0];e._notifyReloadListener(o);const u=o.providerUserInfo?.length?yb(o.providerUserInfo):[],c=JN(e.providerData,u),d=e.isAnonymous,p=!(e.email&&o.passwordHash)&&!c?.length,g=d?p:!1,_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new ng(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(e,_)}async function ZN(e){const t=Se(e);await Ef(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function JN(e,t){return[...e.filter(s=>!t.some(o=>o.providerId===s.providerId)),...t]}function yb(e){return e.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function tx(e,t){const n=await pb(e,{},async()=>{const s=Zu({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:u}=e.config,c=await gb(e,o,"/v1/token",`key=${u}`),d=await e._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:d,body:s};return e.emulatorConfig&&Hr(e.emulatorConfig.host)&&(p.credentials="include"),mb.fetch()(c,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function ex(e,t){return Bs(e,"POST","/v2/accounts:revokeToken",js(e,t))}class Ho{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){At(t.idToken,"internal-error"),At(typeof t.idToken<"u","internal-error"),At(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):m0(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){At(t.length!==0,"internal-error");const n=m0(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(At(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await tx(t,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(t,n,s){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,c=new Ho;return s&&(At(typeof s=="string","internal-error",{appName:t}),c.refreshToken=s),o&&(At(typeof o=="string","internal-error",{appName:t}),c.accessToken=o),u&&(At(typeof u=="number","internal-error",{appName:t}),c.expirationTime=u),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Ho,this.toJSON())}_performRefresh(){return Ns("not implemented")}}function Er(e,t){At(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class Ai{constructor({uid:t,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new WN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new ng(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const n=await Uu(this,this.stsTokenManager.getToken(this.auth,t));return At(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return XN(this,t)}reload(){return ZN(this)}_assign(t){this!==t&&(At(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new Ai({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){At(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),n&&await Ef(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(zn(this.auth.app))return Promise.reject(Vs(this.auth));const t=await this.getIdToken();return await Uu(this,QN(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,c=n.photoURL??void 0,d=n.tenantId??void 0,p=n._redirectEventId??void 0,g=n.createdAt??void 0,_=n.lastLoginAt??void 0,{uid:E,emailVerified:A,isAnonymous:R,providerData:k,stsTokenManager:H}=n;At(E&&H,t,"internal-error");const B=Ho.fromJSON(this.name,H);At(typeof E=="string",t,"internal-error"),Er(s,t.name),Er(o,t.name),At(typeof A=="boolean",t,"internal-error"),At(typeof R=="boolean",t,"internal-error"),Er(u,t.name),Er(c,t.name),Er(d,t.name),Er(p,t.name),Er(g,t.name),Er(_,t.name);const Z=new Ai({uid:E,auth:t,email:o,emailVerified:A,displayName:s,isAnonymous:R,photoURL:c,phoneNumber:u,tenantId:d,stsTokenManager:B,createdAt:g,lastLoginAt:_});return k&&Array.isArray(k)&&(Z.providerData=k.map(nt=>({...nt}))),p&&(Z._redirectEventId=p),Z}static async _fromIdTokenResponse(t,n,s=!1){const o=new Ho;o.updateFromServerResponse(n);const u=new Ai({uid:n.localId,auth:t,stsTokenManager:o,isAnonymous:s});return await Ef(u),u}static async _fromGetAccountInfoResponse(t,n,s){const o=n.users[0];At(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?yb(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!u?.length,d=new Ho;d.updateFromIdToken(s);const p=new Ai({uid:o.localId,auth:t,stsTokenManager:d,isAnonymous:c}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new ng(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,g),p}}const p0=new Map;function xs(e){Ms(e instanceof Function,"Expected a class definition");let t=p0.get(e);return t?(Ms(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,p0.set(e,t),t)}class _b{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}_b.type="NONE";const g0=_b;function ef(e,t,n){return`firebase:${e}:${t}:${n}`}class Go{constructor(t,n,s){this.persistence=t,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=ef(this.userKey,o.apiKey,u),this.fullPersistenceKey=ef("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await Tf(this.auth,{idToken:t}).catch(()=>{});return n?Ai._fromGetAccountInfoResponse(this.auth,n,t):null}return Ai._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,s="authUser"){if(!n.length)return new Go(xs(g0),t,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||xs(g0);const c=ef(s,t.config.apiKey,t.name);let d=null;for(const g of n)try{const _=await g._get(c);if(_){let E;if(typeof _=="string"){const A=await Tf(t,{idToken:_}).catch(()=>{});if(!A)break;E=await Ai._fromGetAccountInfoResponse(t,A,_)}else E=Ai._fromJSON(t,_);g!==u&&(d=E),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new Go(u,t,s):(u=p[0],d&&await u._set(c,d.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(c)}catch{}})),new Go(u,t,s))}}function y0(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Ab(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(vb(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(bb(t))return"Blackberry";if(wb(t))return"Webos";if(Tb(t))return"Safari";if((t.includes("chrome/")||Eb(t))&&!t.includes("edge/"))return"Chrome";if(Sb(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=e.match(n);if(s?.length===2)return s[1]}return"Other"}function vb(e=gn()){return/firefox\//i.test(e)}function Tb(e=gn()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Eb(e=gn()){return/crios\//i.test(e)}function Ab(e=gn()){return/iemobile/i.test(e)}function Sb(e=gn()){return/android/i.test(e)}function bb(e=gn()){return/blackberry/i.test(e)}function wb(e=gn()){return/webos/i.test(e)}function ty(e=gn()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function nx(e=gn()){return ty(e)&&!!window.navigator?.standalone}function ix(){return pD()&&document.documentMode===10}function Rb(e=gn()){return ty(e)||Sb(e)||wb(e)||bb(e)||/windows phone/i.test(e)||Ab(e)}function Cb(e,t=[]){let n;switch(e){case"Browser":n=y0(gn());break;case"Worker":n=`${y0(gn())}-${e}`;break;default:n=e}const s=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Fa}/${s}`}class sx{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const s=u=>new Promise((c,d)=>{try{const p=t(u);c(p)}catch(p){d(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const s of this.queue)await s(t),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function rx(e,t={}){return Bs(e,"GET","/v2/passwordPolicy",js(e,t))}const ax=6;class ox{constructor(t){const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??ax,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=t.length>=s),o&&(n.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<t.length;o++)s=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}class lx{constructor(t,n,s,o){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new _0(this),this.idTokenSubscription=new _0(this),this.beforeStateQueue=new sx(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=fb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=xs(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Go.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await Tf(this,{idToken:t}),s=await Ai._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(zn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,c=s?._redirectEventId,d=await this.tryRedirectSignIn(t);(!u||u===c)&&d?.user&&(s=d.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return At(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await Ef(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=BN()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(zn(this.app))return Promise.reject(Vs(this));const n=t?Se(t):null;return n&&At(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&At(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return zn(this.app)?Promise.reject(Vs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return zn(this.app)?Promise.reject(Vs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(xs(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await rx(this),n=new ox(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Wu("auth","Firebase",t())}onAuthStateChanged(t,n,s){return this.registerStateListener(this.authStateSubscription,t,n,s)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,s){return this.registerStateListener(this.idTokenSubscription,t,n,s)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await ex(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,n){const s=await this.getOrInitRedirectPersistenceManager(n);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&xs(t)||this._popupRedirectResolver;At(n,this,"argument-error"),this.redirectPersistenceManager=await Go.create(this,[xs(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(At(d,this,"internal-error"),d.then(()=>{c||u(this.currentUser)}),typeof n=="function"){const p=t.addObserver(n,s,o);return()=>{c=!0,p()}}else{const p=t.addObserver(n);return()=>{c=!0,p()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return At(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=Cb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(t["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){if(zn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&LN(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Gr(e){return Se(e)}class _0{constructor(t){this.auth=t,this.observer=null,this.addObserver=SD(n=>this.observer=n)}get next(){return At(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Kf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ux(e){Kf=e}function Ib(e){return Kf.loadJS(e)}function cx(){return Kf.recaptchaEnterpriseScript}function hx(){return Kf.gapiScript}function fx(e){return`__${e}${Math.floor(Math.random()*1e6)}`}class dx{constructor(){this.enterprise=new mx}ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}class mx{ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}const px="recaptcha-enterprise",Db="NO_RECAPTCHA";class gx{constructor(t){this.type=px,this.auth=Gr(t)}async verify(t="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(c,d)=>{YN(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const g=new KN(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,c(g.siteKey)}}).catch(p=>{d(p)})})}function o(u,c,d){const p=window.grecaptcha;d0(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:t}).then(g=>{c(g)}).catch(()=>{c(Db)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new dx().execute("siteKey",{action:"verify"}):new Promise((u,c)=>{s(this.auth).then(d=>{if(!n&&d0(window.grecaptcha))o(d,u,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let p=cx();p.length!==0&&(p+=d),Ib(p).then(()=>{o(d,u,c)}).catch(g=>{c(g)})}}).catch(d=>{c(d)})})}}async function v0(e,t,n,s=!1,o=!1){const u=new gx(e);let c;if(o)c=Db;else try{c=await u.verify(n)}catch{c=await u.verify(n,!0)}const d={...t};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const p=d.phoneEnrollmentInfo.phoneNumber,g=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const p=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return s?Object.assign(d,{captchaResp:c}):Object.assign(d,{captchaResponse:c}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function Af(e,t,n,s,o){if(e._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await v0(e,t,n,n==="getOobCode");return s(e,u)}else return s(e,t).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await v0(e,t,n,n==="getOobCode");return s(e,c)}else return Promise.reject(u)})}function yx(e,t){const n=Gf(e,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Pa(u,t??{}))return o;bi(o,"already-initialized")}return n.initialize({options:t})}function _x(e,t){const n=t?.persistence||[],s=(Array.isArray(n)?n:[n]).map(xs);t?.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(s,t?.popupRedirectResolver)}function vx(e,t,n){const s=Gr(e);At(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const o=!1,u=Nb(t),{host:c,port:d}=Tx(t),p=d===null?"":`:${d}`,g={url:`${u}//${c}${p}/`},_=Object.freeze({host:c,port:d,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){At(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),At(Pa(g,s.config.emulator)&&Pa(_,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=_,s.settings.appVerificationDisabledForTesting=!0,Hr(c)?(Kg(`${u}//${c}${p}`),Yg("Auth",!0)):Ex()}function Nb(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Tx(e){const t=Nb(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:T0(s.substr(u.length+1))}}else{const[u,c]=s.split(":");return{host:u,port:T0(c)}}}function T0(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function Ex(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}class ey{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return Ns("not implemented")}_getIdTokenResponse(t){return Ns("not implemented")}_linkToIdToken(t,n){return Ns("not implemented")}_getReauthenticationResolver(t){return Ns("not implemented")}}async function Ax(e,t){return Bs(e,"POST","/v1/accounts:signUp",t)}async function Sx(e,t){return tc(e,"POST","/v1/accounts:signInWithPassword",js(e,t))}async function bx(e,t){return Bs(e,"POST","/v1/accounts:sendOobCode",js(e,t))}async function wx(e,t){return bx(e,t)}async function Rx(e,t){return tc(e,"POST","/v1/accounts:signInWithEmailLink",js(e,t))}async function Cx(e,t){return tc(e,"POST","/v1/accounts:signInWithEmailLink",js(e,t))}class ju extends ey{constructor(t,n,s,o=null){super("password",s),this._email=t,this._password=n,this._tenantId=o}static _fromEmailAndPassword(t,n){return new ju(t,n,"password")}static _fromEmailAndCode(t,n,s=null){return new ju(t,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Af(t,n,"signInWithPassword",Sx);case"emailLink":return Rx(t,{email:this._email,oobCode:this._password});default:bi(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Af(t,s,"signUpPassword",Ax);case"emailLink":return Cx(t,{idToken:n,email:this._email,oobCode:this._password});default:bi(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}async function Ko(e,t){return tc(e,"POST","/v1/accounts:signInWithIdp",js(e,t))}const Ix="http://localhost";class La extends ey{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new La(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):bi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const c=new La(s,o);return c.idToken=u.idToken||void 0,c.accessToken=u.accessToken||void 0,c.secret=u.secret,c.nonce=u.nonce,c.pendingToken=u.pendingToken||null,c}_getIdTokenResponse(t){const n=this.buildRequest();return Ko(t,n)}_linkToIdToken(t,n){const s=this.buildRequest();return s.idToken=n,Ko(t,s)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Ko(t,n)}buildRequest(){const t={requestUri:Ix,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Zu(n)}return t}}function Dx(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Nx(e){const t=Tu(Eu(e)).link,n=t?Tu(Eu(t)).deep_link_id:null,s=Tu(Eu(e)).deep_link_id;return(s?Tu(Eu(s)).link:null)||s||n||t||e}class ny{constructor(t){const n=Tu(Eu(t)),s=n.apiKey??null,o=n.oobCode??null,u=Dx(n.mode??null);At(s&&o&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(t){const n=Nx(t);try{return new ny(n)}catch{return null}}}class rl{constructor(){this.providerId=rl.PROVIDER_ID}static credential(t,n){return ju._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const s=ny.parseLink(n);return At(s,"argument-error"),ju._fromEmailAndCode(t,s.code,s.tenantId)}}rl.PROVIDER_ID="password";rl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";rl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class xb{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class ec extends xb{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class br extends ec{constructor(){super("facebook.com")}static credential(t){return La._fromParams({providerId:br.PROVIDER_ID,signInMethod:br.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return br.credentialFromTaggedObject(t)}static credentialFromError(t){return br.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return br.credential(t.oauthAccessToken)}catch{return null}}}br.FACEBOOK_SIGN_IN_METHOD="facebook.com";br.PROVIDER_ID="facebook.com";class wr extends ec{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return La._fromParams({providerId:wr.PROVIDER_ID,signInMethod:wr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return wr.credentialFromTaggedObject(t)}static credentialFromError(t){return wr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:s}=t;if(!n&&!s)return null;try{return wr.credential(n,s)}catch{return null}}}wr.GOOGLE_SIGN_IN_METHOD="google.com";wr.PROVIDER_ID="google.com";class Rr extends ec{constructor(){super("github.com")}static credential(t){return La._fromParams({providerId:Rr.PROVIDER_ID,signInMethod:Rr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Rr.credentialFromTaggedObject(t)}static credentialFromError(t){return Rr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Rr.credential(t.oauthAccessToken)}catch{return null}}}Rr.GITHUB_SIGN_IN_METHOD="github.com";Rr.PROVIDER_ID="github.com";class Cr extends ec{constructor(){super("twitter.com")}static credential(t,n){return La._fromParams({providerId:Cr.PROVIDER_ID,signInMethod:Cr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Cr.credentialFromTaggedObject(t)}static credentialFromError(t){return Cr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=t;if(!n||!s)return null;try{return Cr.credential(n,s)}catch{return null}}}Cr.TWITTER_SIGN_IN_METHOD="twitter.com";Cr.PROVIDER_ID="twitter.com";async function xx(e,t){return tc(e,"POST","/v1/accounts:signUp",js(e,t))}class Ua{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,s,o=!1){const u=await Ai._fromIdTokenResponse(t,s,o),c=E0(s);return new Ua({user:u,providerId:c,_tokenResponse:s,operationType:n})}static async _forOperation(t,n,s){await t._updateTokensIfNecessary(s,!0);const o=E0(s);return new Ua({user:t,providerId:o,_tokenResponse:s,operationType:n})}}function E0(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class Sf extends ls{constructor(t,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Sf.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,n,s,o){return new Sf(t,n,s,o)}}function Vb(e,t,n,s){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Sf._fromErrorAndOperation(e,u,t,s):u})}async function Vx(e,t,n=!1){const s=await Uu(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Ua._forOperation(e,"link",s)}async function Ox(e,t,n=!1){const{auth:s}=e;if(zn(s.app))return Promise.reject(Vs(s));const o="reauthenticate";try{const u=await Uu(e,Vb(s,o,t,e),n);At(u.idToken,s,"internal-error");const c=Jg(u.idToken);At(c,s,"internal-error");const{sub:d}=c;return At(e.uid===d,s,"user-mismatch"),Ua._forOperation(e,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&bi(s,"user-mismatch"),u}}async function Ob(e,t,n=!1){if(zn(e.app))return Promise.reject(Vs(e));const s="signIn",o=await Vb(e,s,t),u=await Ua._fromIdTokenResponse(e,s,o);return n||await e._updateCurrentUser(u.user),u}async function Mx(e,t){return Ob(Gr(e),t)}async function Mb(e){const t=Gr(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function Px(e,t,n){const s=Gr(e);await Af(s,{requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"},"getOobCode",wx)}async function kx(e,t,n){if(zn(e.app))return Promise.reject(Vs(e));const s=Gr(e),c=await Af(s,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",xx).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&Mb(e),p}),d=await Ua._fromIdTokenResponse(s,"signIn",c);return await s._updateCurrentUser(d.user),d}function Lx(e,t,n){return zn(e.app)?Promise.reject(Vs(e)):Mx(Se(e),rl.credential(t,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&Mb(e),s})}function Ux(e,t,n,s){return Se(e).onIdTokenChanged(t,n,s)}function jx(e,t,n){return Se(e).beforeAuthStateChanged(t,n)}function Bx(e,t,n,s){return Se(e).onAuthStateChanged(t,n,s)}const bf="__sak";class Pb{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(bf,"1"),this.storage.removeItem(bf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const zx=1e3,qx=10;class kb extends Pb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Rb(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&t(n,o,s)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((c,d,p)=>{this.notifyListeners(c,p)});return}const s=t.key;n?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(s);!n&&this.localCache[s]===c||this.notifyListeners(s,c)},u=this.storage.getItem(s);ix()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,qx):o()}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:s}),!0)})},zx)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}kb.type="LOCAL";const Fx=kb;class Lb extends Pb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}Lb.type="SESSION";const Ub=Lb;function Hx(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}class Yf{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(o=>o.isListeningto(t));if(n)return n;const s=new Yf(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:s,eventType:o,data:u}=n.data,c=this.handlersMap[o];if(!c?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const d=Array.from(c).map(async g=>g(n.origin,u)),p=await Hx(d);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Yf.receivers=[];function iy(e="",t=10){let n="";for(let s=0;s<t;s++)n+=Math.floor(Math.random()*10);return e+n}class Gx{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,c;return new Promise((d,p)=>{const g=iy("",20);o.port1.start();const _=setTimeout(()=>{p(new Error("unsupported_event"))},s);c={messageChannel:o,onMessage(E){const A=E;if(A.data.eventId===g)switch(A.data.status){case"ack":clearTimeout(_),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),d(A.data.response);break;default:clearTimeout(_),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:t,eventId:g,data:n},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}function ts(){return window}function Kx(e){ts().location.href=e}function jb(){return typeof ts().WorkerGlobalScope<"u"&&typeof ts().importScripts=="function"}async function Yx(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Qx(){return navigator?.serviceWorker?.controller||null}function Xx(){return jb()?self:null}const Bb="firebaseLocalStorageDb",$x=1,wf="firebaseLocalStorage",zb="fbase_key";class nc{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Qf(e,t){return e.transaction([wf],t?"readwrite":"readonly").objectStore(wf)}function Wx(){const e=indexedDB.deleteDatabase(Bb);return new nc(e).toPromise()}function ig(){const e=indexedDB.open(Bb,$x);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const s=e.result;try{s.createObjectStore(wf,{keyPath:zb})}catch(o){n(o)}}),e.addEventListener("success",async()=>{const s=e.result;s.objectStoreNames.contains(wf)?t(s):(s.close(),await Wx(),t(await ig()))})})}async function A0(e,t,n){const s=Qf(e,!0).put({[zb]:t,value:n});return new nc(s).toPromise()}async function Zx(e,t){const n=Qf(e,!1).get(t),s=await new nc(n).toPromise();return s===void 0?null:s.value}function S0(e,t){const n=Qf(e,!0).delete(t);return new nc(n).toPromise()}const Jx=800,t2=3;class qb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ig(),this.db)}async _withRetries(t){let n=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(n++>t2)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return jb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Yf._getInstance(Xx()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await Yx(),!this.activeServiceWorker)return;this.sender=new Gx(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||Qx()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await ig();return await A0(t,bf,"1"),await S0(t,bf),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>A0(s,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(s=>Zx(s,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>S0(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const u=Qf(o,!1).getAll();return new nc(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(t.length!==0)for(const{fbase_key:o,value:u}of t)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Jx)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}qb.type="LOCAL";const e2=qb;new Ju(3e4,6e4);function n2(e,t){return t?xs(t):(At(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}class sy extends ey{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Ko(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Ko(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Ko(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function i2(e){return Ob(e.auth,new sy(e),e.bypassAuthState)}function s2(e){const{auth:t,user:n}=e;return At(n,t,"internal-error"),Ox(n,new sy(e),e.bypassAuthState)}async function r2(e){const{auth:t,user:n}=e;return At(n,t,"internal-error"),Vx(n,new sy(e),e.bypassAuthState)}class Fb{constructor(t,n,s,o,u=!1){this.auth=t,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:c,type:d}=t;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(p))}catch(g){this.reject(g)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return i2;case"linkViaPopup":case"linkViaRedirect":return r2;case"reauthViaPopup":case"reauthViaRedirect":return s2;default:bi(this.auth,"internal-error")}}resolve(t){Ms(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Ms(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const a2=new Ju(2e3,1e4);class Uo extends Fb{constructor(t,n,s,o,u){super(t,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,Uo.currentPopupAction&&Uo.currentPopupAction.cancel(),Uo.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return At(t,this.auth,"internal-error"),t}async onExecution(){Ms(this.filter.length===1,"Popup operations only handle one event");const t=iy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ji(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ji(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Uo.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ji(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,a2.get())};t()}}Uo.currentPopupAction=null;const o2="pendingRedirect",nf=new Map;class l2 extends Fb{constructor(t,n,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let t=nf.get(this.auth._key());if(!t){try{const s=await u2(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(n){t=()=>Promise.reject(n)}nf.set(this.auth._key(),t)}return this.bypassAuthState||nf.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function u2(e,t){const n=f2(t),s=h2(e);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function c2(e,t){nf.set(e._key(),t)}function h2(e){return xs(e._redirectPersistence)}function f2(e){return ef(o2,e.config.apiKey,e.name)}async function d2(e,t,n=!1){if(zn(e.app))return Promise.reject(Vs(e));const s=Gr(e),o=n2(s,t),c=await new l2(s,o,n).execute();return c&&!n&&(delete c.user._redirectEventId,await s._persistUserIfCurrent(c.user),await s._setRedirectUser(null,t)),c}const m2=600*1e3;class p2{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(n=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!g2(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){if(t.error&&!Hb(t)){const s=t.error.code?.split("auth/")[1]||"internal-error";n.onError(Ji(this.auth,s))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const s=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=m2&&this.cachedEventUids.clear(),this.cachedEventUids.has(b0(t))}saveEventToCache(t){this.cachedEventUids.add(b0(t)),this.lastProcessedEventTime=Date.now()}}function b0(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function Hb({type:e,error:t}){return e==="unknown"&&t?.code==="auth/no-auth-event"}function g2(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Hb(e);default:return!1}}async function y2(e,t={}){return Bs(e,"GET","/v1/projects",t)}const _2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,v2=/^https?/;async function T2(e){if(e.config.emulator)return;const{authorizedDomains:t}=await y2(e);for(const n of t)try{if(E2(n))return}catch{}bi(e,"unauthorized-domain")}function E2(e){const t=eg(),{protocol:n,hostname:s}=new URL(t);if(e.startsWith("chrome-extension://")){const c=new URL(e);return c.hostname===""&&s===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===s}if(!v2.test(n))return!1;if(_2.test(e))return s===e;const o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const A2=new Ju(3e4,6e4);function w0(){const e=ts().___jsl;if(e?.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function S2(e){return new Promise((t,n)=>{function s(){w0(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{w0(),n(Ji(e,"network-request-failed"))},timeout:A2.get()})}if(ts().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(ts().gapi?.load)s();else{const o=fx("iframefcb");return ts()[o]=()=>{gapi.load?s():n(Ji(e,"network-request-failed"))},Ib(`${hx()}?onload=${o}`).catch(u=>n(u))}}).catch(t=>{throw sf=null,t})}let sf=null;function b2(e){return sf=sf||S2(e),sf}const w2=new Ju(5e3,15e3),R2="__/auth/iframe",C2="emulator/auth/iframe",I2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},D2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function N2(e){const t=e.config;At(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Zg(t,C2):`https://${e.config.authDomain}/${R2}`,s={apiKey:t.apiKey,appName:e.name,v:Fa},o=D2.get(e.config.apiHost);o&&(s.eid=o);const u=e._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${Zu(s).slice(1)}`}async function x2(e){const t=await b2(e),n=ts().gapi;return At(n,e,"internal-error"),t.open({where:document.body,url:N2(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:I2,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const c=Ji(e,"network-request-failed"),d=ts().setTimeout(()=>{u(c)},w2.get());function p(){ts().clearTimeout(d),o(s)}s.ping(p).then(p,()=>{u(c)})}))}const V2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},O2=500,M2=600,P2="_blank",k2="http://localhost";class R0{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function L2(e,t,n,s=O2,o=M2){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-s)/2,0).toString();let d="";const p={...V2,width:s.toString(),height:o.toString(),top:u,left:c},g=gn().toLowerCase();n&&(d=Eb(g)?P2:n),vb(g)&&(t=t||k2,p.scrollbars="yes");const _=Object.entries(p).reduce((A,[R,k])=>`${A}${R}=${k},`,"");if(nx(g)&&d!=="_self")return U2(t||"",d),new R0(null);const E=window.open(t||"",d,_);At(E,e,"popup-blocked");try{E.focus()}catch{}return new R0(E)}function U2(e,t){const n=document.createElement("a");n.href=e,n.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const j2="__/auth/handler",B2="emulator/auth/handler",z2=encodeURIComponent("fac");async function C0(e,t,n,s,o,u){At(e.config.authDomain,e,"auth-domain-config-required"),At(e.config.apiKey,e,"invalid-api-key");const c={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:s,v:Fa,eventId:o};if(t instanceof xb){t.setDefaultLanguage(e.languageCode),c.providerId=t.providerId||"",AD(t.getCustomParameters())||(c.customParameters=JSON.stringify(t.getCustomParameters()));for(const[_,E]of Object.entries({}))c[_]=E}if(t instanceof ec){const _=t.getScopes().filter(E=>E!=="");_.length>0&&(c.scopes=_.join(","))}e.tenantId&&(c.tid=e.tenantId);const d=c;for(const _ of Object.keys(d))d[_]===void 0&&delete d[_];const p=await e._getAppCheckToken(),g=p?`#${z2}=${encodeURIComponent(p)}`:"";return`${q2(e)}?${Zu(d).slice(1)}${g}`}function q2({config:e}){return e.emulator?Zg(e,B2):`https://${e.authDomain}/${j2}`}const bp="webStorageSupport";class F2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ub,this._completeRedirectFn=d2,this._overrideRedirectResult=c2}async _openPopup(t,n,s,o){Ms(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const u=await C0(t,n,s,eg(),o);return L2(t,u,iy())}async _openRedirect(t,n,s,o){await this._originValidation(t);const u=await C0(t,n,s,eg(),o);return Kx(u),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(Ms(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(t);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(t){const n=await x2(t),s=new p2(t);return n.register("authEvent",o=>(At(o?.authEvent,t,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=n,s}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(bp,{type:bp},o=>{const u=o?.[0]?.[bp];u!==void 0&&n(!!u),bi(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=T2(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return Rb()||Tb()||ty()}}const H2=F2;var I0="@firebase/auth",D0="1.12.0";class G2{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(s=>{t(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){At(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function K2(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Y2(e){ka(new Pr("auth",(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=s.options;At(c&&!c.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:c,authDomain:d,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Cb(e)},g=new lx(s,o,u,p);return _x(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,s)=>{t.getProvider("auth-internal").initialize()})),ka(new Pr("auth-internal",t=>{const n=Gr(t.getProvider("auth").getImmediate());return(s=>new G2(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Zi(I0,D0,K2(e)),Zi(I0,D0,"esm2020")}const Q2=300,X2=sb("authIdTokenMaxAge")||Q2;let N0=null;const $2=e=>async t=>{const n=t&&await t.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>X2)return;const o=n?.token;N0!==o&&(N0=o,await fetch(e,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function W2(e=$g()){const t=Gf(e,"auth");if(t.isInitialized())return t.getImmediate();const n=yx(e,{popupRedirectResolver:H2,persistence:[e2,Fx,Ub]}),s=sb("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const c=$2(u.toString());jx(n,c,()=>c(n.currentUser)),Ux(n,d=>c(d))}}const o=eb("auth");return o&&vx(n,`http://${o}`),n}function Z2(){return document.getElementsByTagName("head")?.[0]??document}ux({loadJS(e){return new Promise((t,n)=>{const s=document.createElement("script");s.setAttribute("src",e),s.onload=t,s.onerror=o=>{const u=Ji("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",Z2().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Y2("Browser");var x0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Vr,Gb;(function(){var e;function t(C,w){function I(){}I.prototype=w.prototype,C.F=w.prototype,C.prototype=new I,C.prototype.constructor=C,C.D=function(O,V,L){for(var D=Array(arguments.length-2),Xt=2;Xt<arguments.length;Xt++)D[Xt-2]=arguments[Xt];return w.prototype[V].apply(O,D)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(C,w,I){I||(I=0);const O=Array(16);if(typeof w=="string")for(var V=0;V<16;++V)O[V]=w.charCodeAt(I++)|w.charCodeAt(I++)<<8|w.charCodeAt(I++)<<16|w.charCodeAt(I++)<<24;else for(V=0;V<16;++V)O[V]=w[I++]|w[I++]<<8|w[I++]<<16|w[I++]<<24;w=C.g[0],I=C.g[1],V=C.g[2];let L=C.g[3],D;D=w+(L^I&(V^L))+O[0]+3614090360&4294967295,w=I+(D<<7&4294967295|D>>>25),D=L+(V^w&(I^V))+O[1]+3905402710&4294967295,L=w+(D<<12&4294967295|D>>>20),D=V+(I^L&(w^I))+O[2]+606105819&4294967295,V=L+(D<<17&4294967295|D>>>15),D=I+(w^V&(L^w))+O[3]+3250441966&4294967295,I=V+(D<<22&4294967295|D>>>10),D=w+(L^I&(V^L))+O[4]+4118548399&4294967295,w=I+(D<<7&4294967295|D>>>25),D=L+(V^w&(I^V))+O[5]+1200080426&4294967295,L=w+(D<<12&4294967295|D>>>20),D=V+(I^L&(w^I))+O[6]+2821735955&4294967295,V=L+(D<<17&4294967295|D>>>15),D=I+(w^V&(L^w))+O[7]+4249261313&4294967295,I=V+(D<<22&4294967295|D>>>10),D=w+(L^I&(V^L))+O[8]+1770035416&4294967295,w=I+(D<<7&4294967295|D>>>25),D=L+(V^w&(I^V))+O[9]+2336552879&4294967295,L=w+(D<<12&4294967295|D>>>20),D=V+(I^L&(w^I))+O[10]+4294925233&4294967295,V=L+(D<<17&4294967295|D>>>15),D=I+(w^V&(L^w))+O[11]+2304563134&4294967295,I=V+(D<<22&4294967295|D>>>10),D=w+(L^I&(V^L))+O[12]+1804603682&4294967295,w=I+(D<<7&4294967295|D>>>25),D=L+(V^w&(I^V))+O[13]+4254626195&4294967295,L=w+(D<<12&4294967295|D>>>20),D=V+(I^L&(w^I))+O[14]+2792965006&4294967295,V=L+(D<<17&4294967295|D>>>15),D=I+(w^V&(L^w))+O[15]+1236535329&4294967295,I=V+(D<<22&4294967295|D>>>10),D=w+(V^L&(I^V))+O[1]+4129170786&4294967295,w=I+(D<<5&4294967295|D>>>27),D=L+(I^V&(w^I))+O[6]+3225465664&4294967295,L=w+(D<<9&4294967295|D>>>23),D=V+(w^I&(L^w))+O[11]+643717713&4294967295,V=L+(D<<14&4294967295|D>>>18),D=I+(L^w&(V^L))+O[0]+3921069994&4294967295,I=V+(D<<20&4294967295|D>>>12),D=w+(V^L&(I^V))+O[5]+3593408605&4294967295,w=I+(D<<5&4294967295|D>>>27),D=L+(I^V&(w^I))+O[10]+38016083&4294967295,L=w+(D<<9&4294967295|D>>>23),D=V+(w^I&(L^w))+O[15]+3634488961&4294967295,V=L+(D<<14&4294967295|D>>>18),D=I+(L^w&(V^L))+O[4]+3889429448&4294967295,I=V+(D<<20&4294967295|D>>>12),D=w+(V^L&(I^V))+O[9]+568446438&4294967295,w=I+(D<<5&4294967295|D>>>27),D=L+(I^V&(w^I))+O[14]+3275163606&4294967295,L=w+(D<<9&4294967295|D>>>23),D=V+(w^I&(L^w))+O[3]+4107603335&4294967295,V=L+(D<<14&4294967295|D>>>18),D=I+(L^w&(V^L))+O[8]+1163531501&4294967295,I=V+(D<<20&4294967295|D>>>12),D=w+(V^L&(I^V))+O[13]+2850285829&4294967295,w=I+(D<<5&4294967295|D>>>27),D=L+(I^V&(w^I))+O[2]+4243563512&4294967295,L=w+(D<<9&4294967295|D>>>23),D=V+(w^I&(L^w))+O[7]+1735328473&4294967295,V=L+(D<<14&4294967295|D>>>18),D=I+(L^w&(V^L))+O[12]+2368359562&4294967295,I=V+(D<<20&4294967295|D>>>12),D=w+(I^V^L)+O[5]+4294588738&4294967295,w=I+(D<<4&4294967295|D>>>28),D=L+(w^I^V)+O[8]+2272392833&4294967295,L=w+(D<<11&4294967295|D>>>21),D=V+(L^w^I)+O[11]+1839030562&4294967295,V=L+(D<<16&4294967295|D>>>16),D=I+(V^L^w)+O[14]+4259657740&4294967295,I=V+(D<<23&4294967295|D>>>9),D=w+(I^V^L)+O[1]+2763975236&4294967295,w=I+(D<<4&4294967295|D>>>28),D=L+(w^I^V)+O[4]+1272893353&4294967295,L=w+(D<<11&4294967295|D>>>21),D=V+(L^w^I)+O[7]+4139469664&4294967295,V=L+(D<<16&4294967295|D>>>16),D=I+(V^L^w)+O[10]+3200236656&4294967295,I=V+(D<<23&4294967295|D>>>9),D=w+(I^V^L)+O[13]+681279174&4294967295,w=I+(D<<4&4294967295|D>>>28),D=L+(w^I^V)+O[0]+3936430074&4294967295,L=w+(D<<11&4294967295|D>>>21),D=V+(L^w^I)+O[3]+3572445317&4294967295,V=L+(D<<16&4294967295|D>>>16),D=I+(V^L^w)+O[6]+76029189&4294967295,I=V+(D<<23&4294967295|D>>>9),D=w+(I^V^L)+O[9]+3654602809&4294967295,w=I+(D<<4&4294967295|D>>>28),D=L+(w^I^V)+O[12]+3873151461&4294967295,L=w+(D<<11&4294967295|D>>>21),D=V+(L^w^I)+O[15]+530742520&4294967295,V=L+(D<<16&4294967295|D>>>16),D=I+(V^L^w)+O[2]+3299628645&4294967295,I=V+(D<<23&4294967295|D>>>9),D=w+(V^(I|~L))+O[0]+4096336452&4294967295,w=I+(D<<6&4294967295|D>>>26),D=L+(I^(w|~V))+O[7]+1126891415&4294967295,L=w+(D<<10&4294967295|D>>>22),D=V+(w^(L|~I))+O[14]+2878612391&4294967295,V=L+(D<<15&4294967295|D>>>17),D=I+(L^(V|~w))+O[5]+4237533241&4294967295,I=V+(D<<21&4294967295|D>>>11),D=w+(V^(I|~L))+O[12]+1700485571&4294967295,w=I+(D<<6&4294967295|D>>>26),D=L+(I^(w|~V))+O[3]+2399980690&4294967295,L=w+(D<<10&4294967295|D>>>22),D=V+(w^(L|~I))+O[10]+4293915773&4294967295,V=L+(D<<15&4294967295|D>>>17),D=I+(L^(V|~w))+O[1]+2240044497&4294967295,I=V+(D<<21&4294967295|D>>>11),D=w+(V^(I|~L))+O[8]+1873313359&4294967295,w=I+(D<<6&4294967295|D>>>26),D=L+(I^(w|~V))+O[15]+4264355552&4294967295,L=w+(D<<10&4294967295|D>>>22),D=V+(w^(L|~I))+O[6]+2734768916&4294967295,V=L+(D<<15&4294967295|D>>>17),D=I+(L^(V|~w))+O[13]+1309151649&4294967295,I=V+(D<<21&4294967295|D>>>11),D=w+(V^(I|~L))+O[4]+4149444226&4294967295,w=I+(D<<6&4294967295|D>>>26),D=L+(I^(w|~V))+O[11]+3174756917&4294967295,L=w+(D<<10&4294967295|D>>>22),D=V+(w^(L|~I))+O[2]+718787259&4294967295,V=L+(D<<15&4294967295|D>>>17),D=I+(L^(V|~w))+O[9]+3951481745&4294967295,C.g[0]=C.g[0]+w&4294967295,C.g[1]=C.g[1]+(V+(D<<21&4294967295|D>>>11))&4294967295,C.g[2]=C.g[2]+V&4294967295,C.g[3]=C.g[3]+L&4294967295}s.prototype.v=function(C,w){w===void 0&&(w=C.length);const I=w-this.blockSize,O=this.C;let V=this.h,L=0;for(;L<w;){if(V==0)for(;L<=I;)o(this,C,L),L+=this.blockSize;if(typeof C=="string"){for(;L<w;)if(O[V++]=C.charCodeAt(L++),V==this.blockSize){o(this,O),V=0;break}}else for(;L<w;)if(O[V++]=C[L++],V==this.blockSize){o(this,O),V=0;break}}this.h=V,this.o+=w},s.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var w=1;w<C.length-8;++w)C[w]=0;w=this.o*8;for(var I=C.length-8;I<C.length;++I)C[I]=w&255,w/=256;for(this.v(C),C=Array(16),w=0,I=0;I<4;++I)for(let O=0;O<32;O+=8)C[w++]=this.g[I]>>>O&255;return C};function u(C,w){var I=d;return Object.prototype.hasOwnProperty.call(I,C)?I[C]:I[C]=w(C)}function c(C,w){this.h=w;const I=[];let O=!0;for(let V=C.length-1;V>=0;V--){const L=C[V]|0;O&&L==w||(I[V]=L,O=!1)}this.g=I}var d={};function p(C){return-128<=C&&C<128?u(C,function(w){return new c([w|0],w<0?-1:0)}):new c([C|0],C<0?-1:0)}function g(C){if(isNaN(C)||!isFinite(C))return E;if(C<0)return B(g(-C));const w=[];let I=1;for(let O=0;C>=I;O++)w[O]=C/I|0,I*=4294967296;return new c(w,0)}function _(C,w){if(C.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(C.charAt(0)=="-")return B(_(C.substring(1),w));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=g(Math.pow(w,8));let O=E;for(let L=0;L<C.length;L+=8){var V=Math.min(8,C.length-L);const D=parseInt(C.substring(L,L+V),w);V<8?(V=g(Math.pow(w,V)),O=O.j(V).add(g(D))):(O=O.j(I),O=O.add(g(D)))}return O}var E=p(0),A=p(1),R=p(16777216);e=c.prototype,e.m=function(){if(H(this))return-B(this).m();let C=0,w=1;for(let I=0;I<this.g.length;I++){const O=this.i(I);C+=(O>=0?O:4294967296+O)*w,w*=4294967296}return C},e.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(k(this))return"0";if(H(this))return"-"+B(this).toString(C);const w=g(Math.pow(C,6));var I=this;let O="";for(;;){const V=ot(I,w).g;I=Z(I,V.j(w));let L=((I.g.length>0?I.g[0]:I.h)>>>0).toString(C);if(I=V,k(I))return L+O;for(;L.length<6;)L="0"+L;O=L+O}},e.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function k(C){if(C.h!=0)return!1;for(let w=0;w<C.g.length;w++)if(C.g[w]!=0)return!1;return!0}function H(C){return C.h==-1}e.l=function(C){return C=Z(this,C),H(C)?-1:k(C)?0:1};function B(C){const w=C.g.length,I=[];for(let O=0;O<w;O++)I[O]=~C.g[O];return new c(I,~C.h).add(A)}e.abs=function(){return H(this)?B(this):this},e.add=function(C){const w=Math.max(this.g.length,C.g.length),I=[];let O=0;for(let V=0;V<=w;V++){let L=O+(this.i(V)&65535)+(C.i(V)&65535),D=(L>>>16)+(this.i(V)>>>16)+(C.i(V)>>>16);O=D>>>16,L&=65535,D&=65535,I[V]=D<<16|L}return new c(I,I[I.length-1]&-2147483648?-1:0)};function Z(C,w){return C.add(B(w))}e.j=function(C){if(k(this)||k(C))return E;if(H(this))return H(C)?B(this).j(B(C)):B(B(this).j(C));if(H(C))return B(this.j(B(C)));if(this.l(R)<0&&C.l(R)<0)return g(this.m()*C.m());const w=this.g.length+C.g.length,I=[];for(var O=0;O<2*w;O++)I[O]=0;for(O=0;O<this.g.length;O++)for(let V=0;V<C.g.length;V++){const L=this.i(O)>>>16,D=this.i(O)&65535,Xt=C.i(V)>>>16,le=C.i(V)&65535;I[2*O+2*V]+=D*le,nt(I,2*O+2*V),I[2*O+2*V+1]+=L*le,nt(I,2*O+2*V+1),I[2*O+2*V+1]+=D*Xt,nt(I,2*O+2*V+1),I[2*O+2*V+2]+=L*Xt,nt(I,2*O+2*V+2)}for(C=0;C<w;C++)I[C]=I[2*C+1]<<16|I[2*C];for(C=w;C<2*w;C++)I[C]=0;return new c(I,0)};function nt(C,w){for(;(C[w]&65535)!=C[w];)C[w+1]+=C[w]>>>16,C[w]&=65535,w++}function $(C,w){this.g=C,this.h=w}function ot(C,w){if(k(w))throw Error("division by zero");if(k(C))return new $(E,E);if(H(C))return w=ot(B(C),w),new $(B(w.g),B(w.h));if(H(w))return w=ot(C,B(w)),new $(B(w.g),w.h);if(C.g.length>30){if(H(C)||H(w))throw Error("slowDivide_ only works with positive integers.");for(var I=A,O=w;O.l(C)<=0;)I=at(I),O=at(O);var V=ht(I,1),L=ht(O,1);for(O=ht(O,2),I=ht(I,2);!k(O);){var D=L.add(O);D.l(C)<=0&&(V=V.add(I),L=D),O=ht(O,1),I=ht(I,1)}return w=Z(C,V.j(w)),new $(V,w)}for(V=E;C.l(w)>=0;){for(I=Math.max(1,Math.floor(C.m()/w.m())),O=Math.ceil(Math.log(I)/Math.LN2),O=O<=48?1:Math.pow(2,O-48),L=g(I),D=L.j(w);H(D)||D.l(C)>0;)I-=O,L=g(I),D=L.j(w);k(L)&&(L=A),V=V.add(L),C=Z(C,D)}return new $(V,C)}e.B=function(C){return ot(this,C).h},e.and=function(C){const w=Math.max(this.g.length,C.g.length),I=[];for(let O=0;O<w;O++)I[O]=this.i(O)&C.i(O);return new c(I,this.h&C.h)},e.or=function(C){const w=Math.max(this.g.length,C.g.length),I=[];for(let O=0;O<w;O++)I[O]=this.i(O)|C.i(O);return new c(I,this.h|C.h)},e.xor=function(C){const w=Math.max(this.g.length,C.g.length),I=[];for(let O=0;O<w;O++)I[O]=this.i(O)^C.i(O);return new c(I,this.h^C.h)};function at(C){const w=C.g.length+1,I=[];for(let O=0;O<w;O++)I[O]=C.i(O)<<1|C.i(O-1)>>>31;return new c(I,C.h)}function ht(C,w){const I=w>>5;w%=32;const O=C.g.length-I,V=[];for(let L=0;L<O;L++)V[L]=w>0?C.i(L+I)>>>w|C.i(L+I+1)<<32-w:C.i(L+I);return new c(V,C.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,Gb=s,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=_,Vr=c}).apply(typeof x0<"u"?x0:typeof self<"u"?self:typeof window<"u"?window:{});var qh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Kb,Au,Yb,rf,sg,Qb,Xb,$b;(function(){var e,t=Object.defineProperty;function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof qh=="object"&&qh];for(var y=0;y<h.length;++y){var T=h[y];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var s=n(this);function o(h,y){if(y)t:{var T=s;h=h.split(".");for(var b=0;b<h.length-1;b++){var j=h[b];if(!(j in T))break t;T=T[j]}h=h[h.length-1],b=T[h],y=y(b),y!=b&&y!=null&&t(T,h,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(h){return h||function(y){var T=[],b;for(b in y)Object.prototype.hasOwnProperty.call(y,b)&&T.push([b,y[b]]);return T}});var u=u||{},c=this||self;function d(h){var y=typeof h;return y=="object"&&h!=null||y=="function"}function p(h,y,T){return h.call.apply(h.bind,arguments)}function g(h,y,T){return g=p,g.apply(null,arguments)}function _(h,y){var T=Array.prototype.slice.call(arguments,1);return function(){var b=T.slice();return b.push.apply(b,arguments),h.apply(this,b)}}function E(h,y){function T(){}T.prototype=y.prototype,h.Z=y.prototype,h.prototype=new T,h.prototype.constructor=h,h.Ob=function(b,j,G){for(var lt=Array(arguments.length-2),xt=2;xt<arguments.length;xt++)lt[xt-2]=arguments[xt];return y.prototype[j].apply(b,lt)}}var A=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function R(h){const y=h.length;if(y>0){const T=Array(y);for(let b=0;b<y;b++)T[b]=h[b];return T}return[]}function k(h,y){for(let b=1;b<arguments.length;b++){const j=arguments[b];var T=typeof j;if(T=T!="object"?T:j?Array.isArray(j)?"array":T:"null",T=="array"||T=="object"&&typeof j.length=="number"){T=h.length||0;const G=j.length||0;h.length=T+G;for(let lt=0;lt<G;lt++)h[T+lt]=j[lt]}else h.push(j)}}class H{constructor(y,T){this.i=y,this.j=T,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function B(h){c.setTimeout(()=>{throw h},0)}function Z(){var h=C;let y=null;return h.g&&(y=h.g,h.g=h.g.next,h.g||(h.h=null),y.next=null),y}class nt{constructor(){this.h=this.g=null}add(y,T){const b=$.get();b.set(y,T),this.h?this.h.next=b:this.g=b,this.h=b}}var $=new H(()=>new ot,h=>h.reset());class ot{constructor(){this.next=this.g=this.h=null}set(y,T){this.h=y,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let at,ht=!1,C=new nt,w=()=>{const h=Promise.resolve(void 0);at=()=>{h.then(I)}};function I(){for(var h;h=Z();){try{h.h.call(h.g)}catch(T){B(T)}var y=$;y.j(h),y.h<100&&(y.h++,h.next=y.g,y.g=h)}ht=!1}function O(){this.u=this.u,this.C=this.C}O.prototype.u=!1,O.prototype.dispose=function(){this.u||(this.u=!0,this.N())},O.prototype[Symbol.dispose]=function(){this.dispose()},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function V(h,y){this.type=h,this.g=this.target=y,this.defaultPrevented=!1}V.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,y=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const T=()=>{};c.addEventListener("test",T,y),c.removeEventListener("test",T,y)}catch{}return h})();function D(h){return/^[\s\xa0]*$/.test(h)}function Xt(h,y){V.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,y)}E(Xt,V),Xt.prototype.init=function(h,y){const T=this.type=h.type,b=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=y,y=h.relatedTarget,y||(T=="mouseover"?y=h.fromElement:T=="mouseout"&&(y=h.toElement)),this.relatedTarget=y,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&Xt.Z.h.call(this)},Xt.prototype.h=function(){Xt.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var le="closure_listenable_"+(Math.random()*1e6|0),Y=0;function st(h,y,T,b,j){this.listener=h,this.proxy=null,this.src=y,this.type=T,this.capture=!!b,this.ha=j,this.key=++Y,this.da=this.fa=!1}function dt(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Ct(h,y,T){for(const b in h)y.call(T,h[b],b,h)}function Mt(h,y){for(const T in h)y.call(void 0,h[T],T,h)}function M(h){const y={};for(const T in h)y[T]=h[T];return y}const X="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ut(h,y){let T,b;for(let j=1;j<arguments.length;j++){b=arguments[j];for(T in b)h[T]=b[T];for(let G=0;G<X.length;G++)T=X[G],Object.prototype.hasOwnProperty.call(b,T)&&(h[T]=b[T])}}function ft(h){this.src=h,this.g={},this.h=0}ft.prototype.add=function(h,y,T,b,j){const G=h.toString();h=this.g[G],h||(h=this.g[G]=[],this.h++);const lt=wt(h,y,b,j);return lt>-1?(y=h[lt],T||(y.fa=!1)):(y=new st(y,this.src,G,!!b,j),y.fa=T,h.push(y)),y};function Et(h,y){const T=y.type;if(T in h.g){var b=h.g[T],j=Array.prototype.indexOf.call(b,y,void 0),G;(G=j>=0)&&Array.prototype.splice.call(b,j,1),G&&(dt(y),h.g[T].length==0&&(delete h.g[T],h.h--))}}function wt(h,y,T,b){for(let j=0;j<h.length;++j){const G=h[j];if(!G.da&&G.listener==y&&G.capture==!!T&&G.ha==b)return j}return-1}var Lt="closure_lm_"+(Math.random()*1e6|0),ce={};function ae(h,y,T,b,j){if(Array.isArray(y)){for(let G=0;G<y.length;G++)ae(h,y[G],T,b,j);return null}return T=$r(T),h&&h[le]?h.J(y,T,d(b)?!!b.capture:!1,j):$t(h,y,T,!1,b,j)}function $t(h,y,T,b,j,G){if(!y)throw Error("Invalid event type");const lt=d(j)?!!j.capture:!!j;let xt=Ri(h);if(xt||(h[Lt]=xt=new ft(h)),T=xt.add(y,T,b,lt,G),T.proxy)return T;if(b=yn(),T.proxy=b,b.src=h,b.listener=T,h.addEventListener)L||(j=lt),j===void 0&&(j=!1),h.addEventListener(y.toString(),b,j);else if(h.attachEvent)h.attachEvent(Hn(y.toString()),b);else if(h.addListener&&h.removeListener)h.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return T}function yn(){function h(T){return y.call(h.src,h.listener,T)}const y=Xr;return h}function zs(h,y,T,b,j){if(Array.isArray(y))for(var G=0;G<y.length;G++)zs(h,y[G],T,b,j);else b=d(b)?!!b.capture:!!b,T=$r(T),h&&h[le]?(h=h.i,G=String(y).toString(),G in h.g&&(y=h.g[G],T=wt(y,T,b,j),T>-1&&(dt(y[T]),Array.prototype.splice.call(y,T,1),y.length==0&&(delete h.g[G],h.h--)))):h&&(h=Ri(h))&&(y=h.g[y.toString()],h=-1,y&&(h=wt(y,T,b,j)),(T=h>-1?y[h]:null)&&qs(T))}function qs(h){if(typeof h!="number"&&h&&!h.da){var y=h.src;if(y&&y[le])Et(y.i,h);else{var T=h.type,b=h.proxy;y.removeEventListener?y.removeEventListener(T,b,h.capture):y.detachEvent?y.detachEvent(Hn(T),b):y.addListener&&y.removeListener&&y.removeListener(b),(T=Ri(y))?(Et(T,h),T.h==0&&(T.src=null,y[Lt]=null)):dt(h)}}}function Hn(h){return h in ce?ce[h]:ce[h]="on"+h}function Xr(h,y){if(h.da)h=!0;else{y=new Xt(y,this);const T=h.listener,b=h.ha||h.src;h.fa&&qs(h),h=T.call(b,y)}return h}function Ri(h){return h=h[Lt],h instanceof ft?h:null}var us="__closure_events_fn_"+(Math.random()*1e9>>>0);function $r(h){return typeof h=="function"?h:(h[us]||(h[us]=function(y){return h.handleEvent(y)}),h[us])}function ve(){O.call(this),this.i=new ft(this),this.M=this,this.G=null}E(ve,O),ve.prototype[le]=!0,ve.prototype.removeEventListener=function(h,y,T,b){zs(this,h,y,T,b)};function Re(h,y){var T,b=h.G;if(b)for(T=[];b;b=b.G)T.push(b);if(h=h.M,b=y.type||y,typeof y=="string")y=new V(y,h);else if(y instanceof V)y.target=y.target||h;else{var j=y;y=new V(b,h),ut(y,j)}j=!0;let G,lt;if(T)for(lt=T.length-1;lt>=0;lt--)G=y.g=T[lt],j=Ci(G,b,!0,y)&&j;if(G=y.g=h,j=Ci(G,b,!0,y)&&j,j=Ci(G,b,!1,y)&&j,T)for(lt=0;lt<T.length;lt++)G=y.g=T[lt],j=Ci(G,b,!1,y)&&j}ve.prototype.N=function(){if(ve.Z.N.call(this),this.i){var h=this.i;for(const y in h.g){const T=h.g[y];for(let b=0;b<T.length;b++)dt(T[b]);delete h.g[y],h.h--}}this.G=null},ve.prototype.J=function(h,y,T,b){return this.i.add(String(h),y,!1,T,b)},ve.prototype.K=function(h,y,T,b){return this.i.add(String(h),y,!0,T,b)};function Ci(h,y,T,b){if(y=h.i.g[String(y)],!y)return!0;y=y.concat();let j=!0;for(let G=0;G<y.length;++G){const lt=y[G];if(lt&&!lt.da&&lt.capture==T){const xt=lt.listener,Ie=lt.ha||lt.src;lt.fa&&Et(h.i,lt),j=xt.call(Ie,b)!==!1&&j}}return j&&!b.defaultPrevented}function ml(h,y){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=g(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:c.setTimeout(h,y||0)}function Fs(h){h.g=ml(()=>{h.g=null,h.i&&(h.i=!1,Fs(h))},h.l);const y=h.h;h.h=null,h.m.apply(null,y)}class Ze extends O{constructor(y,T){super(),this.m=y,this.l=T,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Fs(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function cs(h){O.call(this),this.h=h,this.g={}}E(cs,O);var Wr=[];function Q(h){Ct(h.g,function(y,T){this.g.hasOwnProperty(T)&&qs(y)},h),h.g={}}cs.prototype.N=function(){cs.Z.N.call(this),Q(this)},cs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ct=c.JSON.stringify,Rt=c.JSON.parse,Zt=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function Je(){}function pc(){}var li={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function tn(){V.call(this,"d")}E(tn,V);function Gn(){V.call(this,"c")}E(Gn,V);var Ce={},gc=null;function Ka(){return gc=gc||new ve}Ce.Ia="serverreachability";function yc(h){V.call(this,Ce.Ia,h)}E(yc,V);function Ii(h){const y=Ka();Re(y,new yc(y))}Ce.STAT_EVENT="statevent";function Zr(h,y){V.call(this,Ce.STAT_EVENT,h),this.stat=y}E(Zr,V);function Ve(h){const y=Ka();Re(y,new Zr(y,h))}Ce.Ja="timingevent";function Di(h,y){V.call(this,Ce.Ja,h),this.size=y}E(Di,V);function Ni(h,y){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},y)}function ui(){this.g=!0}ui.prototype.ua=function(){this.g=!1};function gd(h,y,T,b,j,G){h.info(function(){if(h.g)if(G){var lt="",xt=G.split("&");for(let Yt=0;Yt<xt.length;Yt++){var Ie=xt[Yt].split("=");if(Ie.length>1){const me=Ie[0];Ie=Ie[1];const Xn=me.split("_");lt=Xn.length>=2&&Xn[1]=="type"?lt+(me+"="+Ie+"&"):lt+(me+"=redacted&")}}}else lt=null;else lt=G;return"XMLHTTP REQ ("+b+") [attempt "+j+"]: "+y+`
`+T+`
`+lt})}function _c(h,y,T,b,j,G,lt){h.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+j+"]: "+y+`
`+T+`
`+G+" "+lt})}function xi(h,y,T,b){h.info(function(){return"XMLHTTP TEXT ("+y+"): "+yd(h,T)+(b?" "+b:"")})}function Jr(h,y){h.info(function(){return"TIMEOUT: "+y})}ui.prototype.info=function(){};function yd(h,y){if(!h.g)return y;if(!y)return null;try{const G=JSON.parse(y);if(G){for(h=0;h<G.length;h++)if(Array.isArray(G[h])){var T=G[h];if(!(T.length<2)){var b=T[1];if(Array.isArray(b)&&!(b.length<1)){var j=b[0];if(j!="noop"&&j!="stop"&&j!="close")for(let lt=1;lt<b.length;lt++)b[lt]=""}}}}return ct(G)}catch{return y}}var ta={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},pl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},gl;function ea(){}E(ea,Je),ea.prototype.g=function(){return new XMLHttpRequest},gl=new ea;function hs(h){return encodeURIComponent(String(h))}function vc(h){var y=1;h=h.split(":");const T=[];for(;y>0&&h.length;)T.push(h.shift()),y--;return h.length&&T.push(h.join(":")),T}function ci(h,y,T,b){this.j=h,this.i=y,this.l=T,this.S=b||1,this.V=new cs(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new hi}function hi(){this.i=null,this.g="",this.h=!1}var Oe={},Qe={};function Vi(h,y,T){h.M=1,h.A=na(Pe(y)),h.u=T,h.R=!0,Ya(h,null)}function Ya(h,y){h.F=Date.now(),Oi(h),h.B=Pe(h.A);var T=h.B,b=h.S;Array.isArray(b)||(b=[String(b)]),Wa(T.i,"t",b),h.C=0,T=h.j.L,h.h=new hi,h.g=Mc(h.j,T?y:null,!h.u),h.P>0&&(h.O=new Ze(g(h.Y,h,h.g),h.P)),y=h.V,T=h.g,b=h.ba;var j="readystatechange";Array.isArray(j)||(j&&(Wr[0]=j.toString()),j=Wr);for(let G=0;G<j.length;G++){const lt=ae(T,j[G],b||y.handleEvent,!1,y.h||y);if(!lt)break;y.g[lt.key]=lt}y=h.J?M(h.J):{},h.u?(h.v||(h.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,y)):(h.v="GET",h.g.ea(h.B,h.v,null,y)),Ii(),gd(h.i,h.v,h.B,h.l,h.S,h.u)}ci.prototype.ba=function(h){h=h.target;const y=this.O;y&&mi(h)==3?y.j():this.Y(h)},ci.prototype.Y=function(h){try{if(h==this.g)t:{const xt=mi(this.g),Ie=this.g.ya(),Yt=this.g.ca();if(!(xt<3)&&(xt!=3||this.g&&(this.h.h||this.g.la()||en(this.g)))){this.K||xt!=4||Ie==7||(Ie==8||Yt<=0?Ii(3):Ii(2)),Mi(this);var y=this.g.ca();this.X=y;var T=_d(this);if(this.o=y==200,_c(this.i,this.v,this.B,this.l,this.S,xt,y),this.o){if(this.U&&!this.L){e:{if(this.g){var b,j=this.g;if((b=j.g?j.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(b)){var G=b;break e}}G=null}if(h=G)xi(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Pi(this,h);else{this.o=!1,this.m=3,Ve(12),Vn(this),Kn(this);break t}}if(this.R){h=!0;let me;for(;!this.K&&this.C<T.length;)if(me=Ec(this,T),me==Qe){xt==4&&(this.m=4,Ve(14),h=!1),xi(this.i,this.l,null,"[Incomplete Response]");break}else if(me==Oe){this.m=4,Ve(15),xi(this.i,this.l,T,"[Invalid Chunk]"),h=!1;break}else xi(this.i,this.l,me,null),Pi(this,me);if(Tc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),xt!=4||T.length!=0||this.h.h||(this.m=1,Ve(16),h=!1),this.o=this.o&&h,!h)xi(this.i,this.l,T,"[Invalid Chunked Response]"),Vn(this),Kn(this);else if(T.length>0&&!this.W){this.W=!0;var lt=this.j;lt.g==this&&lt.aa&&!lt.P&&(lt.j.info("Great, no buffering proxy detected. Bytes received: "+T.length),xl(lt),lt.P=!0,Ve(11))}}else xi(this.i,this.l,T,null),Pi(this,T);xt==4&&Vn(this),this.o&&!this.K&&(xt==4?Nc(this.j,this):(this.o=!1,Oi(this)))}else ds(this.g),y==400&&T.indexOf("Unknown SID")>0?(this.m=3,Ve(12)):(this.m=0,Ve(13)),Vn(this),Kn(this)}}}catch{}};function _d(h){if(!Tc(h))return h.g.la();const y=en(h.g);if(y==="")return"";let T="";const b=y.length,j=mi(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return Vn(h),Kn(h),"";h.h.i=new c.TextDecoder}for(let G=0;G<b;G++)h.h.h=!0,T+=h.h.i.decode(y[G],{stream:!(j&&G==b-1)});return y.length=0,h.h.g+=T,h.C=0,h.h.g}function Tc(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function Ec(h,y){var T=h.C,b=y.indexOf(`
`,T);return b==-1?Qe:(T=Number(y.substring(T,b)),isNaN(T)?Oe:(b+=1,b+T>y.length?Qe:(y=y.slice(b,b+T),h.C=b+T,y)))}ci.prototype.cancel=function(){this.K=!0,Vn(this)};function Oi(h){h.T=Date.now()+h.H,Qa(h,h.H)}function Qa(h,y){if(h.D!=null)throw Error("WatchDog timer not null");h.D=Ni(g(h.aa,h),y)}function Mi(h){h.D&&(c.clearTimeout(h.D),h.D=null)}ci.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(Jr(this.i,this.B),this.M!=2&&(Ii(),Ve(17)),Vn(this),this.m=2,Kn(this)):Qa(this,this.T-h)};function Kn(h){h.j.I==0||h.K||Nc(h.j,h)}function Vn(h){Mi(h);var y=h.O;y&&typeof y.dispose=="function"&&y.dispose(),h.O=null,Q(h.V),h.g&&(y=h.g,h.g=null,y.abort(),y.dispose())}function Pi(h,y){try{var T=h.j;if(T.I!=0&&(T.g==h||Li(T.h,h))){if(!h.L&&Li(T.h,h)&&T.I==3){try{var b=T.Ba.g.parse(y)}catch{b=null}if(Array.isArray(b)&&b.length==3){var j=b;if(j[0]==0){t:if(!T.v){if(T.g)if(T.g.F+3e3<h.F)no(T),Ws(T);else break t;ua(T),Ve(18)}}else T.xa=j[1],0<T.xa-T.K&&j[2]<37500&&T.F&&T.A==0&&!T.C&&(T.C=Ni(g(T.Va,T),6e3));ki(T.h)<=1&&T.ta&&(T.ta=void 0)}else Fi(T,11)}else if((h.L||T.g==h)&&no(T),!D(y))for(j=T.Ba.g.parse(y),y=0;y<j.length;y++){let Yt=j[y];const me=Yt[0];if(!(me<=T.K))if(T.K=me,Yt=Yt[1],T.I==2)if(Yt[0]=="c"){T.M=Yt[1],T.ba=Yt[2];const Xn=Yt[3];Xn!=null&&(T.ka=Xn,T.j.info("VER="+T.ka));const Hi=Yt[4];Hi!=null&&(T.za=Hi,T.j.info("SVER="+T.za));const pi=Yt[5];pi!=null&&typeof pi=="number"&&pi>0&&(b=1.5*pi,T.O=b,T.j.info("backChannelRequestTimeoutMs_="+b)),b=T;const gi=h.g;if(gi){const ca=gi.g?gi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ca){var G=b.h;G.g||ca.indexOf("spdy")==-1&&ca.indexOf("quic")==-1&&ca.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(vl(G,G.h),G.h=null))}if(b.G){const io=gi.g?gi.g.getResponseHeader("X-HTTP-Session-Id"):null;io&&(b.wa=io,Jt(b.J,b.G,io))}}T.I=3,T.l&&T.l.ra(),T.aa&&(T.T=Date.now()-h.F,T.j.info("Handshake RTT: "+T.T+"ms")),b=T;var lt=h;if(b.na=Oc(b,b.L?b.ba:null,b.W),lt.L){Tl(b.h,lt);var xt=lt,Ie=b.O;Ie&&(xt.H=Ie),xt.D&&(Mi(xt),Oi(xt)),b.g=lt}else Ic(b);T.i.length>0&&qi(T)}else Yt[0]!="stop"&&Yt[0]!="close"||Fi(T,7);else T.I==3&&(Yt[0]=="stop"||Yt[0]=="close"?Yt[0]=="stop"?Fi(T,7):Dl(T):Yt[0]!="noop"&&T.l&&T.l.qa(Yt),T.A=0)}}Ii(4)}catch{}}var Me=class{constructor(h,y){this.g=h,this.map=y}};function yl(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function _l(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function ki(h){return h.h?1:h.g?h.g.size:0}function Li(h,y){return h.h?h.h==y:h.g?h.g.has(y):!1}function vl(h,y){h.g?h.g.add(y):h.h=y}function Tl(h,y){h.h&&h.h==y?h.h=null:h.g&&h.g.has(y)&&h.g.delete(y)}yl.prototype.cancel=function(){if(this.i=El(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function El(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let y=h.i;for(const T of h.g.values())y=y.concat(T.G);return y}return R(h.i)}var Ac=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Xa(h,y){if(h){h=h.split("&");for(let T=0;T<h.length;T++){const b=h[T].indexOf("=");let j,G=null;b>=0?(j=h[T].substring(0,b),G=h[T].substring(b+1)):j=h[T],y(j,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function On(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;h instanceof On?(this.l=h.l,Xe(this,h.j),this.o=h.o,this.g=h.g,Hs(this,h.u),this.h=h.h,Al(this,Rc(h.i)),this.m=h.m):h&&(y=String(h).match(Ac))?(this.l=!1,Xe(this,y[1]||"",!0),this.o=Ui(y[2]||""),this.g=Ui(y[3]||"",!0),Hs(this,y[4]),this.h=Ui(y[5]||"",!0),Al(this,y[6]||"",!0),this.m=Ui(y[7]||"")):(this.l=!1,this.i=new Ks(null,this.l))}On.prototype.toString=function(){const h=[];var y=this.j;y&&h.push(ia(y,$a,!0),":");var T=this.g;return(T||y=="file")&&(h.push("//"),(y=this.o)&&h.push(ia(y,$a,!0),"@"),h.push(hs(T).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.u,T!=null&&h.push(":",String(T))),(T=this.h)&&(this.g&&T.charAt(0)!="/"&&h.push("/"),h.push(ia(T,T.charAt(0)=="/"?Sl:Sc,!0))),(T=this.i.toString())&&h.push("?",T),(T=this.m)&&h.push("#",ia(T,bc)),h.join("")},On.prototype.resolve=function(h){const y=Pe(this);let T=!!h.j;T?Xe(y,h.j):T=!!h.o,T?y.o=h.o:T=!!h.g,T?y.g=h.g:T=h.u!=null;var b=h.h;if(T)Hs(y,h.u);else if(T=!!h.h){if(b.charAt(0)!="/")if(this.g&&!this.h)b="/"+b;else{var j=y.h.lastIndexOf("/");j!=-1&&(b=y.h.slice(0,j+1)+b)}if(j=b,j==".."||j==".")b="";else if(j.indexOf("./")!=-1||j.indexOf("/.")!=-1){b=j.lastIndexOf("/",0)==0,j=j.split("/");const G=[];for(let lt=0;lt<j.length;){const xt=j[lt++];xt=="."?b&&lt==j.length&&G.push(""):xt==".."?((G.length>1||G.length==1&&G[0]!="")&&G.pop(),b&&lt==j.length&&G.push("")):(G.push(xt),b=!0)}b=G.join("/")}else b=j}return T?y.h=b:T=h.i.toString()!=="",T?Al(y,Rc(h.i)):T=!!h.m,T&&(y.m=h.m),y};function Pe(h){return new On(h)}function Xe(h,y,T){h.j=T?Ui(y,!0):y,h.j&&(h.j=h.j.replace(/:$/,""))}function Hs(h,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);h.u=y}else h.u=null}function Al(h,y,T){y instanceof Ks?(h.i=y,Za(h.i,h.l)):(T||(y=ia(y,Gs)),h.i=new Ks(y,h.l))}function Jt(h,y,T){h.i.set(y,T)}function na(h){return Jt(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function Ui(h,y){return h?y?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function ia(h,y,T){return typeof h=="string"?(h=encodeURI(h).replace(y,An),T&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function An(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var $a=/[#\/\?@]/g,Sc=/[#\?:]/g,Sl=/[#\?]/g,Gs=/[#\?@]/g,bc=/#/g;function Ks(h,y){this.h=this.g=null,this.i=h||null,this.j=!!y}function Sn(h){h.g||(h.g=new Map,h.h=0,h.i&&Xa(h.i,function(y,T){h.add(decodeURIComponent(y.replace(/\+/g," ")),T)}))}e=Ks.prototype,e.add=function(h,y){Sn(this),this.i=null,h=Ys(this,h);let T=this.g.get(h);return T||this.g.set(h,T=[]),T.push(y),this.h+=1,this};function wc(h,y){Sn(h),y=Ys(h,y),h.g.has(y)&&(h.i=null,h.h-=h.g.get(y).length,h.g.delete(y))}function bl(h,y){return Sn(h),y=Ys(h,y),h.g.has(y)}e.forEach=function(h,y){Sn(this),this.g.forEach(function(T,b){T.forEach(function(j){h.call(y,j,b,this)},this)},this)};function wl(h,y){Sn(h);let T=[];if(typeof y=="string")bl(h,y)&&(T=T.concat(h.g.get(Ys(h,y))));else for(h=Array.from(h.g.values()),y=0;y<h.length;y++)T=T.concat(h[y]);return T}e.set=function(h,y){return Sn(this),this.i=null,h=Ys(this,h),bl(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[y]),this.h+=1,this},e.get=function(h,y){return h?(h=wl(this,h),h.length>0?String(h[0]):y):y};function Wa(h,y,T){wc(h,y),T.length>0&&(h.i=null,h.g.set(Ys(h,y),R(T)),h.h+=T.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],y=Array.from(this.g.keys());for(let b=0;b<y.length;b++){var T=y[b];const j=hs(T);T=wl(this,T);for(let G=0;G<T.length;G++){let lt=j;T[G]!==""&&(lt+="="+hs(T[G])),h.push(lt)}}return this.i=h.join("&")};function Rc(h){const y=new Ks;return y.i=h.i,h.g&&(y.g=new Map(h.g),y.h=h.h),y}function Ys(h,y){return y=String(y),h.j&&(y=y.toLowerCase()),y}function Za(h,y){y&&!h.j&&(Sn(h),h.i=null,h.g.forEach(function(T,b){const j=b.toLowerCase();b!=j&&(wc(this,b),Wa(this,j,T))},h)),h.j=y}function fi(h,y){const T=new ui;if(c.Image){const b=new Image;b.onload=_(Yn,T,"TestLoadImage: loaded",!0,y,b),b.onerror=_(Yn,T,"TestLoadImage: error",!1,y,b),b.onabort=_(Yn,T,"TestLoadImage: abort",!1,y,b),b.ontimeout=_(Yn,T,"TestLoadImage: timeout",!1,y,b),c.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=h}else y(!1)}function Rl(h,y){const T=new ui,b=new AbortController,j=setTimeout(()=>{b.abort(),Yn(T,"TestPingServer: timeout",!1,y)},1e4);fetch(h,{signal:b.signal}).then(G=>{clearTimeout(j),G.ok?Yn(T,"TestPingServer: ok",!0,y):Yn(T,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(j),Yn(T,"TestPingServer: error",!1,y)})}function Yn(h,y,T,b,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),b(T)}catch{}}function Qs(){this.g=new Zt}function ji(h){this.i=h.Sb||null,this.h=h.ab||!1}E(ji,Je),ji.prototype.g=function(){return new sa(this.i,this.h)};function sa(h,y){ve.call(this),this.H=h,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}E(sa,ve),e=sa.prototype,e.open=function(h,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=y,this.readyState=1,di(this)},e.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(y.body=h),(this.H||c).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Xs(this)),this.readyState=0},e.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,di(this)),this.g&&(this.readyState=3,di(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ja(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ja(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}e.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var y=h.value?h.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!h.done}))&&(this.response=this.responseText+=y)}h.done?Xs(this):di(this),this.readyState==3&&Ja(this)}},e.Oa=function(h){this.g&&(this.response=this.responseText=h,Xs(this))},e.Na=function(h){this.g&&(this.response=h,Xs(this))},e.ga=function(){this.g&&Xs(this)};function Xs(h){h.readyState=4,h.l=null,h.j=null,h.B=null,di(h)}e.setRequestHeader=function(h,y){this.A.append(h,y)},e.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],y=this.h.entries();for(var T=y.next();!T.done;)T=T.value,h.push(T[0]+": "+T[1]),T=y.next();return h.join(`\r
`)};function di(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(sa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Qn(h){let y="";return Ct(h,function(T,b){y+=b,y+=":",y+=T,y+=`\r
`}),y}function ra(h,y,T){t:{for(b in T){var b=!1;break t}b=!0}b||(T=Qn(T),typeof h=="string"?T!=null&&hs(T):Jt(h,y,T))}function ne(h){ve.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}E(ne,ve);var Bi=/^https?$/i,Cl=["POST","PUT"];e=ne.prototype,e.Fa=function(h){this.H=h},e.ea=function(h,y,T,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);y=y?y.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():gl.g(),this.g.onreadystatechange=A(g(this.Ca,this));try{this.B=!0,this.g.open(y,String(h),!0),this.B=!1}catch(G){aa(this,G);return}if(h=T||"",T=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var j in b)T.set(j,b[j]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const G of b.keys())T.set(G,b.get(G));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(T.keys()).find(G=>G.toLowerCase()=="content-type"),j=c.FormData&&h instanceof c.FormData,!(Array.prototype.indexOf.call(Cl,y,void 0)>=0)||b||j||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,lt]of T)this.g.setRequestHeader(G,lt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(G){aa(this,G)}};function aa(h,y){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=y,h.o=5,Il(h),fs(h)}function Il(h){h.A||(h.A=!0,Re(h,"complete"),Re(h,"error"))}e.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,Re(this,"complete"),Re(this,"abort"),fs(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),fs(this,!0)),ne.Z.N.call(this)},e.Ca=function(){this.u||(this.B||this.v||this.j?oa(this):this.Xa())},e.Xa=function(){oa(this)};function oa(h){if(h.h&&typeof u<"u"){if(h.v&&mi(h)==4)setTimeout(h.Ca.bind(h),0);else if(Re(h,"readystatechange"),mi(h)==4){h.h=!1;try{const G=h.ca();t:switch(G){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break t;default:y=!1}var T;if(!(T=y)){var b;if(b=G===0){let lt=String(h.D).match(Ac)[1]||null;!lt&&c.self&&c.self.location&&(lt=c.self.location.protocol.slice(0,-1)),b=!Bi.test(lt?lt.toLowerCase():"")}T=b}if(T)Re(h,"complete"),Re(h,"success");else{h.o=6;try{var j=mi(h)>2?h.g.statusText:""}catch{j=""}h.l=j+" ["+h.ca()+"]",Il(h)}}finally{fs(h)}}}}function fs(h,y){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const T=h.g;h.g=null,y||Re(h,"ready");try{T.onreadystatechange=null}catch{}}}e.isActive=function(){return!!this.g};function mi(h){return h.g?h.g.readyState:0}e.ca=function(){try{return mi(this)>2?this.g.status:-1}catch{return-1}},e.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.La=function(h){if(this.g){var y=this.g.responseText;return h&&y.indexOf(h)==0&&(y=y.substring(h.length)),Rt(y)}};function en(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function ds(h){const y={};h=(h.g&&mi(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<h.length;b++){if(D(h[b]))continue;var T=vc(h[b]);const j=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const G=y[j]||[];y[j]=G,G.push(T)}Mt(y,function(b){return b.join(", ")})}e.ya=function(){return this.o},e.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function zi(h,y,T){return T&&T.internalChannelParams&&T.internalChannelParams[h]||y}function $s(h){this.za=0,this.i=[],this.j=new ui,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=zi("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=zi("baseRetryDelayMs",5e3,h),this.Za=zi("retryDelaySeedMs",1e4,h),this.Ta=zi("forwardChannelMaxRetries",2,h),this.va=zi("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new yl(h&&h.concurrentRequestLimit),this.Ba=new Qs,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}e=$s.prototype,e.ka=8,e.I=1,e.connect=function(h,y,T,b){Ve(0),this.W=h,this.H=y||{},T&&b!==void 0&&(this.H.OSID=T,this.H.OAID=b),this.F=this.X,this.J=Oc(this,null,this.W),qi(this)};function Dl(h){if(to(h),h.I==3){var y=h.V++,T=Pe(h.J);if(Jt(T,"SID",h.M),Jt(T,"RID",y),Jt(T,"TYPE","terminate"),la(h,T),y=new ci(h,h.j,y),y.M=2,y.A=na(Pe(T)),T=!1,c.navigator&&c.navigator.sendBeacon)try{T=c.navigator.sendBeacon(y.A.toString(),"")}catch{}!T&&c.Image&&(new Image().src=y.A,T=!0),T||(y.g=Mc(y.j,null),y.g.ea(y.A)),y.F=Date.now(),Oi(y)}Vc(h)}function Ws(h){h.g&&(xl(h),h.g.cancel(),h.g=null)}function to(h){Ws(h),h.v&&(c.clearTimeout(h.v),h.v=null),no(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&c.clearTimeout(h.m),h.m=null)}function qi(h){if(!_l(h.h)&&!h.m){h.m=!0;var y=h.Ea;at||w(),ht||(at(),ht=!0),C.add(y,h),h.D=0}}function eo(h,y){return ki(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=y.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=Ni(g(h.Ea,h,y),xc(h,h.D)),h.D++,!0)}e.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const j=new ci(this,this.j,h);let G=this.o;if(this.U&&(G?(G=M(G),ut(G,this.U)):G=this.U),this.u!==null||this.R||(j.J=G,G=null),this.S)t:{for(var y=0,T=0;T<this.i.length;T++){e:{var b=this.i[T];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break e}b=void 0}if(b===void 0)break;if(y+=b,y>4096){y=T;break t}if(y===4096||T===this.i.length-1){y=T+1;break t}}y=1e3}else y=1e3;y=Cc(this,j,y),T=Pe(this.J),Jt(T,"RID",h),Jt(T,"CVER",22),this.G&&Jt(T,"X-HTTP-Session-Id",this.G),la(this,T),G&&(this.R?y="headers="+hs(Qn(G))+"&"+y:this.u&&ra(T,this.u,G)),vl(this.h,j),this.Ra&&Jt(T,"TYPE","init"),this.S?(Jt(T,"$req",y),Jt(T,"SID","null"),j.U=!0,Vi(j,T,null)):Vi(j,T,y),this.I=2}}else this.I==3&&(h?Nl(this,h):this.i.length==0||_l(this.h)||Nl(this))};function Nl(h,y){var T;y?T=y.l:T=h.V++;const b=Pe(h.J);Jt(b,"SID",h.M),Jt(b,"RID",T),Jt(b,"AID",h.K),la(h,b),h.u&&h.o&&ra(b,h.u,h.o),T=new ci(h,h.j,T,h.D+1),h.u===null&&(T.J=h.o),y&&(h.i=y.G.concat(h.i)),y=Cc(h,T,1e3),T.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),vl(h.h,T),Vi(T,b,y)}function la(h,y){h.H&&Ct(h.H,function(T,b){Jt(y,b,T)}),h.l&&Ct({},function(T,b){Jt(y,b,T)})}function Cc(h,y,T){T=Math.min(h.i.length,T);const b=h.l?g(h.l.Ka,h.l,h):null;t:{var j=h.i;let xt=-1;for(;;){const Ie=["count="+T];xt==-1?T>0?(xt=j[0].g,Ie.push("ofs="+xt)):xt=0:Ie.push("ofs="+xt);let Yt=!0;for(let me=0;me<T;me++){var G=j[me].g;const Xn=j[me].map;if(G-=xt,G<0)xt=Math.max(0,j[me].g-100),Yt=!1;else try{G="req"+G+"_"||"";try{var lt=Xn instanceof Map?Xn:Object.entries(Xn);for(const[Hi,pi]of lt){let gi=pi;d(pi)&&(gi=ct(pi)),Ie.push(G+Hi+"="+encodeURIComponent(gi))}}catch(Hi){throw Ie.push(G+"type="+encodeURIComponent("_badmap")),Hi}}catch{b&&b(Xn)}}if(Yt){lt=Ie.join("&");break t}}lt=void 0}return h=h.i.splice(0,T),y.G=h,lt}function Ic(h){if(!h.g&&!h.v){h.Y=1;var y=h.Da;at||w(),ht||(at(),ht=!0),C.add(y,h),h.A=0}}function ua(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=Ni(g(h.Da,h),xc(h,h.A)),h.A++,!0)}e.Da=function(){if(this.v=null,Dc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=Ni(g(this.Wa,this),h)}},e.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ve(10),Ws(this),Dc(this))};function xl(h){h.B!=null&&(c.clearTimeout(h.B),h.B=null)}function Dc(h){h.g=new ci(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var y=Pe(h.na);Jt(y,"RID","rpc"),Jt(y,"SID",h.M),Jt(y,"AID",h.K),Jt(y,"CI",h.F?"0":"1"),!h.F&&h.ia&&Jt(y,"TO",h.ia),Jt(y,"TYPE","xmlhttp"),la(h,y),h.u&&h.o&&ra(y,h.u,h.o),h.O&&(h.g.H=h.O);var T=h.g;h=h.ba,T.M=1,T.A=na(Pe(y)),T.u=null,T.R=!0,Ya(T,h)}e.Va=function(){this.C!=null&&(this.C=null,Ws(this),ua(this),Ve(19))};function no(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function Nc(h,y){var T=null;if(h.g==y){no(h),xl(h),h.g=null;var b=2}else if(Li(h.h,y))T=y.G,Tl(h.h,y),b=1;else return;if(h.I!=0){if(y.o)if(b==1){T=y.u?y.u.length:0,y=Date.now()-y.F;var j=h.D;b=Ka(),Re(b,new Di(b,T)),qi(h)}else Ic(h);else if(j=y.m,j==3||j==0&&y.X>0||!(b==1&&eo(h,y)||b==2&&ua(h)))switch(T&&T.length>0&&(y=h.h,y.i=y.i.concat(T)),j){case 1:Fi(h,5);break;case 4:Fi(h,10);break;case 3:Fi(h,6);break;default:Fi(h,2)}}}function xc(h,y){let T=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(T*=2),T*y}function Fi(h,y){if(h.j.info("Error code "+y),y==2){var T=g(h.bb,h),b=h.Ua;const j=!b;b=new On(b||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Xe(b,"https"),na(b),j?fi(b.toString(),T):Rl(b.toString(),T)}else Ve(2);h.I=0,h.l&&h.l.pa(y),Vc(h),to(h)}e.bb=function(h){h?(this.j.info("Successfully pinged google.com"),Ve(2)):(this.j.info("Failed to ping google.com"),Ve(1))};function Vc(h){if(h.I=0,h.ja=[],h.l){const y=El(h.h);(y.length!=0||h.i.length!=0)&&(k(h.ja,y),k(h.ja,h.i),h.h.i.length=0,R(h.i),h.i.length=0),h.l.oa()}}function Oc(h,y,T){var b=T instanceof On?Pe(T):new On(T);if(b.g!="")y&&(b.g=y+"."+b.g),Hs(b,b.u);else{var j=c.location;b=j.protocol,y=y?y+"."+j.hostname:j.hostname,j=+j.port;const G=new On(null);b&&Xe(G,b),y&&(G.g=y),j&&Hs(G,j),T&&(G.h=T),b=G}return T=h.G,y=h.wa,T&&y&&Jt(b,T,y),Jt(b,"VER",h.ka),la(h,b),b}function Mc(h,y,T){if(y&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=h.Aa&&!h.ma?new ne(new ji({ab:T})):new ne(h.ma),y.Fa(h.L),y}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function Pc(){}e=Pc.prototype,e.ra=function(){},e.qa=function(){},e.pa=function(){},e.oa=function(){},e.isActive=function(){return!0},e.Ka=function(){};function Zs(){}Zs.prototype.g=function(h,y){return new _n(h,y)};function _n(h,y){ve.call(this),this.g=new $s(y),this.l=h,this.h=y&&y.messageUrlParams||null,h=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(h?h["X-WebChannel-Content-Type"]=y.messageContentType:h={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(h?h["X-WebChannel-Client-Profile"]=y.sa:h={"X-WebChannel-Client-Profile":y.sa}),this.g.U=h,(h=y&&y.Qb)&&!D(h)&&(this.g.u=h),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!D(y)&&(this.g.G=y,h=this.h,h!==null&&y in h&&(h=this.h,y in h&&delete h[y])),this.j=new ms(this)}E(_n,ve),_n.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},_n.prototype.close=function(){Dl(this.g)},_n.prototype.o=function(h){var y=this.g;if(typeof h=="string"){var T={};T.__data__=h,h=T}else this.v&&(T={},T.__data__=ct(h),h=T);y.i.push(new Me(y.Ya++,h)),y.I==3&&qi(y)},_n.prototype.N=function(){this.g.l=null,delete this.j,Dl(this.g),delete this.g,_n.Z.N.call(this)};function kc(h){tn.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var y=h.__sm__;if(y){t:{for(const T in y){h=T;break t}h=void 0}(this.i=h)&&(h=this.i,y=y!==null&&h in y?y[h]:void 0),this.data=y}else this.data=h}E(kc,tn);function Lc(){Gn.call(this),this.status=1}E(Lc,Gn);function ms(h){this.g=h}E(ms,Pc),ms.prototype.ra=function(){Re(this.g,"a")},ms.prototype.qa=function(h){Re(this.g,new kc(h))},ms.prototype.pa=function(h){Re(this.g,new Lc)},ms.prototype.oa=function(){Re(this.g,"b")},Zs.prototype.createWebChannel=Zs.prototype.g,_n.prototype.send=_n.prototype.o,_n.prototype.open=_n.prototype.m,_n.prototype.close=_n.prototype.close,$b=function(){return new Zs},Xb=function(){return Ka()},Qb=Ce,sg={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ta.NO_ERROR=0,ta.TIMEOUT=8,ta.HTTP_ERROR=6,rf=ta,pl.COMPLETE="complete",Yb=pl,pc.EventType=li,li.OPEN="a",li.CLOSE="b",li.ERROR="c",li.MESSAGE="d",ve.prototype.listen=ve.prototype.J,Au=pc,ne.prototype.listenOnce=ne.prototype.K,ne.prototype.getLastError=ne.prototype.Ha,ne.prototype.getLastErrorCode=ne.prototype.ya,ne.prototype.getStatus=ne.prototype.ca,ne.prototype.getResponseJson=ne.prototype.La,ne.prototype.getResponseText=ne.prototype.la,ne.prototype.send=ne.prototype.ea,ne.prototype.setWithCredentials=ne.prototype.Fa,Kb=ne}).apply(typeof qh<"u"?qh:typeof self<"u"?self:typeof window<"u"?window:{});const V0="@firebase/firestore",O0="4.9.3";class dn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}dn.UNAUTHENTICATED=new dn(null),dn.GOOGLE_CREDENTIALS=new dn("google-credentials-uid"),dn.FIRST_PARTY=new dn("first-party-uid"),dn.MOCK_USER=new dn("mock-user");let al="12.7.0";const ja=new Qg("@firebase/firestore");function Mo(){return ja.logLevel}function pt(e,...t){if(ja.logLevel<=Bt.DEBUG){const n=t.map(ry);ja.debug(`Firestore (${al}): ${e}`,...n)}}function Ps(e,...t){if(ja.logLevel<=Bt.ERROR){const n=t.map(ry);ja.error(`Firestore (${al}): ${e}`,...n)}}function Wo(e,...t){if(ja.logLevel<=Bt.WARN){const n=t.map(ry);ja.warn(`Firestore (${al}): ${e}`,...n)}}function ry(e){if(typeof e=="string")return e;try{return(function(n){return JSON.stringify(n)})(e)}catch{return e}}function St(e,t,n){let s="Unexpected state";typeof t=="string"?s=t:n=t,Wb(e,s,n)}function Wb(e,t,n){let s=`FIRESTORE (${al}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Ps(s),new Error(s)}function Wt(e,t,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,e||Wb(t,o,s)}function Nt(e,t){return e}const et={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class mt extends ls{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Or{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}}class Zb{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class J2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable((()=>n(dn.UNAUTHENTICATED)))}shutdown(){}}class tV{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class eV{constructor(t){this.t=t,this.currentUser=dn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Wt(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new Or;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Or,t.enqueueRetryable((()=>o(this.currentUser)))};const c=()=>{const p=u;t.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},d=p=>{pt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((p=>d(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?d(p):(pt("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Or)}}),0),c()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==t?(pt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Wt(typeof s.accessToken=="string",31837,{l:s}),new Zb(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Wt(t===null||typeof t=="string",2055,{h:t}),new dn(t)}}class nV{constructor(t,n,s){this.P=t,this.T=n,this.I=s,this.type="FirstParty",this.user=dn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class iV{constructor(t,n,s){this.P=t,this.T=n,this.I=s}getToken(){return Promise.resolve(new nV(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable((()=>n(dn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class M0{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class sV{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,zn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){Wt(this.o===void 0,3512);const s=u=>{u.error!=null&&pt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const c=u.token!==this.m;return this.m=u.token,pt("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable((()=>s(u)))};const o=u=>{pt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):pt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new M0(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((n=>n?(Wt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new M0(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function rV(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<e;s++)n[s]=Math.floor(256*Math.random());return n}class ay{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=rV(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=t.charAt(o[u]%62))}return s}}function zt(e,t){return e<t?-1:e>t?1:0}function rg(e,t){const n=Math.min(e.length,t.length);for(let s=0;s<n;s++){const o=e.charAt(s),u=t.charAt(s);if(o!==u)return wp(o)===wp(u)?zt(o,u):wp(o)?1:-1}return zt(e.length,t.length)}const aV=55296,oV=57343;function wp(e){const t=e.charCodeAt(0);return t>=aV&&t<=oV}function Zo(e,t,n){return e.length===t.length&&e.every(((s,o)=>n(s,t[o])))}const P0="__name__";class $i{constructor(t,n,s){n===void 0?n=0:n>t.length&&St(637,{offset:n,range:t.length}),s===void 0?s=t.length-n:s>t.length-n&&St(1746,{length:s,range:t.length-n}),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return $i.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof $i?t.forEach((s=>{n.push(s)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let o=0;o<s;o++){const u=$i.compareSegments(t.get(o),n.get(o));if(u!==0)return u}return zt(t.length,n.length)}static compareSegments(t,n){const s=$i.isNumericId(t),o=$i.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?$i.extractNumericId(t).compare($i.extractNumericId(n)):rg(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Vr.fromString(t.substring(4,t.length-2))}}class ue extends $i{construct(t,n,s){return new ue(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new mt(et.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new ue(n)}static emptyPath(){return new ue([])}}const lV=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class un extends $i{construct(t,n,s){return new un(t,n,s)}static isValidIdentifier(t){return lV.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),un.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===P0}static keyField(){return new un([P0])}static fromServerFormat(t){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new mt(et.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let c=!1;for(;o<t.length;){const d=t[o];if(d==="\\"){if(o+1===t.length)throw new mt(et.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new mt(et.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=p,o+=2}else d==="`"?(c=!c,o++):d!=="."||c?(s+=d,o++):(u(),o++)}if(u(),c)throw new mt(et.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new un(n)}static emptyPath(){return new un([])}}class vt{constructor(t){this.path=t}static fromPath(t){return new vt(ue.fromString(t))}static fromName(t){return new vt(ue.fromString(t).popFirst(5))}static empty(){return new vt(ue.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ue.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return ue.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new vt(new ue(t.slice()))}}function Jb(e,t,n){if(!n)throw new mt(et.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function uV(e,t,n,s){if(t===!0&&s===!0)throw new mt(et.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function k0(e){if(!vt.isDocumentKey(e))throw new mt(et.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function L0(e){if(vt.isDocumentKey(e))throw new mt(et.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function tw(e){return typeof e=="object"&&e!==null&&(Object.getPrototypeOf(e)===Object.prototype||Object.getPrototypeOf(e)===null)}function Xf(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=(function(s){return s.constructor?s.constructor.name:null})(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":St(12329,{type:typeof e})}function Ba(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new mt(et.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Xf(e);throw new mt(et.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}function Fe(e,t){const n={typeString:e};return t&&(n.value=t),n}function ic(e,t){if(!tw(e))throw new mt(et.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in t)if(t[s]){const o=t[s].typeString,u="value"in t[s]?{value:t[s].value}:void 0;if(!(s in e)){n=`JSON missing required field: '${s}'`;break}const c=e[s];if(o&&typeof c!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&c!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new mt(et.INVALID_ARGUMENT,n);return!0}const U0=-62135596800,j0=1e6;class de{static now(){return de.fromMillis(Date.now())}static fromDate(t){return de.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor((t-1e3*n)*j0);return new de(n,s)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new mt(et.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new mt(et.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<U0)throw new mt(et.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new mt(et.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/j0}_compareTo(t){return this.seconds===t.seconds?zt(this.nanoseconds,t.nanoseconds):zt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:de._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(ic(t,de._jsonSchema))return new de(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-U0;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}de._jsonSchemaVersion="firestore/timestamp/1.0",de._jsonSchema={type:Fe("string",de._jsonSchemaVersion),seconds:Fe("number"),nanoseconds:Fe("number")};class It{static fromTimestamp(t){return new It(t)}static min(){return new It(new de(0,0))}static max(){return new It(new de(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Bu=-1;function cV(e,t){const n=e.toTimestamp().seconds,s=e.toTimestamp().nanoseconds+1,o=It.fromTimestamp(s===1e9?new de(n+1,0):new de(n,s));return new kr(o,vt.empty(),t)}function hV(e){return new kr(e.readTime,e.key,Bu)}class kr{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new kr(It.min(),vt.empty(),Bu)}static max(){return new kr(It.max(),vt.empty(),Bu)}}function fV(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=vt.comparator(e.documentKey,t.documentKey),n!==0?n:zt(e.largestBatchId,t.largestBatchId))}const dV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class mV{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function ol(e){if(e.code!==et.FAILED_PRECONDITION||e.message!==dV)throw e;pt("LocalStore","Unexpectedly lost primary lease")}class it{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&St(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new it(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((t,n)=>{this.next(t,n)}))}wrapUserFunction(t){try{const n=t();return n instanceof it?n:it.resolve(n)}catch(n){return it.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):it.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):it.reject(n)}static resolve(t){return new it(((n,s)=>{n(t)}))}static reject(t){return new it(((n,s)=>{s(t)}))}static waitFor(t){return new it(((n,s)=>{let o=0,u=0,c=!1;t.forEach((d=>{++o,d.next((()=>{++u,c&&u===o&&n()}),(p=>s(p)))})),c=!0,u===o&&n()}))}static or(t){let n=it.resolve(!1);for(const s of t)n=n.next((o=>o?it.resolve(o):s()));return n}static forEach(t,n){const s=[];return t.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(t,n){return new it(((s,o)=>{const u=t.length,c=new Array(u);let d=0;for(let p=0;p<u;p++){const g=p;n(t[g]).next((_=>{c[g]=_,++d,d===u&&s(c)}),(_=>o(_)))}}))}static doWhile(t,n){return new it(((s,o)=>{const u=()=>{t()===!0?n().next((()=>{u()}),o):s()};u()}))}}function pV(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ll(e){return e.name==="IndexedDbTransactionError"}class $f{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}$f.ce=-1;const oy=-1;function Wf(e){return e==null}function Rf(e){return e===0&&1/e==-1/0}function gV(e){return typeof e=="number"&&Number.isInteger(e)&&!Rf(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}const ew="";function yV(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=B0(t)),t=_V(e.get(n),t);return B0(t)}function _V(e,t){let n=t;const s=e.length;for(let o=0;o<s;o++){const u=e.charAt(o);switch(u){case"\0":n+="";break;case ew:n+="";break;default:n+=u}}return n}function B0(e){return e+ew+""}function z0(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Kr(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function nw(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class _e{constructor(t,n){this.comparator=t,this.root=n||ln.EMPTY}insert(t,n){return new _e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,ln.BLACK,null,null))}remove(t){return new _e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,ln.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(t,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((n,s)=>(t(n,s),!1)))}toString(){const t=[];return this.inorderTraversal(((n,s)=>(t.push(`${n}:${s}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Fh(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Fh(this.root,t,this.comparator,!1)}getReverseIterator(){return new Fh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Fh(this.root,t,this.comparator,!0)}}class Fh{constructor(t,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=n?s(t.key,n):1,n&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class ln{constructor(t,n,s,o,u){this.key=t,this.value=n,this.color=s??ln.RED,this.left=o??ln.EMPTY,this.right=u??ln.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,o,u){return new ln(t??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let o=this;const u=s(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return ln.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return ln.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,ln.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,ln.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw St(43730,{key:this.key,value:this.value});if(this.right.isRed())throw St(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw St(27949);return t+(this.isRed()?0:1)}}ln.EMPTY=null,ln.RED=!0,ln.BLACK=!1;ln.EMPTY=new class{constructor(){this.size=0}get key(){throw St(57766)}get value(){throw St(16141)}get color(){throw St(16727)}get left(){throw St(29726)}get right(){throw St(36894)}copy(t,n,s,o,u){return this}insert(t,n,s){return new ln(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ye{constructor(t){this.comparator=t,this.data=new _e(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((n,s)=>(t(n),!1)))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new q0(this.data.getIterator())}getIteratorFrom(t){return new q0(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach((s=>{n=n.add(s)})),n}isEqual(t){if(!(t instanceof Ye)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((n=>{t.push(n)})),t}toString(){const t=[];return this.forEach((n=>t.push(n))),"SortedSet("+t.toString()+")"}copy(t){const n=new Ye(this.comparator);return n.data=t,n}}class q0{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class qn{constructor(t){this.fields=t,t.sort(un.comparator)}static empty(){return new qn([])}unionWith(t){let n=new Ye(un.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new qn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Zo(this.fields,t.fields,((n,s)=>n.isEqual(s)))}}class iw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class cn{constructor(t){this.binaryString=t}static fromBase64String(t){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new iw("Invalid base64 string: "+u):u}})(t);return new cn(n)}static fromUint8Array(t){const n=(function(o){let u="";for(let c=0;c<o.length;++c)u+=String.fromCharCode(o[c]);return u})(t);return new cn(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return zt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}cn.EMPTY_BYTE_STRING=new cn("");const vV=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Lr(e){if(Wt(!!e,39018),typeof e=="string"){let t=0;const n=vV.exec(e);if(Wt(!!n,46558,{timestamp:e}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),t=Number(o)}const s=new Date(e);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:xe(e.seconds),nanos:xe(e.nanos)}}function xe(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function Ur(e){return typeof e=="string"?cn.fromBase64String(e):cn.fromUint8Array(e)}const sw="server_timestamp",rw="__type__",aw="__previous_value__",ow="__local_write_time__";function ly(e){return(e?.mapValue?.fields||{})[rw]?.stringValue===sw}function Zf(e){const t=e.mapValue.fields[aw];return ly(t)?Zf(t):t}function zu(e){const t=Lr(e.mapValue.fields[ow].timestampValue);return new de(t.seconds,t.nanos)}class TV{constructor(t,n,s,o,u,c,d,p,g,_){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=_}}const Cf="(default)";class qu{constructor(t,n){this.projectId=t,this.database=n||Cf}static empty(){return new qu("","")}get isDefaultDatabase(){return this.database===Cf}isEqual(t){return t instanceof qu&&t.projectId===this.projectId&&t.database===this.database}}const lw="__type__",EV="__max__",Hh={mapValue:{}},uw="__vector__",If="value";function jr(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?ly(e)?4:SV(e)?9007199254740991:AV(e)?10:11:St(28295,{value:e})}function os(e,t){if(e===t)return!0;const n=jr(e);if(n!==jr(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return zu(e).isEqual(zu(t));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const c=Lr(o.timestampValue),d=Lr(u.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos})(e,t);case 5:return e.stringValue===t.stringValue;case 6:return(function(o,u){return Ur(o.bytesValue).isEqual(Ur(u.bytesValue))})(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return(function(o,u){return xe(o.geoPointValue.latitude)===xe(u.geoPointValue.latitude)&&xe(o.geoPointValue.longitude)===xe(u.geoPointValue.longitude)})(e,t);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return xe(o.integerValue)===xe(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const c=xe(o.doubleValue),d=xe(u.doubleValue);return c===d?Rf(c)===Rf(d):isNaN(c)&&isNaN(d)}return!1})(e,t);case 9:return Zo(e.arrayValue.values||[],t.arrayValue.values||[],os);case 10:case 11:return(function(o,u){const c=o.mapValue.fields||{},d=u.mapValue.fields||{};if(z0(c)!==z0(d))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(d[p]===void 0||!os(c[p],d[p])))return!1;return!0})(e,t);default:return St(52216,{left:e})}}function Fu(e,t){return(e.values||[]).find((n=>os(n,t)))!==void 0}function Jo(e,t){if(e===t)return 0;const n=jr(e),s=jr(t);if(n!==s)return zt(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return zt(e.booleanValue,t.booleanValue);case 2:return(function(u,c){const d=xe(u.integerValue||u.doubleValue),p=xe(c.integerValue||c.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1})(e,t);case 3:return F0(e.timestampValue,t.timestampValue);case 4:return F0(zu(e),zu(t));case 5:return rg(e.stringValue,t.stringValue);case 6:return(function(u,c){const d=Ur(u),p=Ur(c);return d.compareTo(p)})(e.bytesValue,t.bytesValue);case 7:return(function(u,c){const d=u.split("/"),p=c.split("/");for(let g=0;g<d.length&&g<p.length;g++){const _=zt(d[g],p[g]);if(_!==0)return _}return zt(d.length,p.length)})(e.referenceValue,t.referenceValue);case 8:return(function(u,c){const d=zt(xe(u.latitude),xe(c.latitude));return d!==0?d:zt(xe(u.longitude),xe(c.longitude))})(e.geoPointValue,t.geoPointValue);case 9:return H0(e.arrayValue,t.arrayValue);case 10:return(function(u,c){const d=u.fields||{},p=c.fields||{},g=d[If]?.arrayValue,_=p[If]?.arrayValue,E=zt(g?.values?.length||0,_?.values?.length||0);return E!==0?E:H0(g,_)})(e.mapValue,t.mapValue);case 11:return(function(u,c){if(u===Hh.mapValue&&c===Hh.mapValue)return 0;if(u===Hh.mapValue)return 1;if(c===Hh.mapValue)return-1;const d=u.fields||{},p=Object.keys(d),g=c.fields||{},_=Object.keys(g);p.sort(),_.sort();for(let E=0;E<p.length&&E<_.length;++E){const A=rg(p[E],_[E]);if(A!==0)return A;const R=Jo(d[p[E]],g[_[E]]);if(R!==0)return R}return zt(p.length,_.length)})(e.mapValue,t.mapValue);default:throw St(23264,{he:n})}}function F0(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return zt(e,t);const n=Lr(e),s=Lr(t),o=zt(n.seconds,s.seconds);return o!==0?o:zt(n.nanos,s.nanos)}function H0(e,t){const n=e.values||[],s=t.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=Jo(n[o],s[o]);if(u)return u}return zt(n.length,s.length)}function tl(e){return ag(e)}function ag(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?(function(n){const s=Lr(n);return`time(${s.seconds},${s.nanos})`})(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?(function(n){return Ur(n).toBase64()})(e.bytesValue):"referenceValue"in e?(function(n){return vt.fromName(n).toString()})(e.referenceValue):"geoPointValue"in e?(function(n){return`geo(${n.latitude},${n.longitude})`})(e.geoPointValue):"arrayValue"in e?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=ag(u);return s+"]"})(e.arrayValue):"mapValue"in e?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const c of s)u?u=!1:o+=",",o+=`${c}:${ag(n.fields[c])}`;return o+"}"})(e.mapValue):St(61005,{value:e})}function af(e){switch(jr(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Zf(e);return t?16+af(t):16;case 5:return 2*e.stringValue.length;case 6:return Ur(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+af(u)),0)})(e.arrayValue);case 10:case 11:return(function(s){let o=0;return Kr(s.fields,((u,c)=>{o+=u.length+af(c)})),o})(e.mapValue);default:throw St(13486,{value:e})}}function G0(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function og(e){return!!e&&"integerValue"in e}function uy(e){return!!e&&"arrayValue"in e}function K0(e){return!!e&&"nullValue"in e}function Y0(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function of(e){return!!e&&"mapValue"in e}function AV(e){return(e?.mapValue?.fields||{})[lw]?.stringValue===uw}function Iu(e){if(e.geoPointValue)return{geoPointValue:{...e.geoPointValue}};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:{...e.timestampValue}};if(e.mapValue){const t={mapValue:{fields:{}}};return Kr(e.mapValue.fields,((n,s)=>t.mapValue.fields[n]=Iu(s))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Iu(e.arrayValue.values[n]);return t}return{...e}}function SV(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===EV}class Nn{constructor(t){this.value=t}static empty(){return new Nn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!of(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Iu(n)}setAll(t){let n=un.emptyPath(),s={},o=[];t.forEach(((c,d)=>{if(!n.isImmediateParentOf(d)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=d.popLast()}c?s[d.lastSegment()]=Iu(c):o.push(d.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(t){const n=this.field(t.popLast());of(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return os(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let o=n.mapValue.fields[t.get(s)];of(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(t,n,s){Kr(n,((o,u)=>t[o]=u));for(const o of s)delete t[o]}clone(){return new Nn(Iu(this.value))}}function cw(e){const t=[];return Kr(e.fields,((n,s)=>{const o=new un([n]);if(of(s)){const u=cw(s.mapValue).fields;if(u.length===0)t.push(o);else for(const c of u)t.push(o.child(c))}else t.push(o)})),new qn(t)}class mn{constructor(t,n,s,o,u,c,d){this.key=t,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=c,this.documentState=d}static newInvalidDocument(t){return new mn(t,0,It.min(),It.min(),It.min(),Nn.empty(),0)}static newFoundDocument(t,n,s,o){return new mn(t,1,n,It.min(),s,o,0)}static newNoDocument(t,n){return new mn(t,2,n,It.min(),It.min(),Nn.empty(),0)}static newUnknownDocument(t,n){return new mn(t,3,n,It.min(),It.min(),Nn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(It.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Nn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Nn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=It.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof mn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new mn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Df{constructor(t,n){this.position=t,this.inclusive=n}}function Q0(e,t,n){let s=0;for(let o=0;o<e.position.length;o++){const u=t[o],c=e.position[o];if(u.field.isKeyField()?s=vt.comparator(vt.fromName(c.referenceValue),n.key):s=Jo(c,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function X0(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!os(e.position[n],t.position[n]))return!1;return!0}class Nf{constructor(t,n="asc"){this.field=t,this.dir=n}}function bV(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class hw{}class qe extends hw{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,s):new RV(t,n,s):n==="array-contains"?new DV(t,s):n==="in"?new NV(t,s):n==="not-in"?new xV(t,s):n==="array-contains-any"?new VV(t,s):new qe(t,n,s)}static createKeyFieldInFilter(t,n,s){return n==="in"?new CV(t,s):new IV(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Jo(n,this.value)):n!==null&&jr(this.value)===jr(n)&&this.matchesComparison(Jo(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return St(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class wi extends hw{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new wi(t,n)}matches(t){return fw(this)?this.filters.find((n=>!n.matches(t)))===void 0:this.filters.find((n=>n.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,n)=>t.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function fw(e){return e.op==="and"}function dw(e){return wV(e)&&fw(e)}function wV(e){for(const t of e.filters)if(t instanceof wi)return!1;return!0}function lg(e){if(e instanceof qe)return e.field.canonicalString()+e.op.toString()+tl(e.value);if(dw(e))return e.filters.map((t=>lg(t))).join(",");{const t=e.filters.map((n=>lg(n))).join(",");return`${e.op}(${t})`}}function mw(e,t){return e instanceof qe?(function(s,o){return o instanceof qe&&s.op===o.op&&s.field.isEqual(o.field)&&os(s.value,o.value)})(e,t):e instanceof wi?(function(s,o){return o instanceof wi&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,c,d)=>u&&mw(c,o.filters[d])),!0):!1})(e,t):void St(19439)}function pw(e){return e instanceof qe?(function(n){return`${n.field.canonicalString()} ${n.op} ${tl(n.value)}`})(e):e instanceof wi?(function(n){return n.op.toString()+" {"+n.getFilters().map(pw).join(" ,")+"}"})(e):"Filter"}class RV extends qe{constructor(t,n,s){super(t,n,s),this.key=vt.fromName(s.referenceValue)}matches(t){const n=vt.comparator(t.key,this.key);return this.matchesComparison(n)}}class CV extends qe{constructor(t,n){super(t,"in",n),this.keys=gw("in",n)}matches(t){return this.keys.some((n=>n.isEqual(t.key)))}}class IV extends qe{constructor(t,n){super(t,"not-in",n),this.keys=gw("not-in",n)}matches(t){return!this.keys.some((n=>n.isEqual(t.key)))}}function gw(e,t){return(t.arrayValue?.values||[]).map((n=>vt.fromName(n.referenceValue)))}class DV extends qe{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return uy(n)&&Fu(n.arrayValue,this.value)}}class NV extends qe{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Fu(this.value.arrayValue,n)}}class xV extends qe{constructor(t,n){super(t,"not-in",n)}matches(t){if(Fu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Fu(this.value.arrayValue,n)}}class VV extends qe{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!uy(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>Fu(this.value.arrayValue,s)))}}class OV{constructor(t,n=null,s=[],o=[],u=null,c=null,d=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=c,this.endAt=d,this.Te=null}}function $0(e,t=null,n=[],s=[],o=null,u=null,c=null){return new OV(e,t,n,s,o,u,c)}function cy(e){const t=Nt(e);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((s=>lg(s))).join(","),n+="|ob:",n+=t.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),Wf(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((s=>tl(s))).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((s=>tl(s))).join(",")),t.Te=n}return t.Te}function hy(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!bV(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!mw(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!X0(e.startAt,t.startAt)&&X0(e.endAt,t.endAt)}function ug(e){return vt.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}class sc{constructor(t,n=null,s=[],o=[],u=null,c="F",d=null,p=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=c,this.startAt=d,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function MV(e,t,n,s,o,u,c,d){return new sc(e,t,n,s,o,u,c,d)}function yw(e){return new sc(e)}function W0(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function _w(e){return e.collectionGroup!==null}function Du(e){const t=Nt(e);if(t.Ie===null){t.Ie=[];const n=new Set;for(const u of t.explicitOrderBy)t.Ie.push(u),n.add(u.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new Ye(un.comparator);return c.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(d=d.add(g.field))}))})),d})(t).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||t.Ie.push(new Nf(u,s))})),n.has(un.keyField().canonicalString())||t.Ie.push(new Nf(un.keyField(),s))}return t.Ie}function es(e){const t=Nt(e);return t.Ee||(t.Ee=PV(t,Du(e))),t.Ee}function PV(e,t){if(e.limitType==="F")return $0(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Nf(o.field,u)}));const n=e.endAt?new Df(e.endAt.position,e.endAt.inclusive):null,s=e.startAt?new Df(e.startAt.position,e.startAt.inclusive):null;return $0(e.path,e.collectionGroup,t,e.filters,e.limit,n,s)}}function cg(e,t){const n=e.filters.concat([t]);return new sc(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function hg(e,t,n){return new sc(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Jf(e,t){return hy(es(e),es(t))&&e.limitType===t.limitType}function vw(e){return`${cy(es(e))}|lt:${e.limitType}`}function Po(e){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>pw(o))).join(", ")}]`),Wf(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>tl(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>tl(o))).join(",")),`Target(${s})`})(es(e))}; limitType=${e.limitType})`}function td(e,t){return t.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):vt.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(e,t)&&(function(s,o){for(const u of Du(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(e,t)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(e,t)&&(function(s,o){return!(s.startAt&&!(function(c,d,p){const g=Q0(c,d,p);return c.inclusive?g<=0:g<0})(s.startAt,Du(s),o)||s.endAt&&!(function(c,d,p){const g=Q0(c,d,p);return c.inclusive?g>=0:g>0})(s.endAt,Du(s),o))})(e,t)}function kV(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Tw(e){return(t,n)=>{let s=!1;for(const o of Du(e)){const u=LV(o,t,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function LV(e,t,n){const s=e.field.isKeyField()?vt.comparator(t.key,n.key):(function(u,c,d){const p=c.data.field(u),g=d.data.field(u);return p!==null&&g!==null?Jo(p,g):St(42886)})(e.field,t,n);switch(e.dir){case"asc":return s;case"desc":return-1*s;default:return St(19790,{direction:e.dir})}}class Ha{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),o=this.inner[s];if(o===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,n]);o.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],t))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(t){Kr(this.inner,((n,s)=>{for(const[o,u]of s)t(o,u)}))}isEmpty(){return nw(this.inner)}size(){return this.innerSize}}const UV=new _e(vt.comparator);function ks(){return UV}const Ew=new _e(vt.comparator);function Su(...e){let t=Ew;for(const n of e)t=t.insert(n.key,n);return t}function Aw(e){let t=Ew;return e.forEach(((n,s)=>t=t.insert(n,s.overlayedDocument))),t}function Da(){return Nu()}function Sw(){return Nu()}function Nu(){return new Ha((e=>e.toString()),((e,t)=>e.isEqual(t)))}const jV=new _e(vt.comparator),BV=new Ye(vt.comparator);function qt(...e){let t=BV;for(const n of e)t=t.add(n);return t}const zV=new Ye(zt);function qV(){return zV}function fy(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Rf(t)?"-0":t}}function bw(e){return{integerValue:""+e}}function FV(e,t){return gV(t)?bw(t):fy(e,t)}class ed{constructor(){this._=void 0}}function HV(e,t,n){return e instanceof xf?(function(o,u){const c={fields:{[rw]:{stringValue:sw},[ow]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&ly(u)&&(u=Zf(u)),u&&(c.fields[aw]=u),{mapValue:c}})(n,t):e instanceof Hu?Rw(e,t):e instanceof Gu?Cw(e,t):(function(o,u){const c=ww(o,u),d=Z0(c)+Z0(o.Ae);return og(c)&&og(o.Ae)?bw(d):fy(o.serializer,d)})(e,t)}function GV(e,t,n){return e instanceof Hu?Rw(e,t):e instanceof Gu?Cw(e,t):n}function ww(e,t){return e instanceof Vf?(function(s){return og(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(t)?t:{integerValue:0}:null}class xf extends ed{}class Hu extends ed{constructor(t){super(),this.elements=t}}function Rw(e,t){const n=Iw(t);for(const s of e.elements)n.some((o=>os(o,s)))||n.push(s);return{arrayValue:{values:n}}}class Gu extends ed{constructor(t){super(),this.elements=t}}function Cw(e,t){let n=Iw(t);for(const s of e.elements)n=n.filter((o=>!os(o,s)));return{arrayValue:{values:n}}}class Vf extends ed{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function Z0(e){return xe(e.integerValue||e.doubleValue)}function Iw(e){return uy(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function KV(e,t){return e.field.isEqual(t.field)&&(function(s,o){return s instanceof Hu&&o instanceof Hu||s instanceof Gu&&o instanceof Gu?Zo(s.elements,o.elements,os):s instanceof Vf&&o instanceof Vf?os(s.Ae,o.Ae):s instanceof xf&&o instanceof xf})(e.transform,t.transform)}class YV{constructor(t,n){this.version=t,this.transformResults=n}}class Si{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Si}static exists(t){return new Si(void 0,t)}static updateTime(t){return new Si(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function lf(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class nd{}function Dw(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new dy(e.key,Si.none()):new rc(e.key,e.data,Si.none());{const n=e.data,s=Nn.empty();let o=new Ye(un.comparator);for(let u of t.fields)if(!o.has(u)){let c=n.field(u);c===null&&u.length>1&&(u=u.popLast(),c=n.field(u)),c===null?s.delete(u):s.set(u,c),o=o.add(u)}return new Yr(e.key,s,new qn(o.toArray()),Si.none())}}function QV(e,t,n){e instanceof rc?(function(o,u,c){const d=o.value.clone(),p=tA(o.fieldTransforms,u,c.transformResults);d.setAll(p),u.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(e,t,n):e instanceof Yr?(function(o,u,c){if(!lf(o.precondition,u))return void u.convertToUnknownDocument(c.version);const d=tA(o.fieldTransforms,u,c.transformResults),p=u.data;p.setAll(Nw(o)),p.setAll(d),u.convertToFoundDocument(c.version,p).setHasCommittedMutations()})(e,t,n):(function(o,u,c){u.convertToNoDocument(c.version).setHasCommittedMutations()})(0,t,n)}function xu(e,t,n,s){return e instanceof rc?(function(u,c,d,p){if(!lf(u.precondition,c))return d;const g=u.value.clone(),_=eA(u.fieldTransforms,p,c);return g.setAll(_),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null})(e,t,n,s):e instanceof Yr?(function(u,c,d,p){if(!lf(u.precondition,c))return d;const g=eA(u.fieldTransforms,p,c),_=c.data;return _.setAll(Nw(u)),_.setAll(g),c.convertToFoundDocument(c.version,_).setHasLocalMutations(),d===null?null:d.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((E=>E.field)))})(e,t,n,s):(function(u,c,d){return lf(u.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d})(e,t,n)}function XV(e,t){let n=null;for(const s of e.fieldTransforms){const o=t.data.field(s.field),u=ww(s.transform,o||null);u!=null&&(n===null&&(n=Nn.empty()),n.set(s.field,u))}return n||null}function J0(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Zo(s,o,((u,c)=>KV(u,c)))})(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class rc extends nd{constructor(t,n,s,o=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Yr extends nd{constructor(t,n,s,o,u=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function Nw(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=e.data.field(n);t.set(n,s)}})),t}function tA(e,t,n){const s=new Map;Wt(e.length===n.length,32656,{Re:n.length,Ve:e.length});for(let o=0;o<n.length;o++){const u=e[o],c=u.transform,d=t.data.field(u.field);s.set(u.field,GV(c,d,n[o]))}return s}function eA(e,t,n){const s=new Map;for(const o of e){const u=o.transform,c=n.data.field(o.field);s.set(o.field,HV(u,c,t))}return s}class dy extends nd{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class $V extends nd{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class WV{constructor(t,n,s,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&QV(u,t,s[o])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=xu(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=xu(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=Sw();return this.mutations.forEach((o=>{const u=t.get(o.key),c=u.overlayedDocument;let d=this.applyToLocalView(c,u.mutatedFields);d=n.has(o.key)?null:d;const p=Dw(c,d);p!==null&&s.set(o.key,p),c.isValidDocument()||c.convertToNoDocument(It.min())})),s}keys(){return this.mutations.reduce(((t,n)=>t.add(n.key)),qt())}isEqual(t){return this.batchId===t.batchId&&Zo(this.mutations,t.mutations,((n,s)=>J0(n,s)))&&Zo(this.baseMutations,t.baseMutations,((n,s)=>J0(n,s)))}}class my{constructor(t,n,s,o){this.batch=t,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(t,n,s){Wt(t.mutations.length===s.length,58842,{me:t.mutations.length,fe:s.length});let o=(function(){return jV})();const u=t.mutations;for(let c=0;c<u.length;c++)o=o.insert(u[c].key,s[c].version);return new my(t,n,s,o)}}class ZV{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class JV{constructor(t,n){this.count=t,this.unchangedNames=n}}var Be,Ht;function tO(e){switch(e){case et.OK:return St(64938);case et.CANCELLED:case et.UNKNOWN:case et.DEADLINE_EXCEEDED:case et.RESOURCE_EXHAUSTED:case et.INTERNAL:case et.UNAVAILABLE:case et.UNAUTHENTICATED:return!1;case et.INVALID_ARGUMENT:case et.NOT_FOUND:case et.ALREADY_EXISTS:case et.PERMISSION_DENIED:case et.FAILED_PRECONDITION:case et.ABORTED:case et.OUT_OF_RANGE:case et.UNIMPLEMENTED:case et.DATA_LOSS:return!0;default:return St(15467,{code:e})}}function xw(e){if(e===void 0)return Ps("GRPC error has no .code"),et.UNKNOWN;switch(e){case Be.OK:return et.OK;case Be.CANCELLED:return et.CANCELLED;case Be.UNKNOWN:return et.UNKNOWN;case Be.DEADLINE_EXCEEDED:return et.DEADLINE_EXCEEDED;case Be.RESOURCE_EXHAUSTED:return et.RESOURCE_EXHAUSTED;case Be.INTERNAL:return et.INTERNAL;case Be.UNAVAILABLE:return et.UNAVAILABLE;case Be.UNAUTHENTICATED:return et.UNAUTHENTICATED;case Be.INVALID_ARGUMENT:return et.INVALID_ARGUMENT;case Be.NOT_FOUND:return et.NOT_FOUND;case Be.ALREADY_EXISTS:return et.ALREADY_EXISTS;case Be.PERMISSION_DENIED:return et.PERMISSION_DENIED;case Be.FAILED_PRECONDITION:return et.FAILED_PRECONDITION;case Be.ABORTED:return et.ABORTED;case Be.OUT_OF_RANGE:return et.OUT_OF_RANGE;case Be.UNIMPLEMENTED:return et.UNIMPLEMENTED;case Be.DATA_LOSS:return et.DATA_LOSS;default:return St(39323,{code:e})}}(Ht=Be||(Be={}))[Ht.OK=0]="OK",Ht[Ht.CANCELLED=1]="CANCELLED",Ht[Ht.UNKNOWN=2]="UNKNOWN",Ht[Ht.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ht[Ht.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ht[Ht.NOT_FOUND=5]="NOT_FOUND",Ht[Ht.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ht[Ht.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ht[Ht.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ht[Ht.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ht[Ht.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ht[Ht.ABORTED=10]="ABORTED",Ht[Ht.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ht[Ht.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ht[Ht.INTERNAL=13]="INTERNAL",Ht[Ht.UNAVAILABLE=14]="UNAVAILABLE",Ht[Ht.DATA_LOSS=15]="DATA_LOSS";function eO(){return new TextEncoder}const nO=new Vr([4294967295,4294967295],0);function nA(e){const t=eO().encode(e),n=new Gb;return n.update(t),new Uint8Array(n.digest())}function iA(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new Vr([n,s],0),new Vr([o,u],0)]}class py{constructor(t,n,s){if(this.bitmap=t,this.padding=n,this.hashCount=s,n<0||n>=8)throw new bu(`Invalid padding: ${n}`);if(s<0)throw new bu(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new bu(`Invalid hash count: ${s}`);if(t.length===0&&n!==0)throw new bu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=Vr.fromNumber(this.ge)}ye(t,n,s){let o=t.add(n.multiply(Vr.fromNumber(s)));return o.compare(nO)===1&&(o=new Vr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=nA(t),[s,o]=iA(n);for(let u=0;u<this.hashCount;u++){const c=this.ye(s,o,u);if(!this.we(c))return!1}return!0}static create(t,n,s){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),c=new py(u,o,n);return s.forEach((d=>c.insert(d))),c}insert(t){if(this.ge===0)return;const n=nA(t),[s,o]=iA(n);for(let u=0;u<this.hashCount;u++){const c=this.ye(s,o,u);this.Se(c)}}Se(t){const n=Math.floor(t/8),s=t%8;this.bitmap[n]|=1<<s}}class bu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class id{constructor(t,n,s,o,u){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,n,s){const o=new Map;return o.set(t,ac.createSynthesizedTargetChangeForCurrentChange(t,n,s)),new id(It.min(),o,new _e(zt),ks(),qt())}}class ac{constructor(t,n,s,o,u){this.resumeToken=t,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,n,s){return new ac(s,n,qt(),qt(),qt())}}class uf{constructor(t,n,s,o){this.be=t,this.removedTargetIds=n,this.key=s,this.De=o}}class Vw{constructor(t,n){this.targetId=t,this.Ce=n}}class Ow{constructor(t,n,s=cn.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=n,this.resumeToken=s,this.cause=o}}class sA{constructor(){this.ve=0,this.Fe=rA(),this.Me=cn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=qt(),n=qt(),s=qt();return this.Fe.forEach(((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:St(38017,{changeType:u})}})),new ac(this.Me,this.xe,t,n,s)}qe(){this.Oe=!1,this.Fe=rA()}Qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Wt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class iO{constructor(t){this.Ge=t,this.ze=new Map,this.je=ks(),this.Je=Gh(),this.He=Gh(),this.Ye=new _e(zt)}Ze(t){for(const n of t.be)t.De&&t.De.isFoundDocument()?this.Xe(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,(n=>{const s=this.nt(n);switch(t.state){case 0:this.rt(n)&&s.Le(t.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(t.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(t.resumeToken));break;default:St(56790,{state:t.state})}}))}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(t){const n=t.targetId,s=t.Ce.count,o=this.ot(n);if(o){const u=o.target;if(ug(u))if(s===0){const c=new vt(u.path);this.et(n,c,mn.newNoDocument(c,It.min()))}else Wt(s===1,20013,{expectedCount:s});else{const c=this._t(n);if(c!==s){const d=this.ut(t),p=d?this.ct(d,t,c):1;if(p!==0){this.it(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,g)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let c,d;try{c=Ur(s).toUint8Array()}catch(p){if(p instanceof iw)return Wo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{d=new py(c,o,u)}catch(p){return Wo(p instanceof bu?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return d.ge===0?null:d}ct(t,n,s){return n.Ce.count===s-this.Pt(t,n.targetId)?0:2}Pt(t,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const c=this.Ge.ht(),d=`projects/${c.projectId}/databases/${c.database}/documents/${u.path.canonicalString()}`;t.mightContain(d)||(this.et(n,u,null),o++)})),o}Tt(t){const n=new Map;this.ze.forEach(((u,c)=>{const d=this.ot(c);if(d){if(u.current&&ug(d.target)){const p=new vt(d.target.path);this.It(p).has(c)||this.Et(c,p)||this.et(c,p,mn.newNoDocument(p,t))}u.Be&&(n.set(c,u.ke()),u.qe())}}));let s=qt();this.He.forEach(((u,c)=>{let d=!0;c.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(s=s.add(u))})),this.je.forEach(((u,c)=>c.setReadTime(t)));const o=new id(t,n,this.Ye,this.je,s);return this.je=ks(),this.Je=Gh(),this.He=Gh(),this.Ye=new _e(zt),o}Xe(t,n){if(!this.rt(t))return;const s=this.Et(t,n.key)?2:0;this.nt(t).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(t)),this.He=this.He.insert(n.key,this.dt(n.key).add(t))}et(t,n,s){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(t)),this.He=this.He.insert(n,this.dt(n).add(t)),s&&(this.je=this.je.insert(n,s))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let n=this.ze.get(t);return n||(n=new sA,this.ze.set(t,n)),n}dt(t){let n=this.He.get(t);return n||(n=new Ye(zt),this.He=this.He.insert(t,n)),n}It(t){let n=this.Je.get(t);return n||(n=new Ye(zt),this.Je=this.Je.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||pt("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new sA),this.Ge.getRemoteKeysForTarget(t).forEach((n=>{this.et(t,n,null)}))}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function Gh(){return new _e(vt.comparator)}function rA(){return new _e(vt.comparator)}const sO={asc:"ASCENDING",desc:"DESCENDING"},rO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},aO={and:"AND",or:"OR"};class oO{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function fg(e,t){return e.useProto3Json||Wf(t)?t:{value:t}}function Of(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Mw(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function lO(e,t){return Of(e,t.toTimestamp())}function ns(e){return Wt(!!e,49232),It.fromTimestamp((function(n){const s=Lr(n);return new de(s.seconds,s.nanos)})(e))}function gy(e,t){return dg(e,t).canonicalString()}function dg(e,t){const n=(function(o){return new ue(["projects",o.projectId,"databases",o.database])})(e).child("documents");return t===void 0?n:n.child(t)}function Pw(e){const t=ue.fromString(e);return Wt(Bw(t),10190,{key:t.toString()}),t}function mg(e,t){return gy(e.databaseId,t.path)}function Rp(e,t){const n=Pw(t);if(n.get(1)!==e.databaseId.projectId)throw new mt(et.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new mt(et.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new vt(Lw(n))}function kw(e,t){return gy(e.databaseId,t)}function uO(e){const t=Pw(e);return t.length===4?ue.emptyPath():Lw(t)}function pg(e){return new ue(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Lw(e){return Wt(e.length>4&&e.get(4)==="documents",29091,{key:e.toString()}),e.popFirst(5)}function aA(e,t,n){return{name:mg(e,t),fields:n.value.mapValue.fields}}function cO(e,t){let n;if("targetChange"in t){t.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:St(39313,{state:g})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=(function(g,_){return g.useProto3Json?(Wt(_===void 0||typeof _=="string",58123),cn.fromBase64String(_||"")):(Wt(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),cn.fromUint8Array(_||new Uint8Array))})(e,t.targetChange.resumeToken),c=t.targetChange.cause,d=c&&(function(g){const _=g.code===void 0?et.UNKNOWN:xw(g.code);return new mt(_,g.message||"")})(c);n=new Ow(s,o,u,d||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const o=Rp(e,s.document.name),u=ns(s.document.updateTime),c=s.document.createTime?ns(s.document.createTime):It.min(),d=new Nn({mapValue:{fields:s.document.fields}}),p=mn.newFoundDocument(o,u,c,d),g=s.targetIds||[],_=s.removedTargetIds||[];n=new uf(g,_,p.key,p)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const o=Rp(e,s.document),u=s.readTime?ns(s.readTime):It.min(),c=mn.newNoDocument(o,u),d=s.removedTargetIds||[];n=new uf([],d,c.key,c)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const o=Rp(e,s.document),u=s.removedTargetIds||[];n=new uf([],u,o,null)}else{if(!("filter"in t))return St(11601,{Rt:t});{t.filter;const s=t.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,c=new JV(o,u),d=s.targetId;n=new Vw(d,c)}}return n}function hO(e,t){let n;if(t instanceof rc)n={update:aA(e,t.key,t.value)};else if(t instanceof dy)n={delete:mg(e,t.key)};else if(t instanceof Yr)n={update:aA(e,t.key,t.data),updateMask:TO(t.fieldMask)};else{if(!(t instanceof $V))return St(16599,{Vt:t.type});n={verify:mg(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((s=>(function(u,c){const d=c.transform;if(d instanceof xf)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Hu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Gu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Vf)return{fieldPath:c.field.canonicalString(),increment:d.Ae};throw St(20930,{transform:c.transform})})(0,s)))),t.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:lO(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:St(27497)})(e,t.precondition)),n}function fO(e,t){return e&&e.length>0?(Wt(t!==void 0,14353),e.map((n=>(function(o,u){let c=o.updateTime?ns(o.updateTime):ns(u);return c.isEqual(It.min())&&(c=ns(u)),new YV(c,o.transformResults||[])})(n,t)))):[]}function dO(e,t){return{documents:[kw(e,t.path)]}}function mO(e,t){const n={structuredQuery:{}},s=t.path;let o;t.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=kw(e,o);const u=(function(g){if(g.length!==0)return jw(wi.create(g,"and"))})(t.filters);u&&(n.structuredQuery.where=u);const c=(function(g){if(g.length!==0)return g.map((_=>(function(A){return{field:ko(A.field),direction:yO(A.dir)}})(_)))})(t.orderBy);c&&(n.structuredQuery.orderBy=c);const d=fg(e,t.limit);return d!==null&&(n.structuredQuery.limit=d),t.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(t.startAt)),t.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(t.endAt)),{ft:n,parent:o}}function pO(e){let t=uO(e.parent);const n=e.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Wt(s===1,65062);const _=n.from[0];_.allDescendants?o=_.collectionId:t=t.child(_.collectionId)}let u=[];n.where&&(u=(function(E){const A=Uw(E);return A instanceof wi&&dw(A)?A.getFilters():[A]})(n.where));let c=[];n.orderBy&&(c=(function(E){return E.map((A=>(function(k){return new Nf(Lo(k.field),(function(B){switch(B){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(k.direction))})(A)))})(n.orderBy));let d=null;n.limit&&(d=(function(E){let A;return A=typeof E=="object"?E.value:E,Wf(A)?null:A})(n.limit));let p=null;n.startAt&&(p=(function(E){const A=!!E.before,R=E.values||[];return new Df(R,A)})(n.startAt));let g=null;return n.endAt&&(g=(function(E){const A=!E.before,R=E.values||[];return new Df(R,A)})(n.endAt)),MV(t,o,c,u,d,"F",p,g)}function gO(e,t){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return St(28987,{purpose:o})}})(t.purpose);return n==null?null:{"goog-listen-tags":n}}function Uw(e){return e.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Lo(n.unaryFilter.field);return qe.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Lo(n.unaryFilter.field);return qe.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Lo(n.unaryFilter.field);return qe.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Lo(n.unaryFilter.field);return qe.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return St(61313);default:return St(60726)}})(e):e.fieldFilter!==void 0?(function(n){return qe.create(Lo(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return St(58110);default:return St(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(e):e.compositeFilter!==void 0?(function(n){return wi.create(n.compositeFilter.filters.map((s=>Uw(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return St(1026)}})(n.compositeFilter.op))})(e):St(30097,{filter:e})}function yO(e){return sO[e]}function _O(e){return rO[e]}function vO(e){return aO[e]}function ko(e){return{fieldPath:e.canonicalString()}}function Lo(e){return un.fromServerFormat(e.fieldPath)}function jw(e){return e instanceof qe?(function(n){if(n.op==="=="){if(Y0(n.value))return{unaryFilter:{field:ko(n.field),op:"IS_NAN"}};if(K0(n.value))return{unaryFilter:{field:ko(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Y0(n.value))return{unaryFilter:{field:ko(n.field),op:"IS_NOT_NAN"}};if(K0(n.value))return{unaryFilter:{field:ko(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ko(n.field),op:_O(n.op),value:n.value}}})(e):e instanceof wi?(function(n){const s=n.getFilters().map((o=>jw(o)));return s.length===1?s[0]:{compositeFilter:{op:vO(n.op),filters:s}}})(e):St(54877,{filter:e})}function TO(e){const t=[];return e.fields.forEach((n=>t.push(n.canonicalString()))),{fieldPaths:t}}function Bw(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}class Dr{constructor(t,n,s,o,u=It.min(),c=It.min(),d=cn.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=p}withSequenceNumber(t){return new Dr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Dr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Dr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Dr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class EO{constructor(t){this.yt=t}}function AO(e){const t=pO({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?hg(t,t.limit,"L"):t}class SO{constructor(){this.Cn=new bO}addToCollectionParentIndex(t,n){return this.Cn.add(n),it.resolve()}getCollectionParents(t,n){return it.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return it.resolve()}deleteFieldIndex(t,n){return it.resolve()}deleteAllFieldIndexes(t){return it.resolve()}createTargetIndexes(t,n){return it.resolve()}getDocumentsMatchingTarget(t,n){return it.resolve(null)}getIndexType(t,n){return it.resolve(0)}getFieldIndexes(t,n){return it.resolve([])}getNextCollectionGroupToUpdate(t){return it.resolve(null)}getMinOffset(t,n){return it.resolve(kr.min())}getMinOffsetFromCollectionGroup(t,n){return it.resolve(kr.min())}updateCollectionGroup(t,n,s){return it.resolve()}updateIndexEntries(t,n){return it.resolve()}}class bO{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n]||new Ye(ue.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(t){return(this.index[t]||new Ye(ue.comparator)).toArray()}}const oA={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},zw=41943040;class Dn{static withCacheSize(t){return new Dn(t,Dn.DEFAULT_COLLECTION_PERCENTILE,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}Dn.DEFAULT_COLLECTION_PERCENTILE=10,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Dn.DEFAULT=new Dn(zw,Dn.DEFAULT_COLLECTION_PERCENTILE,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Dn.DISABLED=new Dn(-1,0,0);class el{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new el(0)}static cr(){return new el(-1)}}const lA="LruGarbageCollector",wO=1048576;function uA([e,t],[n,s]){const o=zt(e,n);return o===0?zt(t,s):o}class RO{constructor(t){this.Ir=t,this.buffer=new Ye(uA),this.Er=0}dr(){return++this.Er}Ar(t){const n=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();uA(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class CO{constructor(t,n,s){this.garbageCollector=t,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){pt(lA,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ll(n)?pt(lA,"Ignoring IndexedDB error during garbage collection: ",n):await ol(n)}await this.Vr(3e5)}))}}class IO{constructor(t,n){this.mr=t,this.params=n}calculateTargetCount(t,n){return this.mr.gr(t).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(t,n){if(n===0)return it.resolve($f.ce);const s=new RO(n);return this.mr.forEachTarget(t,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(t,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(t,n,s){return this.mr.removeTargets(t,n,s)}removeOrphanedDocuments(t,n){return this.mr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(pt("LruGarbageCollector","Garbage collection skipped; disabled"),it.resolve(oA)):this.getCacheSize(t).next((s=>s<this.params.cacheSizeCollectionThreshold?(pt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),oA):this.yr(t,n)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,n){let s,o,u,c,d,p,g;const _=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((E=>(E>this.params.maximumSequenceNumbersToCollect?(pt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),o=this.params.maximumSequenceNumbersToCollect):o=E,c=Date.now(),this.nthSequenceNumber(t,o)))).next((E=>(s=E,d=Date.now(),this.removeTargets(t,s,n)))).next((E=>(u=E,p=Date.now(),this.removeOrphanedDocuments(t,s)))).next((E=>(g=Date.now(),Mo()<=Bt.DEBUG&&pt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-_}ms
	Determined least recently used ${o} in `+(d-c)+`ms
	Removed ${u} targets in `+(p-d)+`ms
	Removed ${E} documents in `+(g-p)+`ms
Total Duration: ${g-_}ms`),it.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:E}))))}}function DO(e,t){return new IO(e,t)}class NO{constructor(){this.changes=new Ha((t=>t.toString()),((t,n)=>t.isEqual(n))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,mn.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?it.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class xO{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}class VO{constructor(t,n,s,o){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(t,n)))).next((o=>(s!==null&&xu(s.mutation,o,qn.empty(),de.now()),o)))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.getLocalViewOfDocuments(t,s,qt()).next((()=>s))))}getLocalViewOfDocuments(t,n,s=qt()){const o=Da();return this.populateOverlays(t,o,n).next((()=>this.computeViews(t,n,o,s).next((u=>{let c=Su();return u.forEach(((d,p)=>{c=c.insert(d,p.overlayedDocument)})),c}))))}getOverlayedDocuments(t,n){const s=Da();return this.populateOverlays(t,s,n).next((()=>this.computeViews(t,n,s,qt())))}populateOverlays(t,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(t,o).next((u=>{u.forEach(((c,d)=>{n.set(c,d)}))}))}computeViews(t,n,s,o){let u=ks();const c=Nu(),d=(function(){return Nu()})();return n.forEach(((p,g)=>{const _=s.get(g.key);o.has(g.key)&&(_===void 0||_.mutation instanceof Yr)?u=u.insert(g.key,g):_!==void 0?(c.set(g.key,_.mutation.getFieldMask()),xu(_.mutation,g,_.mutation.getFieldMask(),de.now())):c.set(g.key,qn.empty())})),this.recalculateAndSaveOverlays(t,u).next((p=>(p.forEach(((g,_)=>c.set(g,_))),n.forEach(((g,_)=>d.set(g,new xO(_,c.get(g)??null)))),d)))}recalculateAndSaveOverlays(t,n){const s=Nu();let o=new _e(((c,d)=>c-d)),u=qt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next((c=>{for(const d of c)d.keys().forEach((p=>{const g=n.get(p);if(g===null)return;let _=s.get(p)||qn.empty();_=d.applyToLocalView(g,_),s.set(p,_);const E=(o.get(d.batchId)||qt()).add(p);o=o.insert(d.batchId,E)}))})).next((()=>{const c=[],d=o.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),g=p.key,_=p.value,E=Sw();_.forEach((A=>{if(!u.has(A)){const R=Dw(n.get(A),s.get(A));R!==null&&E.set(A,R),u=u.add(A)}})),c.push(this.documentOverlayCache.saveOverlays(t,g,E))}return it.waitFor(c)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.recalculateAndSaveOverlays(t,s)))}getDocumentsMatchingQuery(t,n,s,o){return(function(c){return vt.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):_w(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s,o):this.getDocumentsMatchingCollectionQuery(t,n,s,o)}getNextDocuments(t,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,o).next((u=>{const c=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,o-u.size):it.resolve(Da());let d=Bu,p=u;return c.next((g=>it.forEach(g,((_,E)=>(d<E.largestBatchId&&(d=E.largestBatchId),u.get(_)?it.resolve():this.remoteDocumentCache.getEntry(t,_).next((A=>{p=p.insert(_,A)}))))).next((()=>this.populateOverlays(t,g,u))).next((()=>this.computeViews(t,p,g,qt()))).next((_=>({batchId:d,changes:Aw(_)})))))}))}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new vt(n)).next((s=>{let o=Su();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(t,n,s,o){const u=n.collectionGroup;let c=Su();return this.indexManager.getCollectionParents(t,u).next((d=>it.forEach(d,(p=>{const g=(function(E,A){return new sc(A,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)})(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(t,g,s,o).next((_=>{_.forEach(((E,A)=>{c=c.insert(E,A)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(t,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId).next((c=>(u=c,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,s,u,o)))).next((c=>{u.forEach(((p,g)=>{const _=g.getKey();c.get(_)===null&&(c=c.insert(_,mn.newInvalidDocument(_)))}));let d=Su();return c.forEach(((p,g)=>{const _=u.get(p);_!==void 0&&xu(_.mutation,g,qn.empty(),de.now()),td(n,g)&&(d=d.insert(p,g))})),d}))}}class OO{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,n){return it.resolve(this.Lr.get(n))}saveBundleMetadata(t,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:ns(o.createTime)}})(n)),it.resolve()}getNamedQuery(t,n){return it.resolve(this.kr.get(n))}saveNamedQuery(t,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:AO(o.bundledQuery),readTime:ns(o.readTime)}})(n)),it.resolve()}}class MO{constructor(){this.overlays=new _e(vt.comparator),this.qr=new Map}getOverlay(t,n){return it.resolve(this.overlays.get(n))}getOverlays(t,n){const s=Da();return it.forEach(n,(o=>this.getOverlay(t,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(t,n,s){return s.forEach(((o,u)=>{this.St(t,n,u)})),it.resolve()}removeOverlaysForBatchId(t,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),it.resolve()}getOverlaysForCollection(t,n,s){const o=Da(),u=n.length+1,c=new vt(n.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const p=d.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return it.resolve(o)}getOverlaysForCollectionGroup(t,n,s,o){let u=new _e(((g,_)=>g-_));const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let _=u.get(g.largestBatchId);_===null&&(_=Da(),u=u.insert(g.largestBatchId,_)),_.set(g.getKey(),g)}}const d=Da(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,_)=>d.set(g,_))),!(d.size()>=o)););return it.resolve(d)}St(t,n,s){const o=this.overlays.get(s.key);if(o!==null){const c=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(s.key,new ZV(n,s));let u=this.qr.get(n);u===void 0&&(u=qt(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}class PO{constructor(){this.sessionToken=cn.EMPTY_BYTE_STRING}getSessionToken(t){return it.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,it.resolve()}}class yy{constructor(){this.Qr=new Ye(We.$r),this.Ur=new Ye(We.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,n){const s=new We(t,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(t,n){t.forEach((s=>this.addReference(s,n)))}removeReference(t,n){this.Gr(new We(t,n))}zr(t,n){t.forEach((s=>this.removeReference(s,n)))}jr(t){const n=new vt(new ue([])),s=new We(n,t),o=new We(n,t+1),u=[];return this.Ur.forEachInRange([s,o],(c=>{this.Gr(c),u.push(c.key)})),u}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const n=new vt(new ue([])),s=new We(n,t),o=new We(n,t+1);let u=qt();return this.Ur.forEachInRange([s,o],(c=>{u=u.add(c.key)})),u}containsKey(t){const n=new We(t,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class We{constructor(t,n){this.key=t,this.Yr=n}static $r(t,n){return vt.comparator(t.key,n.key)||zt(t.Yr,n.Yr)}static Kr(t,n){return zt(t.Yr,n.Yr)||vt.comparator(t.key,n.key)}}class kO{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Ye(We.$r)}checkEmpty(t){return it.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new WV(u,n,s,o);this.mutationQueue.push(c);for(const d of o)this.Zr=this.Zr.add(new We(d.key,u)),this.indexManager.addToCollectionParentIndex(t,d.key.path.popLast());return it.resolve(c)}lookupMutationBatch(t,n){return it.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,o=this.ei(s),u=o<0?0:o;return it.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return it.resolve(this.mutationQueue.length===0?oy:this.tr-1)}getAllMutationBatches(t){return it.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new We(n,0),o=new We(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],(c=>{const d=this.Xr(c.Yr);u.push(d)})),it.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new Ye(zt);return n.forEach((o=>{const u=new We(o,0),c=new We(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,c],(d=>{s=s.add(d.Yr)}))})),it.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,o=s.length+1;let u=s;vt.isDocumentKey(u)||(u=u.child(""));const c=new We(new vt(u),0);let d=new Ye(zt);return this.Zr.forEachWhile((p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(d=d.add(p.Yr)),!0)}),c),it.resolve(this.ti(d))}ti(t){const n=[];return t.forEach((s=>{const o=this.Xr(s);o!==null&&n.push(o)})),n}removeMutationBatch(t,n){Wt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return it.forEach(n.mutations,(o=>{const u=new We(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Zr=s}))}ir(t){}containsKey(t,n){const s=new We(n,0),o=this.Zr.firstAfterOrEqual(s);return it.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,it.resolve()}ni(t,n){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const n=this.ei(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class LO{constructor(t){this.ri=t,this.docs=(function(){return new _e(vt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,c=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:c}),this.size+=c-u,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return it.resolve(s?s.document.mutableCopy():mn.newInvalidDocument(n))}getEntries(t,n){let s=ks();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():mn.newInvalidDocument(o))})),it.resolve(s)}getDocumentsMatchingQuery(t,n,s,o){let u=ks();const c=n.path,d=new vt(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:g,value:{document:_}}=p.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||fV(hV(_),s)<=0||(o.has(_.key)||td(n,_))&&(u=u.insert(_.key,_.mutableCopy()))}return it.resolve(u)}getAllFromCollectionGroup(t,n,s,o){St(9500)}ii(t,n){return it.forEach(this.docs,(s=>n(s)))}newChangeBuffer(t){return new UO(this)}getSize(t){return it.resolve(this.size)}}class UO extends NO{constructor(t){super(),this.Nr=t}applyChanges(t){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(t,o)):this.Nr.removeEntry(s)})),it.waitFor(n)}getFromCache(t,n){return this.Nr.getEntry(t,n)}getAllFromCache(t,n){return this.Nr.getEntries(t,n)}}class jO{constructor(t){this.persistence=t,this.si=new Ha((n=>cy(n)),hy),this.lastRemoteSnapshotVersion=It.min(),this.highestTargetId=0,this.oi=0,this._i=new yy,this.targetCount=0,this.ai=el.ur()}forEachTarget(t,n){return this.si.forEach(((s,o)=>n(o))),it.resolve()}getLastRemoteSnapshotVersion(t){return it.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return it.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),it.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),it.resolve()}Pr(t){this.si.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ai=new el(n),this.highestTargetId=n),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,n){return this.Pr(n),this.targetCount+=1,it.resolve()}updateTargetData(t,n){return this.Pr(n),it.resolve()}removeTargetData(t,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,it.resolve()}removeTargets(t,n,s){let o=0;const u=[];return this.si.forEach(((c,d)=>{d.sequenceNumber<=n&&s.get(d.targetId)===null&&(this.si.delete(c),u.push(this.removeMatchingKeysForTargetId(t,d.targetId)),o++)})),it.waitFor(u).next((()=>o))}getTargetCount(t){return it.resolve(this.targetCount)}getTargetData(t,n){const s=this.si.get(n)||null;return it.resolve(s)}addMatchingKeys(t,n,s){return this._i.Wr(n,s),it.resolve()}removeMatchingKeys(t,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((c=>{u.push(o.markPotentiallyOrphaned(t,c))})),it.waitFor(u)}removeMatchingKeysForTargetId(t,n){return this._i.jr(n),it.resolve()}getMatchingKeysForTargetId(t,n){const s=this._i.Hr(n);return it.resolve(s)}containsKey(t,n){return it.resolve(this._i.containsKey(n))}}class qw{constructor(t,n){this.ui={},this.overlays={},this.ci=new $f(0),this.li=!1,this.li=!0,this.hi=new PO,this.referenceDelegate=t(this),this.Pi=new jO(this),this.indexManager=new SO,this.remoteDocumentCache=(function(o){return new LO(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new EO(n),this.Ii=new OO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new MO,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this.ui[t.toKey()];return s||(s=new kO(n,this.referenceDelegate),this.ui[t.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,n,s){pt("MemoryPersistence","Starting transaction:",t);const o=new BO(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(t,n){return it.or(Object.values(this.ui).map((s=>()=>s.containsKey(t,n))))}}class BO extends mV{constructor(t){super(),this.currentSequenceNumber=t}}class _y{constructor(t){this.persistence=t,this.Ri=new yy,this.Vi=null}static mi(t){return new _y(t)}get fi(){if(this.Vi)return this.Vi;throw St(60996)}addReference(t,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),it.resolve()}removeReference(t,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),it.resolve()}markPotentiallyOrphaned(t,n){return this.fi.add(n.toString()),it.resolve()}removeTarget(t,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(t,n)))}Ei(){this.Vi=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return it.forEach(this.fi,(s=>{const o=vt.fromPath(s);return this.gi(t,o).next((u=>{u||n.removeEntry(o,It.min())}))})).next((()=>(this.Vi=null,n.apply(t))))}updateLimboDocument(t,n){return this.gi(t,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(t){return 0}gi(t,n){return it.or([()=>it.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ai(t,n)])}}class Mf{constructor(t,n){this.persistence=t,this.pi=new Ha((s=>yV(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=DO(this,n)}static mi(t,n){return new Mf(t,n)}Ei(){}di(t){return it.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}gr(t){const n=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((s=>n.next((o=>s+o))))}wr(t){let n=0;return this.pr(t,(s=>{n++})).next((()=>n))}pr(t,n){return it.forEach(this.pi,((s,o)=>this.br(t,s,o).next((u=>u?it.resolve():n(o)))))}removeTargets(t,n,s){return this.persistence.getTargetCache().removeTargets(t,n,s)}removeOrphanedDocuments(t,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(t,(c=>this.br(t,c,n).next((d=>{d||(s++,u.removeEntry(c,It.min()))})))).next((()=>u.apply(t))).next((()=>s))}markPotentiallyOrphaned(t,n){return this.pi.set(n,t.currentSequenceNumber),it.resolve()}removeTarget(t,n){const s=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,n,s){return this.pi.set(s,t.currentSequenceNumber),it.resolve()}removeReference(t,n,s){return this.pi.set(s,t.currentSequenceNumber),it.resolve()}updateLimboDocument(t,n){return this.pi.set(n,t.currentSequenceNumber),it.resolve()}Ti(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=af(t.data.value)),n}br(t,n,s){return it.or([()=>this.persistence.Ai(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const o=this.pi.get(n);return it.resolve(o!==void 0&&o>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class vy{constructor(t,n,s,o){this.targetId=t,this.fromCache=n,this.Es=s,this.ds=o}static As(t,n){let s=qt(),o=qt();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new vy(t,n.fromCache,s,o)}}class zO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class qO{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return gD()?8:pV(gn())>0?6:4})()}initialize(t,n){this.ps=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,s,o){const u={result:null};return this.ys(t,n).next((c=>{u.result=c})).next((()=>{if(!u.result)return this.ws(t,n,o,s).next((c=>{u.result=c}))})).next((()=>{if(u.result)return;const c=new zO;return this.Ss(t,n,c).next((d=>{if(u.result=d,this.Vs)return this.bs(t,n,c,d.size)}))})).next((()=>u.result))}bs(t,n,s,o){return s.documentReadCount<this.fs?(Mo()<=Bt.DEBUG&&pt("QueryEngine","SDK will not create cache indexes for query:",Po(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),it.resolve()):(Mo()<=Bt.DEBUG&&pt("QueryEngine","Query:",Po(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(Mo()<=Bt.DEBUG&&pt("QueryEngine","The SDK decides to create cache indexes for query:",Po(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,es(n))):it.resolve())}ys(t,n){if(W0(n))return it.resolve(null);let s=es(n);return this.indexManager.getIndexType(t,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=hg(n,null,"F"),s=es(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next((u=>{const c=qt(...u);return this.ps.getDocuments(t,c).next((d=>this.indexManager.getMinOffset(t,s).next((p=>{const g=this.Ds(n,d);return this.Cs(n,g,c,p.readTime)?this.ys(t,hg(n,null,"F")):this.vs(t,g,n,p)}))))})))))}ws(t,n,s,o){return W0(n)||o.isEqual(It.min())?it.resolve(null):this.ps.getDocuments(t,s).next((u=>{const c=this.Ds(n,u);return this.Cs(n,c,s,o)?it.resolve(null):(Mo()<=Bt.DEBUG&&pt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Po(n)),this.vs(t,c,n,cV(o,Bu)).next((d=>d)))}))}Ds(t,n){let s=new Ye(Tw(t));return n.forEach(((o,u)=>{td(t,u)&&(s=s.add(u))})),s}Cs(t,n,s,o){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const u=t.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(t,n,s){return Mo()<=Bt.DEBUG&&pt("QueryEngine","Using full collection scan to execute query:",Po(n)),this.ps.getDocumentsMatchingQuery(t,n,kr.min(),s)}vs(t,n,s,o){return this.ps.getDocumentsMatchingQuery(t,s,o).next((u=>(n.forEach((c=>{u=u.insert(c.key,c)})),u)))}}const Ty="LocalStore",FO=3e8;class HO{constructor(t,n,s,o){this.persistence=t,this.Fs=n,this.serializer=o,this.Ms=new _e(zt),this.xs=new Ha((u=>cy(u)),hy),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(s)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new VO(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>t.collect(n,this.Ms)))}}function GO(e,t,n,s){return new HO(e,t,n,s)}async function Fw(e,t){const n=Nt(e);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Bs(t),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const c=[],d=[];let p=qt();for(const g of o){c.push(g.batchId);for(const _ of g.mutations)p=p.add(_.key)}for(const g of u){d.push(g.batchId);for(const _ of g.mutations)p=p.add(_.key)}return n.localDocuments.getDocuments(s,p).next((g=>({Ls:g,removedBatchIds:c,addedBatchIds:d})))}))}))}function KO(e,t){const n=Nt(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=t.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(d,p,g,_){const E=g.batch,A=E.keys();let R=it.resolve();return A.forEach((k=>{R=R.next((()=>_.getEntry(p,k))).next((H=>{const B=g.docVersions.get(k);Wt(B!==null,48541),H.version.compareTo(B)<0&&(E.applyToRemoteDocument(H,g),H.isValidDocument()&&(H.setReadTime(g.commitVersion),_.addEntry(H)))}))})),R.next((()=>d.mutationQueue.removeMutationBatch(p,E)))})(n,s,t,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(d){let p=qt();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(p=p.add(d.batch.mutations[g].key));return p})(t)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function Hw(e){const t=Nt(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>t.Pi.getLastRemoteSnapshotVersion(n)))}function YO(e,t){const n=Nt(e),s=t.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const c=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const d=[];t.targetChanges.forEach(((_,E)=>{const A=o.get(E);if(!A)return;d.push(n.Pi.removeMatchingKeys(u,_.removedDocuments,E).next((()=>n.Pi.addMatchingKeys(u,_.addedDocuments,E))));let R=A.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(E)!==null?R=R.withResumeToken(cn.EMPTY_BYTE_STRING,It.min()).withLastLimboFreeSnapshotVersion(It.min()):_.resumeToken.approximateByteSize()>0&&(R=R.withResumeToken(_.resumeToken,s)),o=o.insert(E,R),(function(H,B,Z){return H.resumeToken.approximateByteSize()===0||B.snapshotVersion.toMicroseconds()-H.snapshotVersion.toMicroseconds()>=FO?!0:Z.addedDocuments.size+Z.modifiedDocuments.size+Z.removedDocuments.size>0})(A,R,_)&&d.push(n.Pi.updateTargetData(u,R))}));let p=ks(),g=qt();if(t.documentUpdates.forEach((_=>{t.resolvedLimboDocuments.has(_)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(u,_))})),d.push(QO(u,c,t.documentUpdates).next((_=>{p=_.ks,g=_.qs}))),!s.isEqual(It.min())){const _=n.Pi.getLastRemoteSnapshotVersion(u).next((E=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));d.push(_)}return it.waitFor(d).next((()=>c.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,p,g))).next((()=>p))})).then((u=>(n.Ms=o,u)))}function QO(e,t,n){let s=qt(),o=qt();return n.forEach((u=>s=s.add(u))),t.getEntries(e,s).next((u=>{let c=ks();return n.forEach(((d,p)=>{const g=u.get(d);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(d)),p.isNoDocument()&&p.version.isEqual(It.min())?(t.removeEntry(d,p.readTime),c=c.insert(d,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(p),c=c.insert(d,p)):pt(Ty,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",p.version)})),{ks:c,qs:o}}))}function XO(e,t){const n=Nt(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(t===void 0&&(t=oy),n.mutationQueue.getNextMutationBatchAfterBatchId(s,t))))}function $O(e,t){const n=Nt(e);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.Pi.getTargetData(s,t).next((u=>u?(o=u,it.resolve(o)):n.Pi.allocateTargetId(s).next((c=>(o=new Dr(t,c,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(t,s.targetId)),s}))}async function gg(e,t,n){const s=Nt(e),o=s.Ms.get(t),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(c=>s.persistence.referenceDelegate.removeTarget(c,o)))}catch(c){if(!ll(c))throw c;pt(Ty,`Failed to update sequence numbers for target ${t}: ${c}`)}s.Ms=s.Ms.remove(t),s.xs.delete(o.target)}function cA(e,t,n){const s=Nt(e);let o=It.min(),u=qt();return s.persistence.runTransaction("Execute query","readwrite",(c=>(function(p,g,_){const E=Nt(p),A=E.xs.get(_);return A!==void 0?it.resolve(E.Ms.get(A)):E.Pi.getTargetData(g,_)})(s,c,es(t)).next((d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(c,d.targetId).next((p=>{u=p}))})).next((()=>s.Fs.getDocumentsMatchingQuery(c,t,n?o:It.min(),n?u:qt()))).next((d=>(WO(s,kV(t),d),{documents:d,Qs:u})))))}function WO(e,t,n){let s=e.Os.get(t)||It.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),e.Os.set(t,s)}class hA{constructor(){this.activeTargetIds=qV()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class ZO{constructor(){this.Mo=new hA,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t,n=!0){return n&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,n,s){this.xo[t]=n}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new hA,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class JO{Oo(t){}shutdown(){}}const fA="ConnectivityMonitor";class dA{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){pt(fA,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){pt(fA,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Kh=null;function yg(){return Kh===null?Kh=(function(){return 268435456+Math.round(2147483648*Math.random())})():Kh++,"0x"+Kh.toString(16)}const Cp="RestConnection",tM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class eM{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+t.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===Cf?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(t,n,s,o,u){const c=yg(),d=this.zo(t,n.toUriEncodedString());pt(Cp,`Sending RPC '${t}' ${c}:`,d,s);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,u);const{host:g}=new URL(d),_=Hr(g);return this.Jo(t,d,p,s,_).then((E=>(pt(Cp,`Received RPC '${t}' ${c}: `,E),E)),(E=>{throw Wo(Cp,`RPC '${t}' ${c} failed with error: `,E,"url: ",d,"request:",s),E}))}Ho(t,n,s,o,u,c){return this.Go(t,n,s,o,u)}jo(t,n,s){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+al})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>t[u]=o)),s&&s.headers.forEach(((o,u)=>t[u]=o))}zo(t,n){const s=tM[t];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}class nM{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const fn="WebChannelConnection";class iM extends eM{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,s,o,u){const c=yg();return new Promise(((d,p)=>{const g=new Kb;g.setWithCredentials(!0),g.listenOnce(Yb.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case rf.NO_ERROR:const E=g.getResponseJson();pt(fn,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(E)),d(E);break;case rf.TIMEOUT:pt(fn,`RPC '${t}' ${c} timed out`),p(new mt(et.DEADLINE_EXCEEDED,"Request time out"));break;case rf.HTTP_ERROR:const A=g.getStatus();if(pt(fn,`RPC '${t}' ${c} failed with status:`,A,"response text:",g.getResponseText()),A>0){let R=g.getResponseJson();Array.isArray(R)&&(R=R[0]);const k=R?.error;if(k&&k.status&&k.message){const H=(function(Z){const nt=Z.toLowerCase().replace(/_/g,"-");return Object.values(et).indexOf(nt)>=0?nt:et.UNKNOWN})(k.status);p(new mt(H,k.message))}else p(new mt(et.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new mt(et.UNAVAILABLE,"Connection failed."));break;default:St(9055,{l_:t,streamId:c,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{pt(fn,`RPC '${t}' ${c} completed.`)}}));const _=JSON.stringify(o);pt(fn,`RPC '${t}' ${c} sending request:`,o),g.send(n,"POST",_,s,15)}))}T_(t,n,s){const o=yg(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],c=$b(),d=Xb(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const _=u.join("");pt(fn,`Creating RPC '${t}' stream ${o}: ${_}`,p);const E=c.createWebChannel(_,p);this.I_(E);let A=!1,R=!1;const k=new nM({Yo:B=>{R?pt(fn,`Not sending because RPC '${t}' stream ${o} is closed:`,B):(A||(pt(fn,`Opening RPC '${t}' stream ${o} transport.`),E.open(),A=!0),pt(fn,`RPC '${t}' stream ${o} sending:`,B),E.send(B))},Zo:()=>E.close()}),H=(B,Z,nt)=>{B.listen(Z,($=>{try{nt($)}catch(ot){setTimeout((()=>{throw ot}),0)}}))};return H(E,Au.EventType.OPEN,(()=>{R||(pt(fn,`RPC '${t}' stream ${o} transport opened.`),k.o_())})),H(E,Au.EventType.CLOSE,(()=>{R||(R=!0,pt(fn,`RPC '${t}' stream ${o} transport closed`),k.a_(),this.E_(E))})),H(E,Au.EventType.ERROR,(B=>{R||(R=!0,Wo(fn,`RPC '${t}' stream ${o} transport errored. Name:`,B.name,"Message:",B.message),k.a_(new mt(et.UNAVAILABLE,"The operation could not be completed")))})),H(E,Au.EventType.MESSAGE,(B=>{if(!R){const Z=B.data[0];Wt(!!Z,16349);const nt=Z,$=nt?.error||nt[0]?.error;if($){pt(fn,`RPC '${t}' stream ${o} received error:`,$);const ot=$.status;let at=(function(w){const I=Be[w];if(I!==void 0)return xw(I)})(ot),ht=$.message;at===void 0&&(at=et.INTERNAL,ht="Unknown error status: "+ot+" with message "+$.message),R=!0,k.a_(new mt(at,ht)),E.close()}else pt(fn,`RPC '${t}' stream ${o} received:`,Z),k.u_(Z)}})),H(d,Qb.STAT_EVENT,(B=>{B.stat===sg.PROXY?pt(fn,`RPC '${t}' stream ${o} detected buffering proxy`):B.stat===sg.NOPROXY&&pt(fn,`RPC '${t}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{k.__()}),0),k}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((n=>n===t))}}function Ip(){return typeof document<"u"?document:null}function sd(e){return new oO(e,!0)}class Gw{constructor(t,n,s=1e3,o=1.5,u=6e4){this.Mi=t,this.timerId=n,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&pt("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const mA="PersistentStream";class Kw{constructor(t,n,s,o,u,c,d,p){this.Mi=t,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Gw(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===et.RESOURCE_EXHAUSTED?(Ps(n.toString()),Ps("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===et.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(n)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{t((()=>{const o=new mt(et.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(t,n){const s=this.W_(this.D_);this.stream=this.j_(t,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return pt(mA,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return n=>{this.Mi.enqueueAndForget((()=>this.D_===t?n():(pt(mA,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class sM extends Kw{constructor(t,n,s,o,u,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,c),this.serializer=u}j_(t,n){return this.connection.T_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=cO(this.serializer,t),s=(function(u){if(!("targetChange"in u))return It.min();const c=u.targetChange;return c.targetIds&&c.targetIds.length?It.min():c.readTime?ns(c.readTime):It.min()})(t);return this.listener.H_(n,s)}Y_(t){const n={};n.database=pg(this.serializer),n.addTarget=(function(u,c){let d;const p=c.target;if(d=ug(p)?{documents:dO(u,p)}:{query:mO(u,p).ft},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=Mw(u,c.resumeToken);const g=fg(u,c.expectedCount);g!==null&&(d.expectedCount=g)}else if(c.snapshotVersion.compareTo(It.min())>0){d.readTime=Of(u,c.snapshotVersion.toTimestamp());const g=fg(u,c.expectedCount);g!==null&&(d.expectedCount=g)}return d})(this.serializer,t);const s=gO(this.serializer,t);s&&(n.labels=s),this.q_(n)}Z_(t){const n={};n.database=pg(this.serializer),n.removeTarget=t,this.q_(n)}}class rM extends Kw{constructor(t,n,s,o,u,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,c),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}J_(t){return Wt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Wt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Wt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=fO(t.writeResults,t.commitTime),s=ns(t.commitTime);return this.listener.na(s,n)}ra(){const t={};t.database=pg(this.serializer),this.q_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map((s=>hO(this.serializer,s)))};this.q_(n)}}class aM{}class oM extends aM{constructor(t,n,s,o){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new mt(et.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,c])=>this.connection.Go(t,dg(n,s),o,u,c))).catch((u=>{throw u.name==="FirebaseError"?(u.code===et.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new mt(et.UNKNOWN,u.toString())}))}Ho(t,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Ho(t,dg(n,s),o,c,d,u))).catch((c=>{throw c.name==="FirebaseError"?(c.code===et.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new mt(et.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class lM{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ps(n),this.aa=!1):pt("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const za="RemoteStore";class uM{constructor(t,n,s,o,u){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((c=>{s.enqueueAndForget((async()=>{Ga(this)&&(pt(za,"Restarting streams for network reachability change."),await(async function(p){const g=Nt(p);g.Ea.add(4),await oc(g),g.Ra.set("Unknown"),g.Ea.delete(4),await rd(g)})(this))}))})),this.Ra=new lM(s,o)}}async function rd(e){if(Ga(e))for(const t of e.da)await t(!0)}async function oc(e){for(const t of e.da)await t(!1)}function Yw(e,t){const n=Nt(e);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),by(n)?Sy(n):ul(n).O_()&&Ay(n,t))}function Ey(e,t){const n=Nt(e),s=ul(n);n.Ia.delete(t),s.O_()&&Qw(n,t),n.Ia.size===0&&(s.O_()?s.L_():Ga(n)&&n.Ra.set("Unknown"))}function Ay(e,t){if(e.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(It.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}ul(e).Y_(t)}function Qw(e,t){e.Va.Ue(t),ul(e).Z_(t)}function Sy(e){e.Va=new iO({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),ul(e).start(),e.Ra.ua()}function by(e){return Ga(e)&&!ul(e).x_()&&e.Ia.size>0}function Ga(e){return Nt(e).Ea.size===0}function Xw(e){e.Va=void 0}async function cM(e){e.Ra.set("Online")}async function hM(e){e.Ia.forEach(((t,n)=>{Ay(e,t)}))}async function fM(e,t){Xw(e),by(e)?(e.Ra.ha(t),Sy(e)):e.Ra.set("Unknown")}async function dM(e,t,n){if(e.Ra.set("Online"),t instanceof Ow&&t.state===2&&t.cause)try{await(async function(o,u){const c=u.cause;for(const d of u.targetIds)o.Ia.has(d)&&(await o.remoteSyncer.rejectListen(d,c),o.Ia.delete(d),o.Va.removeTarget(d))})(e,t)}catch(s){pt(za,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await Pf(e,s)}else if(t instanceof uf?e.Va.Ze(t):t instanceof Vw?e.Va.st(t):e.Va.tt(t),!n.isEqual(It.min()))try{const s=await Hw(e.localStore);n.compareTo(s)>=0&&await(function(u,c){const d=u.Va.Tt(c);return d.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const _=u.Ia.get(g);_&&u.Ia.set(g,_.withResumeToken(p.resumeToken,c))}})),d.targetMismatches.forEach(((p,g)=>{const _=u.Ia.get(p);if(!_)return;u.Ia.set(p,_.withResumeToken(cn.EMPTY_BYTE_STRING,_.snapshotVersion)),Qw(u,p);const E=new Dr(_.target,p,g,_.sequenceNumber);Ay(u,E)})),u.remoteSyncer.applyRemoteEvent(d)})(e,n)}catch(s){pt(za,"Failed to raise snapshot:",s),await Pf(e,s)}}async function Pf(e,t,n){if(!ll(t))throw t;e.Ea.add(1),await oc(e),e.Ra.set("Offline"),n||(n=()=>Hw(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{pt(za,"Retrying IndexedDB access"),await n(),e.Ea.delete(1),await rd(e)}))}function $w(e,t){return t().catch((n=>Pf(e,n,t)))}async function ad(e){const t=Nt(e),n=Br(t);let s=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:oy;for(;mM(t);)try{const o=await XO(t.localStore,s);if(o===null){t.Ta.length===0&&n.L_();break}s=o.batchId,pM(t,o)}catch(o){await Pf(t,o)}Ww(t)&&Zw(t)}function mM(e){return Ga(e)&&e.Ta.length<10}function pM(e,t){e.Ta.push(t);const n=Br(e);n.O_()&&n.X_&&n.ea(t.mutations)}function Ww(e){return Ga(e)&&!Br(e).x_()&&e.Ta.length>0}function Zw(e){Br(e).start()}async function gM(e){Br(e).ra()}async function yM(e){const t=Br(e);for(const n of e.Ta)t.ea(n.mutations)}async function _M(e,t,n){const s=e.Ta.shift(),o=my.from(s,t,n);await $w(e,(()=>e.remoteSyncer.applySuccessfulWrite(o))),await ad(e)}async function vM(e,t){t&&Br(e).X_&&await(async function(s,o){if((function(c){return tO(c)&&c!==et.ABORTED})(o.code)){const u=s.Ta.shift();Br(s).B_(),await $w(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await ad(s)}})(e,t),Ww(e)&&Zw(e)}async function pA(e,t){const n=Nt(e);n.asyncQueue.verifyOperationInProgress(),pt(za,"RemoteStore received new credentials");const s=Ga(n);n.Ea.add(3),await oc(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await rd(n)}async function TM(e,t){const n=Nt(e);t?(n.Ea.delete(2),await rd(n)):t||(n.Ea.add(2),await oc(n),n.Ra.set("Unknown"))}function ul(e){return e.ma||(e.ma=(function(n,s,o){const u=Nt(n);return u.sa(),new sM(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(e.datastore,e.asyncQueue,{Xo:cM.bind(null,e),t_:hM.bind(null,e),r_:fM.bind(null,e),H_:dM.bind(null,e)}),e.da.push((async t=>{t?(e.ma.B_(),by(e)?Sy(e):e.Ra.set("Unknown")):(await e.ma.stop(),Xw(e))}))),e.ma}function Br(e){return e.fa||(e.fa=(function(n,s,o){const u=Nt(n);return u.sa(),new rM(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(e.datastore,e.asyncQueue,{Xo:()=>Promise.resolve(),t_:gM.bind(null,e),r_:vM.bind(null,e),ta:yM.bind(null,e),na:_M.bind(null,e)}),e.da.push((async t=>{t?(e.fa.B_(),await ad(e)):(await e.fa.stop(),e.Ta.length>0&&(pt(za,`Stopping write stream with ${e.Ta.length} pending writes`),e.Ta=[]))}))),e.fa}class wy{constructor(t,n,s,o,u){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Or,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,o,u){const c=Date.now()+s,d=new wy(t,n,c,o,u);return d.start(s),d}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new mt(et.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ry(e,t){if(Ps("AsyncQueue",`${t}: ${e}`),ll(e))return new mt(et.UNAVAILABLE,`${t}: ${e}`);throw e}class Yo{static emptySet(t){return new Yo(t.comparator)}constructor(t){this.comparator=t?(n,s)=>t(n,s)||vt.comparator(n.key,s.key):(n,s)=>vt.comparator(n.key,s.key),this.keyedMap=Su(),this.sortedSet=new _e(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((n,s)=>(t(n),!1)))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Yo)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach((n=>{t.push(n.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const s=new Yo;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=n,s}}class gA{constructor(){this.ga=new _e(vt.comparator)}track(t){const n=t.doc.key,s=this.ga.get(n);s?t.type!==0&&s.type===3?this.ga=this.ga.insert(n,t):t.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.ga=this.ga.remove(n):t.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):St(63341,{Rt:t,pa:s}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal(((n,s)=>{t.push(s)})),t}}class nl{constructor(t,n,s,o,u,c,d,p,g){this.query=t,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(t,n,s,o,u){const c=[];return n.forEach((d=>{c.push({type:0,doc:d})})),new nl(t,n,Yo.emptySet(n),c,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Jf(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,s=t.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}class EM{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class AM{constructor(){this.queries=yA(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=Nt(n),u=o.queries;o.queries=yA(),u.forEach(((c,d)=>{for(const p of d.Sa)p.onError(s)}))})(this,new mt(et.ABORTED,"Firestore shutting down"))}}function yA(){return new Ha((e=>vw(e)),Jf)}async function SM(e,t){const n=Nt(e);let s=3;const o=t.query;let u=n.queries.get(o);u?!u.ba()&&t.Da()&&(s=2):(u=new EM,s=t.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(c){const d=Ry(c,`Initialization of query '${Po(t.query)}' failed`);return void t.onError(d)}n.queries.set(o,u),u.Sa.push(t),t.va(n.onlineState),u.wa&&t.Fa(u.wa)&&Cy(n)}async function bM(e,t){const n=Nt(e),s=t.query;let o=3;const u=n.queries.get(s);if(u){const c=u.Sa.indexOf(t);c>=0&&(u.Sa.splice(c,1),u.Sa.length===0?o=t.Da()?0:1:!u.ba()&&t.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function wM(e,t){const n=Nt(e);let s=!1;for(const o of t){const u=o.query,c=n.queries.get(u);if(c){for(const d of c.Sa)d.Fa(o)&&(s=!0);c.wa=o}}s&&Cy(n)}function RM(e,t,n){const s=Nt(e),o=s.queries.get(t);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(t)}function Cy(e){e.Ca.forEach((t=>{t.next()}))}var _g,_A;(_A=_g||(_g={})).Ma="default",_A.Cache="cache";class CM{constructor(t,n,s){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(t){if(!this.options.includeMetadataChanges){const s=[];for(const o of t.docChanges)o.type!==3&&s.push(o);t=new nl(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=nl.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==_g.Cache}}class Jw{constructor(t){this.key=t}}class t1{constructor(t){this.key=t}}class IM{constructor(t,n){this.query=t,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=qt(),this.mutatedKeys=qt(),this.eu=Tw(t),this.tu=new Yo(this.eu)}get nu(){return this.Ya}ru(t,n){const s=n?n.iu:new gA,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,c=o,d=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((_,E)=>{const A=o.get(_),R=td(this.query,E)?E:null,k=!!A&&this.mutatedKeys.has(A.key),H=!!R&&(R.hasLocalMutations||this.mutatedKeys.has(R.key)&&R.hasCommittedMutations);let B=!1;A&&R?A.data.isEqual(R.data)?k!==H&&(s.track({type:3,doc:R}),B=!0):this.su(A,R)||(s.track({type:2,doc:R}),B=!0,(p&&this.eu(R,p)>0||g&&this.eu(R,g)<0)&&(d=!0)):!A&&R?(s.track({type:0,doc:R}),B=!0):A&&!R&&(s.track({type:1,doc:A}),B=!0,(p||g)&&(d=!0)),B&&(R?(c=c.add(R),u=H?u.add(_):u.delete(_)):(c=c.delete(_),u=u.delete(_)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const _=this.query.limitType==="F"?c.last():c.first();c=c.delete(_.key),u=u.delete(_.key),s.track({type:1,doc:_})}return{tu:c,iu:s,Cs:d,mutatedKeys:u}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,s,o){const u=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const c=t.iu.ya();c.sort(((_,E)=>(function(R,k){const H=B=>{switch(B){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return St(20277,{Rt:B})}};return H(R)-H(k)})(_.type,E.type)||this.eu(_.doc,E.doc))),this.ou(s),o=o??!1;const d=n&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,g=p!==this.Za;return this.Za=p,c.length!==0||g?{snapshot:new nl(this.query,t.tu,u,c,t.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new gA,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),t.modifiedDocuments.forEach((n=>{})),t.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=qt(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return t.forEach((s=>{this.Xa.has(s)||n.push(new t1(s))})),this.Xa.forEach((s=>{t.has(s)||n.push(new Jw(s))})),n}cu(t){this.Ya=t.Qs,this.Xa=qt();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return nl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Iy="SyncEngine";class DM{constructor(t,n,s){this.query=t,this.targetId=n,this.view=s}}class NM{constructor(t){this.key=t,this.hu=!1}}class xM{constructor(t,n,s,o,u,c){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Ha((d=>vw(d)),Jf),this.Iu=new Map,this.Eu=new Set,this.du=new _e(vt.comparator),this.Au=new Map,this.Ru=new yy,this.Vu={},this.mu=new Map,this.fu=el.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function VM(e,t,n=!0){const s=a1(e);let o;const u=s.Tu.get(t);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await e1(s,t,n,!0),o}async function OM(e,t){const n=a1(e);await e1(n,t,!0,!1)}async function e1(e,t,n,s){const o=await $O(e.localStore,es(t)),u=o.targetId,c=e.sharedClientState.addLocalQueryTarget(u,n);let d;return s&&(d=await MM(e,t,u,c==="current",o.resumeToken)),e.isPrimaryClient&&n&&Yw(e.remoteStore,o),d}async function MM(e,t,n,s,o){e.pu=(E,A,R)=>(async function(H,B,Z,nt){let $=B.view.ru(Z);$.Cs&&($=await cA(H.localStore,B.query,!1).then((({documents:C})=>B.view.ru(C,$))));const ot=nt&&nt.targetChanges.get(B.targetId),at=nt&&nt.targetMismatches.get(B.targetId)!=null,ht=B.view.applyChanges($,H.isPrimaryClient,ot,at);return TA(H,B.targetId,ht.au),ht.snapshot})(e,E,A,R);const u=await cA(e.localStore,t,!0),c=new IM(t,u.Qs),d=c.ru(u.documents),p=ac.createSynthesizedTargetChangeForCurrentChange(n,s&&e.onlineState!=="Offline",o),g=c.applyChanges(d,e.isPrimaryClient,p);TA(e,n,g.au);const _=new DM(t,n,c);return e.Tu.set(t,_),e.Iu.has(n)?e.Iu.get(n).push(t):e.Iu.set(n,[t]),g.snapshot}async function PM(e,t,n){const s=Nt(e),o=s.Tu.get(t),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((c=>!Jf(c,t)))),void s.Tu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await gg(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Ey(s.remoteStore,o.targetId),vg(s,o.targetId)})).catch(ol)):(vg(s,o.targetId),await gg(s.localStore,o.targetId,!0))}async function kM(e,t){const n=Nt(e),s=n.Tu.get(t),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Ey(n.remoteStore,s.targetId))}async function LM(e,t,n){const s=HM(e);try{const o=await(function(c,d){const p=Nt(c),g=de.now(),_=d.reduce(((R,k)=>R.add(k.key)),qt());let E,A;return p.persistence.runTransaction("Locally write mutations","readwrite",(R=>{let k=ks(),H=qt();return p.Ns.getEntries(R,_).next((B=>{k=B,k.forEach(((Z,nt)=>{nt.isValidDocument()||(H=H.add(Z))}))})).next((()=>p.localDocuments.getOverlayedDocuments(R,k))).next((B=>{E=B;const Z=[];for(const nt of d){const $=XV(nt,E.get(nt.key).overlayedDocument);$!=null&&Z.push(new Yr(nt.key,$,cw($.value.mapValue),Si.exists(!0)))}return p.mutationQueue.addMutationBatch(R,g,Z,d)})).next((B=>{A=B;const Z=B.applyToLocalDocumentSet(E,H);return p.documentOverlayCache.saveOverlays(R,B.batchId,Z)}))})).then((()=>({batchId:A.batchId,changes:Aw(E)})))})(s.localStore,t);s.sharedClientState.addPendingMutation(o.batchId),(function(c,d,p){let g=c.Vu[c.currentUser.toKey()];g||(g=new _e(zt)),g=g.insert(d,p),c.Vu[c.currentUser.toKey()]=g})(s,o.batchId,n),await lc(s,o.changes),await ad(s.remoteStore)}catch(o){const u=Ry(o,"Failed to persist write");n.reject(u)}}async function n1(e,t){const n=Nt(e);try{const s=await YO(n.localStore,t);t.targetChanges.forEach(((o,u)=>{const c=n.Au.get(u);c&&(Wt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?c.hu=!0:o.modifiedDocuments.size>0?Wt(c.hu,14607):o.removedDocuments.size>0&&(Wt(c.hu,42227),c.hu=!1))})),await lc(n,s,t)}catch(s){await ol(s)}}function vA(e,t,n){const s=Nt(e);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,c)=>{const d=c.view.va(t);d.snapshot&&o.push(d.snapshot)})),(function(c,d){const p=Nt(c);p.onlineState=d;let g=!1;p.queries.forEach(((_,E)=>{for(const A of E.Sa)A.va(d)&&(g=!0)})),g&&Cy(p)})(s.eventManager,t),o.length&&s.Pu.H_(o),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function UM(e,t,n){const s=Nt(e);s.sharedClientState.updateQueryState(t,"rejected",n);const o=s.Au.get(t),u=o&&o.key;if(u){let c=new _e(vt.comparator);c=c.insert(u,mn.newNoDocument(u,It.min()));const d=qt().add(u),p=new id(It.min(),new Map,new _e(zt),c,d);await n1(s,p),s.du=s.du.remove(u),s.Au.delete(t),Dy(s)}else await gg(s.localStore,t,!1).then((()=>vg(s,t,n))).catch(ol)}async function jM(e,t){const n=Nt(e),s=t.batch.batchId;try{const o=await KO(n.localStore,t);s1(n,s,null),i1(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await lc(n,o)}catch(o){await ol(o)}}async function BM(e,t,n){const s=Nt(e);try{const o=await(function(c,d){const p=Nt(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let _;return p.mutationQueue.lookupMutationBatch(g,d).next((E=>(Wt(E!==null,37113),_=E.keys(),p.mutationQueue.removeMutationBatch(g,E)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,_,d))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,_))).next((()=>p.localDocuments.getDocuments(g,_)))}))})(s.localStore,t);s1(s,t,n),i1(s,t),s.sharedClientState.updateMutationState(t,"rejected",n),await lc(s,o)}catch(o){await ol(o)}}function i1(e,t){(e.mu.get(t)||[]).forEach((n=>{n.resolve()})),e.mu.delete(t)}function s1(e,t,n){const s=Nt(e);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(t);u&&(n?u.reject(n):u.resolve(),o=o.remove(t)),s.Vu[s.currentUser.toKey()]=o}}function vg(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const s of e.Iu.get(t))e.Tu.delete(s),n&&e.Pu.yu(s,n);e.Iu.delete(t),e.isPrimaryClient&&e.Ru.jr(t).forEach((s=>{e.Ru.containsKey(s)||r1(e,s)}))}function r1(e,t){e.Eu.delete(t.path.canonicalString());const n=e.du.get(t);n!==null&&(Ey(e.remoteStore,n),e.du=e.du.remove(t),e.Au.delete(n),Dy(e))}function TA(e,t,n){for(const s of n)s instanceof Jw?(e.Ru.addReference(s.key,t),zM(e,s)):s instanceof t1?(pt(Iy,"Document no longer in limbo: "+s.key),e.Ru.removeReference(s.key,t),e.Ru.containsKey(s.key)||r1(e,s.key)):St(19791,{wu:s})}function zM(e,t){const n=t.key,s=n.path.canonicalString();e.du.get(n)||e.Eu.has(s)||(pt(Iy,"New document in limbo: "+n),e.Eu.add(s),Dy(e))}function Dy(e){for(;e.Eu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){const t=e.Eu.values().next().value;e.Eu.delete(t);const n=new vt(ue.fromString(t)),s=e.fu.next();e.Au.set(s,new NM(n)),e.du=e.du.insert(n,s),Yw(e.remoteStore,new Dr(es(yw(n.path)),s,"TargetPurposeLimboResolution",$f.ce))}}async function lc(e,t,n){const s=Nt(e),o=[],u=[],c=[];s.Tu.isEmpty()||(s.Tu.forEach(((d,p)=>{c.push(s.pu(p,t,n).then((g=>{if((g||n)&&s.isPrimaryClient){const _=g?!g.fromCache:n?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,_?"current":"not-current")}if(g){o.push(g);const _=vy.As(p.targetId,g);u.push(_)}})))})),await Promise.all(c),s.Pu.H_(o),await(async function(p,g){const _=Nt(p);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",(E=>it.forEach(g,(A=>it.forEach(A.Es,(R=>_.persistence.referenceDelegate.addReference(E,A.targetId,R))).next((()=>it.forEach(A.ds,(R=>_.persistence.referenceDelegate.removeReference(E,A.targetId,R)))))))))}catch(E){if(!ll(E))throw E;pt(Ty,"Failed to update sequence numbers: "+E)}for(const E of g){const A=E.targetId;if(!E.fromCache){const R=_.Ms.get(A),k=R.snapshotVersion,H=R.withLastLimboFreeSnapshotVersion(k);_.Ms=_.Ms.insert(A,H)}}})(s.localStore,u))}async function qM(e,t){const n=Nt(e);if(!n.currentUser.isEqual(t)){pt(Iy,"User change. New user:",t.toKey());const s=await Fw(n.localStore,t);n.currentUser=t,(function(u,c){u.mu.forEach((d=>{d.forEach((p=>{p.reject(new mt(et.CANCELLED,c))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await lc(n,s.Ls)}}function FM(e,t){const n=Nt(e),s=n.Au.get(t);if(s&&s.hu)return qt().add(s.key);{let o=qt();const u=n.Iu.get(t);if(!u)return o;for(const c of u){const d=n.Tu.get(c);o=o.unionWith(d.view.nu)}return o}}function a1(e){const t=Nt(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=n1.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=FM.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=UM.bind(null,t),t.Pu.H_=wM.bind(null,t.eventManager),t.Pu.yu=RM.bind(null,t.eventManager),t}function HM(e){const t=Nt(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=jM.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=BM.bind(null,t),t}class kf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=sd(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return GO(this.persistence,new qO,t.initialUser,this.serializer)}Cu(t){return new qw(_y.mi,this.serializer)}Du(t){return new ZO}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}kf.provider={build:()=>new kf};class GM extends kf{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){Wt(this.persistence.referenceDelegate instanceof Mf,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new CO(s,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?Dn.withCacheSize(this.cacheSizeBytes):Dn.DEFAULT;return new qw((s=>Mf.mi(s,n)),this.serializer)}}class Tg{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>vA(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=qM.bind(null,this.syncEngine),await TM(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new AM})()}createDatastore(t){const n=sd(t.databaseInfo.databaseId),s=(function(u){return new iM(u)})(t.databaseInfo);return(function(u,c,d,p){return new oM(u,c,d,p)})(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return(function(s,o,u,c,d){return new uM(s,o,u,c,d)})(this.localStore,this.datastore,t.asyncQueue,(n=>vA(this.syncEngine,n,0)),(function(){return dA.v()?new dA:new JO})())}createSyncEngine(t,n){return(function(o,u,c,d,p,g,_){const E=new xM(o,u,c,d,p,g);return _&&(E.gu=!0),E})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Nt(n);pt(za,"RemoteStore shutting down."),s.Ea.add(5),await oc(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Tg.provider={build:()=>new Tg};class KM{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Ps("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout((()=>{this.muted||t(n)}),0)}}const zr="FirestoreClient";class YM{constructor(t,n,s,o,u){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=dn.UNAUTHENTICATED,this.clientId=ay.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async c=>{pt(zr,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(s,(c=>(pt(zr,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Or;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=Ry(n,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}async function Dp(e,t){e.asyncQueue.verifyOperationInProgress(),pt(zr,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let s=n.initialUser;e.setCredentialChangeListener((async o=>{s.isEqual(o)||(await Fw(t.localStore,o),s=o)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function EA(e,t){e.asyncQueue.verifyOperationInProgress();const n=await QM(e);pt(zr,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((s=>pA(t.remoteStore,s))),e.setAppCheckTokenChangeListener(((s,o)=>pA(t.remoteStore,o))),e._onlineComponents=t}async function QM(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){pt(zr,"Using user provided OfflineComponentProvider");try{await Dp(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!(function(o){return o.name==="FirebaseError"?o.code===et.FAILED_PRECONDITION||o.code===et.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;Wo("Error using user provided cache. Falling back to memory cache: "+n),await Dp(e,new kf)}}else pt(zr,"Using default OfflineComponentProvider"),await Dp(e,new GM(void 0));return e._offlineComponents}async function o1(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(pt(zr,"Using user provided OnlineComponentProvider"),await EA(e,e._uninitializedComponentsProvider._online)):(pt(zr,"Using default OnlineComponentProvider"),await EA(e,new Tg))),e._onlineComponents}function XM(e){return o1(e).then((t=>t.syncEngine))}async function $M(e){const t=await o1(e),n=t.eventManager;return n.onListen=VM.bind(null,t.syncEngine),n.onUnlisten=PM.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=OM.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=kM.bind(null,t.syncEngine),n}function WM(e,t,n={}){const s=new Or;return e.asyncQueue.enqueueAndForget((async()=>(function(u,c,d,p,g){const _=new KM({next:A=>{_.Nu(),c.enqueueAndForget((()=>bM(u,E))),A.fromCache&&p.source==="server"?g.reject(new mt(et.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(A)},error:A=>g.reject(A)}),E=new CM(d,_,{includeMetadataChanges:!0,qa:!0});return SM(u,E)})(await $M(e),e.asyncQueue,t,n,s))),s.promise}function l1(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}const AA=new Map;const u1="firestore.googleapis.com",SA=!0;class bA{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new mt(et.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=u1,this.ssl=SA}else this.host=t.host,this.ssl=t.ssl??SA;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=zw;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<wO)throw new mt(et.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}uV("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=l1(t.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new mt(et.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new mt(et.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new mt(et.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class od{constructor(t,n,s,o){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new bA({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new mt(et.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new mt(et.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new bA(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new J2;switch(s.type){case"firstParty":return new iV(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new mt(et.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=AA.get(n);s&&(pt("ComponentProvider","Removing Datastore"),AA.delete(n),s.terminate())})(this),Promise.resolve()}}function ZM(e,t,n,s={}){e=Ba(e,od);const o=Hr(t),u=e._getSettings(),c={...u,emulatorOptions:e._getEmulatorOptions()},d=`${t}:${n}`;o&&(Kg(`https://${d}`),Yg("Firestore",!0)),u.host!==u1&&u.host!==d&&Wo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:d,ssl:o,emulatorOptions:s};if(!Pa(p,c)&&(e._setSettings(p),s.mockUserToken)){let g,_;if(typeof s.mockUserToken=="string")g=s.mockUserToken,_=dn.MOCK_USER;else{g=rb(s.mockUserToken,e._app?.options.projectId);const E=s.mockUserToken.sub||s.mockUserToken.user_id;if(!E)throw new mt(et.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new dn(E)}e._authCredentials=new tV(new Zb(g,_))}}class cl{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new cl(this.firestore,t,this._query)}}class Ke{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Mr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ke(this.firestore,t,this._key)}toJSON(){return{type:Ke._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,s){if(ic(n,Ke._jsonSchema))return new Ke(t,s||null,new vt(ue.fromString(n.referencePath)))}}Ke._jsonSchemaVersion="firestore/documentReference/1.0",Ke._jsonSchema={type:Fe("string",Ke._jsonSchemaVersion),referencePath:Fe("string")};class Mr extends cl{constructor(t,n,s){super(t,n,yw(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ke(this.firestore,null,new vt(t))}withConverter(t){return new Mr(this.firestore,t,this._path)}}function gu(e,t,...n){if(e=Se(e),Jb("collection","path",t),e instanceof od){const s=ue.fromString(t,...n);return L0(s),new Mr(e,null,s)}{if(!(e instanceof Ke||e instanceof Mr))throw new mt(et.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=e._path.child(ue.fromString(t,...n));return L0(s),new Mr(e.firestore,null,s)}}function cf(e,t,...n){if(e=Se(e),arguments.length===1&&(t=ay.newId()),Jb("doc","path",t),e instanceof od){const s=ue.fromString(t,...n);return k0(s),new Ke(e,null,new vt(s))}{if(!(e instanceof Ke||e instanceof Mr))throw new mt(et.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=e._path.child(ue.fromString(t,...n));return k0(s),new Ke(e.firestore,e instanceof Mr?e.converter:null,new vt(s))}}const wA="AsyncQueue";class RA{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Gw(this,"async_queue_retry"),this._c=()=>{const s=Ip();s&&pt(wA,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=t;const n=Ip();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=Ip();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Or;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!ll(t))throw t;pt(wA,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const n=this.ac.then((()=>(this.rc=!0,t().catch((s=>{throw this.nc=s,this.rc=!1,Ps("INTERNAL UNHANDLED ERROR: ",CA(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(t,n,s){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const o=wy.createAndSchedule(this,t,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&St(47125,{Pc:CA(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function CA(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}class uc extends od{constructor(t,n,s,o){super(t,n,s,o),this.type="firestore",this._queue=new RA,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new RA(t),this._firestoreClient=void 0,await t}}}function JM(e,t){const n=typeof e=="object"?e:$g(),s=typeof e=="string"?e:Cf,o=Gf(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=nb("firestore");u&&ZM(o,...u)}return o}function c1(e){if(e._terminated)throw new mt(et.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||tP(e),e._firestoreClient}function tP(e){const t=e._freezeSettings(),n=(function(o,u,c,d){return new TV(o,u,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,l1(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)})(e._databaseId,e._app?.options.appId||"",e._persistenceKey,t);e._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(e._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),e._firestoreClient=new YM(e._authCredentials,e._appCheckCredentials,e._queue,n,e._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(e._componentsProvider))}class ri{constructor(t){this._byteString=t}static fromBase64String(t){try{return new ri(cn.fromBase64String(t))}catch(n){throw new mt(et.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new ri(cn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:ri._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(ic(t,ri._jsonSchema))return ri.fromBase64String(t.bytes)}}ri._jsonSchemaVersion="firestore/bytes/1.0",ri._jsonSchema={type:Fe("string",ri._jsonSchemaVersion),bytes:Fe("string")};class ld{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new mt(et.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new un(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Ny{constructor(t){this._methodName=t}}class is{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new mt(et.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new mt(et.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return zt(this._lat,t._lat)||zt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:is._jsonSchemaVersion}}static fromJSON(t){if(ic(t,is._jsonSchema))return new is(t.latitude,t.longitude)}}is._jsonSchemaVersion="firestore/geoPoint/1.0",is._jsonSchema={type:Fe("string",is._jsonSchemaVersion),latitude:Fe("number"),longitude:Fe("number")};class ss{constructor(t){this._values=(t||[]).map((n=>n))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,t._values)}toJSON(){return{type:ss._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(ic(t,ss._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((n=>typeof n=="number")))return new ss(t.vectorValues);throw new mt(et.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ss._jsonSchemaVersion="firestore/vectorValue/1.0",ss._jsonSchema={type:Fe("string",ss._jsonSchemaVersion),vectorValues:Fe("object")};const eP=/^__.*__$/;class nP{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return this.fieldMask!==null?new Yr(t,this.data,this.fieldMask,n,this.fieldTransforms):new rc(t,this.data,n,this.fieldTransforms)}}class h1{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return new Yr(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function f1(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw St(40011,{Ac:e})}}class xy{constructor(t,n,s,o,u,c){this.settings=t,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new xy({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const n=this.path?.child(t),s=this.Vc({path:n,fc:!1});return s.gc(t),s}yc(t){const n=this.path?.child(t),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return Lf(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((n=>t.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>t.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(f1(this.Ac)&&eP.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class iP{constructor(t,n,s){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=s||sd(t)}Cc(t,n,s,o=!1){return new xy({Ac:t,methodName:n,Dc:s,path:un.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Vy(e){const t=e._freezeSettings(),n=sd(e._databaseId);return new iP(e._databaseId,!!t.ignoreUndefinedProperties,n)}function sP(e,t,n,s,o,u={}){const c=e.Cc(u.merge||u.mergeFields?2:0,t,n,o);Oy("Data must be an object, but it was:",c,s);const d=d1(s,c);let p,g;if(u.merge)p=new qn(c.fieldMask),g=c.fieldTransforms;else if(u.mergeFields){const _=[];for(const E of u.mergeFields){const A=Eg(t,E,n);if(!c.contains(A))throw new mt(et.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);p1(_,A)||_.push(A)}p=new qn(_),g=c.fieldTransforms.filter((E=>p.covers(E.field)))}else p=null,g=c.fieldTransforms;return new nP(new Nn(d),p,g)}class ud extends Ny{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof ud}}function rP(e,t,n,s){const o=e.Cc(1,t,n);Oy("Data must be an object, but it was:",o,s);const u=[],c=Nn.empty();Kr(s,((p,g)=>{const _=My(t,p,n);g=Se(g);const E=o.yc(_);if(g instanceof ud)u.push(_);else{const A=cc(g,E);A!=null&&(u.push(_),c.set(_,A))}}));const d=new qn(u);return new h1(c,d,o.fieldTransforms)}function aP(e,t,n,s,o,u){const c=e.Cc(1,t,n),d=[Eg(t,s,n)],p=[o];if(u.length%2!=0)throw new mt(et.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<u.length;A+=2)d.push(Eg(t,u[A])),p.push(u[A+1]);const g=[],_=Nn.empty();for(let A=d.length-1;A>=0;--A)if(!p1(g,d[A])){const R=d[A];let k=p[A];k=Se(k);const H=c.yc(R);if(k instanceof ud)g.push(R);else{const B=cc(k,H);B!=null&&(g.push(R),_.set(R,B))}}const E=new qn(g);return new h1(_,E,c.fieldTransforms)}function oP(e,t,n,s=!1){return cc(n,e.Cc(s?4:3,t))}function cc(e,t){if(m1(e=Se(e)))return Oy("Unsupported field value:",t,e),d1(e,t);if(e instanceof Ny)return(function(s,o){if(!f1(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(s,o){const u=[];let c=0;for(const d of s){let p=cc(d,o.wc(c));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),c++}return{arrayValue:{values:u}}})(e,t)}return(function(s,o){if((s=Se(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return FV(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=de.fromDate(s);return{timestampValue:Of(o.serializer,u)}}if(s instanceof de){const u=new de(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Of(o.serializer,u)}}if(s instanceof is)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof ri)return{bytesValue:Mw(o.serializer,s._byteString)};if(s instanceof Ke){const u=o.databaseId,c=s.firestore._databaseId;if(!c.isEqual(u))throw o.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:gy(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof ss)return(function(c,d){return{mapValue:{fields:{[lw]:{stringValue:uw},[If]:{arrayValue:{values:c.toArray().map((g=>{if(typeof g!="number")throw d.Sc("VectorValues must only contain numeric values.");return fy(d.serializer,g)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${Xf(s)}`)})(e,t)}function d1(e,t){const n={};return nw(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Kr(e,((s,o)=>{const u=cc(o,t.mc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function m1(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof de||e instanceof is||e instanceof ri||e instanceof Ke||e instanceof Ny||e instanceof ss)}function Oy(e,t,n){if(!m1(n)||!tw(n)){const s=Xf(n);throw s==="an object"?t.Sc(e+" a custom object"):t.Sc(e+" "+s)}}function Eg(e,t,n){if((t=Se(t))instanceof ld)return t._internalPath;if(typeof t=="string")return My(e,t);throw Lf("Field path arguments must be of type string or ",e,!1,void 0,n)}const lP=new RegExp("[~\\*/\\[\\]]");function My(e,t,n){if(t.search(lP)>=0)throw Lf(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new ld(...t.split("."))._internalPath}catch{throw Lf(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Lf(e,t,n,s,o){const u=s&&!s.isEmpty(),c=o!==void 0;let d=`Function ${t}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(u||c)&&(p+=" (found",u&&(p+=` in field ${s}`),c&&(p+=` in document ${o}`),p+=")"),new mt(et.INVALID_ARGUMENT,d+e+p)}function p1(e,t){return e.some((n=>n.isEqual(t)))}class g1{constructor(t,n,s,o,u){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Ke(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new uP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(Py("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class uP extends g1{data(){return super.data()}}function Py(e,t){return typeof t=="string"?My(e,t):t instanceof ld?t._internalPath:t._delegate._internalPath}function cP(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new mt(et.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ky{}class hP extends ky{}function fP(e,t,...n){let s=[];t instanceof ky&&s.push(t),s=s.concat(n),(function(u){const c=u.filter((p=>p instanceof Ly)).length,d=u.filter((p=>p instanceof cd)).length;if(c>1||c>0&&d>0)throw new mt(et.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)e=o._apply(e);return e}class cd extends hP{constructor(t,n,s){super(),this._field=t,this._op=n,this._value=s,this.type="where"}static _create(t,n,s){return new cd(t,n,s)}_apply(t){const n=this._parse(t);return y1(t._query,n),new cl(t.firestore,t.converter,cg(t._query,n))}_parse(t){const n=Vy(t.firestore);return(function(u,c,d,p,g,_,E){let A;if(g.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new mt(et.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){DA(E,_);const k=[];for(const H of E)k.push(IA(p,u,H));A={arrayValue:{values:k}}}else A=IA(p,u,E)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||DA(E,_),A=oP(d,c,E,_==="in"||_==="not-in");return qe.create(g,_,A)})(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function dP(e,t,n){const s=t,o=Py("where",e);return cd._create(o,s,n)}class Ly extends ky{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new Ly(t,n)}_parse(t){const n=this._queryConstraints.map((s=>s._parse(t))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:wi.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:((function(o,u){let c=o;const d=u.getFlattenedFilters();for(const p of d)y1(c,p),c=cg(c,p)})(t._query,n),new cl(t.firestore,t.converter,cg(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function IA(e,t,n){if(typeof(n=Se(n))=="string"){if(n==="")throw new mt(et.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!_w(t)&&n.indexOf("/")!==-1)throw new mt(et.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=t.path.child(ue.fromString(n));if(!vt.isDocumentKey(s))throw new mt(et.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return G0(e,new vt(s))}if(n instanceof Ke)return G0(e,n._key);throw new mt(et.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Xf(n)}.`)}function DA(e,t){if(!Array.isArray(e)||e.length===0)throw new mt(et.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function y1(e,t){const n=(function(o,u){for(const c of o)for(const d of c.getFlattenedFilters())if(u.indexOf(d.op)>=0)return d.op;return null})(e.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(n!==null)throw n===t.op?new mt(et.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new mt(et.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class mP{convertValue(t,n="none"){switch(jr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return xe(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Ur(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw St(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const s={};return Kr(t,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(t){const n=t.fields?.[If].arrayValue?.values?.map((s=>xe(s.doubleValue)));return new ss(n)}convertGeoPoint(t){return new is(xe(t.latitude),xe(t.longitude))}convertArray(t,n){return(t.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(t,n){switch(n){case"previous":const s=Zf(t);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(zu(t));default:return null}}convertTimestamp(t){const n=Lr(t);return new de(n.seconds,n.nanos)}convertDocumentKey(t,n){const s=ue.fromString(t);Wt(Bw(s),9688,{name:t});const o=new qu(s.get(1),s.get(3)),u=new vt(s.popFirst(5));return o.isEqual(n)||Ps(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}function pP(e,t,n){let s;return s=e?e.toFirestore(t):t,s}class Yh{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Qo extends g1{constructor(t,n,s,o,u,c){super(t,n,s,o,c),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new hf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field(Py("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new mt(et.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=Qo._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Qo._jsonSchemaVersion="firestore/documentSnapshot/1.0",Qo._jsonSchema={type:Fe("string",Qo._jsonSchemaVersion),bundleSource:Fe("string","DocumentSnapshot"),bundleName:Fe("string"),bundle:Fe("string")};class hf extends Qo{data(t={}){return super.data(t)}}class Xo{constructor(t,n,s,o){this._firestore=t,this._userDataWriter=n,this._snapshot=o,this.metadata=new Yh(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const t=[];return this.forEach((n=>t.push(n))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach((s=>{t.call(n,new hf(this._firestore,this._userDataWriter,s.key,s,new Yh(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new mt(et.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map((d=>{const p=new hf(o._firestore,o._userDataWriter,d.doc.key,d.doc,new Yh(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}}))}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((d=>u||d.type!==3)).map((d=>{const p=new hf(o._firestore,o._userDataWriter,d.doc.key,d.doc,new Yh(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,_=-1;return d.type!==0&&(g=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),_=c.indexOf(d.doc.key)),{type:gP(d.type),doc:p,oldIndex:g,newIndex:_}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new mt(et.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Xo._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=ay.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function gP(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return St(61501,{type:e})}}Xo._jsonSchemaVersion="firestore/querySnapshot/1.0",Xo._jsonSchema={type:Fe("string",Xo._jsonSchemaVersion),bundleSource:Fe("string","QuerySnapshot"),bundleName:Fe("string"),bundle:Fe("string")};class yP extends mP{constructor(t){super(),this.firestore=t}convertBytes(t){return new ri(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Ke(this.firestore,null,n)}}function Np(e){e=Ba(e,cl);const t=Ba(e.firestore,uc),n=c1(t),s=new yP(t);return cP(e._query),WM(n,e._query).then((o=>new Xo(t,s,e,o)))}function NA(e,t,n,...s){e=Ba(e,Ke);const o=Ba(e.firestore,uc),u=Vy(o);let c;return c=typeof(t=Se(t))=="string"||t instanceof ld?aP(u,"updateDoc",e._key,t,n,s):rP(u,"updateDoc",e._key,t),Uy(o,[c.toMutation(e._key,Si.exists(!0))])}function _P(e){return Uy(Ba(e.firestore,uc),[new dy(e._key,Si.none())])}function xA(e,t){const n=Ba(e.firestore,uc),s=cf(e),o=pP(e.converter,t);return Uy(n,[sP(Vy(e.firestore),"addDoc",s._key,o,e.converter!==null,{}).toMutation(s._key,Si.exists(!1))]).then((()=>s))}function Uy(e,t){return(function(s,o){const u=new Or;return s.asyncQueue.enqueueAndForget((async()=>LM(await XM(s),o,u))),u.promise})(c1(e),t)}(function(t,n=!0){(function(o){al=o})(Fa),ka(new Pr("firestore",((s,{instanceIdentifier:o,options:u})=>{const c=s.getProvider("app").getImmediate(),d=new uc(new eV(s.getProvider("auth-internal")),new sV(c,s.getProvider("app-check-internal")),(function(g,_){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new mt(et.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new qu(g.options.projectId,_)})(c,o),c);return u={useFetchStreams:n,...u},d._setSettings(u),d}),"PUBLIC").setMultipleInstances(!0)),Zi(V0,O0,t),Zi(V0,O0,"esm2020")})();const _1="firebasestorage.googleapis.com",v1="storageBucket",vP=120*1e3,TP=600*1e3;class we extends ls{constructor(t,n,s=0){super(xp(t),`Firebase Storage: ${n} (${xp(t)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,we.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return xp(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var be;(function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(be||(be={}));function xp(e){return"storage/"+e}function jy(){const e="An unknown error occurred, please check the error payload for server response.";return new we(be.UNKNOWN,e)}function EP(e){return new we(be.OBJECT_NOT_FOUND,"Object '"+e+"' does not exist.")}function AP(e){return new we(be.QUOTA_EXCEEDED,"Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function SP(){const e="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new we(be.UNAUTHENTICATED,e)}function bP(){return new we(be.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function wP(e){return new we(be.UNAUTHORIZED,"User does not have permission to access '"+e+"'.")}function RP(){return new we(be.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function CP(){return new we(be.CANCELED,"User canceled the upload/download.")}function IP(e){return new we(be.INVALID_URL,"Invalid URL '"+e+"'.")}function DP(e){return new we(be.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")}function NP(){return new we(be.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+v1+"' property when initializing the app?")}function xP(){return new we(be.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function VP(){return new we(be.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function OP(e){return new we(be.UNSUPPORTED_ENVIRONMENT,`${e} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Ag(e){return new we(be.INVALID_ARGUMENT,e)}function T1(){return new we(be.APP_DELETED,"The Firebase app was deleted.")}function MP(e){return new we(be.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Vu(e,t){return new we(be.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function yu(e){throw new we(be.INTERNAL_ERROR,"Internal error: "+e)}class Fn{constructor(t,n){this.bucket=t,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,n){let s;try{s=Fn.makeFromUrl(t,n)}catch{return new Fn(t,"")}if(s.path==="")return s;throw DP(t)}static makeFromUrl(t,n){let s=null;const o="([A-Za-z0-9.\\-_]+)";function u(ot){ot.path.charAt(ot.path.length-1)==="/"&&(ot.path_=ot.path_.slice(0,-1))}const c="(/(.*))?$",d=new RegExp("^gs://"+o+c,"i"),p={bucket:1,path:3};function g(ot){ot.path_=decodeURIComponent(ot.path)}const _="v[A-Za-z0-9_]+",E=n.replace(/[.]/g,"\\."),A="(/([^?#]*).*)?$",R=new RegExp(`^https?://${E}/${_}/b/${o}/o${A}`,"i"),k={bucket:1,path:3},H=n===_1?"(?:storage.googleapis.com|storage.cloud.google.com)":n,B="([^?#]*)",Z=new RegExp(`^https?://${H}/${o}/${B}`,"i"),$=[{regex:d,indices:p,postModify:u},{regex:R,indices:k,postModify:g},{regex:Z,indices:{bucket:1,path:2},postModify:g}];for(let ot=0;ot<$.length;ot++){const at=$[ot],ht=at.regex.exec(t);if(ht){const C=ht[at.indices.bucket];let w=ht[at.indices.path];w||(w=""),s=new Fn(C,w),at.postModify(s);break}}if(s==null)throw IP(t);return s}}class PP{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}function kP(e,t,n){let s=1,o=null,u=null,c=!1,d=0;function p(){return d===2}let g=!1;function _(...B){g||(g=!0,t.apply(null,B))}function E(B){o=setTimeout(()=>{o=null,e(R,p())},B)}function A(){u&&clearTimeout(u)}function R(B,...Z){if(g){A();return}if(B){A(),_.call(null,B,...Z);return}if(p()||c){A(),_.call(null,B,...Z);return}s<64&&(s*=2);let $;d===1?(d=2,$=0):$=(s+Math.random())*1e3,E($)}let k=!1;function H(B){k||(k=!0,A(),!g&&(o!==null?(B||(d=2),clearTimeout(o),E(0)):B||(d=1)))}return E(0),u=setTimeout(()=>{c=!0,H(!0)},n),H}function LP(e){e(!1)}function UP(e){return e!==void 0}function jP(e){return typeof e=="object"&&!Array.isArray(e)}function By(e){return typeof e=="string"||e instanceof String}function VA(e){return zy()&&e instanceof Blob}function zy(){return typeof Blob<"u"}function OA(e,t,n,s){if(s<t)throw Ag(`Invalid value for '${e}'. Expected ${t} or greater.`);if(s>n)throw Ag(`Invalid value for '${e}'. Expected ${n} or less.`)}function hd(e,t,n){let s=t;return n==null&&(s=`https://${t}`),`${n}://${s}/v0${e}`}function E1(e){const t=encodeURIComponent;let n="?";for(const s in e)if(e.hasOwnProperty(s)){const o=t(s)+"="+t(e[s]);n=n+o+"&"}return n=n.slice(0,-1),n}var Va;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(Va||(Va={}));function BP(e,t){const n=e>=500&&e<600,o=[408,429].indexOf(e)!==-1,u=t.indexOf(e)!==-1;return n||o||u}class zP{constructor(t,n,s,o,u,c,d,p,g,_,E,A=!0,R=!1){this.url_=t,this.method_=n,this.headers_=s,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=c,this.callback_=d,this.errorCallback_=p,this.timeout_=g,this.progressCallback_=_,this.connectionFactory_=E,this.retry=A,this.isUsingEmulator=R,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((k,H)=>{this.resolve_=k,this.reject_=H,this.start_()})}start_(){const t=(s,o)=>{if(o){s(!1,new Qh(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const c=d=>{const p=d.loaded,g=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,g)};this.progressCallback_!==null&&u.addUploadProgressListener(c),u.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(c),this.pendingConnection_=null;const d=u.getErrorCode()===Va.NO_ERROR,p=u.getStatus();if(!d||BP(p,this.additionalRetryCodes_)&&this.retry){const _=u.getErrorCode()===Va.ABORT;s(!1,new Qh(!1,null,_));return}const g=this.successCodes_.indexOf(p)!==-1;s(!0,new Qh(g,u))})},n=(s,o)=>{const u=this.resolve_,c=this.reject_,d=o.connection;if(o.wasSuccessCode)try{const p=this.callback_(d,d.getResponse());UP(p)?u(p):u()}catch(p){c(p)}else if(d!==null){const p=jy();p.serverResponse=d.getErrorText(),this.errorCallback_?c(this.errorCallback_(d,p)):c(p)}else if(o.canceled){const p=this.appDelete_?T1():CP();c(p)}else{const p=RP();c(p)}};this.canceled_?n(!1,new Qh(!1,null,!0)):this.backoffId_=kP(t,n,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&LP(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Qh{constructor(t,n,s){this.wasSuccessCode=t,this.connection=n,this.canceled=!!s}}function qP(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function FP(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function HP(e,t){t&&(e["X-Firebase-GMPID"]=t)}function GP(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function KP(e,t,n,s,o,u,c=!0,d=!1){const p=E1(e.urlParams),g=e.url+p,_=Object.assign({},e.headers);return HP(_,t),qP(_,n),FP(_,u),GP(_,s),new zP(g,e.method,_,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,o,c,d)}function YP(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function QP(...e){const t=YP();if(t!==void 0){const n=new t;for(let s=0;s<e.length;s++)n.append(e[s]);return n.getBlob()}else{if(zy())return new Blob(e);throw new we(be.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function XP(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}function $P(e){if(typeof atob>"u")throw OP("base-64");return atob(e)}const Wi={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Vp{constructor(t,n){this.data=t,this.contentType=n||null}}function WP(e,t){switch(e){case Wi.RAW:return new Vp(A1(t));case Wi.BASE64:case Wi.BASE64URL:return new Vp(S1(e,t));case Wi.DATA_URL:return new Vp(JP(t),tk(t))}throw jy()}function A1(e){const t=[];for(let n=0;n<e.length;n++){let s=e.charCodeAt(n);if(s<=127)t.push(s);else if(s<=2047)t.push(192|s>>6,128|s&63);else if((s&64512)===55296)if(!(n<e.length-1&&(e.charCodeAt(n+1)&64512)===56320))t.push(239,191,189);else{const u=s,c=e.charCodeAt(++n);s=65536|(u&1023)<<10|c&1023,t.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|s&63)}else(s&64512)===56320?t.push(239,191,189):t.push(224|s>>12,128|s>>6&63,128|s&63)}return new Uint8Array(t)}function ZP(e){let t;try{t=decodeURIComponent(e)}catch{throw Vu(Wi.DATA_URL,"Malformed data URL.")}return A1(t)}function S1(e,t){switch(e){case Wi.BASE64:{const o=t.indexOf("-")!==-1,u=t.indexOf("_")!==-1;if(o||u)throw Vu(e,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case Wi.BASE64URL:{const o=t.indexOf("+")!==-1,u=t.indexOf("/")!==-1;if(o||u)throw Vu(e,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=$P(t)}catch(o){throw o.message.includes("polyfill")?o:Vu(e,"Invalid character found")}const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}class b1{constructor(t){this.base64=!1,this.contentType=null;const n=t.match(/^data:([^,]+)?,/);if(n===null)throw Vu(Wi.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const s=n[1]||null;s!=null&&(this.base64=ek(s,";base64"),this.contentType=this.base64?s.substring(0,s.length-7):s),this.rest=t.substring(t.indexOf(",")+1)}}function JP(e){const t=new b1(e);return t.base64?S1(Wi.BASE64,t.rest):ZP(t.rest)}function tk(e){return new b1(e).contentType}function ek(e,t){return e.length>=t.length?e.substring(e.length-t.length)===t:!1}class Ir{constructor(t,n){let s=0,o="";VA(t)?(this.data_=t,s=t.size,o=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),s=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),s=t.length),this.size_=s,this.type_=o}size(){return this.size_}type(){return this.type_}slice(t,n){if(VA(this.data_)){const s=this.data_,o=XP(s,t,n);return o===null?null:new Ir(o)}else{const s=new Uint8Array(this.data_.buffer,t,n-t);return new Ir(s,!0)}}static getBlob(...t){if(zy()){const n=t.map(s=>s instanceof Ir?s.data_:s);return new Ir(QP.apply(null,n))}else{const n=t.map(c=>By(c)?WP(Wi.RAW,c).data:c.data_);let s=0;n.forEach(c=>{s+=c.byteLength});const o=new Uint8Array(s);let u=0;return n.forEach(c=>{for(let d=0;d<c.length;d++)o[u++]=c[d]}),new Ir(o,!0)}}uploadData(){return this.data_}}function w1(e){let t;try{t=JSON.parse(e)}catch{return null}return jP(t)?t:null}function nk(e){if(e.length===0)return null;const t=e.lastIndexOf("/");return t===-1?"":e.slice(0,t)}function ik(e,t){const n=t.split("/").filter(s=>s.length>0).join("/");return e.length===0?n:e+"/"+n}function R1(e){const t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}function sk(e,t){return t}class Tn{constructor(t,n,s,o){this.server=t,this.local=n||t,this.writable=!!s,this.xform=o||sk}}let Xh=null;function rk(e){return!By(e)||e.length<2?e:R1(e)}function C1(){if(Xh)return Xh;const e=[];e.push(new Tn("bucket")),e.push(new Tn("generation")),e.push(new Tn("metageneration")),e.push(new Tn("name","fullPath",!0));function t(u,c){return rk(c)}const n=new Tn("name");n.xform=t,e.push(n);function s(u,c){return c!==void 0?Number(c):c}const o=new Tn("size");return o.xform=s,e.push(o),e.push(new Tn("timeCreated")),e.push(new Tn("updated")),e.push(new Tn("md5Hash",null,!0)),e.push(new Tn("cacheControl",null,!0)),e.push(new Tn("contentDisposition",null,!0)),e.push(new Tn("contentEncoding",null,!0)),e.push(new Tn("contentLanguage",null,!0)),e.push(new Tn("contentType",null,!0)),e.push(new Tn("metadata","customMetadata",!0)),Xh=e,Xh}function ak(e,t){function n(){const s=e.bucket,o=e.fullPath,u=new Fn(s,o);return t._makeStorageReference(u)}Object.defineProperty(e,"ref",{get:n})}function ok(e,t,n){const s={};s.type="file";const o=n.length;for(let u=0;u<o;u++){const c=n[u];s[c.local]=c.xform(s,t[c.server])}return ak(s,e),s}function I1(e,t,n){const s=w1(t);return s===null?null:ok(e,s,n)}function lk(e,t,n,s){const o=w1(t);if(o===null||!By(o.downloadTokens))return null;const u=o.downloadTokens;if(u.length===0)return null;const c=encodeURIComponent;return u.split(",").map(g=>{const _=e.bucket,E=e.fullPath,A="/b/"+c(_)+"/o/"+c(E),R=hd(A,n,s),k=E1({alt:"media",token:g});return R+k})[0]}function uk(e,t){const n={},s=t.length;for(let o=0;o<s;o++){const u=t[o];u.writable&&(n[u.server]=e[u.local])}return JSON.stringify(n)}class qy{constructor(t,n,s,o){this.url=t,this.method=n,this.handler=s,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function D1(e){if(!e)throw jy()}function ck(e,t){function n(s,o){const u=I1(e,o,t);return D1(u!==null),u}return n}function hk(e,t){function n(s,o){const u=I1(e,o,t);return D1(u!==null),lk(u,o,e.host,e._protocol)}return n}function N1(e){function t(n,s){let o;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?o=bP():o=SP():n.getStatus()===402?o=AP(e.bucket):n.getStatus()===403?o=wP(e.path):o=s,o.status=n.getStatus(),o.serverResponse=s.serverResponse,o}return t}function x1(e){const t=N1(e);function n(s,o){let u=t(s,o);return s.getStatus()===404&&(u=EP(e.path)),u.serverResponse=o.serverResponse,u}return n}function fk(e,t,n){const s=t.fullServerUrl(),o=hd(s,e.host,e._protocol),u="GET",c=e.maxOperationRetryTime,d=new qy(o,u,hk(e,n),c);return d.errorHandler=x1(t),d}function dk(e,t){const n=t.fullServerUrl(),s=hd(n,e.host,e._protocol),o="DELETE",u=e.maxOperationRetryTime;function c(p,g){}const d=new qy(s,o,c,u);return d.successCodes=[200,204],d.errorHandler=x1(t),d}function mk(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}function pk(e,t,n){const s=Object.assign({},n);return s.fullPath=e.path,s.size=t.size(),s.contentType||(s.contentType=mk(null,t)),s}function gk(e,t,n,s,o){const u=t.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"};function d(){let $="";for(let ot=0;ot<2;ot++)$=$+Math.random().toString().slice(2);return $}const p=d();c["Content-Type"]="multipart/related; boundary="+p;const g=pk(t,s,o),_=uk(g,n),E="--"+p+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+_+`\r
--`+p+`\r
Content-Type: `+g.contentType+`\r
\r
`,A=`\r
--`+p+"--",R=Ir.getBlob(E,s,A);if(R===null)throw xP();const k={name:g.fullPath},H=hd(u,e.host,e._protocol),B="POST",Z=e.maxUploadRetryTime,nt=new qy(H,B,ck(e,n),Z);return nt.urlParams=k,nt.headers=c,nt.body=R.uploadData(),nt.errorHandler=N1(t),nt}class yk{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Va.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Va.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Va.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,n,s,o,u){if(this.sent_)throw yu("cannot .send() more than once");if(Hr(t)&&s&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,t,!0),u!==void 0)for(const c in u)u.hasOwnProperty(c)&&this.xhr_.setRequestHeader(c,u[c].toString());return o!==void 0?this.xhr_.send(o):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw yu("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw yu("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw yu("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw yu("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)}}class _k extends yk{initXhr(){this.xhr_.responseType="text"}}function Fy(){return new _k}class qa{constructor(t,n){this._service=t,n instanceof Fn?this._location=n:this._location=Fn.makeFromUrl(n,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,n){return new qa(t,n)}get root(){const t=new Fn(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return R1(this._location.path)}get storage(){return this._service}get parent(){const t=nk(this._location.path);if(t===null)return null;const n=new Fn(this._location.bucket,t);return new qa(this._service,n)}_throwIfRoot(t){if(this._location.path==="")throw MP(t)}}function vk(e,t,n){e._throwIfRoot("uploadBytes");const s=gk(e.storage,e._location,C1(),new Ir(t,!0),n);return e.storage.makeRequestWithTokens(s,Fy).then(o=>({metadata:o,ref:e}))}function Tk(e){e._throwIfRoot("getDownloadURL");const t=fk(e.storage,e._location,C1());return e.storage.makeRequestWithTokens(t,Fy).then(n=>{if(n===null)throw VP();return n})}function Ek(e){e._throwIfRoot("deleteObject");const t=dk(e.storage,e._location);return e.storage.makeRequestWithTokens(t,Fy)}function Ak(e,t){const n=ik(e._location.path,t),s=new Fn(e._location.bucket,n);return new qa(e.storage,s)}function Sk(e){return/^[A-Za-z]+:\/\//.test(e)}function bk(e,t){return new qa(e,t)}function V1(e,t){if(e instanceof Hy){const n=e;if(n._bucket==null)throw NP();const s=new qa(n,n._bucket);return t!=null?V1(s,t):s}else return t!==void 0?Ak(e,t):e}function wk(e,t){if(t&&Sk(t)){if(e instanceof Hy)return bk(e,t);throw Ag("To use ref(service, url), the first argument must be a Storage instance.")}else return V1(e,t)}function MA(e,t){const n=t?.[v1];return n==null?null:Fn.makeFromBucketSpec(n,e)}function Rk(e,t,n,s={}){e.host=`${t}:${n}`;const o=Hr(t);o&&(Kg(`https://${e.host}/b`),Yg("Storage",!0)),e._isUsingEmulator=!0,e._protocol=o?"https":"http";const{mockUserToken:u}=s;u&&(e._overrideAuthToken=typeof u=="string"?u:rb(u,e.app.options.projectId))}class Hy{constructor(t,n,s,o,u,c=!1){this.app=t,this._authProvider=n,this._appCheckProvider=s,this._url=o,this._firebaseVersion=u,this._isUsingEmulator=c,this._bucket=null,this._host=_1,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=vP,this._maxUploadRetryTime=TP,this._requests=new Set,o!=null?this._bucket=Fn.makeFromBucketSpec(o,this._host):this._bucket=MA(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=Fn.makeFromBucketSpec(this._url,t):this._bucket=MA(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){OA("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){OA("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const n=await t.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(zn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new qa(this,t)}_makeRequest(t,n,s,o,u=!0){if(this._deleted)return new PP(T1());{const c=KP(t,this._appId,s,o,n,this._firebaseVersion,u,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(t,n){const[s,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,n,s,o).getPromise()}}const PA="@firebase/storage",kA="0.14.0";const O1="storage";function LA(e,t,n){return e=Se(e),vk(e,t,n)}function UA(e){return e=Se(e),Tk(e)}function Ck(e){return e=Se(e),Ek(e)}function Op(e,t){return e=Se(e),wk(e,t)}function Ik(e=$g(),t){e=Se(e);const s=Gf(e,O1).getImmediate({identifier:t}),o=nb("storage");return o&&Dk(s,...o),s}function Dk(e,t,n,s={}){Rk(e,t,n,s)}function Nk(e,{instanceIdentifier:t}){const n=e.getProvider("app").getImmediate(),s=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return new Hy(n,s,o,t,Fa)}function xk(){ka(new Pr(O1,Nk,"PUBLIC").setMultipleInstances(!0)),Zi(PA,kA,""),Zi(PA,kA,"esm2020")}xk();const Gy=rt.createContext({});function Ky(e){const t=rt.useRef(null);return t.current===null&&(t.current=e()),t.current}const Yy=typeof window<"u",M1=Yy?rt.useLayoutEffect:rt.useEffect,fd=rt.createContext(null);function Qy(e,t){e.indexOf(t)===-1&&e.push(t)}function Xy(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const Ls=(e,t,n)=>n>t?t:n<e?e:n;let $y=()=>{};const Us={},P1=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function k1(e){return typeof e=="object"&&e!==null}const L1=e=>/^0[^.\s]+$/u.test(e);function Wy(e){let t;return()=>(t===void 0&&(t=e()),t)}const oi=e=>e,Vk=(e,t)=>n=>t(e(n)),hc=(...e)=>e.reduce(Vk),Ku=(e,t,n)=>{const s=t-e;return s===0?1:(n-e)/s};class Zy{constructor(){this.subscriptions=[]}add(t){return Qy(this.subscriptions,t),()=>Xy(this.subscriptions,t)}notify(t,n,s){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](t,n,s);else for(let u=0;u<o;u++){const c=this.subscriptions[u];c&&c(t,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const rs=e=>e*1e3,ai=e=>e/1e3;function U1(e,t){return t?e*(1e3/t):0}const j1=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,Ok=1e-7,Mk=12;function Pk(e,t,n,s,o){let u,c,d=0;do c=t+(n-t)/2,u=j1(c,s,o)-e,u>0?n=c:t=c;while(Math.abs(u)>Ok&&++d<Mk);return c}function fc(e,t,n,s){if(e===t&&n===s)return oi;const o=u=>Pk(u,0,1,e,n);return u=>u===0||u===1?u:j1(o(u),t,s)}const B1=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,z1=e=>t=>1-e(1-t),q1=fc(.33,1.53,.69,.99),Jy=z1(q1),F1=B1(Jy),H1=e=>(e*=2)<1?.5*Jy(e):.5*(2-Math.pow(2,-10*(e-1))),t_=e=>1-Math.sin(Math.acos(e)),G1=z1(t_),K1=B1(t_),kk=fc(.42,0,1,1),Lk=fc(0,0,.58,1),Y1=fc(.42,0,.58,1),Uk=e=>Array.isArray(e)&&typeof e[0]!="number",Q1=e=>Array.isArray(e)&&typeof e[0]=="number",jk={linear:oi,easeIn:kk,easeInOut:Y1,easeOut:Lk,circIn:t_,circInOut:K1,circOut:G1,backIn:Jy,backInOut:F1,backOut:q1,anticipate:H1},Bk=e=>typeof e=="string",jA=e=>{if(Q1(e)){$y(e.length===4);const[t,n,s,o]=e;return fc(t,n,s,o)}else if(Bk(e))return jk[e];return e},$h=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function zk(e,t){let n=new Set,s=new Set,o=!1,u=!1;const c=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1};function p(_){c.has(_)&&(g.schedule(_),e()),_(d)}const g={schedule:(_,E=!1,A=!1)=>{const k=A&&o?n:s;return E&&c.add(_),k.has(_)||k.add(_),_},cancel:_=>{s.delete(_),c.delete(_)},process:_=>{if(d=_,o){u=!0;return}o=!0,[n,s]=[s,n],n.forEach(p),n.clear(),o=!1,u&&(u=!1,g.process(_))}};return g}const qk=40;function X1(e,t){let n=!1,s=!0;const o={delta:0,timestamp:0,isProcessing:!1},u=()=>n=!0,c=$h.reduce(($,ot)=>($[ot]=zk(u),$),{}),{setup:d,read:p,resolveKeyframes:g,preUpdate:_,update:E,preRender:A,render:R,postRender:k}=c,H=()=>{const $=Us.useManualTiming?o.timestamp:performance.now();n=!1,Us.useManualTiming||(o.delta=s?1e3/60:Math.max(Math.min($-o.timestamp,qk),1)),o.timestamp=$,o.isProcessing=!0,d.process(o),p.process(o),g.process(o),_.process(o),E.process(o),A.process(o),R.process(o),k.process(o),o.isProcessing=!1,n&&t&&(s=!1,e(H))},B=()=>{n=!0,s=!0,o.isProcessing||e(H)};return{schedule:$h.reduce(($,ot)=>{const at=c[ot];return $[ot]=(ht,C=!1,w=!1)=>(n||B(),at.schedule(ht,C,w)),$},{}),cancel:$=>{for(let ot=0;ot<$h.length;ot++)c[$h[ot]].cancel($)},state:o,steps:c}}const{schedule:ge,cancel:qr,state:on,steps:Mp}=X1(typeof requestAnimationFrame<"u"?requestAnimationFrame:oi,!0);let ff;function Fk(){ff=void 0}const xn={now:()=>(ff===void 0&&xn.set(on.isProcessing||Us.useManualTiming?on.timestamp:performance.now()),ff),set:e=>{ff=e,queueMicrotask(Fk)}},$1=e=>t=>typeof t=="string"&&t.startsWith(e),W1=$1("--"),Hk=$1("var(--"),e_=e=>Hk(e)?Gk.test(e.split("/*")[0].trim()):!1,Gk=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,hl={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Yu={...hl,transform:e=>Ls(0,1,e)},Wh={...hl,default:1},Ou=e=>Math.round(e*1e5)/1e5,n_=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Kk(e){return e==null}const Yk=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,i_=(e,t)=>n=>!!(typeof n=="string"&&Yk.test(n)&&n.startsWith(e)||t&&!Kk(n)&&Object.prototype.hasOwnProperty.call(n,t)),Z1=(e,t,n)=>s=>{if(typeof s!="string")return s;const[o,u,c,d]=s.match(n_);return{[e]:parseFloat(o),[t]:parseFloat(u),[n]:parseFloat(c),alpha:d!==void 0?parseFloat(d):1}},Qk=e=>Ls(0,255,e),Pp={...hl,transform:e=>Math.round(Qk(e))},Na={test:i_("rgb","red"),parse:Z1("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:s=1})=>"rgba("+Pp.transform(e)+", "+Pp.transform(t)+", "+Pp.transform(n)+", "+Ou(Yu.transform(s))+")"};function Xk(e){let t="",n="",s="",o="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),s=e.substring(5,7),o=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),s=e.substring(3,4),o=e.substring(4,5),t+=t,n+=n,s+=s,o+=o),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:o?parseInt(o,16)/255:1}}const Sg={test:i_("#"),parse:Xk,transform:Na.transform},dc=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Sr=dc("deg"),as=dc("%"),bt=dc("px"),$k=dc("vh"),Wk=dc("vw"),BA={...as,parse:e=>as.parse(e)/100,transform:e=>as.transform(e*100)},jo={test:i_("hsl","hue"),parse:Z1("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:s=1})=>"hsla("+Math.round(e)+", "+as.transform(Ou(t))+", "+as.transform(Ou(n))+", "+Ou(Yu.transform(s))+")"},ze={test:e=>Na.test(e)||Sg.test(e)||jo.test(e),parse:e=>Na.test(e)?Na.parse(e):jo.test(e)?jo.parse(e):Sg.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Na.transform(e):jo.transform(e),getAnimatableNone:e=>{const t=ze.parse(e);return t.alpha=0,ze.transform(t)}},Zk=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Jk(e){return isNaN(e)&&typeof e=="string"&&(e.match(n_)?.length||0)+(e.match(Zk)?.length||0)>0}const J1="number",tR="color",tL="var",eL="var(",zA="${}",nL=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Qu(e){const t=e.toString(),n=[],s={color:[],number:[],var:[]},o=[];let u=0;const d=t.replace(nL,p=>(ze.test(p)?(s.color.push(u),o.push(tR),n.push(ze.parse(p))):p.startsWith(eL)?(s.var.push(u),o.push(tL),n.push(p)):(s.number.push(u),o.push(J1),n.push(parseFloat(p))),++u,zA)).split(zA);return{values:n,split:d,indexes:s,types:o}}function eR(e){return Qu(e).values}function nR(e){const{split:t,types:n}=Qu(e),s=t.length;return o=>{let u="";for(let c=0;c<s;c++)if(u+=t[c],o[c]!==void 0){const d=n[c];d===J1?u+=Ou(o[c]):d===tR?u+=ze.transform(o[c]):u+=o[c]}return u}}const iL=e=>typeof e=="number"?0:ze.test(e)?ze.getAnimatableNone(e):e;function sL(e){const t=eR(e);return nR(e)(t.map(iL))}const Fr={test:Jk,parse:eR,createTransformer:nR,getAnimatableNone:sL};function kp(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function rL({hue:e,saturation:t,lightness:n,alpha:s}){e/=360,t/=100,n/=100;let o=0,u=0,c=0;if(!t)o=u=c=n;else{const d=n<.5?n*(1+t):n+t-n*t,p=2*n-d;o=kp(p,d,e+1/3),u=kp(p,d,e),c=kp(p,d,e-1/3)}return{red:Math.round(o*255),green:Math.round(u*255),blue:Math.round(c*255),alpha:s}}function Uf(e,t){return n=>n>0?t:e}const ye=(e,t,n)=>e+(t-e)*n,Lp=(e,t,n)=>{const s=e*e,o=n*(t*t-s)+s;return o<0?0:Math.sqrt(o)},aL=[Sg,Na,jo],oL=e=>aL.find(t=>t.test(e));function qA(e){const t=oL(e);if(!t)return!1;let n=t.parse(e);return t===jo&&(n=rL(n)),n}const FA=(e,t)=>{const n=qA(e),s=qA(t);if(!n||!s)return Uf(e,t);const o={...n};return u=>(o.red=Lp(n.red,s.red,u),o.green=Lp(n.green,s.green,u),o.blue=Lp(n.blue,s.blue,u),o.alpha=ye(n.alpha,s.alpha,u),Na.transform(o))},bg=new Set(["none","hidden"]);function lL(e,t){return bg.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function uL(e,t){return n=>ye(e,t,n)}function s_(e){return typeof e=="number"?uL:typeof e=="string"?e_(e)?Uf:ze.test(e)?FA:fL:Array.isArray(e)?iR:typeof e=="object"?ze.test(e)?FA:cL:Uf}function iR(e,t){const n=[...e],s=n.length,o=e.map((u,c)=>s_(u)(u,t[c]));return u=>{for(let c=0;c<s;c++)n[c]=o[c](u);return n}}function cL(e,t){const n={...e,...t},s={};for(const o in n)e[o]!==void 0&&t[o]!==void 0&&(s[o]=s_(e[o])(e[o],t[o]));return o=>{for(const u in s)n[u]=s[u](o);return n}}function hL(e,t){const n=[],s={color:0,var:0,number:0};for(let o=0;o<t.values.length;o++){const u=t.types[o],c=e.indexes[u][s[u]],d=e.values[c]??0;n[o]=d,s[u]++}return n}const fL=(e,t)=>{const n=Fr.createTransformer(t),s=Qu(e),o=Qu(t);return s.indexes.var.length===o.indexes.var.length&&s.indexes.color.length===o.indexes.color.length&&s.indexes.number.length>=o.indexes.number.length?bg.has(e)&&!o.values.length||bg.has(t)&&!s.values.length?lL(e,t):hc(iR(hL(s,o),o.values),n):Uf(e,t)};function sR(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?ye(e,t,n):s_(e)(e,t)}const dL=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>ge.update(t,n),stop:()=>qr(t),now:()=>on.isProcessing?on.timestamp:xn.now()}},rR=(e,t,n=10)=>{let s="";const o=Math.max(Math.round(t/n),2);for(let u=0;u<o;u++)s+=Math.round(e(u/(o-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},jf=2e4;function r_(e){let t=0;const n=50;let s=e.next(t);for(;!s.done&&t<jf;)t+=n,s=e.next(t);return t>=jf?1/0:t}function mL(e,t=100,n){const s=n({...e,keyframes:[0,t]}),o=Math.min(r_(s),jf);return{type:"keyframes",ease:u=>s.next(o*u).value/t,duration:ai(o)}}const pL=5;function aR(e,t,n){const s=Math.max(t-pL,0);return U1(n-e(s),t-s)}const Ae={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Up=.001;function gL({duration:e=Ae.duration,bounce:t=Ae.bounce,velocity:n=Ae.velocity,mass:s=Ae.mass}){let o,u,c=1-t;c=Ls(Ae.minDamping,Ae.maxDamping,c),e=Ls(Ae.minDuration,Ae.maxDuration,ai(e)),c<1?(o=g=>{const _=g*c,E=_*e,A=_-n,R=wg(g,c),k=Math.exp(-E);return Up-A/R*k},u=g=>{const E=g*c*e,A=E*n+n,R=Math.pow(c,2)*Math.pow(g,2)*e,k=Math.exp(-E),H=wg(Math.pow(g,2),c);return(-o(g)+Up>0?-1:1)*((A-R)*k)/H}):(o=g=>{const _=Math.exp(-g*e),E=(g-n)*e+1;return-Up+_*E},u=g=>{const _=Math.exp(-g*e),E=(n-g)*(e*e);return _*E});const d=5/e,p=_L(o,u,d);if(e=rs(e),isNaN(p))return{stiffness:Ae.stiffness,damping:Ae.damping,duration:e};{const g=Math.pow(p,2)*s;return{stiffness:g,damping:c*2*Math.sqrt(s*g),duration:e}}}const yL=12;function _L(e,t,n){let s=n;for(let o=1;o<yL;o++)s=s-e(s)/t(s);return s}function wg(e,t){return e*Math.sqrt(1-t*t)}const vL=["duration","bounce"],TL=["stiffness","damping","mass"];function HA(e,t){return t.some(n=>e[n]!==void 0)}function EL(e){let t={velocity:Ae.velocity,stiffness:Ae.stiffness,damping:Ae.damping,mass:Ae.mass,isResolvedFromDuration:!1,...e};if(!HA(e,TL)&&HA(e,vL))if(e.visualDuration){const n=e.visualDuration,s=2*Math.PI/(n*1.2),o=s*s,u=2*Ls(.05,1,1-(e.bounce||0))*Math.sqrt(o);t={...t,mass:Ae.mass,stiffness:o,damping:u}}else{const n=gL(e);t={...t,...n,mass:Ae.mass},t.isResolvedFromDuration=!0}return t}function Bf(e=Ae.visualDuration,t=Ae.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:s,restDelta:o}=n;const u=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],d={done:!1,value:u},{stiffness:p,damping:g,mass:_,duration:E,velocity:A,isResolvedFromDuration:R}=EL({...n,velocity:-ai(n.velocity||0)}),k=A||0,H=g/(2*Math.sqrt(p*_)),B=c-u,Z=ai(Math.sqrt(p/_)),nt=Math.abs(B)<5;s||(s=nt?Ae.restSpeed.granular:Ae.restSpeed.default),o||(o=nt?Ae.restDelta.granular:Ae.restDelta.default);let $;if(H<1){const at=wg(Z,H);$=ht=>{const C=Math.exp(-H*Z*ht);return c-C*((k+H*Z*B)/at*Math.sin(at*ht)+B*Math.cos(at*ht))}}else if(H===1)$=at=>c-Math.exp(-Z*at)*(B+(k+Z*B)*at);else{const at=Z*Math.sqrt(H*H-1);$=ht=>{const C=Math.exp(-H*Z*ht),w=Math.min(at*ht,300);return c-C*((k+H*Z*B)*Math.sinh(w)+at*B*Math.cosh(w))/at}}const ot={calculatedDuration:R&&E||null,next:at=>{const ht=$(at);if(R)d.done=at>=E;else{let C=at===0?k:0;H<1&&(C=at===0?rs(k):aR($,at,ht));const w=Math.abs(C)<=s,I=Math.abs(c-ht)<=o;d.done=w&&I}return d.value=d.done?c:ht,d},toString:()=>{const at=Math.min(r_(ot),jf),ht=rR(C=>ot.next(at*C).value,at,30);return at+"ms "+ht},toTransition:()=>{}};return ot}Bf.applyToOptions=e=>{const t=mL(e,100,Bf);return e.ease=t.ease,e.duration=rs(t.duration),e.type="keyframes",e};function Rg({keyframes:e,velocity:t=0,power:n=.8,timeConstant:s=325,bounceDamping:o=10,bounceStiffness:u=500,modifyTarget:c,min:d,max:p,restDelta:g=.5,restSpeed:_}){const E=e[0],A={done:!1,value:E},R=w=>d!==void 0&&w<d||p!==void 0&&w>p,k=w=>d===void 0?p:p===void 0||Math.abs(d-w)<Math.abs(p-w)?d:p;let H=n*t;const B=E+H,Z=c===void 0?B:c(B);Z!==B&&(H=Z-E);const nt=w=>-H*Math.exp(-w/s),$=w=>Z+nt(w),ot=w=>{const I=nt(w),O=$(w);A.done=Math.abs(I)<=g,A.value=A.done?Z:O};let at,ht;const C=w=>{R(A.value)&&(at=w,ht=Bf({keyframes:[A.value,k(A.value)],velocity:aR($,w,A.value),damping:o,stiffness:u,restDelta:g,restSpeed:_}))};return C(0),{calculatedDuration:null,next:w=>{let I=!1;return!ht&&at===void 0&&(I=!0,ot(w),C(w)),at!==void 0&&w>=at?ht.next(w-at):(!I&&ot(w),A)}}}function AL(e,t,n){const s=[],o=n||Us.mix||sR,u=e.length-1;for(let c=0;c<u;c++){let d=o(e[c],e[c+1]);if(t){const p=Array.isArray(t)?t[c]||oi:t;d=hc(p,d)}s.push(d)}return s}function SL(e,t,{clamp:n=!0,ease:s,mixer:o}={}){const u=e.length;if($y(u===t.length),u===1)return()=>t[0];if(u===2&&t[0]===t[1])return()=>t[1];const c=e[0]===e[1];e[0]>e[u-1]&&(e=[...e].reverse(),t=[...t].reverse());const d=AL(t,s,o),p=d.length,g=_=>{if(c&&_<e[0])return t[0];let E=0;if(p>1)for(;E<e.length-2&&!(_<e[E+1]);E++);const A=Ku(e[E],e[E+1],_);return d[E](A)};return n?_=>g(Ls(e[0],e[u-1],_)):g}function bL(e,t){const n=e[e.length-1];for(let s=1;s<=t;s++){const o=Ku(0,t,s);e.push(ye(n,1,o))}}function wL(e){const t=[0];return bL(t,e.length-1),t}function RL(e,t){return e.map(n=>n*t)}function CL(e,t){return e.map(()=>t||Y1).splice(0,e.length-1)}function Mu({duration:e=300,keyframes:t,times:n,ease:s="easeInOut"}){const o=Uk(s)?s.map(jA):jA(s),u={done:!1,value:t[0]},c=RL(n&&n.length===t.length?n:wL(t),e),d=SL(c,t,{ease:Array.isArray(o)?o:CL(t,o)});return{calculatedDuration:e,next:p=>(u.value=d(p),u.done=p>=e,u)}}const IL=e=>e!==null;function a_(e,{repeat:t,repeatType:n="loop"},s,o=1){const u=e.filter(IL),d=o<0||t&&n!=="loop"&&t%2===1?0:u.length-1;return!d||s===void 0?u[d]:s}const DL={decay:Rg,inertia:Rg,tween:Mu,keyframes:Mu,spring:Bf};function oR(e){typeof e.type=="string"&&(e.type=DL[e.type])}class o_{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const NL=e=>e/100;class l_ extends o_{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==xn.now()&&this.tick(xn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;oR(t);const{type:n=Mu,repeat:s=0,repeatDelay:o=0,repeatType:u,velocity:c=0}=t;let{keyframes:d}=t;const p=n||Mu;p!==Mu&&typeof d[0]!="number"&&(this.mixKeyframes=hc(NL,sR(d[0],d[1])),d=[0,100]);const g=p({...t,keyframes:d});u==="mirror"&&(this.mirroredGenerator=p({...t,keyframes:[...d].reverse(),velocity:-c})),g.calculatedDuration===null&&(g.calculatedDuration=r_(g));const{calculatedDuration:_}=g;this.calculatedDuration=_,this.resolvedDuration=_+o,this.totalDuration=this.resolvedDuration*(s+1)-o,this.generator=g}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:s,totalDuration:o,mixKeyframes:u,mirroredGenerator:c,resolvedDuration:d,calculatedDuration:p}=this;if(this.startTime===null)return s.next(0);const{delay:g=0,keyframes:_,repeat:E,repeatType:A,repeatDelay:R,type:k,onUpdate:H,finalKeyframe:B}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-o/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const Z=this.currentTime-g*(this.playbackSpeed>=0?1:-1),nt=this.playbackSpeed>=0?Z<0:Z>o;this.currentTime=Math.max(Z,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let $=this.currentTime,ot=s;if(E){const w=Math.min(this.currentTime,o)/d;let I=Math.floor(w),O=w%1;!O&&w>=1&&(O=1),O===1&&I--,I=Math.min(I,E+1),I%2&&(A==="reverse"?(O=1-O,R&&(O-=R/d)):A==="mirror"&&(ot=c)),$=Ls(0,1,O)*d}const at=nt?{done:!1,value:_[0]}:ot.next($);u&&(at.value=u(at.value));let{done:ht}=at;!nt&&p!==null&&(ht=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const C=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ht);return C&&k!==Rg&&(at.value=a_(_,this.options,B,this.speed)),H&&H(at.value),C&&this.finish(),at}then(t,n){return this.finished.then(t,n)}get duration(){return ai(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+ai(t)}get time(){return ai(this.currentTime)}set time(t){t=rs(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(xn.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=ai(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=dL,startTime:n}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),this.options.onPlay?.();const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(xn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function xL(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const xa=e=>e*180/Math.PI,Cg=e=>{const t=xa(Math.atan2(e[1],e[0]));return Ig(t)},VL={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:Cg,rotateZ:Cg,skewX:e=>xa(Math.atan(e[1])),skewY:e=>xa(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},Ig=e=>(e=e%360,e<0&&(e+=360),e),GA=Cg,KA=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),YA=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),OL={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:KA,scaleY:YA,scale:e=>(KA(e)+YA(e))/2,rotateX:e=>Ig(xa(Math.atan2(e[6],e[5]))),rotateY:e=>Ig(xa(Math.atan2(-e[2],e[0]))),rotateZ:GA,rotate:GA,skewX:e=>xa(Math.atan(e[4])),skewY:e=>xa(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function Dg(e){return e.includes("scale")?1:0}function Ng(e,t){if(!e||e==="none")return Dg(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,o;if(n)s=OL,o=n;else{const d=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=VL,o=d}if(!o)return Dg(t);const u=s[t],c=o[1].split(",").map(PL);return typeof u=="function"?u(c):c[u]}const ML=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return Ng(n,t)};function PL(e){return parseFloat(e.trim())}const fl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],dl=new Set(fl),QA=e=>e===hl||e===bt,kL=new Set(["x","y","z"]),LL=fl.filter(e=>!kL.has(e));function UL(e){const t=[];return LL.forEach(n=>{const s=e.getValue(n);s!==void 0&&(t.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),t}const Oa={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>Ng(t,"x"),y:(e,{transform:t})=>Ng(t,"y")};Oa.translateX=Oa.x;Oa.translateY=Oa.y;const Ma=new Set;let xg=!1,Vg=!1,Og=!1;function lR(){if(Vg){const e=Array.from(Ma).filter(s=>s.needsMeasurement),t=new Set(e.map(s=>s.element)),n=new Map;t.forEach(s=>{const o=UL(s);o.length&&(n.set(s,o),s.render())}),e.forEach(s=>s.measureInitialState()),t.forEach(s=>{s.render();const o=n.get(s);o&&o.forEach(([u,c])=>{s.getValue(u)?.set(c)})}),e.forEach(s=>s.measureEndState()),e.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}Vg=!1,xg=!1,Ma.forEach(e=>e.complete(Og)),Ma.clear()}function uR(){Ma.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Vg=!0)})}function jL(){Og=!0,uR(),lR(),Og=!1}class u_{constructor(t,n,s,o,u,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=s,this.motionValue=o,this.element=u,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(Ma.add(this),xg||(xg=!0,ge.read(uR),ge.resolveKeyframes(lR))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:s,motionValue:o}=this;if(t[0]===null){const u=o?.get(),c=t[t.length-1];if(u!==void 0)t[0]=u;else if(s&&n){const d=s.readValue(n,c);d!=null&&(t[0]=d)}t[0]===void 0&&(t[0]=c),o&&u===void 0&&o.set(t[0])}xL(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Ma.delete(this)}cancel(){this.state==="scheduled"&&(Ma.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const BL=e=>e.startsWith("--");function zL(e,t,n){BL(t)?e.style.setProperty(t,n):e.style[t]=n}const qL=Wy(()=>window.ScrollTimeline!==void 0),FL={};function HL(e,t){const n=Wy(e);return()=>FL[t]??n()}const cR=HL(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),wu=([e,t,n,s])=>`cubic-bezier(${e}, ${t}, ${n}, ${s})`,XA={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:wu([0,.65,.55,1]),circOut:wu([.55,0,1,.45]),backIn:wu([.31,.01,.66,-.59]),backOut:wu([.33,1.53,.69,.99])};function hR(e,t){if(e)return typeof e=="function"?cR()?rR(e,t):"ease-out":Q1(e)?wu(e):Array.isArray(e)?e.map(n=>hR(n,t)||XA.easeOut):XA[e]}function GL(e,t,n,{delay:s=0,duration:o=300,repeat:u=0,repeatType:c="loop",ease:d="easeOut",times:p}={},g=void 0){const _={[t]:n};p&&(_.offset=p);const E=hR(d,o);Array.isArray(E)&&(_.easing=E);const A={delay:s,duration:o,easing:Array.isArray(E)?"linear":E,fill:"both",iterations:u+1,direction:c==="reverse"?"alternate":"normal"};return g&&(A.pseudoElement=g),e.animate(_,A)}function fR(e){return typeof e=="function"&&"applyToOptions"in e}function KL({type:e,...t}){return fR(e)&&cR()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class YL extends o_{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:s,keyframes:o,pseudoElement:u,allowFlatten:c=!1,finalKeyframe:d,onComplete:p}=t;this.isPseudoElement=!!u,this.allowFlatten=c,this.options=t,$y(typeof t.type!="string");const g=KL(t);this.animation=GL(n,s,o,g,u),g.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!u){const _=a_(o,this.options,d,this.speed);this.updateMotionValue?this.updateMotionValue(_):zL(n,s,_),this.animation.cancel()}p?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return ai(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+ai(t)}get time(){return ai(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=rs(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&qL()?(this.animation.timeline=t,oi):n(this)}}const dR={anticipate:H1,backInOut:F1,circInOut:K1};function QL(e){return e in dR}function XL(e){typeof e.ease=="string"&&QL(e.ease)&&(e.ease=dR[e.ease])}const $A=10;class $L extends YL{constructor(t){XL(t),oR(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:s,onComplete:o,element:u,...c}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const d=new l_({...c,autoplay:!1}),p=rs(this.finishedTime??this.time);n.setWithVelocity(d.sample(p-$A).value,d.sample(p).value,$A),d.stop()}}const WA=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Fr.test(e)||e==="0")&&!e.startsWith("url("));function WL(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function ZL(e,t,n,s){const o=e[0];if(o===null)return!1;if(t==="display"||t==="visibility")return!0;const u=e[e.length-1],c=WA(o,t),d=WA(u,t);return!c||!d?!1:WL(e)||(n==="spring"||fR(n))&&s}function Mg(e){e.duration=0,e.type="keyframes"}const JL=new Set(["opacity","clipPath","filter","transform"]),t4=Wy(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function e4(e){const{motionValue:t,name:n,repeatDelay:s,repeatType:o,damping:u,type:c}=e;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:p,transformTemplate:g}=t.owner.getProps();return t4()&&n&&JL.has(n)&&(n!=="transform"||!g)&&!p&&!s&&o!=="mirror"&&u!==0&&c!=="inertia"}const n4=40;class i4 extends o_{constructor({autoplay:t=!0,delay:n=0,type:s="keyframes",repeat:o=0,repeatDelay:u=0,repeatType:c="loop",keyframes:d,name:p,motionValue:g,element:_,...E}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=xn.now();const A={autoplay:t,delay:n,type:s,repeat:o,repeatDelay:u,repeatType:c,name:p,motionValue:g,element:_,...E},R=_?.KeyframeResolver||u_;this.keyframeResolver=new R(d,(k,H,B)=>this.onKeyframesResolved(k,H,A,!B),p,g,_),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,n,s,o){this.keyframeResolver=void 0;const{name:u,type:c,velocity:d,delay:p,isHandoff:g,onUpdate:_}=s;this.resolvedAt=xn.now(),ZL(t,u,c,d)||((Us.instantAnimations||!p)&&_?.(a_(t,s,n)),t[0]=t[t.length-1],Mg(s),s.repeat=0);const A={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>n4?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:t},R=!g&&e4(A)?new $L({...A,element:A.motionValue.owner.current}):new l_(A);R.finished.then(()=>this.notifyFinished()).catch(oi),this.pendingTimeline&&(this.stopTimeline=R.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=R}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),jL()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const s4=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function r4(e){const t=s4.exec(e);if(!t)return[,];const[,n,s,o]=t;return[`--${n??s}`,o]}function mR(e,t,n=1){const[s,o]=r4(e);if(!s)return;const u=window.getComputedStyle(t).getPropertyValue(s);if(u){const c=u.trim();return P1(c)?parseFloat(c):c}return e_(o)?mR(o,t,n+1):o}function c_(e,t){return e?.[t]??e?.default??e}const pR=new Set(["width","height","top","left","right","bottom",...fl]),a4={test:e=>e==="auto",parse:e=>e},gR=e=>t=>t.test(e),yR=[hl,bt,as,Sr,Wk,$k,a4],ZA=e=>yR.find(gR(e));function o4(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||L1(e):!0}const l4=new Set(["brightness","contrast","saturate","opacity"]);function u4(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[s]=n.match(n_)||[];if(!s)return e;const o=n.replace(s,"");let u=l4.has(t)?1:0;return s!==n&&(u*=100),t+"("+u+o+")"}const c4=/\b([a-z-]*)\(.*?\)/gu,Pg={...Fr,getAnimatableNone:e=>{const t=e.match(c4);return t?t.map(u4).join(" "):e}},JA={...hl,transform:Math.round},h4={rotate:Sr,rotateX:Sr,rotateY:Sr,rotateZ:Sr,scale:Wh,scaleX:Wh,scaleY:Wh,scaleZ:Wh,skew:Sr,skewX:Sr,skewY:Sr,distance:bt,translateX:bt,translateY:bt,translateZ:bt,x:bt,y:bt,z:bt,perspective:bt,transformPerspective:bt,opacity:Yu,originX:BA,originY:BA,originZ:bt},h_={borderWidth:bt,borderTopWidth:bt,borderRightWidth:bt,borderBottomWidth:bt,borderLeftWidth:bt,borderRadius:bt,radius:bt,borderTopLeftRadius:bt,borderTopRightRadius:bt,borderBottomRightRadius:bt,borderBottomLeftRadius:bt,width:bt,maxWidth:bt,height:bt,maxHeight:bt,top:bt,right:bt,bottom:bt,left:bt,padding:bt,paddingTop:bt,paddingRight:bt,paddingBottom:bt,paddingLeft:bt,margin:bt,marginTop:bt,marginRight:bt,marginBottom:bt,marginLeft:bt,backgroundPositionX:bt,backgroundPositionY:bt,...h4,zIndex:JA,fillOpacity:Yu,strokeOpacity:Yu,numOctaves:JA},f4={...h_,color:ze,backgroundColor:ze,outlineColor:ze,fill:ze,stroke:ze,borderColor:ze,borderTopColor:ze,borderRightColor:ze,borderBottomColor:ze,borderLeftColor:ze,filter:Pg,WebkitFilter:Pg},_R=e=>f4[e];function vR(e,t){let n=_R(e);return n!==Pg&&(n=Fr),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const d4=new Set(["auto","none","0"]);function m4(e,t,n){let s=0,o;for(;s<e.length&&!o;){const u=e[s];typeof u=="string"&&!d4.has(u)&&Qu(u).values.length&&(o=e[s]),s++}if(o&&n)for(const u of t)e[u]=vR(n,o)}class p4 extends u_{constructor(t,n,s,o,u){super(t,n,s,o,u,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let p=0;p<t.length;p++){let g=t[p];if(typeof g=="string"&&(g=g.trim(),e_(g))){const _=mR(g,n.current);_!==void 0&&(t[p]=_),p===t.length-1&&(this.finalKeyframe=g)}}if(this.resolveNoneKeyframes(),!pR.has(s)||t.length!==2)return;const[o,u]=t,c=ZA(o),d=ZA(u);if(c!==d)if(QA(c)&&QA(d))for(let p=0;p<t.length;p++){const g=t[p];typeof g=="string"&&(t[p]=parseFloat(g))}else Oa[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,s=[];for(let o=0;o<t.length;o++)(t[o]===null||o4(t[o]))&&s.push(o);s.length&&m4(t,s,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:s}=this;if(!t||!t.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Oa[s](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const o=n[n.length-1];o!==void 0&&t.getValue(s,o).jump(o,!1)}measureEndState(){const{element:t,name:n,unresolvedKeyframes:s}=this;if(!t||!t.current)return;const o=t.getValue(n);o&&o.jump(this.measuredOrigin,!1);const u=s.length-1,c=s[u];s[u]=Oa[n](t.measureViewportBox(),window.getComputedStyle(t.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),this.removedTransforms?.length&&this.removedTransforms.forEach(([d,p])=>{t.getValue(d).set(p)}),this.resolveNoneKeyframes()}}function g4(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let s=document;const o=n?.[e]??s.querySelectorAll(e);return o?Array.from(o):[]}return Array.from(e)}const TR=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function ER(e){return k1(e)&&"offsetHeight"in e}const tS=30,y4=e=>!isNaN(parseFloat(e));class _4{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{const o=xn.now();if(this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const u of this.dependents)u.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=xn.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=y4(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new Zy);const s=this.events[t].add(n);return t==="change"?()=>{s(),ge.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-s}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=xn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>tS)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,tS);return U1(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function il(e,t){return new _4(e,t)}const{schedule:f_}=X1(queueMicrotask,!1),Ei={x:!1,y:!1};function AR(){return Ei.x||Ei.y}function v4(e){return e==="x"||e==="y"?Ei[e]?null:(Ei[e]=!0,()=>{Ei[e]=!1}):Ei.x||Ei.y?null:(Ei.x=Ei.y=!0,()=>{Ei.x=Ei.y=!1})}function SR(e,t){const n=g4(e),s=new AbortController,o={passive:!0,...t,signal:s.signal};return[n,o,()=>s.abort()]}function eS(e){return!(e.pointerType==="touch"||AR())}function T4(e,t,n={}){const[s,o,u]=SR(e,n),c=d=>{if(!eS(d))return;const{target:p}=d,g=t(p,d);if(typeof g!="function"||!p)return;const _=E=>{eS(E)&&(g(E),p.removeEventListener("pointerleave",_))};p.addEventListener("pointerleave",_,o)};return s.forEach(d=>{d.addEventListener("pointerenter",c,o)}),u}const bR=(e,t)=>t?e===t?!0:bR(e,t.parentElement):!1,d_=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,E4=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function A4(e){return E4.has(e.tagName)||e.tabIndex!==-1}const df=new WeakSet;function nS(e){return t=>{t.key==="Enter"&&e(t)}}function jp(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const S4=(e,t)=>{const n=e.currentTarget;if(!n)return;const s=nS(()=>{if(df.has(n))return;jp(n,"down");const o=nS(()=>{jp(n,"up")}),u=()=>jp(n,"cancel");n.addEventListener("keyup",o,t),n.addEventListener("blur",u,t)});n.addEventListener("keydown",s,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),t)};function iS(e){return d_(e)&&!AR()}function b4(e,t,n={}){const[s,o,u]=SR(e,n),c=d=>{const p=d.currentTarget;if(!iS(d))return;df.add(p);const g=t(p,d),_=(R,k)=>{window.removeEventListener("pointerup",E),window.removeEventListener("pointercancel",A),df.has(p)&&df.delete(p),iS(R)&&typeof g=="function"&&g(R,{success:k})},E=R=>{_(R,p===window||p===document||n.useGlobalTarget||bR(p,R.target))},A=R=>{_(R,!1)};window.addEventListener("pointerup",E,o),window.addEventListener("pointercancel",A,o)};return s.forEach(d=>{(n.useGlobalTarget?window:d).addEventListener("pointerdown",c,o),ER(d)&&(d.addEventListener("focus",g=>S4(g,o)),!A4(d)&&!d.hasAttribute("tabindex")&&(d.tabIndex=0))}),u}function wR(e){return k1(e)&&"ownerSVGElement"in e}function w4(e){return wR(e)&&e.tagName==="svg"}const pn=e=>!!(e&&e.getVelocity),R4=[...yR,ze,Fr],C4=e=>R4.find(gR(e)),m_=rt.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function sS(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function I4(...e){return t=>{let n=!1;const s=e.map(o=>{const u=sS(o,t);return!n&&typeof u=="function"&&(n=!0),u});if(n)return()=>{for(let o=0;o<s.length;o++){const u=s[o];typeof u=="function"?u():sS(e[o],null)}}}}function D4(...e){return rt.useCallback(I4(...e),e)}class N4 extends rt.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const s=n.offsetParent,o=ER(s)&&s.offsetWidth||0,u=this.props.sizeRef.current;u.height=n.offsetHeight||0,u.width=n.offsetWidth||0,u.top=n.offsetTop,u.left=n.offsetLeft,u.right=o-u.width-u.left}return null}componentDidUpdate(){}render(){return this.props.children}}function x4({children:e,isPresent:t,anchorX:n,root:s}){const o=rt.useId(),u=rt.useRef(null),c=rt.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:d}=rt.useContext(m_),p=D4(u,e?.ref);return rt.useInsertionEffect(()=>{const{width:g,height:_,top:E,left:A,right:R}=c.current;if(t||!u.current||!g||!_)return;const k=n==="left"?`left: ${A}`:`right: ${R}`;u.current.dataset.motionPopId=o;const H=document.createElement("style");d&&(H.nonce=d);const B=s??document.head;return B.appendChild(H),H.sheet&&H.sheet.insertRule(`
          [data-motion-pop-id="${o}"] {
            position: absolute !important;
            width: ${g}px !important;
            height: ${_}px !important;
            ${k}px !important;
            top: ${E}px !important;
          }
        `),()=>{B.contains(H)&&B.removeChild(H)}},[t]),x.jsx(N4,{isPresent:t,childRef:u,sizeRef:c,children:rt.cloneElement(e,{ref:p})})}const V4=({children:e,initial:t,isPresent:n,onExitComplete:s,custom:o,presenceAffectsLayout:u,mode:c,anchorX:d,root:p})=>{const g=Ky(O4),_=rt.useId();let E=!0,A=rt.useMemo(()=>(E=!1,{id:_,initial:t,isPresent:n,custom:o,onExitComplete:R=>{g.set(R,!0);for(const k of g.values())if(!k)return;s&&s()},register:R=>(g.set(R,!1),()=>g.delete(R))}),[n,g,s]);return u&&E&&(A={...A}),rt.useMemo(()=>{g.forEach((R,k)=>g.set(k,!1))},[n]),rt.useEffect(()=>{!n&&!g.size&&s&&s()},[n]),c==="popLayout"&&(e=x.jsx(x4,{isPresent:n,anchorX:d,root:p,children:e})),x.jsx(fd.Provider,{value:A,children:e})};function O4(){return new Map}function RR(e=!0){const t=rt.useContext(fd);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:o}=t,u=rt.useId();rt.useEffect(()=>{if(e)return o(u)},[e]);const c=rt.useCallback(()=>e&&s&&s(u),[u,s,e]);return!n&&s?[!1,c]:[!0]}const Zh=e=>e.key||"";function rS(e){const t=[];return rt.Children.forEach(e,n=>{rt.isValidElement(n)&&t.push(n)}),t}const mf=({children:e,custom:t,initial:n=!0,onExitComplete:s,presenceAffectsLayout:o=!0,mode:u="sync",propagate:c=!1,anchorX:d="left",root:p})=>{const[g,_]=RR(c),E=rt.useMemo(()=>rS(e),[e]),A=c&&!g?[]:E.map(Zh),R=rt.useRef(!0),k=rt.useRef(E),H=Ky(()=>new Map),[B,Z]=rt.useState(E),[nt,$]=rt.useState(E);M1(()=>{R.current=!1,k.current=E;for(let ht=0;ht<nt.length;ht++){const C=Zh(nt[ht]);A.includes(C)?H.delete(C):H.get(C)!==!0&&H.set(C,!1)}},[nt,A.length,A.join("-")]);const ot=[];if(E!==B){let ht=[...E];for(let C=0;C<nt.length;C++){const w=nt[C],I=Zh(w);A.includes(I)||(ht.splice(C,0,w),ot.push(w))}return u==="wait"&&ot.length&&(ht=ot),$(rS(ht)),Z(E),null}const{forceRender:at}=rt.useContext(Gy);return x.jsx(x.Fragment,{children:nt.map(ht=>{const C=Zh(ht),w=c&&!g?!1:E===nt||A.includes(C),I=()=>{if(H.has(C))H.set(C,!0);else return;let O=!0;H.forEach(V=>{V||(O=!1)}),O&&(at?.(),$(k.current),c&&_?.(),s&&s())};return x.jsx(V4,{isPresent:w,initial:!R.current||n?void 0:!1,custom:t,presenceAffectsLayout:o,mode:u,root:p,onExitComplete:w?void 0:I,anchorX:d,children:ht},C)})})},CR=rt.createContext({strict:!1}),aS={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},sl={};for(const e in aS)sl[e]={isEnabled:t=>aS[e].some(n=>!!t[n])};function M4(e){for(const t in e)sl[t]={...sl[t],...e[t]}}const P4=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function zf(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||P4.has(e)}let IR=e=>!zf(e);function k4(e){typeof e=="function"&&(IR=t=>t.startsWith("on")?!zf(t):e(t))}try{k4(require("@emotion/is-prop-valid").default)}catch{}function L4(e,t,n){const s={};for(const o in e)o==="values"&&typeof e.values=="object"||(IR(o)||n===!0&&zf(o)||!t&&!zf(o)||e.draggable&&o.startsWith("onDrag"))&&(s[o]=e[o]);return s}const dd=rt.createContext({});function md(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Xu(e){return typeof e=="string"||Array.isArray(e)}const p_=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],g_=["initial",...p_];function pd(e){return md(e.animate)||g_.some(t=>Xu(e[t]))}function DR(e){return!!(pd(e)||e.variants)}function U4(e,t){if(pd(e)){const{initial:n,animate:s}=e;return{initial:n===!1||Xu(n)?n:void 0,animate:Xu(s)?s:void 0}}return e.inherit!==!1?t:{}}function j4(e){const{initial:t,animate:n}=U4(e,rt.useContext(dd));return rt.useMemo(()=>({initial:t,animate:n}),[oS(t),oS(n)])}function oS(e){return Array.isArray(e)?e.join(" "):e}function lS(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const _u={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(bt.test(e))e=parseFloat(e);else return e;const n=lS(e,t.target.x),s=lS(e,t.target.y);return`${n}% ${s}%`}},B4={correct:(e,{treeScale:t,projectionDelta:n})=>{const s=e,o=Fr.parse(e);if(o.length>5)return s;const u=Fr.createTransformer(e),c=typeof o[0]!="number"?1:0,d=n.x.scale*t.x,p=n.y.scale*t.y;o[0+c]/=d,o[1+c]/=p;const g=ye(d,p,.5);return typeof o[2+c]=="number"&&(o[2+c]/=g),typeof o[3+c]=="number"&&(o[3+c]/=g),u(o)}},kg={borderRadius:{..._u,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:_u,borderTopRightRadius:_u,borderBottomLeftRadius:_u,borderBottomRightRadius:_u,boxShadow:B4};function NR(e,{layout:t,layoutId:n}){return dl.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!kg[e]||e==="opacity")}const z4={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},q4=fl.length;function F4(e,t,n){let s="",o=!0;for(let u=0;u<q4;u++){const c=fl[u],d=e[c];if(d===void 0)continue;let p=!0;if(typeof d=="number"?p=d===(c.startsWith("scale")?1:0):p=parseFloat(d)===0,!p||n){const g=TR(d,h_[c]);if(!p){o=!1;const _=z4[c]||c;s+=`${_}(${g}) `}n&&(t[c]=g)}}return s=s.trim(),n?s=n(t,o?"":s):o&&(s="none"),s}function y_(e,t,n){const{style:s,vars:o,transformOrigin:u}=e;let c=!1,d=!1;for(const p in t){const g=t[p];if(dl.has(p)){c=!0;continue}else if(W1(p)){o[p]=g;continue}else{const _=TR(g,h_[p]);p.startsWith("origin")?(d=!0,u[p]=_):s[p]=_}}if(t.transform||(c||n?s.transform=F4(t,e.transform,n):s.transform&&(s.transform="none")),d){const{originX:p="50%",originY:g="50%",originZ:_=0}=u;s.transformOrigin=`${p} ${g} ${_}`}}const __=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function xR(e,t,n){for(const s in t)!pn(t[s])&&!NR(s,n)&&(e[s]=t[s])}function H4({transformTemplate:e},t){return rt.useMemo(()=>{const n=__();return y_(n,t,e),Object.assign({},n.vars,n.style)},[t])}function G4(e,t){const n=e.style||{},s={};return xR(s,n,e),Object.assign(s,H4(e,t)),s}function K4(e,t){const n={},s=G4(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=s,n}const Y4={offset:"stroke-dashoffset",array:"stroke-dasharray"},Q4={offset:"strokeDashoffset",array:"strokeDasharray"};function X4(e,t,n=1,s=0,o=!0){e.pathLength=1;const u=o?Y4:Q4;e[u.offset]=bt.transform(-s);const c=bt.transform(t),d=bt.transform(n);e[u.array]=`${c} ${d}`}function VR(e,{attrX:t,attrY:n,attrScale:s,pathLength:o,pathSpacing:u=1,pathOffset:c=0,...d},p,g,_){if(y_(e,d,g),p){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:E,style:A}=e;E.transform&&(A.transform=E.transform,delete E.transform),(A.transform||E.transformOrigin)&&(A.transformOrigin=E.transformOrigin??"50% 50%",delete E.transformOrigin),A.transform&&(A.transformBox=_?.transformBox??"fill-box",delete E.transformBox),t!==void 0&&(E.x=t),n!==void 0&&(E.y=n),s!==void 0&&(E.scale=s),o!==void 0&&X4(E,o,u,c,!1)}const OR=()=>({...__(),attrs:{}}),MR=e=>typeof e=="string"&&e.toLowerCase()==="svg";function $4(e,t,n,s){const o=rt.useMemo(()=>{const u=OR();return VR(u,t,MR(s),e.transformTemplate,e.style),{...u.attrs,style:{...u.style}}},[t]);if(e.style){const u={};xR(u,e.style,e),o.style={...u,...o.style}}return o}const W4=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function v_(e){return typeof e!="string"||e.includes("-")?!1:!!(W4.indexOf(e)>-1||/[A-Z]/u.test(e))}function Z4(e,t,n,{latestValues:s},o,u=!1){const d=(v_(e)?$4:K4)(t,s,o,e),p=L4(t,typeof e=="string",u),g=e!==rt.Fragment?{...p,...d,ref:n}:{},{children:_}=t,E=rt.useMemo(()=>pn(_)?_.get():_,[_]);return rt.createElement(e,{...g,children:E})}function uS(e){const t=[{},{}];return e?.values.forEach((n,s)=>{t[0][s]=n.get(),t[1][s]=n.getVelocity()}),t}function T_(e,t,n,s){if(typeof t=="function"){const[o,u]=uS(s);t=t(n!==void 0?n:e.custom,o,u)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[o,u]=uS(s);t=t(n!==void 0?n:e.custom,o,u)}return t}function pf(e){return pn(e)?e.get():e}function J4({scrapeMotionValuesFromProps:e,createRenderState:t},n,s,o){return{latestValues:tU(n,s,o,e),renderState:t()}}function tU(e,t,n,s){const o={},u=s(e,{});for(const A in u)o[A]=pf(u[A]);let{initial:c,animate:d}=e;const p=pd(e),g=DR(e);t&&g&&!p&&e.inherit!==!1&&(c===void 0&&(c=t.initial),d===void 0&&(d=t.animate));let _=n?n.initial===!1:!1;_=_||c===!1;const E=_?d:c;if(E&&typeof E!="boolean"&&!md(E)){const A=Array.isArray(E)?E:[E];for(let R=0;R<A.length;R++){const k=T_(e,A[R]);if(k){const{transitionEnd:H,transition:B,...Z}=k;for(const nt in Z){let $=Z[nt];if(Array.isArray($)){const ot=_?$.length-1:0;$=$[ot]}$!==null&&(o[nt]=$)}for(const nt in H)o[nt]=H[nt]}}}return o}const PR=e=>(t,n)=>{const s=rt.useContext(dd),o=rt.useContext(fd),u=()=>J4(e,t,s,o);return n?u():Ky(u)};function E_(e,t,n){const{style:s}=e,o={};for(const u in s)(pn(s[u])||t.style&&pn(t.style[u])||NR(u,e)||n?.getValue(u)?.liveStyle!==void 0)&&(o[u]=s[u]);return o}const eU=PR({scrapeMotionValuesFromProps:E_,createRenderState:__});function kR(e,t,n){const s=E_(e,t,n);for(const o in e)if(pn(e[o])||pn(t[o])){const u=fl.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;s[u]=e[o]}return s}const nU=PR({scrapeMotionValuesFromProps:kR,createRenderState:OR}),iU=Symbol.for("motionComponentSymbol");function Bo(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function sU(e,t,n){return rt.useCallback(s=>{s&&e.onMount&&e.onMount(s),t&&(s?t.mount(s):t.unmount()),n&&(typeof n=="function"?n(s):Bo(n)&&(n.current=s))},[t])}const A_=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),rU="framerAppearId",LR="data-"+A_(rU),UR=rt.createContext({});function aU(e,t,n,s,o){const{visualElement:u}=rt.useContext(dd),c=rt.useContext(CR),d=rt.useContext(fd),p=rt.useContext(m_).reducedMotion,g=rt.useRef(null);s=s||c.renderer,!g.current&&s&&(g.current=s(e,{visualState:t,parent:u,props:n,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:p}));const _=g.current,E=rt.useContext(UR);_&&!_.projection&&o&&(_.type==="html"||_.type==="svg")&&oU(g.current,n,o,E);const A=rt.useRef(!1);rt.useInsertionEffect(()=>{_&&A.current&&_.update(n,d)});const R=n[LR],k=rt.useRef(!!R&&!window.MotionHandoffIsComplete?.(R)&&window.MotionHasOptimisedAnimation?.(R));return M1(()=>{_&&(A.current=!0,window.MotionIsMounted=!0,_.updateFeatures(),_.scheduleRenderMicrotask(),k.current&&_.animationState&&_.animationState.animateChanges())}),rt.useEffect(()=>{_&&(!k.current&&_.animationState&&_.animationState.animateChanges(),k.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(R)}),k.current=!1),_.enteringChildren=void 0)}),_}function oU(e,t,n,s){const{layoutId:o,layout:u,drag:c,dragConstraints:d,layoutScroll:p,layoutRoot:g,layoutCrossfade:_}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:jR(e.parent)),e.projection.setOptions({layoutId:o,layout:u,alwaysMeasureLayout:!!c||d&&Bo(d),visualElement:e,animationType:typeof u=="string"?u:"both",initialPromotionConfig:s,crossfade:_,layoutScroll:p,layoutRoot:g})}function jR(e){if(e)return e.options.allowProjection!==!1?e.projection:jR(e.parent)}function Bp(e,{forwardMotionProps:t=!1}={},n,s){n&&M4(n);const o=v_(e)?nU:eU;function u(d,p){let g;const _={...rt.useContext(m_),...d,layoutId:lU(d)},{isStatic:E}=_,A=j4(d),R=o(d,E);if(!E&&Yy){uU();const k=cU(_);g=k.MeasureLayout,A.visualElement=aU(e,R,_,s,k.ProjectionNode)}return x.jsxs(dd.Provider,{value:A,children:[g&&A.visualElement?x.jsx(g,{visualElement:A.visualElement,..._}):null,Z4(e,d,sU(R,A.visualElement,p),R,E,t)]})}u.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const c=rt.forwardRef(u);return c[iU]=e,c}function lU({layoutId:e}){const t=rt.useContext(Gy).id;return t&&e!==void 0?t+"-"+e:e}function uU(e,t){rt.useContext(CR).strict}function cU(e){const{drag:t,layout:n}=sl;if(!t&&!n)return{};const s={...t,...n};return{MeasureLayout:t?.isEnabled(e)||n?.isEnabled(e)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function hU(e,t){if(typeof Proxy>"u")return Bp;const n=new Map,s=(u,c)=>Bp(u,c,e,t),o=(u,c)=>s(u,c);return new Proxy(o,{get:(u,c)=>c==="create"?s:(n.has(c)||n.set(c,Bp(c,void 0,e,t)),n.get(c))})}function BR({top:e,left:t,right:n,bottom:s}){return{x:{min:t,max:n},y:{min:e,max:s}}}function fU({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function dU(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),s=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function zp(e){return e===void 0||e===1}function Lg({scale:e,scaleX:t,scaleY:n}){return!zp(e)||!zp(t)||!zp(n)}function Ia(e){return Lg(e)||zR(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function zR(e){return cS(e.x)||cS(e.y)}function cS(e){return e&&e!=="0%"}function qf(e,t,n){const s=e-n,o=t*s;return n+o}function hS(e,t,n,s,o){return o!==void 0&&(e=qf(e,o,s)),qf(e,n,s)+t}function Ug(e,t=0,n=1,s,o){e.min=hS(e.min,t,n,s,o),e.max=hS(e.max,t,n,s,o)}function qR(e,{x:t,y:n}){Ug(e.x,t.translate,t.scale,t.originPoint),Ug(e.y,n.translate,n.scale,n.originPoint)}const fS=.999999999999,dS=1.0000000000001;function mU(e,t,n,s=!1){const o=n.length;if(!o)return;t.x=t.y=1;let u,c;for(let d=0;d<o;d++){u=n[d],c=u.projectionDelta;const{visualElement:p}=u.options;p&&p.props.style&&p.props.style.display==="contents"||(s&&u.options.layoutScroll&&u.scroll&&u!==u.root&&qo(e,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),c&&(t.x*=c.x.scale,t.y*=c.y.scale,qR(e,c)),s&&Ia(u.latestValues)&&qo(e,u.latestValues))}t.x<dS&&t.x>fS&&(t.x=1),t.y<dS&&t.y>fS&&(t.y=1)}function zo(e,t){e.min=e.min+t,e.max=e.max+t}function mS(e,t,n,s,o=.5){const u=ye(e.min,e.max,o);Ug(e,t,n,u,s)}function qo(e,t){mS(e.x,t.x,t.scaleX,t.scale,t.originX),mS(e.y,t.y,t.scaleY,t.scale,t.originY)}function FR(e,t){return BR(dU(e.getBoundingClientRect(),t))}function pU(e,t,n){const s=FR(e,n),{scroll:o}=t;return o&&(zo(s.x,o.offset.x),zo(s.y,o.offset.y)),s}const pS=()=>({translate:0,scale:1,origin:0,originPoint:0}),Fo=()=>({x:pS(),y:pS()}),gS=()=>({min:0,max:0}),Ge=()=>({x:gS(),y:gS()}),jg={current:null},HR={current:!1};function gU(){if(HR.current=!0,!!Yy)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>jg.current=e.matches;e.addEventListener("change",t),t()}else jg.current=!1}const yU=new WeakMap;function _U(e,t,n){for(const s in t){const o=t[s],u=n[s];if(pn(o))e.addValue(s,o);else if(pn(u))e.addValue(s,il(o,{owner:e}));else if(u!==o)if(e.hasValue(s)){const c=e.getValue(s);c.liveStyle===!0?c.jump(o):c.hasAnimated||c.set(o)}else{const c=e.getStaticValue(s);e.addValue(s,il(c!==void 0?c:o,{owner:e}))}}for(const s in n)t[s]===void 0&&e.removeValue(s);return t}const yS=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class vU{scrapeMotionValuesFromProps(t,n,s){return{}}constructor({parent:t,props:n,presenceContext:s,reducedMotionConfig:o,blockInitialAnimation:u,visualState:c},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=u_,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const A=xn.now();this.renderScheduledAt<A&&(this.renderScheduledAt=A,ge.render(this.render,!1,!0))};const{latestValues:p,renderState:g}=c;this.latestValues=p,this.baseTarget={...p},this.initialValues=n.initial?{...p}:{},this.renderState=g,this.parent=t,this.props=n,this.presenceContext=s,this.depth=t?t.depth+1:0,this.reducedMotionConfig=o,this.options=d,this.blockInitialAnimation=!!u,this.isControllingVariants=pd(n),this.isVariantNode=DR(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:_,...E}=this.scrapeMotionValuesFromProps(n,{},this);for(const A in E){const R=E[A];p[A]!==void 0&&pn(R)&&R.set(p[A])}}mount(t){this.current=t,yU.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),HR.current||gU(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:jg.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),qr(this.notifyUpdate),qr(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const s=dl.has(t);s&&this.onBindTransform&&this.onBindTransform();const o=n.on("change",c=>{this.latestValues[t]=c,this.props.onUpdate&&ge.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let u;window.MotionCheckAppearSync&&(u=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{o(),u&&u(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in sl){const n=sl[t];if(!n)continue;const{isEnabled:s,Feature:o}=n;if(!this.features[t]&&o&&s(this.props)&&(this.features[t]=new o(this)),this.features[t]){const u=this.features[t];u.isMounted?u.update():(u.mount(),u.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ge()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<yS.length;s++){const o=yS[s];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const u="on"+o,c=t[u];c&&(this.propEventSubscriptions[o]=this.on(o,c))}this.prevMotionValues=_U(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const s=this.values.get(t);n!==s&&(s&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let s=this.values.get(t);return s===void 0&&n!==void 0&&(s=il(n===null?void 0:n,{owner:this}),this.addValue(t,s)),s}readValue(t,n){let s=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return s!=null&&(typeof s=="string"&&(P1(s)||L1(s))?s=parseFloat(s):!C4(s)&&Fr.test(n)&&(s=vR(t,n)),this.setBaseTarget(t,pn(s)?s.get():s)),pn(s)?s.get():s}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const u=T_(this.props,n,this.presenceContext?.custom);u&&(s=u[t])}if(n&&s!==void 0)return s;const o=this.getBaseTargetFromProps(this.props,t);return o!==void 0&&!pn(o)?o:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new Zy),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){f_.render(this.render)}}class GR extends vU{constructor(){super(...arguments),this.KeyframeResolver=p4}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:s}){delete n[t],delete s[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;pn(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function KR(e,{style:t,vars:n},s,o){const u=e.style;let c;for(c in t)u[c]=t[c];o?.applyProjectionStyles(u,s);for(c in n)u.setProperty(c,n[c])}function TU(e){return window.getComputedStyle(e)}class EU extends GR{constructor(){super(...arguments),this.type="html",this.renderInstance=KR}readValueFromInstance(t,n){if(dl.has(n))return this.projection?.isProjecting?Dg(n):ML(t,n);{const s=TU(t),o=(W1(n)?s.getPropertyValue(n):s[n])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(t,{transformPagePoint:n}){return FR(t,n)}build(t,n,s){y_(t,n,s.transformTemplate)}scrapeMotionValuesFromProps(t,n,s){return E_(t,n,s)}}const YR=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function AU(e,t,n,s){KR(e,t,void 0,s);for(const o in t.attrs)e.setAttribute(YR.has(o)?o:A_(o),t.attrs[o])}class SU extends GR{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ge}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(dl.has(n)){const s=_R(n);return s&&s.default||0}return n=YR.has(n)?n:A_(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,s){return kR(t,n,s)}build(t,n,s){VR(t,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(t,n,s,o){AU(t,n,s,o)}mount(t){this.isSVGTag=MR(t.tagName),super.mount(t)}}const bU=(e,t)=>v_(e)?new SU(t):new EU(t,{allowProjection:e!==rt.Fragment});function $o(e,t,n){const s=e.getProps();return T_(s,t,n!==void 0?n:s.custom,e)}const Bg=e=>Array.isArray(e);function wU(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,il(n))}function RU(e){return Bg(e)?e[e.length-1]||0:e}function CU(e,t){const n=$o(e,t);let{transitionEnd:s={},transition:o={},...u}=n||{};u={...u,...s};for(const c in u){const d=RU(u[c]);wU(e,c,d)}}function IU(e){return!!(pn(e)&&e.add)}function zg(e,t){const n=e.getValue("willChange");if(IU(n))return n.add(t);if(!n&&Us.WillChange){const s=new Us.WillChange("auto");e.addValue("willChange",s),s.add(t)}}function QR(e){return e.props[LR]}const DU=e=>e!==null;function NU(e,{repeat:t,repeatType:n="loop"},s){const o=e.filter(DU),u=t&&n!=="loop"&&t%2===1?0:o.length-1;return o[u]}const xU={type:"spring",stiffness:500,damping:25,restSpeed:10},VU=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),OU={type:"keyframes",duration:.8},MU={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},PU=(e,{keyframes:t})=>t.length>2?OU:dl.has(e)?e.startsWith("scale")?VU(t[1]):xU:MU;function kU({when:e,delay:t,delayChildren:n,staggerChildren:s,staggerDirection:o,repeat:u,repeatType:c,repeatDelay:d,from:p,elapsed:g,..._}){return!!Object.keys(_).length}const S_=(e,t,n,s={},o,u)=>c=>{const d=c_(s,e)||{},p=d.delay||s.delay||0;let{elapsed:g=0}=s;g=g-rs(p);const _={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...d,delay:-g,onUpdate:A=>{t.set(A),d.onUpdate&&d.onUpdate(A)},onComplete:()=>{c(),d.onComplete&&d.onComplete()},name:e,motionValue:t,element:u?void 0:o};kU(d)||Object.assign(_,PU(e,_)),_.duration&&(_.duration=rs(_.duration)),_.repeatDelay&&(_.repeatDelay=rs(_.repeatDelay)),_.from!==void 0&&(_.keyframes[0]=_.from);let E=!1;if((_.type===!1||_.duration===0&&!_.repeatDelay)&&(Mg(_),_.delay===0&&(E=!0)),(Us.instantAnimations||Us.skipAnimations)&&(E=!0,Mg(_),_.delay=0),_.allowFlatten=!d.type&&!d.ease,E&&!u&&t.get()!==void 0){const A=NU(_.keyframes,d);if(A!==void 0){ge.update(()=>{_.onUpdate(A),_.onComplete()});return}}return d.isSync?new l_(_):new i4(_)};function LU({protectedKeys:e,needsAnimating:t},n){const s=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,s}function XR(e,t,{delay:n=0,transitionOverride:s,type:o}={}){let{transition:u=e.getDefaultTransition(),transitionEnd:c,...d}=t;s&&(u=s);const p=[],g=o&&e.animationState&&e.animationState.getState()[o];for(const _ in d){const E=e.getValue(_,e.latestValues[_]??null),A=d[_];if(A===void 0||g&&LU(g,_))continue;const R={delay:n,...c_(u||{},_)},k=E.get();if(k!==void 0&&!E.isAnimating&&!Array.isArray(A)&&A===k&&!R.velocity)continue;let H=!1;if(window.MotionHandoffAnimation){const Z=QR(e);if(Z){const nt=window.MotionHandoffAnimation(Z,_,ge);nt!==null&&(R.startTime=nt,H=!0)}}zg(e,_),E.start(S_(_,E,A,e.shouldReduceMotion&&pR.has(_)?{type:!1}:R,e,H));const B=E.animation;B&&p.push(B)}return c&&Promise.all(p).then(()=>{ge.update(()=>{c&&CU(e,c)})}),p}function $R(e,t,n,s=0,o=1){const u=Array.from(e).sort((g,_)=>g.sortNodePosition(_)).indexOf(t),c=e.size,d=(c-1)*s;return typeof n=="function"?n(u,c):o===1?u*s:d-u*s}function qg(e,t,n={}){const s=$o(e,t,n.type==="exit"?e.presenceContext?.custom:void 0);let{transition:o=e.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(o=n.transitionOverride);const u=s?()=>Promise.all(XR(e,s,n)):()=>Promise.resolve(),c=e.variantChildren&&e.variantChildren.size?(p=0)=>{const{delayChildren:g=0,staggerChildren:_,staggerDirection:E}=o;return UU(e,t,p,g,_,E,n)}:()=>Promise.resolve(),{when:d}=o;if(d){const[p,g]=d==="beforeChildren"?[u,c]:[c,u];return p().then(()=>g())}else return Promise.all([u(),c(n.delay)])}function UU(e,t,n=0,s=0,o=0,u=1,c){const d=[];for(const p of e.variantChildren)p.notify("AnimationStart",t),d.push(qg(p,t,{...c,delay:n+(typeof s=="function"?0:s)+$R(e.variantChildren,p,s,o,u)}).then(()=>p.notify("AnimationComplete",t)));return Promise.all(d)}function jU(e,t,n={}){e.notify("AnimationStart",t);let s;if(Array.isArray(t)){const o=t.map(u=>qg(e,u,n));s=Promise.all(o)}else if(typeof t=="string")s=qg(e,t,n);else{const o=typeof t=="function"?$o(e,t,n.custom):t;s=Promise.all(XR(e,o,n))}return s.then(()=>{e.notify("AnimationComplete",t)})}function WR(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let s=0;s<n;s++)if(t[s]!==e[s])return!1;return!0}const BU=g_.length;function ZR(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?ZR(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<BU;n++){const s=g_[n],o=e.props[s];(Xu(o)||o===!1)&&(t[s]=o)}return t}const zU=[...p_].reverse(),qU=p_.length;function FU(e){return t=>Promise.all(t.map(({animation:n,options:s})=>jU(e,n,s)))}function HU(e){let t=FU(e),n=_S(),s=!0;const o=p=>(g,_)=>{const E=$o(e,_,p==="exit"?e.presenceContext?.custom:void 0);if(E){const{transition:A,transitionEnd:R,...k}=E;g={...g,...k,...R}}return g};function u(p){t=p(e)}function c(p){const{props:g}=e,_=ZR(e.parent)||{},E=[],A=new Set;let R={},k=1/0;for(let B=0;B<qU;B++){const Z=zU[B],nt=n[Z],$=g[Z]!==void 0?g[Z]:_[Z],ot=Xu($),at=Z===p?nt.isActive:null;at===!1&&(k=B);let ht=$===_[Z]&&$!==g[Z]&&ot;if(ht&&s&&e.manuallyAnimateOnMount&&(ht=!1),nt.protectedKeys={...R},!nt.isActive&&at===null||!$&&!nt.prevProp||md($)||typeof $=="boolean")continue;const C=GU(nt.prevProp,$);let w=C||Z===p&&nt.isActive&&!ht&&ot||B>k&&ot,I=!1;const O=Array.isArray($)?$:[$];let V=O.reduce(o(Z),{});at===!1&&(V={});const{prevResolvedValues:L={}}=nt,D={...L,...V},Xt=st=>{w=!0,A.has(st)&&(I=!0,A.delete(st)),nt.needsAnimating[st]=!0;const dt=e.getValue(st);dt&&(dt.liveStyle=!1)};for(const st in D){const dt=V[st],Ct=L[st];if(R.hasOwnProperty(st))continue;let Mt=!1;Bg(dt)&&Bg(Ct)?Mt=!WR(dt,Ct):Mt=dt!==Ct,Mt?dt!=null?Xt(st):A.add(st):dt!==void 0&&A.has(st)?Xt(st):nt.protectedKeys[st]=!0}nt.prevProp=$,nt.prevResolvedValues=V,nt.isActive&&(R={...R,...V}),s&&e.blockInitialAnimation&&(w=!1);const le=ht&&C;w&&(!le||I)&&E.push(...O.map(st=>{const dt={type:Z};if(typeof st=="string"&&s&&!le&&e.manuallyAnimateOnMount&&e.parent){const{parent:Ct}=e,Mt=$o(Ct,st);if(Ct.enteringChildren&&Mt){const{delayChildren:M}=Mt.transition||{};dt.delay=$R(Ct.enteringChildren,e,M)}}return{animation:st,options:dt}}))}if(A.size){const B={};if(typeof g.initial!="boolean"){const Z=$o(e,Array.isArray(g.initial)?g.initial[0]:g.initial);Z&&Z.transition&&(B.transition=Z.transition)}A.forEach(Z=>{const nt=e.getBaseTarget(Z),$=e.getValue(Z);$&&($.liveStyle=!0),B[Z]=nt??null}),E.push({animation:B})}let H=!!E.length;return s&&(g.initial===!1||g.initial===g.animate)&&!e.manuallyAnimateOnMount&&(H=!1),s=!1,H?t(E):Promise.resolve()}function d(p,g){if(n[p].isActive===g)return Promise.resolve();e.variantChildren?.forEach(E=>E.animationState?.setActive(p,g)),n[p].isActive=g;const _=c(p);for(const E in n)n[E].protectedKeys={};return _}return{animateChanges:c,setActive:d,setAnimateFunction:u,getState:()=>n,reset:()=>{n=_S()}}}function GU(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!WR(t,e):!1}function Ra(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function _S(){return{animate:Ra(!0),whileInView:Ra(),whileHover:Ra(),whileTap:Ra(),whileDrag:Ra(),whileFocus:Ra(),exit:Ra()}}class Qr{constructor(t){this.isMounted=!1,this.node=t}update(){}}class KU extends Qr{constructor(t){super(t),t.animationState||(t.animationState=HU(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();md(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let YU=0;class QU extends Qr{constructor(){super(...arguments),this.id=YU++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===s)return;const o=this.node.animationState.setActive("exit",!t);n&&!t&&o.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const XU={animation:{Feature:KU},exit:{Feature:QU}};function $u(e,t,n,s={passive:!0}){return e.addEventListener(t,n,s),()=>e.removeEventListener(t,n)}function mc(e){return{point:{x:e.pageX,y:e.pageY}}}const $U=e=>t=>d_(t)&&e(t,mc(t));function Pu(e,t,n,s){return $u(e,t,$U(n),s)}const JR=1e-4,WU=1-JR,ZU=1+JR,tC=.01,JU=0-tC,t3=0+tC;function En(e){return e.max-e.min}function e3(e,t,n){return Math.abs(e-t)<=n}function vS(e,t,n,s=.5){e.origin=s,e.originPoint=ye(t.min,t.max,e.origin),e.scale=En(n)/En(t),e.translate=ye(n.min,n.max,e.origin)-e.originPoint,(e.scale>=WU&&e.scale<=ZU||isNaN(e.scale))&&(e.scale=1),(e.translate>=JU&&e.translate<=t3||isNaN(e.translate))&&(e.translate=0)}function ku(e,t,n,s){vS(e.x,t.x,n.x,s?s.originX:void 0),vS(e.y,t.y,n.y,s?s.originY:void 0)}function TS(e,t,n){e.min=n.min+t.min,e.max=e.min+En(t)}function n3(e,t,n){TS(e.x,t.x,n.x),TS(e.y,t.y,n.y)}function ES(e,t,n){e.min=t.min-n.min,e.max=e.min+En(t)}function Ff(e,t,n){ES(e.x,t.x,n.x),ES(e.y,t.y,n.y)}function si(e){return[e("x"),e("y")]}const eC=({current:e})=>e?e.ownerDocument.defaultView:null,AS=(e,t)=>Math.abs(e-t);function i3(e,t){const n=AS(e.x,t.x),s=AS(e.y,t.y);return Math.sqrt(n**2+s**2)}class nC{constructor(t,n,{transformPagePoint:s,contextWindow:o=window,dragSnapToOrigin:u=!1,distanceThreshold:c=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const A=Fp(this.lastMoveEventInfo,this.history),R=this.startEvent!==null,k=i3(A.offset,{x:0,y:0})>=this.distanceThreshold;if(!R&&!k)return;const{point:H}=A,{timestamp:B}=on;this.history.push({...H,timestamp:B});const{onStart:Z,onMove:nt}=this.handlers;R||(Z&&Z(this.lastMoveEvent,A),this.startEvent=this.lastMoveEvent),nt&&nt(this.lastMoveEvent,A)},this.handlePointerMove=(A,R)=>{this.lastMoveEvent=A,this.lastMoveEventInfo=qp(R,this.transformPagePoint),ge.update(this.updatePoint,!0)},this.handlePointerUp=(A,R)=>{this.end();const{onEnd:k,onSessionEnd:H,resumeAnimation:B}=this.handlers;if(this.dragSnapToOrigin&&B&&B(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const Z=Fp(A.type==="pointercancel"?this.lastMoveEventInfo:qp(R,this.transformPagePoint),this.history);this.startEvent&&k&&k(A,Z),H&&H(A,Z)},!d_(t))return;this.dragSnapToOrigin=u,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=c,this.contextWindow=o||window;const d=mc(t),p=qp(d,this.transformPagePoint),{point:g}=p,{timestamp:_}=on;this.history=[{...g,timestamp:_}];const{onSessionStart:E}=n;E&&E(t,Fp(p,this.history)),this.removeListeners=hc(Pu(this.contextWindow,"pointermove",this.handlePointerMove),Pu(this.contextWindow,"pointerup",this.handlePointerUp),Pu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),qr(this.updatePoint)}}function qp(e,t){return t?{point:t(e.point)}:e}function SS(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Fp({point:e},t){return{point:e,delta:SS(e,iC(t)),offset:SS(e,s3(t)),velocity:r3(t,.1)}}function s3(e){return e[0]}function iC(e){return e[e.length-1]}function r3(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,s=null;const o=iC(e);for(;n>=0&&(s=e[n],!(o.timestamp-s.timestamp>rs(t)));)n--;if(!s)return{x:0,y:0};const u=ai(o.timestamp-s.timestamp);if(u===0)return{x:0,y:0};const c={x:(o.x-s.x)/u,y:(o.y-s.y)/u};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function a3(e,{min:t,max:n},s){return t!==void 0&&e<t?e=s?ye(t,e,s.min):Math.max(e,t):n!==void 0&&e>n&&(e=s?ye(n,e,s.max):Math.min(e,n)),e}function bS(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function o3(e,{top:t,left:n,bottom:s,right:o}){return{x:bS(e.x,n,o),y:bS(e.y,t,s)}}function wS(e,t){let n=t.min-e.min,s=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,s]=[s,n]),{min:n,max:s}}function l3(e,t){return{x:wS(e.x,t.x),y:wS(e.y,t.y)}}function u3(e,t){let n=.5;const s=En(e),o=En(t);return o>s?n=Ku(t.min,t.max-s,e.min):s>o&&(n=Ku(e.min,e.max-o,t.min)),Ls(0,1,n)}function c3(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const Fg=.35;function h3(e=Fg){return e===!1?e=0:e===!0&&(e=Fg),{x:RS(e,"left","right"),y:RS(e,"top","bottom")}}function RS(e,t,n){return{min:CS(e,t),max:CS(e,n)}}function CS(e,t){return typeof e=="number"?e:e[t]||0}const f3=new WeakMap;class d3{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ge(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const u=E=>{const{dragSnapToOrigin:A}=this.getProps();A?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(mc(E).point)},c=(E,A)=>{const{drag:R,dragPropagation:k,onDragStart:H}=this.getProps();if(R&&!k&&(this.openDragLock&&this.openDragLock(),this.openDragLock=v4(R),!this.openDragLock))return;this.latestPointerEvent=E,this.latestPanInfo=A,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),si(Z=>{let nt=this.getAxisMotionValue(Z).get()||0;if(as.test(nt)){const{projection:$}=this.visualElement;if($&&$.layout){const ot=$.layout.layoutBox[Z];ot&&(nt=En(ot)*(parseFloat(nt)/100))}}this.originPoint[Z]=nt}),H&&ge.postRender(()=>H(E,A)),zg(this.visualElement,"transform");const{animationState:B}=this.visualElement;B&&B.setActive("whileDrag",!0)},d=(E,A)=>{this.latestPointerEvent=E,this.latestPanInfo=A;const{dragPropagation:R,dragDirectionLock:k,onDirectionLock:H,onDrag:B}=this.getProps();if(!R&&!this.openDragLock)return;const{offset:Z}=A;if(k&&this.currentDirection===null){this.currentDirection=m3(Z),this.currentDirection!==null&&H&&H(this.currentDirection);return}this.updateAxis("x",A.point,Z),this.updateAxis("y",A.point,Z),this.visualElement.render(),B&&B(E,A)},p=(E,A)=>{this.latestPointerEvent=E,this.latestPanInfo=A,this.stop(E,A),this.latestPointerEvent=null,this.latestPanInfo=null},g=()=>si(E=>this.getAnimationState(E)==="paused"&&this.getAxisMotionValue(E).animation?.play()),{dragSnapToOrigin:_}=this.getProps();this.panSession=new nC(t,{onSessionStart:u,onStart:c,onMove:d,onSessionEnd:p,resumeAnimation:g},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:_,distanceThreshold:s,contextWindow:eC(this.visualElement)})}stop(t,n){const s=t||this.latestPointerEvent,o=n||this.latestPanInfo,u=this.isDragging;if(this.cancel(),!u||!o||!s)return;const{velocity:c}=o;this.startAnimation(c);const{onDragEnd:d}=this.getProps();d&&ge.postRender(()=>d(s,o))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,s){const{drag:o}=this.getProps();if(!s||!Jh(t,o,this.currentDirection))return;const u=this.getAxisMotionValue(t);let c=this.originPoint[t]+s[t];this.constraints&&this.constraints[t]&&(c=a3(c,this.constraints[t],this.elastic[t])),u.set(c)}resolveConstraints(){const{dragConstraints:t,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,o=this.constraints;t&&Bo(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&s?this.constraints=o3(s.layoutBox,t):this.constraints=!1,this.elastic=h3(n),o!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&si(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=c3(s.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Bo(t))return!1;const s=t.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const u=pU(s,o.root,this.visualElement.getTransformPagePoint());let c=l3(o.layout.layoutBox,u);if(n){const d=n(fU(c));this.hasMutatedConstraints=!!d,d&&(c=BR(d))}return c}startAnimation(t){const{drag:n,dragMomentum:s,dragElastic:o,dragTransition:u,dragSnapToOrigin:c,onDragTransitionEnd:d}=this.getProps(),p=this.constraints||{},g=si(_=>{if(!Jh(_,n,this.currentDirection))return;let E=p&&p[_]||{};c&&(E={min:0,max:0});const A=o?200:1e6,R=o?40:1e7,k={type:"inertia",velocity:s?t[_]:0,bounceStiffness:A,bounceDamping:R,timeConstant:750,restDelta:1,restSpeed:10,...u,...E};return this.startAxisValueAnimation(_,k)});return Promise.all(g).then(d)}startAxisValueAnimation(t,n){const s=this.getAxisMotionValue(t);return zg(this.visualElement,t),s.start(S_(t,s,0,n,this.visualElement,!1))}stopAnimation(){si(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){si(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,s=this.visualElement.getProps(),o=s[n];return o||this.visualElement.getValue(t,(s.initial?s.initial[t]:void 0)||0)}snapToCursor(t){si(n=>{const{drag:s}=this.getProps();if(!Jh(n,s,this.currentDirection))return;const{projection:o}=this.visualElement,u=this.getAxisMotionValue(n);if(o&&o.layout){const{min:c,max:d}=o.layout.layoutBox[n];u.set(t[n]-ye(c,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!Bo(n)||!s||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};si(c=>{const d=this.getAxisMotionValue(c);if(d&&this.constraints!==!1){const p=d.get();o[c]=u3({min:p,max:p},this.constraints[c])}});const{transformTemplate:u}=this.visualElement.getProps();this.visualElement.current.style.transform=u?u({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),si(c=>{if(!Jh(c,t,null))return;const d=this.getAxisMotionValue(c),{min:p,max:g}=this.constraints[c];d.set(ye(p,g,o[c]))})}addListeners(){if(!this.visualElement.current)return;f3.set(this.visualElement,this);const t=this.visualElement.current,n=Pu(t,"pointerdown",p=>{const{drag:g,dragListener:_=!0}=this.getProps();g&&_&&this.start(p)}),s=()=>{const{dragConstraints:p}=this.getProps();Bo(p)&&p.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,u=o.addEventListener("measure",s);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),ge.read(s);const c=$u(window,"resize",()=>this.scalePositionWithinConstraints()),d=o.addEventListener("didUpdate",(({delta:p,hasLayoutChanged:g})=>{this.isDragging&&g&&(si(_=>{const E=this.getAxisMotionValue(_);E&&(this.originPoint[_]+=p[_].translate,E.set(E.get()+p[_].translate))}),this.visualElement.render())}));return()=>{c(),n(),u(),d&&d()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:o=!1,dragConstraints:u=!1,dragElastic:c=Fg,dragMomentum:d=!0}=t;return{...t,drag:n,dragDirectionLock:s,dragPropagation:o,dragConstraints:u,dragElastic:c,dragMomentum:d}}}function Jh(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function m3(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class p3 extends Qr{constructor(t){super(t),this.removeGroupControls=oi,this.removeListeners=oi,this.controls=new d3(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||oi}unmount(){this.removeGroupControls(),this.removeListeners()}}const IS=e=>(t,n)=>{e&&ge.postRender(()=>e(t,n))};class g3 extends Qr{constructor(){super(...arguments),this.removePointerDownListener=oi}onPointerDown(t){this.session=new nC(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:eC(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:s,onPanEnd:o}=this.node.getProps();return{onSessionStart:IS(t),onStart:IS(n),onMove:s,onEnd:(u,c)=>{delete this.session,o&&ge.postRender(()=>o(u,c))}}}mount(){this.removePointerDownListener=Pu(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const gf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let Hp=!1;class y3 extends rt.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s,layoutId:o}=this.props,{projection:u}=t;u&&(n.group&&n.group.add(u),s&&s.register&&o&&s.register(u),Hp&&u.root.didUpdate(),u.addEventListener("animationComplete",()=>{this.safeToRemove()}),u.setOptions({...u.options,onExitComplete:()=>this.safeToRemove()})),gf.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:s,drag:o,isPresent:u}=this.props,{projection:c}=s;return c&&(c.isPresent=u,Hp=!0,o||t.layoutDependency!==n||n===void 0||t.isPresent!==u?c.willUpdate():this.safeToRemove(),t.isPresent!==u&&(u?c.promote():c.relegate()||ge.postRender(()=>{const d=c.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),f_.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:o}=t;Hp=!0,o&&(o.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(o),s&&s.deregister&&s.deregister(o))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function sC(e){const[t,n]=RR(),s=rt.useContext(Gy);return x.jsx(y3,{...e,layoutGroup:s,switchLayoutGroup:rt.useContext(UR),isPresent:t,safeToRemove:n})}function _3(e,t,n){const s=pn(e)?e:il(e);return s.start(S_("",s,t,n)),s.animation}const v3=(e,t)=>e.depth-t.depth;class T3{constructor(){this.children=[],this.isDirty=!1}add(t){Qy(this.children,t),this.isDirty=!0}remove(t){Xy(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(v3),this.isDirty=!1,this.children.forEach(t)}}function E3(e,t){const n=xn.now(),s=({timestamp:o})=>{const u=o-n;u>=t&&(qr(s),e(u-t))};return ge.setup(s,!0),()=>qr(s)}const rC=["TopLeft","TopRight","BottomLeft","BottomRight"],A3=rC.length,DS=e=>typeof e=="string"?parseFloat(e):e,NS=e=>typeof e=="number"||bt.test(e);function S3(e,t,n,s,o,u){o?(e.opacity=ye(0,n.opacity??1,b3(s)),e.opacityExit=ye(t.opacity??1,0,w3(s))):u&&(e.opacity=ye(t.opacity??1,n.opacity??1,s));for(let c=0;c<A3;c++){const d=`border${rC[c]}Radius`;let p=xS(t,d),g=xS(n,d);if(p===void 0&&g===void 0)continue;p||(p=0),g||(g=0),p===0||g===0||NS(p)===NS(g)?(e[d]=Math.max(ye(DS(p),DS(g),s),0),(as.test(g)||as.test(p))&&(e[d]+="%")):e[d]=g}(t.rotate||n.rotate)&&(e.rotate=ye(t.rotate||0,n.rotate||0,s))}function xS(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const b3=aC(0,.5,G1),w3=aC(.5,.95,oi);function aC(e,t,n){return s=>s<e?0:s>t?1:n(Ku(e,t,s))}function VS(e,t){e.min=t.min,e.max=t.max}function Ti(e,t){VS(e.x,t.x),VS(e.y,t.y)}function OS(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function MS(e,t,n,s,o){return e-=t,e=qf(e,1/n,s),o!==void 0&&(e=qf(e,1/o,s)),e}function R3(e,t=0,n=1,s=.5,o,u=e,c=e){if(as.test(t)&&(t=parseFloat(t),t=ye(c.min,c.max,t/100)-c.min),typeof t!="number")return;let d=ye(u.min,u.max,s);e===u&&(d-=t),e.min=MS(e.min,t,n,d,o),e.max=MS(e.max,t,n,d,o)}function PS(e,t,[n,s,o],u,c){R3(e,t[n],t[s],t[o],t.scale,u,c)}const C3=["x","scaleX","originX"],I3=["y","scaleY","originY"];function kS(e,t,n,s){PS(e.x,t,C3,n?n.x:void 0,s?s.x:void 0),PS(e.y,t,I3,n?n.y:void 0,s?s.y:void 0)}function LS(e){return e.translate===0&&e.scale===1}function oC(e){return LS(e.x)&&LS(e.y)}function US(e,t){return e.min===t.min&&e.max===t.max}function D3(e,t){return US(e.x,t.x)&&US(e.y,t.y)}function jS(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function lC(e,t){return jS(e.x,t.x)&&jS(e.y,t.y)}function BS(e){return En(e.x)/En(e.y)}function zS(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class N3{constructor(){this.members=[]}add(t){Qy(this.members,t),t.scheduleRender()}remove(t){if(Xy(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(o=>t===o);if(n===0)return!1;let s;for(let o=n;o>=0;o--){const u=this.members[o];if(u.isPresent!==!1){s=u;break}}return s?(this.promote(s),!0):!1}promote(t,n){const s=this.lead;if(t!==s&&(this.prevLead=s,this.lead=t,t.show(),s)){s.instance&&s.scheduleRender(),t.scheduleRender(),t.resumeFrom=s,n&&(t.resumeFrom.preserveOpacity=!0),s.snapshot&&(t.snapshot=s.snapshot,t.snapshot.latestValues=s.animationValues||s.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:o}=t.options;o===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:s}=t;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function x3(e,t,n){let s="";const o=e.x.translate/t.x,u=e.y.translate/t.y,c=n?.z||0;if((o||u||c)&&(s=`translate3d(${o}px, ${u}px, ${c}px) `),(t.x!==1||t.y!==1)&&(s+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:g,rotate:_,rotateX:E,rotateY:A,skewX:R,skewY:k}=n;g&&(s=`perspective(${g}px) ${s}`),_&&(s+=`rotate(${_}deg) `),E&&(s+=`rotateX(${E}deg) `),A&&(s+=`rotateY(${A}deg) `),R&&(s+=`skewX(${R}deg) `),k&&(s+=`skewY(${k}deg) `)}const d=e.x.scale*t.x,p=e.y.scale*t.y;return(d!==1||p!==1)&&(s+=`scale(${d}, ${p})`),s||"none"}const Gp=["","X","Y","Z"],V3=1e3;let O3=0;function Kp(e,t,n,s){const{latestValues:o}=t;o[e]&&(n[e]=o[e],t.setStaticValue(e,0),s&&(s[e]=0))}function uC(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=QR(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:o,layoutId:u}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",ge,!(o||u))}const{parent:s}=e;s&&!s.hasCheckedOptimisedAppear&&uC(s)}function cC({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:s,resetTransform:o}){return class{constructor(c={},d=t?.()){this.id=O3++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(k3),this.nodes.forEach(B3),this.nodes.forEach(z3),this.nodes.forEach(L3)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let p=0;p<this.path.length;p++)this.path[p].shouldResetTransform=!0;this.root===this&&(this.nodes=new T3)}addEventListener(c,d){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new Zy),this.eventHandlers.get(c).add(d)}notifyListeners(c,...d){const p=this.eventHandlers.get(c);p&&p.notify(...d)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=wR(c)&&!w4(c),this.instance=c;const{layoutId:d,layout:p,visualElement:g}=this.options;if(g&&!g.current&&g.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(p||d)&&(this.isLayoutDirty=!0),e){let _,E=0;const A=()=>this.root.updateBlockedByResize=!1;ge.read(()=>{E=window.innerWidth}),e(c,()=>{const R=window.innerWidth;R!==E&&(E=R,this.root.updateBlockedByResize=!0,_&&_(),_=E3(A,250),gf.hasAnimatedSinceResize&&(gf.hasAnimatedSinceResize=!1,this.nodes.forEach(HS)))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&g&&(d||p)&&this.addEventListener("didUpdate",({delta:_,hasLayoutChanged:E,hasRelativeLayoutChanged:A,layout:R})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const k=this.options.transition||g.getDefaultTransition()||K3,{onLayoutAnimationStart:H,onLayoutAnimationComplete:B}=g.getProps(),Z=!this.targetLayout||!lC(this.targetLayout,R),nt=!E&&A;if(this.options.layoutRoot||this.resumeFrom||nt||E&&(Z||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const $={...c_(k,"layout"),onPlay:H,onComplete:B};(g.shouldReduceMotion||this.options.layoutRoot)&&($.delay=0,$.type=!1),this.startAnimation($),this.setAnimationOrigin(_,nt)}else E||HS(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=R})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),qr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(q3),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&uC(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let _=0;_<this.path.length;_++){const E=this.path[_];E.shouldResetTransform=!0,E.updateScroll("snapshot"),E.options.layoutRoot&&E.willUpdate(!1)}const{layoutId:d,layout:p}=this.options;if(d===void 0&&!p)return;const g=this.getTransformTemplate();this.prevTransformTemplateValue=g?g(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(qS);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(FS);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(j3),this.nodes.forEach(M3),this.nodes.forEach(P3)):this.nodes.forEach(FS),this.clearAllSnapshots();const d=xn.now();on.delta=Ls(0,1e3/60,d-on.timestamp),on.timestamp=d,on.isProcessing=!0,Mp.update.process(on),Mp.preRender.process(on),Mp.render.process(on),on.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,f_.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(U3),this.sharedNodes.forEach(F3)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ge.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ge.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!En(this.snapshot.measuredBox.x)&&!En(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let p=0;p<this.path.length;p++)this.path[p].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Ge(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(d=!1),d&&this.instance){const p=s(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:p,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:p}}}resetTransform(){if(!o)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!oC(this.projectionDelta),p=this.getTransformTemplate(),g=p?p(this.latestValues,""):void 0,_=g!==this.prevTransformTemplateValue;c&&this.instance&&(d||Ia(this.latestValues)||_)&&(o(this.instance,g),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const d=this.measurePageBox();let p=this.removeElementScroll(d);return c&&(p=this.removeTransform(p)),Y3(p),{animationId:this.root.animationId,measuredBox:d,layoutBox:p,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:c}=this.options;if(!c)return Ge();const d=c.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(Q3))){const{scroll:g}=this.root;g&&(zo(d.x,g.offset.x),zo(d.y,g.offset.y))}return d}removeElementScroll(c){const d=Ge();if(Ti(d,c),this.scroll?.wasRoot)return d;for(let p=0;p<this.path.length;p++){const g=this.path[p],{scroll:_,options:E}=g;g!==this.root&&_&&E.layoutScroll&&(_.wasRoot&&Ti(d,c),zo(d.x,_.offset.x),zo(d.y,_.offset.y))}return d}applyTransform(c,d=!1){const p=Ge();Ti(p,c);for(let g=0;g<this.path.length;g++){const _=this.path[g];!d&&_.options.layoutScroll&&_.scroll&&_!==_.root&&qo(p,{x:-_.scroll.offset.x,y:-_.scroll.offset.y}),Ia(_.latestValues)&&qo(p,_.latestValues)}return Ia(this.latestValues)&&qo(p,this.latestValues),p}removeTransform(c){const d=Ge();Ti(d,c);for(let p=0;p<this.path.length;p++){const g=this.path[p];if(!g.instance||!Ia(g.latestValues))continue;Lg(g.latestValues)&&g.updateSnapshot();const _=Ge(),E=g.measurePageBox();Ti(_,E),kS(d,g.latestValues,g.snapshot?g.snapshot.layoutBox:void 0,_)}return Ia(this.latestValues)&&kS(d,this.latestValues),d}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==on.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const p=!!this.resumingFrom||this!==d;if(!(c||p&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:_,layoutId:E}=this.options;if(!this.layout||!(_||E))return;this.resolvedRelativeTargetAt=on.timestamp;const A=this.getClosestProjectingParent();A&&this.linkedParentVersion!==A.layoutVersion&&!A.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(A&&A.layout?this.createRelativeTarget(A,this.layout.layoutBox,A.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Ge(),this.targetWithTransforms=Ge()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),n3(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ti(this.target,this.layout.layoutBox),qR(this.target,this.targetDelta)):Ti(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,A&&!!A.resumingFrom==!!this.resumingFrom&&!A.options.layoutScroll&&A.target&&this.animationProgress!==1?this.createRelativeTarget(A,this.target,A.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Lg(this.parent.latestValues)||zR(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(c,d,p){this.relativeParent=c,this.linkedParentVersion=c.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ge(),this.relativeTargetOrigin=Ge(),Ff(this.relativeTargetOrigin,d,p),Ti(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const c=this.getLead(),d=!!this.resumingFrom||this!==c;let p=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(p=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(p=!1),this.resolvedRelativeTargetAt===on.timestamp&&(p=!1),p)return;const{layout:g,layoutId:_}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||_))return;Ti(this.layoutCorrected,this.layout.layoutBox);const E=this.treeScale.x,A=this.treeScale.y;mU(this.layoutCorrected,this.treeScale,this.path,d),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=Ge());const{target:R}=c;if(!R){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(OS(this.prevProjectionDelta.x,this.projectionDelta.x),OS(this.prevProjectionDelta.y,this.projectionDelta.y)),ku(this.projectionDelta,this.layoutCorrected,R,this.latestValues),(this.treeScale.x!==E||this.treeScale.y!==A||!zS(this.projectionDelta.x,this.prevProjectionDelta.x)||!zS(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",R))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){if(this.options.visualElement?.scheduleRender(),c){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Fo(),this.projectionDelta=Fo(),this.projectionDeltaWithTransform=Fo()}setAnimationOrigin(c,d=!1){const p=this.snapshot,g=p?p.latestValues:{},_={...this.latestValues},E=Fo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const A=Ge(),R=p?p.source:void 0,k=this.layout?this.layout.source:void 0,H=R!==k,B=this.getStack(),Z=!B||B.members.length<=1,nt=!!(H&&!Z&&this.options.crossfade===!0&&!this.path.some(G3));this.animationProgress=0;let $;this.mixTargetDelta=ot=>{const at=ot/1e3;GS(E.x,c.x,at),GS(E.y,c.y,at),this.setTargetDelta(E),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ff(A,this.layout.layoutBox,this.relativeParent.layout.layoutBox),H3(this.relativeTarget,this.relativeTargetOrigin,A,at),$&&D3(this.relativeTarget,$)&&(this.isProjectionDirty=!1),$||($=Ge()),Ti($,this.relativeTarget)),H&&(this.animationValues=_,S3(_,g,this.latestValues,at,nt,Z)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=at},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(qr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ge.update(()=>{gf.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=il(0)),this.currentAnimation=_3(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),c.onUpdate&&c.onUpdate(d)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(V3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:d,target:p,layout:g,latestValues:_}=c;if(!(!d||!p||!g)){if(this!==c&&this.layout&&g&&hC(this.options.animationType,this.layout.layoutBox,g.layoutBox)){p=this.target||Ge();const E=En(this.layout.layoutBox.x);p.x.min=c.target.x.min,p.x.max=p.x.min+E;const A=En(this.layout.layoutBox.y);p.y.min=c.target.y.min,p.y.max=p.y.min+A}Ti(d,p),qo(d,_),ku(this.projectionDeltaWithTransform,this.layoutCorrected,d,_)}}registerSharedNode(c,d){this.sharedNodes.has(c)||this.sharedNodes.set(c,new N3),this.sharedNodes.get(c).add(d);const g=d.options.initialPromotionConfig;d.promote({transition:g?g.transition:void 0,preserveFollowOpacity:g&&g.shouldPreserveFollowOpacity?g.shouldPreserveFollowOpacity(d):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){const{layoutId:c}=this.options;return c?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:c}=this.options;return c?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:d,preserveFollowOpacity:p}={}){const g=this.getStack();g&&g.promote(this,p),c&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let d=!1;const{latestValues:p}=c;if((p.z||p.rotate||p.rotateX||p.rotateY||p.rotateZ||p.skewX||p.skewY)&&(d=!0),!d)return;const g={};p.z&&Kp("z",c,g,this.animationValues);for(let _=0;_<Gp.length;_++)Kp(`rotate${Gp[_]}`,c,g,this.animationValues),Kp(`skew${Gp[_]}`,c,g,this.animationValues);c.render();for(const _ in g)c.setStaticValue(_,g[_]),this.animationValues&&(this.animationValues[_]=g[_]);c.scheduleRender()}applyProjectionStyles(c,d){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const p=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=pf(d?.pointerEvents)||"",c.transform=p?p(this.latestValues,""):"none";return}const g=this.getLead();if(!this.projectionDelta||!this.layout||!g.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=pf(d?.pointerEvents)||""),this.hasProjected&&!Ia(this.latestValues)&&(c.transform=p?p({},""):"none",this.hasProjected=!1);return}c.visibility="";const _=g.animationValues||g.latestValues;this.applyTransformsToTarget();let E=x3(this.projectionDeltaWithTransform,this.treeScale,_);p&&(E=p(_,E)),c.transform=E;const{x:A,y:R}=this.projectionDelta;c.transformOrigin=`${A.origin*100}% ${R.origin*100}% 0`,g.animationValues?c.opacity=g===this?_.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:_.opacityExit:c.opacity=g===this?_.opacity!==void 0?_.opacity:"":_.opacityExit!==void 0?_.opacityExit:0;for(const k in kg){if(_[k]===void 0)continue;const{correct:H,applyTo:B,isCSSVariable:Z}=kg[k],nt=E==="none"?_[k]:H(_[k],g);if(B){const $=B.length;for(let ot=0;ot<$;ot++)c[B[ot]]=nt}else Z?this.options.visualElement.renderState.vars[k]=nt:c[k]=nt}this.options.layoutId&&(c.pointerEvents=g===this?pf(d?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>c.currentAnimation?.stop()),this.root.nodes.forEach(qS),this.root.sharedNodes.clear()}}}function M3(e){e.updateLayout()}function P3(e){const t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=e.layout,{animationType:o}=e.options,u=t.source!==e.layout.source;o==="size"?si(_=>{const E=u?t.measuredBox[_]:t.layoutBox[_],A=En(E);E.min=n[_].min,E.max=E.min+A}):hC(o,t.layoutBox,n)&&si(_=>{const E=u?t.measuredBox[_]:t.layoutBox[_],A=En(n[_]);E.max=E.min+A,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[_].max=e.relativeTarget[_].min+A)});const c=Fo();ku(c,n,t.layoutBox);const d=Fo();u?ku(d,e.applyTransform(s,!0),t.measuredBox):ku(d,n,t.layoutBox);const p=!oC(c);let g=!1;if(!e.resumeFrom){const _=e.getClosestProjectingParent();if(_&&!_.resumeFrom){const{snapshot:E,layout:A}=_;if(E&&A){const R=Ge();Ff(R,t.layoutBox,E.layoutBox);const k=Ge();Ff(k,n,A.layoutBox),lC(R,k)||(g=!0),_.options.layoutRoot&&(e.relativeTarget=k,e.relativeTargetOrigin=R,e.relativeParent=_)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:d,layoutDelta:c,hasLayoutChanged:p,hasRelativeLayoutChanged:g})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function k3(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function L3(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function U3(e){e.clearSnapshot()}function qS(e){e.clearMeasurements()}function FS(e){e.isLayoutDirty=!1}function j3(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function HS(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function B3(e){e.resolveTargetDelta()}function z3(e){e.calcProjection()}function q3(e){e.resetSkewAndRotation()}function F3(e){e.removeLeadSnapshot()}function GS(e,t,n){e.translate=ye(t.translate,0,n),e.scale=ye(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function KS(e,t,n,s){e.min=ye(t.min,n.min,s),e.max=ye(t.max,n.max,s)}function H3(e,t,n,s){KS(e.x,t.x,n.x,s),KS(e.y,t.y,n.y,s)}function G3(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const K3={duration:.45,ease:[.4,0,.1,1]},YS=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),QS=YS("applewebkit/")&&!YS("chrome/")?Math.round:oi;function XS(e){e.min=QS(e.min),e.max=QS(e.max)}function Y3(e){XS(e.x),XS(e.y)}function hC(e,t,n){return e==="position"||e==="preserve-aspect"&&!e3(BS(t),BS(n),.2)}function Q3(e){return e!==e.root&&e.scroll?.wasRoot}const X3=cC({attachResizeListener:(e,t)=>$u(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Yp={current:void 0},fC=cC({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Yp.current){const e=new X3({});e.mount(window),e.setOptions({layoutScroll:!0}),Yp.current=e}return Yp.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),$3={pan:{Feature:g3},drag:{Feature:p3,ProjectionNode:fC,MeasureLayout:sC}};function $S(e,t,n){const{props:s}=e;e.animationState&&s.whileHover&&e.animationState.setActive("whileHover",n==="Start");const o="onHover"+n,u=s[o];u&&ge.postRender(()=>u(t,mc(t)))}class W3 extends Qr{mount(){const{current:t}=this.node;t&&(this.unmount=T4(t,(n,s)=>($S(this.node,s,"Start"),o=>$S(this.node,o,"End"))))}unmount(){}}class Z3 extends Qr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=hc($u(this.node.current,"focus",()=>this.onFocus()),$u(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function WS(e,t,n){const{props:s}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&s.whileTap&&e.animationState.setActive("whileTap",n==="Start");const o="onTap"+(n==="End"?"":n),u=s[o];u&&ge.postRender(()=>u(t,mc(t)))}class J3 extends Qr{mount(){const{current:t}=this.node;t&&(this.unmount=b4(t,(n,s)=>(WS(this.node,s,"Start"),(o,{success:u})=>WS(this.node,o,u?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Hg=new WeakMap,Qp=new WeakMap,t6=e=>{const t=Hg.get(e.target);t&&t(e)},e6=e=>{e.forEach(t6)};function n6({root:e,...t}){const n=e||document;Qp.has(n)||Qp.set(n,{});const s=Qp.get(n),o=JSON.stringify(t);return s[o]||(s[o]=new IntersectionObserver(e6,{root:e,...t})),s[o]}function i6(e,t,n){const s=n6(t);return Hg.set(e,n),s.observe(e),()=>{Hg.delete(e),s.unobserve(e)}}const s6={some:0,all:1};class r6 extends Qr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:s,amount:o="some",once:u}=t,c={root:n?n.current:void 0,rootMargin:s,threshold:typeof o=="number"?o:s6[o]},d=p=>{const{isIntersecting:g}=p;if(this.isInView===g||(this.isInView=g,u&&!g&&this.hasEnteredView))return;g&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",g);const{onViewportEnter:_,onViewportLeave:E}=this.node.getProps(),A=g?_:E;A&&A(p)};return i6(this.node.current,c,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(a6(t,n))&&this.startObserver()}unmount(){}}function a6({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const o6={inView:{Feature:r6},tap:{Feature:J3},focus:{Feature:Z3},hover:{Feature:W3}},l6={layout:{ProjectionNode:fC,MeasureLayout:sC}},u6={...XU,...o6,...$3,...l6},Xi=hU(u6,bU),c6="/DeliQu_foods/assets/1-BRDBpfyK.png",h6={apiKey:"AIzaSyBvmR8c5X6HCGZPRnzVQl-rnd8eKeoRxDY",authDomain:"deliqu-foods.firebaseapp.com",projectId:"deliqu-foods",storageBucket:"deliqu-foods.firebasestorage.app",messagingSenderId:"363906701154",appId:"1:363906701154:web:15c966baebb9b2bf693e3b",measurementId:"G-4CCTG5M1S3"},b_=lb(h6),vu=W2(b_),Ar=JM(b_),Xp=Ik(b_);function f6({p:e,idx:t,getItemQty:n,formatPrice:s,setSelectedProduct:o,setView:u,updateCartQty:c,addToCart:d}){const[p,g]=rt.useState(0),_=n(e.id),E=e.images&&e.images.length>0?e.images:[e.img];return x.jsxs(Xi.div,{layout:!0,initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{delay:t*.05},className:"product-card",children:[x.jsxs("div",{className:"img-container",children:[x.jsx("div",{className:"img-slider",style:{transform:`translateX(-${p*100}%)`},children:E.map((A,R)=>x.jsx("img",{src:A,alt:e.name,className:"slider-img"},R))}),x.jsx(mf,{children:_>0&&x.jsx(Xi.div,{initial:{scale:0},animate:{scale:1},exit:{scale:0},className:"card-qty-badge",children:_})}),E.length>1&&x.jsxs(x.Fragment,{children:[x.jsx("button",{className:"slider-btn prev",onClick:A=>{A.stopPropagation(),g(R=>R>0?R-1:E.length-1)},children:""}),x.jsx("button",{className:"slider-btn next",onClick:A=>{A.stopPropagation(),g(R=>R<E.length-1?R+1:0)},children:""}),x.jsx("div",{className:"slider-dots",children:E.map((A,R)=>x.jsx("div",{className:`dot ${p===R?"active":""}`},R))})]})]}),x.jsxs("div",{className:"card-info",children:[x.jsxs("div",{className:"card-header-flex",children:[x.jsx("h3",{children:e.name}),x.jsx("span",{className:"price",children:s(e.price)})]}),x.jsxs("div",{className:"card-btns",children:[x.jsx("button",{className:"btn-outline",onClick:()=>{o(e),u("details")},children:"Details"}),x.jsxs("div",{className:"counter-control",children:[_>0&&x.jsx("button",{className:"btn-minus",onClick:()=>c(e.id,-1),children:""}),x.jsx("button",{className:"btn-red-sq",onClick:()=>d(e),children:"+"})]})]})]})]})}function d6(){const[e,t]=rt.useState({USD:1,INR:1});rt.useEffect(()=>{fetch("https://open.er-api.com/v6/latest/INR").then(Q=>Q.json()).then(Q=>t(Q.rates)).catch(Q=>console.error("Currency fetch failed:",Q))},[]);const n=Q=>{const ct=s(Number(Q));return`${o[ce]} ${ct}`},s=Q=>{const ct=e[ce]||1;return(Q*ct).toFixed(2)},o={INR:"",USD:"$",EUR:"",GBP:""},[u,c]=rt.useState([]),[d,p]=rt.useState([]),[g,_]=rt.useState("home"),[E,A]=rt.useState(null),[R,k]=rt.useState({name:"",price:"",category:"breakfast",img:"",images:[],description:""}),[H,B]=rt.useState(!1),Z=async Q=>{const ct=Array.from(Q.target.files);if(ct.length===0)return;B(!0);const Rt=ct.map(async Zt=>{const Je=Op(Xp,`products/${Date.now()}_${Zt.name}`);return await LA(Je,Zt),UA(Je)});X.images||X.img;try{const Zt=await Promise.all(Rt);k(Je=>({...Je,images:[...Je.images||[],...Zt]})),alert("Images uploaded successfully!")}catch(Zt){alert("Upload failed: "+Zt.message)}finally{B(!1)}},nt=d.reduce((Q,ct)=>Q+(Number(ct.total)||0),0),$=d.length,ot=$>0?(nt/$).toFixed(2):0,at=E&&E.email==="digigrowindia.in@gmail.com",ht=async()=>{if(!at)return;const ct=(await Np(gu(Ar,"orders"))).docs.map(Rt=>({id:Rt.id,...Rt.data()}));p(ct)};rt.useEffect(()=>{g==="admin"&&at&&ht()},[g]);const C=async Q=>{if(Q.preventDefault(),!R.name||!R.price){alert("Please fill all required fields");return}try{await xA(gu(Ar,"products"),{name:R.name,price:Number(R.price),category:R.category,img:R.img||R.images?.[0]||"",images:R.images||[],desc:R.description,createdAt:new Date}),alert("Product added successfully!"),k({name:"",price:"",category:"breakfast",img:"",description:""})}catch(ct){alert(ct.message)}},[w,I]=rt.useState(""),[O,V]=rt.useState(""),[L,D]=rt.useState(!1),[Xt,le]=rt.useState(!1),[Y,st]=rt.useState([]),[dt,Ct]=rt.useState("all"),[Mt,M]=rt.useState(""),[X,ut]=rt.useState(null),[ft,Et]=rt.useState(0),[wt,Lt]=rt.useState(0),[ce,ae]=rt.useState("INR"),[$t,yn]=rt.useState(null),zs=()=>{at?(_("admin"),le(!1)):alert("Access Denied: You do not have permission to view the Management Panel.")},qs=async Q=>{if(window.confirm("Delete this product?"))try{await _P(cf(Ar,"products",Q)),c(u.filter(ct=>ct.id!==Q))}catch(ct){alert(ct.message)}};rt.useEffect(()=>{(async()=>{const Rt=(await Np(gu(Ar,"products"))).docs.map(Zt=>({id:Zt.id,...Zt.data()}));c(Rt)})()},[]),rt.useEffect(()=>{const Q=Bx(vu,ct=>A(ct));return()=>Q()},[]),rt.useEffect(()=>{if(g==="home"&&u.length>0){const Q=setInterval(()=>{Lt(ct=>ct===u.length-1?0:ct+1)},4e3);return()=>clearInterval(Q)}},[g]);const Hn=async Q=>{Q.preventDefault();try{L?await kx(vu,w,O):await Lx(vu,w,O),_("home")}catch(ct){alert(ct.message)}},Xr=async()=>{if(!w)return alert("Enter email first.");try{await Px(vu,w),alert("Reset email sent!")}catch(Q){alert(Q.message)}},Ri=Q=>{const ct=Y.find(Rt=>Rt.id===Q.id);st(ct?Y.map(Rt=>Rt.id===Q.id?{...Rt,qty:Rt.qty+1}:Rt):[...Y,{...Q,qty:1}])},us=(Q,ct)=>{st(Y.map(Rt=>Rt.id===Q?{...Rt,qty:Math.max(0,Rt.qty+ct)}:Rt).filter(Rt=>Rt.qty>0))},$r=async()=>{if(!E)return _("login");const Q={userId:E.uid,items:Y,total:Y.reduce((ct,Rt)=>ct+Rt.price*Rt.qty,0),date:new Date().toLocaleString(),rating:0};try{await xA(gu(Ar,"orders"),Q),alert("Order Successful!"),st([]),_("home")}catch(ct){alert(ct.message)}},ve=async()=>{if(!E)return;const Q=fP(gu(Ar,"orders"),dP("userId","==",E.uid)),Rt=(await Np(Q)).docs.map(Zt=>({id:Zt.id,...Zt.data()}));p(Rt.sort((Zt,Je)=>new Date(Je.date)-new Date(Zt.date))),_("history"),le(!1)},Re=async(Q,ct)=>{try{const Rt=cf(Ar,"orders",Q);await NA(Rt,{rating:ct}),p(d.map(Zt=>Zt.id===Q?{...Zt,rating:ct}:Zt))}catch(Rt){alert(Rt.message)}},Ci=Q=>{const ct=Y.find(Rt=>Rt.id===Q);return ct?ct.qty:0},ml=u.filter(Q=>{const ct=dt==="all"||Q.category===dt,Rt=Q.name.toLowerCase().includes(Mt.toLowerCase());return ct&&Rt}),Fs=Y.reduce((Q,ct)=>Q+ct.price*ct.qty,0),Ze=Y.reduce((Q,ct)=>Q+ct.qty,0),cs=u[wt]?.images?.[0]||u[wt]?.img,Wr=async Q=>{try{const Rt=decodeURIComponent(Q).split("/o/")[1].split("?")[0],Zt=Op(Xp,Rt);await Ck(Zt),console.log("Image deleted from Firebase Storage")}catch(ct){console.error("Failed to delete image:",ct)}};return x.jsxs("div",{className:"site-wrapper",children:[x.jsx("header",{className:"main-header",children:x.jsxs("div",{className:"header-content",children:[x.jsx("div",{className:"logo-wrapper",onClick:()=>_("home"),children:x.jsx("img",{src:c6,alt:"Deliqu Foods",className:"company-logo",onError:Q=>Q.target.style.display="none"})}),x.jsx("div",{className:"search-bar-container",children:x.jsx("input",{type:"text",placeholder:"Search...",value:Mt,onChange:Q=>M(Q.target.value),className:"live-search-input"})}),x.jsx("div",{className:"header-controls",children:x.jsxs("select",{className:"currency-dropdown-nav",value:ce,onChange:Q=>ae(Q.target.value),children:[x.jsx("option",{value:"INR",children:" INR"}),x.jsx("option",{value:"USD",children:"$ USD"}),x.jsx("option",{value:"EUR",children:" EUR"}),x.jsx("option",{value:"GBP",children:" GBP"})]})}),x.jsxs("nav",{children:[x.jsx("button",{onClick:()=>{Ct("all"),_("home"),M("")},children:"Menu"}),x.jsx("div",{className:"profile-section",children:E?x.jsxs("div",{className:"user-icon",onClick:()=>le(!Xt),children:[E.email[0].toUpperCase(),Xt&&x.jsxs("div",{className:"dropdown",children:[x.jsx("p",{children:E.email}),at&&x.jsx("button",{onClick:zs,className:"admin-link",children:" Management Panel"}),x.jsx("button",{onClick:ve,children:"My Orders"}),x.jsx("button",{onClick:()=>{vu.signOut(),_("home")},children:"Logout"})]})]}):x.jsx("button",{className:"login-btn",onClick:()=>_("login"),children:"Login"})})]})]})}),x.jsxs(mf,{mode:"wait",children:[g==="admin"&&at&&x.jsxs("div",{className:"admin-dashboard",children:[x.jsxs("aside",{className:"admin-sidebar",children:[x.jsx("div",{className:"logo-wrapper",children:x.jsx("img",{src:"/1.png",alt:"Logo",className:"company-logo"})}),x.jsxs("nav",{children:[x.jsx("button",{className:"active",children:"Add Product"}),x.jsx("button",{onClick:()=>_("home"),children:"View Site"})]})]}),x.jsxs("main",{className:"admin-content",children:[x.jsxs("header",{className:"admin-header-bar",children:[x.jsx("h1",{children:"Product Management"}),x.jsx("button",{onClick:()=>_("home"),className:"btn-outline",children:"Exit Admin"})]}),x.jsxs("div",{className:"admin-stats-bar",children:[x.jsxs("div",{className:"stat-card",children:[x.jsx("span",{children:"Total Revenue"}),x.jsx("h2",{children:n(nt.toLocaleString())})]}),x.jsxs("div",{className:"stat-card",children:[x.jsx("span",{children:"Total Orders"}),x.jsx("h2",{children:$})]}),x.jsxs("div",{className:"stat-card",children:[x.jsx("span",{children:"Avg. Ticket"}),x.jsx("h2",{children:n(ot)})]})]}),x.jsxs("div",{className:"admin-grid",children:[$t&&x.jsx("div",{className:"edit-modal",children:x.jsxs("div",{className:"edit-card",children:[x.jsx("h3",{children:"Edit Product"}),x.jsx("input",{type:"text",value:$t.name,onChange:Q=>yn({...$t,name:Q.target.value}),placeholder:"Product Name"}),x.jsx("input",{type:"number",value:$t.price,onChange:Q=>yn({...$t,price:Q.target.value}),placeholder:"Price"}),x.jsx("textarea",{value:$t.desc,onChange:Q=>yn({...$t,desc:Q.target.value}),placeholder:"Description"}),x.jsx("div",{className:"preview-strip",children:$t.images?.map((Q,ct)=>x.jsxs("div",{style:{position:"relative"},children:[x.jsx("img",{src:Q,className:"mini-preview"}),x.jsx("button",{className:"remove-img-btn",onClick:async()=>{const Rt=$t.images[ct];await Wr(Rt),yn({...$t,images:$t.images.filter((Zt,Je)=>Je!==ct)})},children:""})]},ct))}),x.jsxs("label",{className:"file-label",children:[" Add Images",x.jsx("input",{type:"file",multiple:!0,hidden:!0,onChange:async Q=>{const ct=Array.from(Q.target.files),Rt=await Promise.all(ct.map(async Zt=>{const Je=Op(Xp,`products/${Date.now()}_${Zt.name}`);return await LA(Je,Zt),UA(Je)}));yn({...$t,images:[...$t.images||[],...Rt]})}})]}),x.jsxs("div",{className:"edit-actions",children:[x.jsx("button",{className:"btn-outline",onClick:()=>yn(null),children:"Cancel"}),x.jsx("button",{className:"btn-red-large",onClick:async()=>{await NA(cf(Ar,"products",$t.id),{name:$t.name,price:Number($t.price),desc:$t.desc,images:$t.images,img:$t.images?.[0]||$t.img}),c(u.map(Q=>Q.id===$t.id?$t:Q)),yn(null)},children:"Save Changes"})]})]})}),x.jsxs("section",{className:"admin-card",children:[x.jsx("h3",{children:"Add New Product"}),x.jsxs("form",{onSubmit:C,className:"management-form",children:[x.jsx("input",{type:"text",placeholder:"Product Name",value:R.name,onChange:Q=>k({...R,name:Q.target.value})}),x.jsxs("div",{className:"form-row",children:[x.jsx("input",{type:"number",placeholder:"Price",value:R.price,onChange:Q=>k({...R,price:Q.target.value})}),x.jsxs("select",{value:R.category,onChange:Q=>k({...R,category:Q.target.value}),children:[x.jsx("option",{value:"breakfast",children:"Breakfast"}),x.jsx("option",{value:"deserts",children:"Deserts"}),x.jsx("option",{value:"main course",children:"Main Course"})]})]}),x.jsx("input",{type:"text",placeholder:"Image URL (e.g. https://...)",value:R.img,onChange:Q=>k({...R,img:Q.target.value})}),x.jsx("textarea",{placeholder:"Description",value:R.description,onChange:Q=>k({...R,description:Q.target.value})}),x.jsxs("div",{className:"upload-box",children:[x.jsxs("label",{className:"file-label",children:[H?"Uploading...":" Select Product Photos (Multiple)",x.jsx("input",{type:"file",multiple:!0,accept:"image/*",onChange:Z,hidden:!0})]}),x.jsx("div",{className:"preview-strip",children:R.images?.map((Q,ct)=>x.jsx("img",{src:Q,alt:"preview",className:"mini-preview"},ct))})]}),x.jsx("button",{type:"submit",className:"btn-red-large",children:"Add to Menu"})]})]}),x.jsxs("section",{className:"admin-card",children:[x.jsxs("h3",{children:["Current Menu (",u.length,")"]}),x.jsx("div",{className:"admin-table-wrapper",children:x.jsxs("table",{className:"admin-table",children:[x.jsx("thead",{children:x.jsxs("tr",{children:[x.jsx("th",{children:"Item"}),x.jsx("th",{children:"Price"}),x.jsx("th",{children:"Actions"})]})}),x.jsx("tbody",{children:u.map(Q=>x.jsxs("tr",{children:[x.jsx("td",{children:Q.name}),x.jsx("td",{children:n(Q.price)}),x.jsxs("td",{style:{display:"flex",gap:"8px"},children:[x.jsx("button",{className:"btn-outline",onClick:()=>yn(Q),children:"Edit"}),x.jsx("button",{className:"delete-btn",onClick:()=>qs(Q.id),children:"Delete"})]})]},Q.id))})]})})]})]})]})]}),g==="home"&&x.jsxs(Xi.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[x.jsx("section",{className:"hero-slider",children:x.jsx(mf,{mode:"wait",children:x.jsx(Xi.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:1},className:"slide",style:{backgroundImage:`linear-gradient(rgba(0,0,0,0.5), rgba(0,0,0,0.5)), url(${cs})`},children:x.jsxs("div",{className:"slide-content",children:[x.jsx(Xi.h2,{initial:{y:20},animate:{y:0},children:u[wt]?.name}),x.jsx("button",{className:"btn-red-large",onClick:()=>Ct(u[wt].category),children:"Order Now"})]})},wt)})}),x.jsxs("div",{className:"main-container",children:[x.jsx("div",{className:"filter-bar",children:["all","breakfast","deserts","main course"].map(Q=>x.jsx("button",{onClick:()=>Ct(Q),className:dt===Q?"active":"",children:Q},Q))}),x.jsx("div",{className:"product-grid",children:ml.map((Q,ct)=>x.jsx(f6,{p:Q,idx:ct,getItemQty:Ci,formatPrice:n,setSelectedProduct:ut,setView:_,updateCartQty:us,addToCart:Ri},Q.id))})]}),x.jsx(mf,{children:Y.length>0&&x.jsx(Xi.div,{initial:{y:100},animate:{y:0},exit:{y:100},className:"bottom-total-bar",children:x.jsxs("div",{className:"bar-content",children:[x.jsxs("div",{children:[x.jsxs("span",{className:"bar-count",children:[Ze," Items Selected"]}),x.jsxs("span",{className:"bar-price",children:["Total: ",n(Fs)]})]}),x.jsx("button",{className:"btn-white-action",onClick:()=>_("cart"),children:"View Bag & Checkout"})]})})})]},"home"),g==="details"&&X&&(()=>{const Q=X.images&&X.images.length>0?X.images:[X.img];return x.jsx(Xi.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},exit:{opacity:0},className:"main-container",children:x.jsxs("div",{className:"details-card",children:[x.jsxs("div",{className:"details-image-slider",children:[x.jsx("div",{className:"details-slider-track",style:{transform:`translateX(-${ft*100}%)`},children:Q.map((ct,Rt)=>x.jsx("img",{src:ct,alt:X.name},Rt))}),Q.length>1&&x.jsxs(x.Fragment,{children:[x.jsx("button",{className:"slider-arrow left",onClick:()=>Et(ft===0?Q.length-1:ft-1),children:""}),x.jsx("button",{className:"slider-arrow right",onClick:()=>Et(ft===Q.length-1?0:ft+1),children:""})]})]}),x.jsxs("div",{className:"details-text",children:[x.jsx("h2",{children:X.name}),x.jsx("p",{className:"price-lg",children:n(X.price)}),x.jsx("p",{className:"desc",children:X.desc}),x.jsx("button",{className:"btn-red-large",onClick:()=>{Ri(X),_("cart")},children:"Add to Bag"}),x.jsx("button",{className:"btn-outline",onClick:()=>_("home"),children:"Back to Menu"})]})]})},"details")})(),g==="login"&&x.jsx(Xi.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"full-screen-center",children:x.jsxs("div",{className:"auth-card",children:[x.jsx("h2",{children:L?"Join Deliqu":"Welcome Back"}),x.jsxs("form",{onSubmit:Hn,children:[x.jsx("input",{type:"email",placeholder:"Email",onChange:Q=>I(Q.target.value),required:!0}),x.jsx("input",{type:"password",placeholder:"Password",onChange:Q=>V(Q.target.value),required:!0}),x.jsx("button",{type:"submit",className:"btn-black-large",children:L?"Create Account":"Login"})]}),!L&&x.jsx("p",{className:"forgot-p",onClick:Xr,children:"Forgot Password?"}),x.jsx("p",{onClick:()=>D(!L),className:"toggle-auth",children:L?"Have an account? Login":"New here? Register"})]})},"login"),g==="cart"&&x.jsx(Xi.div,{initial:{opacity:0},animate:{opacity:1},className:"main-container",children:x.jsxs("div",{className:"cart-page-layout",children:[x.jsxs("div",{className:"cart-items-section",children:[x.jsxs("h2",{className:"cart-title",children:[Y.length," Items in your Cart"]}),Y.length===0?x.jsxs("div",{className:"empty-cart-msg",children:[x.jsx("p",{children:"Your cart is empty."}),x.jsx("button",{className:"btn-outline",onClick:()=>_("home"),children:"Start Shopping"})]}):x.jsx("div",{className:"cart-item-list",children:Y.map(Q=>x.jsxs("div",{className:"cart-item-row",children:[x.jsx("img",{src:Q.img,alt:Q.name,className:"cart-item-img"}),x.jsxs("div",{className:"cart-item-info",children:[x.jsxs("div",{className:"item-details",children:[x.jsx("h4",{children:Q.name}),x.jsx("p",{className:"item-category",children:Q.category})]}),x.jsxs("div",{className:"qty-picker",children:[x.jsx("button",{onClick:()=>us(Q.id,-1),children:""}),x.jsx("span",{children:Q.qty}),x.jsx("button",{onClick:()=>us(Q.id,1),children:"+"})]}),x.jsx("div",{className:"item-price-total",children:n(Q.price*Q.qty)})]})]},Q.id))})]}),x.jsxs("div",{className:"cart-summary-section",children:[x.jsxs("div",{className:"currency-picker",children:[x.jsx("span",{children:"Select Currency:"}),x.jsxs("select",{value:ce,onChange:Q=>ae(Q.target.value),children:[x.jsx("option",{value:"INR",children:"INR ()"}),x.jsx("option",{value:"USD",children:"USD ($)"}),x.jsx("option",{value:"EUR",children:"EUR ()"}),x.jsx("option",{value:"GBP",children:"GBP ()"})]})]}),x.jsxs("div",{className:"summary-card",children:[x.jsx("h3",{children:"Order Summary"}),x.jsxs("div",{className:"summary-row",children:[x.jsx("span",{children:"Subtotal"}),x.jsx("span",{children:n(Fs.toFixed(2))})]}),x.jsxs("div",{className:"summary-row total-row",children:[x.jsx("span",{children:"Total"}),x.jsxs("span",{children:[o[ce]," ",s(Fs)]})]}),x.jsx("button",{className:"btn-red-large checkout-btn",onClick:$r,children:"Proceed to Payment"}),x.jsx("button",{className:"btn-link",onClick:()=>_("home"),children:"Continue Browsing"})]})]})]})},"cart"),g==="history"&&x.jsx(Xi.div,{initial:{opacity:0},animate:{opacity:1},className:"main-container",children:x.jsxs("div",{className:"history-container",children:[x.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"30px"},children:[x.jsx("h2",{style:{margin:0},children:"My Orders"}),x.jsx("button",{onClick:()=>_("home"),className:"btn-outline",children:"Back to Menu"})]}),d.length===0?x.jsx("p",{children:"No orders yet."}):d.map(Q=>x.jsxs("div",{className:"order-card",children:[x.jsxs("div",{className:"order-header",children:[x.jsxs("div",{className:"order-info",children:[x.jsxs("h4",{children:["Order #",Q.id.slice(0,6)]}),x.jsxs("span",{children:["Placed on ",Q.date]})]}),x.jsx("div",{className:"order-total-price",children:n(Q.total)})]}),x.jsx("div",{className:"order-items-preview",children:Q.items?.map((ct,Rt)=>x.jsx("img",{src:ct.img,className:"history-item-img",alt:ct.name,title:ct.name},Rt))}),x.jsxs("div",{className:"order-footer",children:[x.jsx("div",{className:"h-stars",children:[1,2,3,4,5].map(ct=>x.jsx("span",{style:{color:Q.rating>=ct?"#d63031":"#ccc",cursor:"pointer",fontSize:"1.2rem"},onClick:()=>Re(Q.id,ct),children:""},ct))}),x.jsx("button",{className:"btn-receipt",onClick:()=>window.print(),children:"Print Receipt"})]})]},Q.id))]})},"history")]})]})}ZI.createRoot(document.getElementById("root")).render(x.jsx(rt.StrictMode,{children:x.jsx(d6,{})}));
