(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const u of c.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function n(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(o){if(o.ep)return;o.ep=!0;const c=n(o);fetch(o.href,c)}})();var gp={exports:{}},Cc={};var $E;function $C(){if($E)return Cc;$E=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,c){var u=null;if(c!==void 0&&(u=""+c),o.key!==void 0&&(u=""+o.key),"key"in o){c={};for(var f in o)f!=="key"&&(c[f]=o[f])}else c=o;return o=c.ref,{$$typeof:t,type:s,key:u,ref:o!==void 0?o:null,props:c}}return Cc.Fragment=e,Cc.jsx=n,Cc.jsxs=n,Cc}var WE;function WC(){return WE||(WE=1,gp.exports=$C()),gp.exports}var p=WC(),yp={exports:{}},De={};var ZE;function ZC(){if(ZE)return De;ZE=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),S=Symbol.iterator;function N(P){return P===null||typeof P!="object"?null:(P=S&&P[S]||P["@@iterator"],typeof P=="function"?P:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},G=Object.assign,L={};function H(P,te,fe){this.props=P,this.context=te,this.refs=L,this.updater=fe||k}H.prototype.isReactComponent={},H.prototype.setState=function(P,te){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,te,"setState")},H.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function Q(){}Q.prototype=H.prototype;function J(P,te,fe){this.props=P,this.context=te,this.refs=L,this.updater=fe||k}var ae=J.prototype=new Q;ae.constructor=J,G(ae,H.prototype),ae.isPureReactComponent=!0;var ce=Array.isArray;function me(){}var C={H:null,A:null,T:null,S:null},x=Object.prototype.hasOwnProperty;function I(P,te,fe){var de=fe.ref;return{$$typeof:t,type:P,key:te,ref:de!==void 0?de:null,props:fe}}function M(P,te){return I(P.type,te,P.props)}function V(P){return typeof P=="object"&&P!==null&&P.$$typeof===t}function U(P){var te={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(fe){return te[fe]})}var D=/\/+/g;function st(P,te){return typeof P=="object"&&P!==null&&P.key!=null?U(""+P.key):te.toString(36)}function vt(P){switch(P.status){case"fulfilled":return P.value;case"rejected":throw P.reason;default:switch(typeof P.status=="string"?P.then(me,me):(P.status="pending",P.then(function(te){P.status==="pending"&&(P.status="fulfilled",P.value=te)},function(te){P.status==="pending"&&(P.status="rejected",P.reason=te)})),P.status){case"fulfilled":return P.value;case"rejected":throw P.reason}}throw P}function W(P,te,fe,de,Ae){var Ie=typeof P;(Ie==="undefined"||Ie==="boolean")&&(P=null);var Be=!1;if(P===null)Be=!0;else switch(Ie){case"bigint":case"string":case"number":Be=!0;break;case"object":switch(P.$$typeof){case t:case e:Be=!0;break;case _:return Be=P._init,W(Be(P._payload),te,fe,de,Ae)}}if(Be)return Ae=Ae(P),Be=de===""?"."+st(P,0):de,ce(Ae)?(fe="",Be!=null&&(fe=Be.replace(D,"$&/")+"/"),W(Ae,te,fe,"",function(Ue){return Ue})):Ae!=null&&(V(Ae)&&(Ae=M(Ae,fe+(Ae.key==null||P&&P.key===Ae.key?"":(""+Ae.key).replace(D,"$&/")+"/")+Be)),te.push(Ae)),1;Be=0;var nt=de===""?".":de+":";if(ce(P))for(var Ze=0;Ze<P.length;Ze++)de=P[Ze],Ie=nt+st(de,Ze),Be+=W(de,te,fe,Ie,Ae);else if(Ze=N(P),typeof Ze=="function")for(P=Ze.call(P),Ze=0;!(de=P.next()).done;)de=de.value,Ie=nt+st(de,Ze++),Be+=W(de,te,fe,Ie,Ae);else if(Ie==="object"){if(typeof P.then=="function")return W(vt(P),te,fe,de,Ae);throw te=String(P),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.")}return Be}function le(P,te,fe){if(P==null)return P;var de=[],Ae=0;return W(P,de,"","",function(Ie){return te.call(fe,Ie,Ae++)}),de}function ge(P){if(P._status===-1){var te=P._result;te=te(),te.then(function(fe){(P._status===0||P._status===-1)&&(P._status=1,P._result=fe)},function(fe){(P._status===0||P._status===-1)&&(P._status=2,P._result=fe)}),P._status===-1&&(P._status=0,P._result=te)}if(P._status===1)return P._result.default;throw P._result}var Ve=typeof reportError=="function"?reportError:function(P){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var te=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof P=="object"&&P!==null&&typeof P.message=="string"?String(P.message):String(P),error:P});if(!window.dispatchEvent(te))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",P);return}console.error(P)},Me={map:le,forEach:function(P,te,fe){le(P,function(){te.apply(this,arguments)},fe)},count:function(P){var te=0;return le(P,function(){te++}),te},toArray:function(P){return le(P,function(te){return te})||[]},only:function(P){if(!V(P))throw Error("React.Children.only expected to receive a single React element child.");return P}};return De.Activity=b,De.Children=Me,De.Component=H,De.Fragment=n,De.Profiler=o,De.PureComponent=J,De.StrictMode=s,De.Suspense=g,De.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,De.__COMPILER_RUNTIME={__proto__:null,c:function(P){return C.H.useMemoCache(P)}},De.cache=function(P){return function(){return P.apply(null,arguments)}},De.cacheSignal=function(){return null},De.cloneElement=function(P,te,fe){if(P==null)throw Error("The argument must be a React element, but you passed "+P+".");var de=G({},P.props),Ae=P.key;if(te!=null)for(Ie in te.key!==void 0&&(Ae=""+te.key),te)!x.call(te,Ie)||Ie==="key"||Ie==="__self"||Ie==="__source"||Ie==="ref"&&te.ref===void 0||(de[Ie]=te[Ie]);var Ie=arguments.length-2;if(Ie===1)de.children=fe;else if(1<Ie){for(var Be=Array(Ie),nt=0;nt<Ie;nt++)Be[nt]=arguments[nt+2];de.children=Be}return I(P.type,Ae,de)},De.createContext=function(P){return P={$$typeof:u,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null},P.Provider=P,P.Consumer={$$typeof:c,_context:P},P},De.createElement=function(P,te,fe){var de,Ae={},Ie=null;if(te!=null)for(de in te.key!==void 0&&(Ie=""+te.key),te)x.call(te,de)&&de!=="key"&&de!=="__self"&&de!=="__source"&&(Ae[de]=te[de]);var Be=arguments.length-2;if(Be===1)Ae.children=fe;else if(1<Be){for(var nt=Array(Be),Ze=0;Ze<Be;Ze++)nt[Ze]=arguments[Ze+2];Ae.children=nt}if(P&&P.defaultProps)for(de in Be=P.defaultProps,Be)Ae[de]===void 0&&(Ae[de]=Be[de]);return I(P,Ie,Ae)},De.createRef=function(){return{current:null}},De.forwardRef=function(P){return{$$typeof:f,render:P}},De.isValidElement=V,De.lazy=function(P){return{$$typeof:_,_payload:{_status:-1,_result:P},_init:ge}},De.memo=function(P,te){return{$$typeof:y,type:P,compare:te===void 0?null:te}},De.startTransition=function(P){var te=C.T,fe={};C.T=fe;try{var de=P(),Ae=C.S;Ae!==null&&Ae(fe,de),typeof de=="object"&&de!==null&&typeof de.then=="function"&&de.then(me,Ve)}catch(Ie){Ve(Ie)}finally{te!==null&&fe.types!==null&&(te.types=fe.types),C.T=te}},De.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},De.use=function(P){return C.H.use(P)},De.useActionState=function(P,te,fe){return C.H.useActionState(P,te,fe)},De.useCallback=function(P,te){return C.H.useCallback(P,te)},De.useContext=function(P){return C.H.useContext(P)},De.useDebugValue=function(){},De.useDeferredValue=function(P,te){return C.H.useDeferredValue(P,te)},De.useEffect=function(P,te){return C.H.useEffect(P,te)},De.useEffectEvent=function(P){return C.H.useEffectEvent(P)},De.useId=function(){return C.H.useId()},De.useImperativeHandle=function(P,te,fe){return C.H.useImperativeHandle(P,te,fe)},De.useInsertionEffect=function(P,te){return C.H.useInsertionEffect(P,te)},De.useLayoutEffect=function(P,te){return C.H.useLayoutEffect(P,te)},De.useMemo=function(P,te){return C.H.useMemo(P,te)},De.useOptimistic=function(P,te){return C.H.useOptimistic(P,te)},De.useReducer=function(P,te,fe){return C.H.useReducer(P,te,fe)},De.useRef=function(P){return C.H.useRef(P)},De.useState=function(P){return C.H.useState(P)},De.useSyncExternalStore=function(P,te,fe){return C.H.useSyncExternalStore(P,te,fe)},De.useTransition=function(){return C.H.useTransition()},De.version="19.2.3",De}var JE;function $g(){return JE||(JE=1,yp.exports=ZC()),yp.exports}var re=$g(),vp={exports:{}},Ic={},_p={exports:{}},Tp={};var e0;function JC(){return e0||(e0=1,(function(t){function e(W,le){var ge=W.length;W.push(le);e:for(;0<ge;){var Ve=ge-1>>>1,Me=W[Ve];if(0<o(Me,le))W[Ve]=le,W[ge]=Me,ge=Ve;else break e}}function n(W){return W.length===0?null:W[0]}function s(W){if(W.length===0)return null;var le=W[0],ge=W.pop();if(ge!==le){W[0]=ge;e:for(var Ve=0,Me=W.length,P=Me>>>1;Ve<P;){var te=2*(Ve+1)-1,fe=W[te],de=te+1,Ae=W[de];if(0>o(fe,ge))de<Me&&0>o(Ae,fe)?(W[Ve]=Ae,W[de]=ge,Ve=de):(W[Ve]=fe,W[te]=ge,Ve=te);else if(de<Me&&0>o(Ae,ge))W[Ve]=Ae,W[de]=ge,Ve=de;else break e}}return le}function o(W,le){var ge=W.sortIndex-le.sortIndex;return ge!==0?ge:W.id-le.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;t.unstable_now=function(){return c.now()}}else{var u=Date,f=u.now();t.unstable_now=function(){return u.now()-f}}var g=[],y=[],_=1,b=null,S=3,N=!1,k=!1,G=!1,L=!1,H=typeof setTimeout=="function"?setTimeout:null,Q=typeof clearTimeout=="function"?clearTimeout:null,J=typeof setImmediate<"u"?setImmediate:null;function ae(W){for(var le=n(y);le!==null;){if(le.callback===null)s(y);else if(le.startTime<=W)s(y),le.sortIndex=le.expirationTime,e(g,le);else break;le=n(y)}}function ce(W){if(G=!1,ae(W),!k)if(n(g)!==null)k=!0,me||(me=!0,U());else{var le=n(y);le!==null&&vt(ce,le.startTime-W)}}var me=!1,C=-1,x=5,I=-1;function M(){return L?!0:!(t.unstable_now()-I<x)}function V(){if(L=!1,me){var W=t.unstable_now();I=W;var le=!0;try{e:{k=!1,G&&(G=!1,Q(C),C=-1),N=!0;var ge=S;try{t:{for(ae(W),b=n(g);b!==null&&!(b.expirationTime>W&&M());){var Ve=b.callback;if(typeof Ve=="function"){b.callback=null,S=b.priorityLevel;var Me=Ve(b.expirationTime<=W);if(W=t.unstable_now(),typeof Me=="function"){b.callback=Me,ae(W),le=!0;break t}b===n(g)&&s(g),ae(W)}else s(g);b=n(g)}if(b!==null)le=!0;else{var P=n(y);P!==null&&vt(ce,P.startTime-W),le=!1}}break e}finally{b=null,S=ge,N=!1}le=void 0}}finally{le?U():me=!1}}}var U;if(typeof J=="function")U=function(){J(V)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,st=D.port2;D.port1.onmessage=V,U=function(){st.postMessage(null)}}else U=function(){H(V,0)};function vt(W,le){C=H(function(){W(t.unstable_now())},le)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(W){W.callback=null},t.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<W?Math.floor(1e3/W):5},t.unstable_getCurrentPriorityLevel=function(){return S},t.unstable_next=function(W){switch(S){case 1:case 2:case 3:var le=3;break;default:le=S}var ge=S;S=le;try{return W()}finally{S=ge}},t.unstable_requestPaint=function(){L=!0},t.unstable_runWithPriority=function(W,le){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var ge=S;S=W;try{return le()}finally{S=ge}},t.unstable_scheduleCallback=function(W,le,ge){var Ve=t.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?Ve+ge:Ve):ge=Ve,W){case 1:var Me=-1;break;case 2:Me=250;break;case 5:Me=1073741823;break;case 4:Me=1e4;break;default:Me=5e3}return Me=ge+Me,W={id:_++,callback:le,priorityLevel:W,startTime:ge,expirationTime:Me,sortIndex:-1},ge>Ve?(W.sortIndex=ge,e(y,W),n(g)===null&&W===n(y)&&(G?(Q(C),C=-1):G=!0,vt(ce,ge-Ve))):(W.sortIndex=Me,e(g,W),k||N||(k=!0,me||(me=!0,U()))),W},t.unstable_shouldYield=M,t.unstable_wrapCallback=function(W){var le=S;return function(){var ge=S;S=le;try{return W.apply(this,arguments)}finally{S=ge}}}})(Tp)),Tp}var t0;function eI(){return t0||(t0=1,_p.exports=JC()),_p.exports}var Ep={exports:{}},En={};var n0;function tI(){if(n0)return En;n0=1;var t=$g();function e(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)y+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(g,y,_){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:g,containerInfo:y,implementation:_}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return En.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,En.createPortal=function(g,y){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return c(g,y,null,_)},En.flushSync=function(g){var y=u.T,_=s.p;try{if(u.T=null,s.p=2,g)return g()}finally{u.T=y,s.p=_,s.d.f()}},En.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(g,y))},En.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},En.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var _=y.as,b=f(_,y.crossOrigin),S=typeof y.integrity=="string"?y.integrity:void 0,N=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;_==="style"?s.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:b,integrity:S,fetchPriority:N}):_==="script"&&s.d.X(g,{crossOrigin:b,integrity:S,fetchPriority:N,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},En.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var _=f(y.as,y.crossOrigin);s.d.M(g,{crossOrigin:_,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(g)},En.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var _=y.as,b=f(_,y.crossOrigin);s.d.L(g,_,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},En.preloadModule=function(g,y){if(typeof g=="string")if(y){var _=f(y.as,y.crossOrigin);s.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:_,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(g)},En.requestFormReset=function(g){s.d.r(g)},En.unstable_batchedUpdates=function(g,y){return g(y)},En.useFormState=function(g,y,_){return u.H.useFormState(g,y,_)},En.useFormStatus=function(){return u.H.useHostTransitionStatus()},En.version="19.2.3",En}var i0;function nI(){if(i0)return Ep.exports;i0=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Ep.exports=tI(),Ep.exports}var s0;function iI(){if(s0)return Ic;s0=1;var t=eI(),e=$g(),n=nI();function s(i){var r="https://react.dev/errors/"+i;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function c(i){var r=i,a=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,(r.flags&4098)!==0&&(a=r.return),i=r.return;while(i)}return r.tag===3?a:null}function u(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function f(i){if(i.tag===31){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function g(i){if(c(i)!==i)throw Error(s(188))}function y(i){var r=i.alternate;if(!r){if(r=c(i),r===null)throw Error(s(188));return r!==i?null:i}for(var a=i,l=r;;){var d=a.return;if(d===null)break;var m=d.alternate;if(m===null){if(l=d.return,l!==null){a=l;continue}break}if(d.child===m.child){for(m=d.child;m;){if(m===a)return g(d),i;if(m===l)return g(d),r;m=m.sibling}throw Error(s(188))}if(a.return!==l.return)a=d,l=m;else{for(var T=!1,A=d.child;A;){if(A===a){T=!0,a=d,l=m;break}if(A===l){T=!0,l=d,a=m;break}A=A.sibling}if(!T){for(A=m.child;A;){if(A===a){T=!0,a=m,l=d;break}if(A===l){T=!0,l=m,a=d;break}A=A.sibling}if(!T)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?i:r}function _(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i;for(i=i.child;i!==null;){if(r=_(i),r!==null)return r;i=i.sibling}return null}var b=Object.assign,S=Symbol.for("react.element"),N=Symbol.for("react.transitional.element"),k=Symbol.for("react.portal"),G=Symbol.for("react.fragment"),L=Symbol.for("react.strict_mode"),H=Symbol.for("react.profiler"),Q=Symbol.for("react.consumer"),J=Symbol.for("react.context"),ae=Symbol.for("react.forward_ref"),ce=Symbol.for("react.suspense"),me=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function U(i){return i===null||typeof i!="object"?null:(i=V&&i[V]||i["@@iterator"],typeof i=="function"?i:null)}var D=Symbol.for("react.client.reference");function st(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===D?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case G:return"Fragment";case H:return"Profiler";case L:return"StrictMode";case ce:return"Suspense";case me:return"SuspenseList";case I:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case k:return"Portal";case J:return i.displayName||"Context";case Q:return(i._context.displayName||"Context")+".Consumer";case ae:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case C:return r=i.displayName||null,r!==null?r:st(i.type)||"Memo";case x:r=i._payload,i=i._init;try{return st(i(r))}catch{}}return null}var vt=Array.isArray,W=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ge={pending:!1,data:null,method:null,action:null},Ve=[],Me=-1;function P(i){return{current:i}}function te(i){0>Me||(i.current=Ve[Me],Ve[Me]=null,Me--)}function fe(i,r){Me++,Ve[Me]=i.current,i.current=r}var de=P(null),Ae=P(null),Ie=P(null),Be=P(null);function nt(i,r){switch(fe(Ie,r),fe(Ae,i),fe(de,null),r.nodeType){case 9:case 11:i=(i=r.documentElement)&&(i=i.namespaceURI)?_E(i):0;break;default:if(i=r.tagName,r=r.namespaceURI)r=_E(r),i=TE(r,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}te(de),fe(de,i)}function Ze(){te(de),te(Ae),te(Ie)}function Ue(i){i.memoizedState!==null&&fe(Be,i);var r=de.current,a=TE(r,i.type);r!==a&&(fe(Ae,i),fe(de,a))}function Dn(i){Ae.current===i&&(te(de),te(Ae)),Be.current===i&&(te(Be),Ac._currentValue=ge)}var Ts,Yn;function On(i){if(Ts===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);Ts=r&&r[1]||"",Yn=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ts+i+Yn}var tr=!1;function Es(i,r){if(!i||tr)return"";tr=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var ne=function(){throw Error()};if(Object.defineProperty(ne.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ne,[])}catch($){var Y=$}Reflect.construct(i,[],ne)}else{try{ne.call()}catch($){Y=$}i.call(ne.prototype)}}else{try{throw Error()}catch($){Y=$}(ne=i())&&typeof ne.catch=="function"&&ne.catch(function(){})}}catch($){if($&&Y&&typeof $.stack=="string")return[$.stack,Y.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=l.DetermineComponentFrameRoot(),T=m[0],A=m[1];if(T&&A){var O=T.split(`
`),F=A.split(`
`);for(d=l=0;l<O.length&&!O[l].includes("DetermineComponentFrameRoot");)l++;for(;d<F.length&&!F[d].includes("DetermineComponentFrameRoot");)d++;if(l===O.length||d===F.length)for(l=O.length-1,d=F.length-1;1<=l&&0<=d&&O[l]!==F[d];)d--;for(;1<=l&&0<=d;l--,d--)if(O[l]!==F[d]){if(l!==1||d!==1)do if(l--,d--,0>d||O[l]!==F[d]){var Z=`
`+O[l].replace(" at new "," at ");return i.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",i.displayName)),Z}while(1<=l&&0<=d);break}}}finally{tr=!1,Error.prepareStackTrace=a}return(a=i?i.displayName||i.name:"")?On(a):""}function bs(i,r){switch(i.tag){case 26:case 27:case 5:return On(i.type);case 16:return On("Lazy");case 13:return i.child!==r&&r!==null?On("Suspense Fallback"):On("Suspense");case 19:return On("SuspenseList");case 0:case 15:return Es(i.type,!1);case 11:return Es(i.type.render,!1);case 1:return Es(i.type,!0);case 31:return On("Activity");default:return""}}function ha(i){try{var r="",a=null;do r+=bs(i,a),a=i,i=i.return;while(i);return r}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Se=Object.prototype.hasOwnProperty,Je=t.unstable_scheduleCallback,ke=t.unstable_cancelCallback,Vl=t.unstable_shouldYield,uo=t.unstable_requestPaint,ln=t.unstable_now,Ss=t.unstable_getCurrentPriorityLevel,da=t.unstable_ImmediatePriority,fa=t.unstable_UserBlockingPriority,Hi=t.unstable_NormalPriority,nr=t.unstable_LowPriority,Ci=t.unstable_IdlePriority,ho=t.log,fo=t.unstable_setDisableYieldValue,Vn=null,Wt=null;function Mn(i){if(typeof ho=="function"&&fo(i),Wt&&typeof Wt.setStrictMode=="function")try{Wt.setStrictMode(Vn,i)}catch{}}var At=Math.clz32?Math.clz32:Gi,As=Math.log,oi=Math.LN2;function Gi(i){return i>>>=0,i===0?32:31-(As(i)/oi|0)|0}var Ut=256,ws=262144,_t=4194304;function li(i){var r=i&42;if(r!==0)return r;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Qn(i,r,a){var l=i.pendingLanes;if(l===0)return 0;var d=0,m=i.suspendedLanes,T=i.pingedLanes;i=i.warmLanes;var A=l&134217727;return A!==0?(l=A&~m,l!==0?d=li(l):(T&=A,T!==0?d=li(T):a||(a=A&~i,a!==0&&(d=li(a))))):(A=l&~m,A!==0?d=li(A):T!==0?d=li(T):a||(a=l&~i,a!==0&&(d=li(a)))),d===0?0:r!==0&&r!==d&&(r&m)===0&&(m=d&-d,a=r&-r,m>=a||m===32&&(a&4194048)!==0)?r:d}function nn(i,r){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&r)===0}function ir(i,r){switch(i){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ma(){var i=_t;return _t<<=1,(_t&62914560)===0&&(_t=4194304),i}function ci(i){for(var r=[],a=0;31>a;a++)r.push(i);return r}function Ki(i,r){i.pendingLanes|=r,r!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function _n(i,r,a,l,d,m){var T=i.pendingLanes;i.pendingLanes=a,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=a,i.entangledLanes&=a,i.errorRecoveryDisabledLanes&=a,i.shellSuspendCounter=0;var A=i.entanglements,O=i.expirationTimes,F=i.hiddenUpdates;for(a=T&~a;0<a;){var Z=31-At(a),ne=1<<Z;A[Z]=0,O[Z]=-1;var Y=F[Z];if(Y!==null)for(F[Z]=null,Z=0;Z<Y.length;Z++){var $=Y[Z];$!==null&&($.lane&=-536870913)}a&=~ne}l!==0&&Pn(i,l,0),m!==0&&d===0&&i.tag!==0&&(i.suspendedLanes|=m&~(T&~r))}function Pn(i,r,a){i.pendingLanes|=r,i.suspendedLanes&=~r;var l=31-At(r);i.entangledLanes|=r,i.entanglements[l]=i.entanglements[l]|1073741824|a&261930}function sr(i,r){var a=i.entangledLanes|=r;for(i=i.entanglements;a;){var l=31-At(a),d=1<<l;d&r|i[l]&r&&(i[l]|=r),a&=~d}}function Yi(i,r){var a=r&-r;return a=(a&42)!==0?1:Qi(a),(a&(i.suspendedLanes|r))!==0?0:a}function Qi(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function jn(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function pa(){var i=le.p;return i!==0?i:(i=window.event,i===void 0?32:FE(i.type))}function Bt(i,r){var a=le.p;try{return le.p=i,r()}finally{le.p=a}}var Xn=Math.random().toString(36).slice(2),wt="__reactFiber$"+Xn,Tt="__reactProps$"+Xn,Ii="__reactContainer$"+Xn,ga="__reactEvents$"+Xn,ui="__reactListeners$"+Xn,ya="__reactHandles$"+Xn,zt="__reactResources$"+Xn,Tn="__reactMarker$"+Xn;function rr(i){delete i[wt],delete i[Tt],delete i[ga],delete i[ui],delete i[ya]}function w(i){var r=i[wt];if(r)return r;for(var a=i.parentNode;a;){if(r=a[Ii]||a[wt]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(i=xE(i);i!==null;){if(a=i[wt])return a;i=xE(i)}return r}i=a,a=i.parentNode}return null}function K(i){if(i=i[wt]||i[Ii]){var r=i.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return i}return null}function oe(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i.stateNode;throw Error(s(33))}function pe(i){var r=i[zt];return r||(r=i[zt]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function ue(i){i[Tn]=!0}var ft=new Set,hi={};function cn(i,r){Ct(i,r),Ct(i+"Capture",r)}function Ct(i,r){for(hi[i]=r,i=0;i<r.length;i++)ft.add(r[i])}var va=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ml={},Pl={};function Iu(i){return Se.call(Pl,i)?!0:Se.call(Ml,i)?!1:va.test(i)?Pl[i]=!0:(Ml[i]=!0,!1)}function mo(i,r,a){if(Iu(r))if(a===null)i.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":i.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){i.removeAttribute(r);return}}i.setAttribute(r,""+a)}}function $n(i,r,a){if(a===null)i.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttribute(r,""+a)}}function qt(i,r,a,l){if(l===null)i.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(a);return}i.setAttributeNS(r,a,""+l)}}function sn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function ar(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function jl(i,r,a){var l=Object.getOwnPropertyDescriptor(i.constructor.prototype,r);if(!i.hasOwnProperty(r)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var d=l.get,m=l.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return d.call(this)},set:function(T){a=""+T,m.call(this,T)}}),Object.defineProperty(i,r,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(T){a=""+T},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function rt(i){if(!i._valueTracker){var r=ar(i)?"checked":"value";i._valueTracker=jl(i,r,""+i[r])}}function _a(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return i&&(l=ar(i)?i.checked?"true":"false":i.value),i=l,i!==a?(r.setValue(i),!0):!1}function Xi(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Ta=/[\n"\\]/g;function kn(i){return i.replace(Ta,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function po(i,r,a,l,d,m,T,A){i.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?i.type=T:i.removeAttribute("type"),r!=null?T==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+sn(r)):i.value!==""+sn(r)&&(i.value=""+sn(r)):T!=="submit"&&T!=="reset"||i.removeAttribute("value"),r!=null?kl(i,T,sn(r)):a!=null?kl(i,T,sn(a)):l!=null&&i.removeAttribute("value"),d==null&&m!=null&&(i.defaultChecked=!!m),d!=null&&(i.checked=d&&typeof d!="function"&&typeof d!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?i.name=""+sn(A):i.removeAttribute("name")}function Nu(i,r,a,l,d,m,T,A){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(i.type=m),r!=null||a!=null){if(!(m!=="submit"&&m!=="reset"||r!=null)){rt(i);return}a=a!=null?""+sn(a):"",r=r!=null?""+sn(r):a,A||r===i.value||(i.value=r),i.defaultValue=r}l=l??d,l=typeof l!="function"&&typeof l!="symbol"&&!!l,i.checked=A?i.checked:!!l,i.defaultChecked=!!l,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(i.name=T),rt(i)}function kl(i,r,a){r==="number"&&Xi(i.ownerDocument)===i||i.defaultValue===""+a||(i.defaultValue=""+a)}function or(i,r,a,l){if(i=i.options,r){r={};for(var d=0;d<a.length;d++)r["$"+a[d]]=!0;for(a=0;a<i.length;a++)d=r.hasOwnProperty("$"+i[a].value),i[a].selected!==d&&(i[a].selected=d),d&&l&&(i[a].defaultSelected=!0)}else{for(a=""+sn(a),r=null,d=0;d<i.length;d++){if(i[d].value===a){i[d].selected=!0,l&&(i[d].defaultSelected=!0);return}r!==null||i[d].disabled||(r=i[d])}r!==null&&(r.selected=!0)}}function Du(i,r,a){if(r!=null&&(r=""+sn(r),r!==i.value&&(i.value=r),a==null)){i.defaultValue!==r&&(i.defaultValue=r);return}i.defaultValue=a!=null?""+sn(a):""}function lr(i,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(vt(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=sn(r),i.defaultValue=a,l=i.textContent,l===a&&l!==""&&l!==null&&(i.value=l),rt(i)}function Ln(i,r){if(r){var a=i.firstChild;if(a&&a===i.lastChild&&a.nodeType===3){a.nodeValue=r;return}}i.textContent=r}var Ou=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ll(i,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?i.setProperty(r,""):r==="float"?i.cssFloat="":i[r]="":l?i.setProperty(r,a):typeof a!="number"||a===0||Ou.has(r)?r==="float"?i.cssFloat=a:i[r]=(""+a).trim():i[r]=a+"px"}function Ul(i,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(i=i.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?i.setProperty(l,""):l==="float"?i.cssFloat="":i[l]="");for(var d in r)l=r[d],r.hasOwnProperty(d)&&a[d]!==l&&Ll(i,d,l)}else for(var m in r)r.hasOwnProperty(m)&&Ll(i,m,r[m])}function go(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),cr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function yo(i){return cr.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function Ni(){}var Bl=null;function di(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var ur=null,$i=null;function Ea(i){var r=K(i);if(r&&(i=r.stateNode)){var a=i[Tt]||null;e:switch(i=r.stateNode,r.type){case"input":if(po(i,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=i;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+kn(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==i&&l.form===i.form){var d=l[Tt]||null;if(!d)throw Error(s(90));po(l,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===i.form&&_a(l)}break e;case"textarea":Du(i,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&or(i,!!a.multiple,r,!1)}}}var vo=!1;function hr(i,r,a){if(vo)return i(r,a);vo=!0;try{var l=i(r);return l}finally{if(vo=!1,(ur!==null||$i!==null)&&(Rh(),ur&&(r=ur,i=$i,$i=ur=null,Ea(r),i)))for(r=0;r<i.length;r++)Ea(i[r])}}function Di(i,r){var a=i.stateNode;if(a===null)return null;var l=a[Tt]||null;if(l===null)return null;a=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(i=i.type,l=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!l;break e;default:i=!1}if(i)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var fi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ba=!1;if(fi)try{var lt={};Object.defineProperty(lt,"passive",{get:function(){ba=!0}}),window.addEventListener("test",lt,lt),window.removeEventListener("test",lt,lt)}catch{ba=!1}var Wi=null,zl=null,Sa=null;function ql(){if(Sa)return Sa;var i,r=zl,a=r.length,l,d="value"in Wi?Wi.value:Wi.textContent,m=d.length;for(i=0;i<a&&r[i]===d[i];i++);var T=a-i;for(l=1;l<=T&&r[a-l]===d[m-l];l++);return Sa=d.slice(i,1<l?1-l:void 0)}function Aa(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function Rs(){return!0}function Oi(){return!1}function un(i){function r(a,l,d,m,T){this._reactName=a,this._targetInst=d,this.type=l,this.nativeEvent=m,this.target=T,this.currentTarget=null;for(var A in i)i.hasOwnProperty(A)&&(a=i[A],this[A]=a?a(m):m[A]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Rs:Oi,this.isPropagationStopped=Oi,this}return b(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Rs)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Rs)},persist:function(){},isPersistent:Rs}),r}var xs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zi=un(xs),dr=b({},xs,{view:0,detail:0}),Fl=un(dr),fr,_o,Ji,To=b({},dr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mr,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Ji&&(Ji&&i.type==="mousemove"?(fr=i.screenX-Ji.screenX,_o=i.screenY-Ji.screenY):_o=fr=0,Ji=i),fr)},movementY:function(i){return"movementY"in i?i.movementY:_o}}),Hl=un(To),wa=b({},To,{dataTransfer:0}),Mu=un(wa),Pu=b({},dr,{relatedTarget:0}),Ra=un(Pu),Gl=b({},xs,{animationName:0,elapsedTime:0,pseudoElement:0}),ju=un(Gl),Eo=b({},xs,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),ku=un(Eo),Lu=b({},xs,{data:0}),es=un(Lu),Uu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Bu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qu(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=zu[i])?!!r[i]:!1}function mr(){return qu}var xn=b({},dr,{key:function(i){if(i.key){var r=Uu[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=Aa(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Bu[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mr,charCode:function(i){return i.type==="keypress"?Aa(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Aa(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Fu=un(xn),Hu=b({},To,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Cs=un(Hu),h=b({},dr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mr}),v=un(h),E=b({},xs,{propertyName:0,elapsedTime:0,pseudoElement:0}),R=un(E),z=b({},To,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),X=un(z),he=b({},xs,{newState:0,oldState:0}),Pe=un(he),Pt=[9,13,27,32],et=fi&&"CompositionEvent"in window,Et=null;fi&&"documentMode"in document&&(Et=document.documentMode);var mi=fi&&"TextEvent"in window&&!Et,ts=fi&&(!et||Et&&8<Et&&11>=Et),Vi=" ",Mi=!1;function xa(i,r){switch(i){case"keyup":return Pt.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function bo(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var So=!1;function Tx(i,r){switch(i){case"compositionend":return bo(r);case"keypress":return r.which!==32?null:(Mi=!0,Vi);case"textInput":return i=r.data,i===Vi&&Mi?null:i;default:return null}}function Ex(i,r){if(So)return i==="compositionend"||!et&&xa(i,r)?(i=ql(),Sa=zl=Wi=null,So=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return ts&&r.locale!=="ko"?null:r.data;default:return null}}var bx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Nv(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!bx[i.type]:r==="textarea"}function Dv(i,r,a,l){ur?$i?$i.push(l):$i=[l]:ur=l,r=Vh(r,"onChange"),0<r.length&&(a=new Zi("onChange","change",null,a,l),i.push({event:a,listeners:r}))}var Kl=null,Yl=null;function Sx(i){fE(i,0)}function Gu(i){var r=oe(i);if(_a(r))return i}function Ov(i,r){if(i==="change")return r}var Vv=!1;if(fi){var Sf;if(fi){var Af="oninput"in document;if(!Af){var Mv=document.createElement("div");Mv.setAttribute("oninput","return;"),Af=typeof Mv.oninput=="function"}Sf=Af}else Sf=!1;Vv=Sf&&(!document.documentMode||9<document.documentMode)}function Pv(){Kl&&(Kl.detachEvent("onpropertychange",jv),Yl=Kl=null)}function jv(i){if(i.propertyName==="value"&&Gu(Yl)){var r=[];Dv(r,Yl,i,di(i)),hr(Sx,r)}}function Ax(i,r,a){i==="focusin"?(Pv(),Kl=r,Yl=a,Kl.attachEvent("onpropertychange",jv)):i==="focusout"&&Pv()}function wx(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Gu(Yl)}function Rx(i,r){if(i==="click")return Gu(r)}function xx(i,r){if(i==="input"||i==="change")return Gu(r)}function Cx(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var Wn=typeof Object.is=="function"?Object.is:Cx;function Ql(i,r){if(Wn(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var a=Object.keys(i),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var d=a[l];if(!Se.call(r,d)||!Wn(i[d],r[d]))return!1}return!0}function kv(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Lv(i,r){var a=kv(i);i=0;for(var l;a;){if(a.nodeType===3){if(l=i+a.textContent.length,i<=r&&l>=r)return{node:a,offset:r-i};i=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=kv(a)}}function Uv(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?Uv(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function Bv(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var r=Xi(i.document);r instanceof i.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)i=r.contentWindow;else break;r=Xi(i.document)}return r}function wf(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}var Ix=fi&&"documentMode"in document&&11>=document.documentMode,Ao=null,Rf=null,Xl=null,xf=!1;function zv(i,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;xf||Ao==null||Ao!==Xi(l)||(l=Ao,"selectionStart"in l&&wf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Xl&&Ql(Xl,l)||(Xl=l,l=Vh(Rf,"onSelect"),0<l.length&&(r=new Zi("onSelect","select",null,r,a),i.push({event:r,listeners:l}),r.target=Ao)))}function Ca(i,r){var a={};return a[i.toLowerCase()]=r.toLowerCase(),a["Webkit"+i]="webkit"+r,a["Moz"+i]="moz"+r,a}var wo={animationend:Ca("Animation","AnimationEnd"),animationiteration:Ca("Animation","AnimationIteration"),animationstart:Ca("Animation","AnimationStart"),transitionrun:Ca("Transition","TransitionRun"),transitionstart:Ca("Transition","TransitionStart"),transitioncancel:Ca("Transition","TransitionCancel"),transitionend:Ca("Transition","TransitionEnd")},Cf={},qv={};fi&&(qv=document.createElement("div").style,"AnimationEvent"in window||(delete wo.animationend.animation,delete wo.animationiteration.animation,delete wo.animationstart.animation),"TransitionEvent"in window||delete wo.transitionend.transition);function Ia(i){if(Cf[i])return Cf[i];if(!wo[i])return i;var r=wo[i],a;for(a in r)if(r.hasOwnProperty(a)&&a in qv)return Cf[i]=r[a];return i}var Fv=Ia("animationend"),Hv=Ia("animationiteration"),Gv=Ia("animationstart"),Nx=Ia("transitionrun"),Dx=Ia("transitionstart"),Ox=Ia("transitioncancel"),Kv=Ia("transitionend"),Yv=new Map,If="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");If.push("scrollEnd");function Pi(i,r){Yv.set(i,r),cn(r,[i])}var Ku=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},pi=[],Ro=0,Nf=0;function Yu(){for(var i=Ro,r=Nf=Ro=0;r<i;){var a=pi[r];pi[r++]=null;var l=pi[r];pi[r++]=null;var d=pi[r];pi[r++]=null;var m=pi[r];if(pi[r++]=null,l!==null&&d!==null){var T=l.pending;T===null?d.next=d:(d.next=T.next,T.next=d),l.pending=d}m!==0&&Qv(a,d,m)}}function Qu(i,r,a,l){pi[Ro++]=i,pi[Ro++]=r,pi[Ro++]=a,pi[Ro++]=l,Nf|=l,i.lanes|=l,i=i.alternate,i!==null&&(i.lanes|=l)}function Df(i,r,a,l){return Qu(i,r,a,l),Xu(i)}function Na(i,r){return Qu(i,null,null,r),Xu(i)}function Qv(i,r,a){i.lanes|=a;var l=i.alternate;l!==null&&(l.lanes|=a);for(var d=!1,m=i.return;m!==null;)m.childLanes|=a,l=m.alternate,l!==null&&(l.childLanes|=a),m.tag===22&&(i=m.stateNode,i===null||i._visibility&1||(d=!0)),i=m,m=m.return;return i.tag===3?(m=i.stateNode,d&&r!==null&&(d=31-At(a),i=m.hiddenUpdates,l=i[d],l===null?i[d]=[r]:l.push(r),r.lane=a|536870912),m):null}function Xu(i){if(50<yc)throw yc=0,Bm=null,Error(s(185));for(var r=i.return;r!==null;)i=r,r=i.return;return i.tag===3?i.stateNode:null}var xo={};function Vx(i,r,a,l){this.tag=i,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zn(i,r,a,l){return new Vx(i,r,a,l)}function Of(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Is(i,r){var a=i.alternate;return a===null?(a=Zn(i.tag,r,i.key,i.mode),a.elementType=i.elementType,a.type=i.type,a.stateNode=i.stateNode,a.alternate=i,i.alternate=a):(a.pendingProps=r,a.type=i.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=i.flags&65011712,a.childLanes=i.childLanes,a.lanes=i.lanes,a.child=i.child,a.memoizedProps=i.memoizedProps,a.memoizedState=i.memoizedState,a.updateQueue=i.updateQueue,r=i.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=i.sibling,a.index=i.index,a.ref=i.ref,a.refCleanup=i.refCleanup,a}function Xv(i,r){i.flags&=65011714;var a=i.alternate;return a===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,r=a.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i}function $u(i,r,a,l,d,m){var T=0;if(l=i,typeof i=="function")Of(i)&&(T=1);else if(typeof i=="string")T=LC(i,a,de.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case I:return i=Zn(31,a,r,d),i.elementType=I,i.lanes=m,i;case G:return Da(a.children,d,m,r);case L:T=8,d|=24;break;case H:return i=Zn(12,a,r,d|2),i.elementType=H,i.lanes=m,i;case ce:return i=Zn(13,a,r,d),i.elementType=ce,i.lanes=m,i;case me:return i=Zn(19,a,r,d),i.elementType=me,i.lanes=m,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case J:T=10;break e;case Q:T=9;break e;case ae:T=11;break e;case C:T=14;break e;case x:T=16,l=null;break e}T=29,a=Error(s(130,i===null?"null":typeof i,"")),l=null}return r=Zn(T,a,r,d),r.elementType=i,r.type=l,r.lanes=m,r}function Da(i,r,a,l){return i=Zn(7,i,l,r),i.lanes=a,i}function Vf(i,r,a){return i=Zn(6,i,null,r),i.lanes=a,i}function $v(i){var r=Zn(18,null,null,0);return r.stateNode=i,r}function Mf(i,r,a){return r=Zn(4,i.children!==null?i.children:[],i.key,r),r.lanes=a,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}var Wv=new WeakMap;function gi(i,r){if(typeof i=="object"&&i!==null){var a=Wv.get(i);return a!==void 0?a:(r={value:i,source:r,stack:ha(r)},Wv.set(i,r),r)}return{value:i,source:r,stack:ha(r)}}var Co=[],Io=0,Wu=null,$l=0,yi=[],vi=0,pr=null,ns=1,is="";function Ns(i,r){Co[Io++]=$l,Co[Io++]=Wu,Wu=i,$l=r}function Zv(i,r,a){yi[vi++]=ns,yi[vi++]=is,yi[vi++]=pr,pr=i;var l=ns;i=is;var d=32-At(l)-1;l&=~(1<<d),a+=1;var m=32-At(r)+d;if(30<m){var T=d-d%5;m=(l&(1<<T)-1).toString(32),l>>=T,d-=T,ns=1<<32-At(r)+d|a<<d|l,is=m+i}else ns=1<<m|a<<d|l,is=i}function Pf(i){i.return!==null&&(Ns(i,1),Zv(i,1,0))}function jf(i){for(;i===Wu;)Wu=Co[--Io],Co[Io]=null,$l=Co[--Io],Co[Io]=null;for(;i===pr;)pr=yi[--vi],yi[vi]=null,is=yi[--vi],yi[vi]=null,ns=yi[--vi],yi[vi]=null}function Jv(i,r){yi[vi++]=ns,yi[vi++]=is,yi[vi++]=pr,ns=r.id,is=r.overflow,pr=i}var hn=null,pt=null,Qe=!1,gr=null,_i=!1,kf=Error(s(519));function yr(i){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Wl(gi(r,i)),kf}function e_(i){var r=i.stateNode,a=i.type,l=i.memoizedProps;switch(r[wt]=i,r[Tt]=l,a){case"dialog":qe("cancel",r),qe("close",r);break;case"iframe":case"object":case"embed":qe("load",r);break;case"video":case"audio":for(a=0;a<_c.length;a++)qe(_c[a],r);break;case"source":qe("error",r);break;case"img":case"image":case"link":qe("error",r),qe("load",r);break;case"details":qe("toggle",r);break;case"input":qe("invalid",r),Nu(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":qe("invalid",r);break;case"textarea":qe("invalid",r),lr(r,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||yE(r.textContent,a)?(l.popover!=null&&(qe("beforetoggle",r),qe("toggle",r)),l.onScroll!=null&&qe("scroll",r),l.onScrollEnd!=null&&qe("scrollend",r),l.onClick!=null&&(r.onclick=Ni),r=!0):r=!1,r||yr(i,!0)}function t_(i){for(hn=i.return;hn;)switch(hn.tag){case 5:case 31:case 13:_i=!1;return;case 27:case 3:_i=!0;return;default:hn=hn.return}}function No(i){if(i!==hn)return!1;if(!Qe)return t_(i),Qe=!0,!1;var r=i.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=i.type,a=!(a!=="form"&&a!=="button")||tp(i.type,i.memoizedProps)),a=!a),a&&pt&&yr(i),t_(i),r===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));pt=RE(i)}else if(r===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));pt=RE(i)}else r===27?(r=pt,Dr(i.type)?(i=ap,ap=null,pt=i):pt=r):pt=hn?Ei(i.stateNode.nextSibling):null;return!0}function Oa(){pt=hn=null,Qe=!1}function Lf(){var i=gr;return i!==null&&(qn===null?qn=i:qn.push.apply(qn,i),gr=null),i}function Wl(i){gr===null?gr=[i]:gr.push(i)}var Uf=P(null),Va=null,Ds=null;function vr(i,r,a){fe(Uf,r._currentValue),r._currentValue=a}function Os(i){i._currentValue=Uf.current,te(Uf)}function Bf(i,r,a){for(;i!==null;){var l=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),i===a)break;i=i.return}}function zf(i,r,a,l){var d=i.child;for(d!==null&&(d.return=i);d!==null;){var m=d.dependencies;if(m!==null){var T=d.child;m=m.firstContext;e:for(;m!==null;){var A=m;m=d;for(var O=0;O<r.length;O++)if(A.context===r[O]){m.lanes|=a,A=m.alternate,A!==null&&(A.lanes|=a),Bf(m.return,a,i),l||(T=null);break e}m=A.next}}else if(d.tag===18){if(T=d.return,T===null)throw Error(s(341));T.lanes|=a,m=T.alternate,m!==null&&(m.lanes|=a),Bf(T,a,i),T=null}else T=d.child;if(T!==null)T.return=d;else for(T=d;T!==null;){if(T===i){T=null;break}if(d=T.sibling,d!==null){d.return=T.return,T=d;break}T=T.return}d=T}}function Do(i,r,a,l){i=null;for(var d=r,m=!1;d!==null;){if(!m){if((d.flags&524288)!==0)m=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var T=d.alternate;if(T===null)throw Error(s(387));if(T=T.memoizedProps,T!==null){var A=d.type;Wn(d.pendingProps.value,T.value)||(i!==null?i.push(A):i=[A])}}else if(d===Be.current){if(T=d.alternate,T===null)throw Error(s(387));T.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(i!==null?i.push(Ac):i=[Ac])}d=d.return}i!==null&&zf(r,i,a,l),r.flags|=262144}function Zu(i){for(i=i.firstContext;i!==null;){if(!Wn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Ma(i){Va=i,Ds=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function dn(i){return n_(Va,i)}function Ju(i,r){return Va===null&&Ma(i),n_(i,r)}function n_(i,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},Ds===null){if(i===null)throw Error(s(308));Ds=r,i.dependencies={lanes:0,firstContext:r},i.flags|=524288}else Ds=Ds.next=r;return a}var Mx=typeof AbortController<"u"?AbortController:function(){var i=[],r=this.signal={aborted:!1,addEventListener:function(a,l){i.push(l)}};this.abort=function(){r.aborted=!0,i.forEach(function(a){return a()})}},Px=t.unstable_scheduleCallback,jx=t.unstable_NormalPriority,Ft={$$typeof:J,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function qf(){return{controller:new Mx,data:new Map,refCount:0}}function Zl(i){i.refCount--,i.refCount===0&&Px(jx,function(){i.controller.abort()})}var Jl=null,Ff=0,Oo=0,Vo=null;function kx(i,r){if(Jl===null){var a=Jl=[];Ff=0,Oo=Km(),Vo={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Ff++,r.then(i_,i_),r}function i_(){if(--Ff===0&&Jl!==null){Vo!==null&&(Vo.status="fulfilled");var i=Jl;Jl=null,Oo=0,Vo=null;for(var r=0;r<i.length;r++)(0,i[r])()}}function Lx(i,r){var a=[],l={status:"pending",value:null,reason:null,then:function(d){a.push(d)}};return i.then(function(){l.status="fulfilled",l.value=r;for(var d=0;d<a.length;d++)(0,a[d])(r)},function(d){for(l.status="rejected",l.reason=d,d=0;d<a.length;d++)(0,a[d])(void 0)}),l}var s_=W.S;W.S=function(i,r){zT=ln(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&kx(i,r),s_!==null&&s_(i,r)};var Pa=P(null);function Hf(){var i=Pa.current;return i!==null?i:dt.pooledCache}function eh(i,r){r===null?fe(Pa,Pa.current):fe(Pa,r.pool)}function r_(){var i=Hf();return i===null?null:{parent:Ft._currentValue,pool:i}}var Mo=Error(s(460)),Gf=Error(s(474)),th=Error(s(542)),nh={then:function(){}};function a_(i){return i=i.status,i==="fulfilled"||i==="rejected"}function o_(i,r,a){switch(a=i[a],a===void 0?i.push(r):a!==r&&(r.then(Ni,Ni),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,c_(i),i;default:if(typeof r.status=="string")r.then(Ni,Ni);else{if(i=dt,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=r,i.status="pending",i.then(function(l){if(r.status==="pending"){var d=r;d.status="fulfilled",d.value=l}},function(l){if(r.status==="pending"){var d=r;d.status="rejected",d.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,c_(i),i}throw ka=r,Mo}}function ja(i){try{var r=i._init;return r(i._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(ka=a,Mo):a}}var ka=null;function l_(){if(ka===null)throw Error(s(459));var i=ka;return ka=null,i}function c_(i){if(i===Mo||i===th)throw Error(s(483))}var Po=null,ec=0;function ih(i){var r=ec;return ec+=1,Po===null&&(Po=[]),o_(Po,i,r)}function tc(i,r){r=r.props.ref,i.ref=r!==void 0?r:null}function sh(i,r){throw r.$$typeof===S?Error(s(525)):(i=Object.prototype.toString.call(r),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)))}function u_(i){function r(B,j){if(i){var q=B.deletions;q===null?(B.deletions=[j],B.flags|=16):q.push(j)}}function a(B,j){if(!i)return null;for(;j!==null;)r(B,j),j=j.sibling;return null}function l(B){for(var j=new Map;B!==null;)B.key!==null?j.set(B.key,B):j.set(B.index,B),B=B.sibling;return j}function d(B,j){return B=Is(B,j),B.index=0,B.sibling=null,B}function m(B,j,q){return B.index=q,i?(q=B.alternate,q!==null?(q=q.index,q<j?(B.flags|=67108866,j):q):(B.flags|=67108866,j)):(B.flags|=1048576,j)}function T(B){return i&&B.alternate===null&&(B.flags|=67108866),B}function A(B,j,q,ee){return j===null||j.tag!==6?(j=Vf(q,B.mode,ee),j.return=B,j):(j=d(j,q),j.return=B,j)}function O(B,j,q,ee){var Ee=q.type;return Ee===G?Z(B,j,q.props.children,ee,q.key):j!==null&&(j.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===x&&ja(Ee)===j.type)?(j=d(j,q.props),tc(j,q),j.return=B,j):(j=$u(q.type,q.key,q.props,null,B.mode,ee),tc(j,q),j.return=B,j)}function F(B,j,q,ee){return j===null||j.tag!==4||j.stateNode.containerInfo!==q.containerInfo||j.stateNode.implementation!==q.implementation?(j=Mf(q,B.mode,ee),j.return=B,j):(j=d(j,q.children||[]),j.return=B,j)}function Z(B,j,q,ee,Ee){return j===null||j.tag!==7?(j=Da(q,B.mode,ee,Ee),j.return=B,j):(j=d(j,q),j.return=B,j)}function ne(B,j,q){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return j=Vf(""+j,B.mode,q),j.return=B,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case N:return q=$u(j.type,j.key,j.props,null,B.mode,q),tc(q,j),q.return=B,q;case k:return j=Mf(j,B.mode,q),j.return=B,j;case x:return j=ja(j),ne(B,j,q)}if(vt(j)||U(j))return j=Da(j,B.mode,q,null),j.return=B,j;if(typeof j.then=="function")return ne(B,ih(j),q);if(j.$$typeof===J)return ne(B,Ju(B,j),q);sh(B,j)}return null}function Y(B,j,q,ee){var Ee=j!==null?j.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return Ee!==null?null:A(B,j,""+q,ee);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case N:return q.key===Ee?O(B,j,q,ee):null;case k:return q.key===Ee?F(B,j,q,ee):null;case x:return q=ja(q),Y(B,j,q,ee)}if(vt(q)||U(q))return Ee!==null?null:Z(B,j,q,ee,null);if(typeof q.then=="function")return Y(B,j,ih(q),ee);if(q.$$typeof===J)return Y(B,j,Ju(B,q),ee);sh(B,q)}return null}function $(B,j,q,ee,Ee){if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return B=B.get(q)||null,A(j,B,""+ee,Ee);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case N:return B=B.get(ee.key===null?q:ee.key)||null,O(j,B,ee,Ee);case k:return B=B.get(ee.key===null?q:ee.key)||null,F(j,B,ee,Ee);case x:return ee=ja(ee),$(B,j,q,ee,Ee)}if(vt(ee)||U(ee))return B=B.get(q)||null,Z(j,B,ee,Ee,null);if(typeof ee.then=="function")return $(B,j,q,ih(ee),Ee);if(ee.$$typeof===J)return $(B,j,q,Ju(j,ee),Ee);sh(j,ee)}return null}function _e(B,j,q,ee){for(var Ee=null,$e=null,Te=j,Le=j=0,He=null;Te!==null&&Le<q.length;Le++){Te.index>Le?(He=Te,Te=null):He=Te.sibling;var We=Y(B,Te,q[Le],ee);if(We===null){Te===null&&(Te=He);break}i&&Te&&We.alternate===null&&r(B,Te),j=m(We,j,Le),$e===null?Ee=We:$e.sibling=We,$e=We,Te=He}if(Le===q.length)return a(B,Te),Qe&&Ns(B,Le),Ee;if(Te===null){for(;Le<q.length;Le++)Te=ne(B,q[Le],ee),Te!==null&&(j=m(Te,j,Le),$e===null?Ee=Te:$e.sibling=Te,$e=Te);return Qe&&Ns(B,Le),Ee}for(Te=l(Te);Le<q.length;Le++)He=$(Te,B,Le,q[Le],ee),He!==null&&(i&&He.alternate!==null&&Te.delete(He.key===null?Le:He.key),j=m(He,j,Le),$e===null?Ee=He:$e.sibling=He,$e=He);return i&&Te.forEach(function(jr){return r(B,jr)}),Qe&&Ns(B,Le),Ee}function we(B,j,q,ee){if(q==null)throw Error(s(151));for(var Ee=null,$e=null,Te=j,Le=j=0,He=null,We=q.next();Te!==null&&!We.done;Le++,We=q.next()){Te.index>Le?(He=Te,Te=null):He=Te.sibling;var jr=Y(B,Te,We.value,ee);if(jr===null){Te===null&&(Te=He);break}i&&Te&&jr.alternate===null&&r(B,Te),j=m(jr,j,Le),$e===null?Ee=jr:$e.sibling=jr,$e=jr,Te=He}if(We.done)return a(B,Te),Qe&&Ns(B,Le),Ee;if(Te===null){for(;!We.done;Le++,We=q.next())We=ne(B,We.value,ee),We!==null&&(j=m(We,j,Le),$e===null?Ee=We:$e.sibling=We,$e=We);return Qe&&Ns(B,Le),Ee}for(Te=l(Te);!We.done;Le++,We=q.next())We=$(Te,B,Le,We.value,ee),We!==null&&(i&&We.alternate!==null&&Te.delete(We.key===null?Le:We.key),j=m(We,j,Le),$e===null?Ee=We:$e.sibling=We,$e=We);return i&&Te.forEach(function(XC){return r(B,XC)}),Qe&&Ns(B,Le),Ee}function ht(B,j,q,ee){if(typeof q=="object"&&q!==null&&q.type===G&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case N:e:{for(var Ee=q.key;j!==null;){if(j.key===Ee){if(Ee=q.type,Ee===G){if(j.tag===7){a(B,j.sibling),ee=d(j,q.props.children),ee.return=B,B=ee;break e}}else if(j.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===x&&ja(Ee)===j.type){a(B,j.sibling),ee=d(j,q.props),tc(ee,q),ee.return=B,B=ee;break e}a(B,j);break}else r(B,j);j=j.sibling}q.type===G?(ee=Da(q.props.children,B.mode,ee,q.key),ee.return=B,B=ee):(ee=$u(q.type,q.key,q.props,null,B.mode,ee),tc(ee,q),ee.return=B,B=ee)}return T(B);case k:e:{for(Ee=q.key;j!==null;){if(j.key===Ee)if(j.tag===4&&j.stateNode.containerInfo===q.containerInfo&&j.stateNode.implementation===q.implementation){a(B,j.sibling),ee=d(j,q.children||[]),ee.return=B,B=ee;break e}else{a(B,j);break}else r(B,j);j=j.sibling}ee=Mf(q,B.mode,ee),ee.return=B,B=ee}return T(B);case x:return q=ja(q),ht(B,j,q,ee)}if(vt(q))return _e(B,j,q,ee);if(U(q)){if(Ee=U(q),typeof Ee!="function")throw Error(s(150));return q=Ee.call(q),we(B,j,q,ee)}if(typeof q.then=="function")return ht(B,j,ih(q),ee);if(q.$$typeof===J)return ht(B,j,Ju(B,q),ee);sh(B,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,j!==null&&j.tag===6?(a(B,j.sibling),ee=d(j,q),ee.return=B,B=ee):(a(B,j),ee=Vf(q,B.mode,ee),ee.return=B,B=ee),T(B)):a(B,j)}return function(B,j,q,ee){try{ec=0;var Ee=ht(B,j,q,ee);return Po=null,Ee}catch(Te){if(Te===Mo||Te===th)throw Te;var $e=Zn(29,Te,null,B.mode);return $e.lanes=ee,$e.return=B,$e}}}var La=u_(!0),h_=u_(!1),_r=!1;function Kf(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Yf(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Tr(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Er(i,r,a){var l=i.updateQueue;if(l===null)return null;if(l=l.shared,(tt&2)!==0){var d=l.pending;return d===null?r.next=r:(r.next=d.next,d.next=r),l.pending=r,r=Xu(i),Qv(i,null,a),r}return Qu(i,l,r,a),Xu(i)}function nc(i,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var l=r.lanes;l&=i.pendingLanes,a|=l,r.lanes=a,sr(i,a)}}function Qf(i,r){var a=i.updateQueue,l=i.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var d=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var T={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};m===null?d=m=T:m=m.next=T,a=a.next}while(a!==null);m===null?d=m=r:m=m.next=r}else d=m=r;a={baseState:l.baseState,firstBaseUpdate:d,lastBaseUpdate:m,shared:l.shared,callbacks:l.callbacks},i.updateQueue=a;return}i=a.lastBaseUpdate,i===null?a.firstBaseUpdate=r:i.next=r,a.lastBaseUpdate=r}var Xf=!1;function ic(){if(Xf){var i=Vo;if(i!==null)throw i}}function sc(i,r,a,l){Xf=!1;var d=i.updateQueue;_r=!1;var m=d.firstBaseUpdate,T=d.lastBaseUpdate,A=d.shared.pending;if(A!==null){d.shared.pending=null;var O=A,F=O.next;O.next=null,T===null?m=F:T.next=F,T=O;var Z=i.alternate;Z!==null&&(Z=Z.updateQueue,A=Z.lastBaseUpdate,A!==T&&(A===null?Z.firstBaseUpdate=F:A.next=F,Z.lastBaseUpdate=O))}if(m!==null){var ne=d.baseState;T=0,Z=F=O=null,A=m;do{var Y=A.lane&-536870913,$=Y!==A.lane;if($?(Fe&Y)===Y:(l&Y)===Y){Y!==0&&Y===Oo&&(Xf=!0),Z!==null&&(Z=Z.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var _e=i,we=A;Y=r;var ht=a;switch(we.tag){case 1:if(_e=we.payload,typeof _e=="function"){ne=_e.call(ht,ne,Y);break e}ne=_e;break e;case 3:_e.flags=_e.flags&-65537|128;case 0:if(_e=we.payload,Y=typeof _e=="function"?_e.call(ht,ne,Y):_e,Y==null)break e;ne=b({},ne,Y);break e;case 2:_r=!0}}Y=A.callback,Y!==null&&(i.flags|=64,$&&(i.flags|=8192),$=d.callbacks,$===null?d.callbacks=[Y]:$.push(Y))}else $={lane:Y,tag:A.tag,payload:A.payload,callback:A.callback,next:null},Z===null?(F=Z=$,O=ne):Z=Z.next=$,T|=Y;if(A=A.next,A===null){if(A=d.shared.pending,A===null)break;$=A,A=$.next,$.next=null,d.lastBaseUpdate=$,d.shared.pending=null}}while(!0);Z===null&&(O=ne),d.baseState=O,d.firstBaseUpdate=F,d.lastBaseUpdate=Z,m===null&&(d.shared.lanes=0),Rr|=T,i.lanes=T,i.memoizedState=ne}}function d_(i,r){if(typeof i!="function")throw Error(s(191,i));i.call(r)}function f_(i,r){var a=i.callbacks;if(a!==null)for(i.callbacks=null,i=0;i<a.length;i++)d_(a[i],r)}var jo=P(null),rh=P(0);function m_(i,r){i=zs,fe(rh,i),fe(jo,r),zs=i|r.baseLanes}function $f(){fe(rh,zs),fe(jo,jo.current)}function Wf(){zs=rh.current,te(jo),te(rh)}var Jn=P(null),Ti=null;function br(i){var r=i.alternate;fe(jt,jt.current&1),fe(Jn,i),Ti===null&&(r===null||jo.current!==null||r.memoizedState!==null)&&(Ti=i)}function Zf(i){fe(jt,jt.current),fe(Jn,i),Ti===null&&(Ti=i)}function p_(i){i.tag===22?(fe(jt,jt.current),fe(Jn,i),Ti===null&&(Ti=i)):Sr()}function Sr(){fe(jt,jt.current),fe(Jn,Jn.current)}function ei(i){te(Jn),Ti===i&&(Ti=null),te(jt)}var jt=P(0);function ah(i){for(var r=i;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||sp(a)||rp(a)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Vs=0,je=null,ct=null,Ht=null,oh=!1,ko=!1,Ua=!1,lh=0,rc=0,Lo=null,Ux=0;function It(){throw Error(s(321))}function Jf(i,r){if(r===null)return!1;for(var a=0;a<r.length&&a<i.length;a++)if(!Wn(i[a],r[a]))return!1;return!0}function em(i,r,a,l,d,m){return Vs=m,je=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,W.H=i===null||i.memoizedState===null?Z_:pm,Ua=!1,m=a(l,d),Ua=!1,ko&&(m=y_(r,a,l,d)),g_(i),m}function g_(i){W.H=lc;var r=ct!==null&&ct.next!==null;if(Vs=0,Ht=ct=je=null,oh=!1,rc=0,Lo=null,r)throw Error(s(300));i===null||Gt||(i=i.dependencies,i!==null&&Zu(i)&&(Gt=!0))}function y_(i,r,a,l){je=i;var d=0;do{if(ko&&(Lo=null),rc=0,ko=!1,25<=d)throw Error(s(301));if(d+=1,Ht=ct=null,i.updateQueue!=null){var m=i.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}W.H=J_,m=r(a,l)}while(ko);return m}function Bx(){var i=W.H,r=i.useState()[0];return r=typeof r.then=="function"?ac(r):r,i=i.useState()[0],(ct!==null?ct.memoizedState:null)!==i&&(je.flags|=1024),r}function tm(){var i=lh!==0;return lh=0,i}function nm(i,r,a){r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~a}function im(i){if(oh){for(i=i.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}oh=!1}Vs=0,Ht=ct=je=null,ko=!1,rc=lh=0,Lo=null}function Cn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ht===null?je.memoizedState=Ht=i:Ht=Ht.next=i,Ht}function kt(){if(ct===null){var i=je.alternate;i=i!==null?i.memoizedState:null}else i=ct.next;var r=Ht===null?je.memoizedState:Ht.next;if(r!==null)Ht=r,ct=i;else{if(i===null)throw je.alternate===null?Error(s(467)):Error(s(310));ct=i,i={memoizedState:ct.memoizedState,baseState:ct.baseState,baseQueue:ct.baseQueue,queue:ct.queue,next:null},Ht===null?je.memoizedState=Ht=i:Ht=Ht.next=i}return Ht}function ch(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ac(i){var r=rc;return rc+=1,Lo===null&&(Lo=[]),i=o_(Lo,i,r),r=je,(Ht===null?r.memoizedState:Ht.next)===null&&(r=r.alternate,W.H=r===null||r.memoizedState===null?Z_:pm),i}function uh(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return ac(i);if(i.$$typeof===J)return dn(i)}throw Error(s(438,String(i)))}function sm(i){var r=null,a=je.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=je.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(d){return d.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=ch(),je.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(i),l=0;l<i;l++)a[l]=M;return r.index++,a}function Ms(i,r){return typeof r=="function"?r(i):r}function hh(i){var r=kt();return rm(r,ct,i)}function rm(i,r,a){var l=i.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var d=i.baseQueue,m=l.pending;if(m!==null){if(d!==null){var T=d.next;d.next=m.next,m.next=T}r.baseQueue=d=m,l.pending=null}if(m=i.baseState,d===null)i.memoizedState=m;else{r=d.next;var A=T=null,O=null,F=r,Z=!1;do{var ne=F.lane&-536870913;if(ne!==F.lane?(Fe&ne)===ne:(Vs&ne)===ne){var Y=F.revertLane;if(Y===0)O!==null&&(O=O.next={lane:0,revertLane:0,gesture:null,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),ne===Oo&&(Z=!0);else if((Vs&Y)===Y){F=F.next,Y===Oo&&(Z=!0);continue}else ne={lane:0,revertLane:F.revertLane,gesture:null,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},O===null?(A=O=ne,T=m):O=O.next=ne,je.lanes|=Y,Rr|=Y;ne=F.action,Ua&&a(m,ne),m=F.hasEagerState?F.eagerState:a(m,ne)}else Y={lane:ne,revertLane:F.revertLane,gesture:F.gesture,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},O===null?(A=O=Y,T=m):O=O.next=Y,je.lanes|=ne,Rr|=ne;F=F.next}while(F!==null&&F!==r);if(O===null?T=m:O.next=A,!Wn(m,i.memoizedState)&&(Gt=!0,Z&&(a=Vo,a!==null)))throw a;i.memoizedState=m,i.baseState=T,i.baseQueue=O,l.lastRenderedState=m}return d===null&&(l.lanes=0),[i.memoizedState,l.dispatch]}function am(i){var r=kt(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=i;var l=a.dispatch,d=a.pending,m=r.memoizedState;if(d!==null){a.pending=null;var T=d=d.next;do m=i(m,T.action),T=T.next;while(T!==d);Wn(m,r.memoizedState)||(Gt=!0),r.memoizedState=m,r.baseQueue===null&&(r.baseState=m),a.lastRenderedState=m}return[m,l]}function v_(i,r,a){var l=je,d=kt(),m=Qe;if(m){if(a===void 0)throw Error(s(407));a=a()}else a=r();var T=!Wn((ct||d).memoizedState,a);if(T&&(d.memoizedState=a,Gt=!0),d=d.queue,cm(E_.bind(null,l,d,i),[i]),d.getSnapshot!==r||T||Ht!==null&&Ht.memoizedState.tag&1){if(l.flags|=2048,Uo(9,{destroy:void 0},T_.bind(null,l,d,a,r),null),dt===null)throw Error(s(349));m||(Vs&127)!==0||__(l,r,a)}return a}function __(i,r,a){i.flags|=16384,i={getSnapshot:r,value:a},r=je.updateQueue,r===null?(r=ch(),je.updateQueue=r,r.stores=[i]):(a=r.stores,a===null?r.stores=[i]:a.push(i))}function T_(i,r,a,l){r.value=a,r.getSnapshot=l,b_(r)&&S_(i)}function E_(i,r,a){return a(function(){b_(r)&&S_(i)})}function b_(i){var r=i.getSnapshot;i=i.value;try{var a=r();return!Wn(i,a)}catch{return!0}}function S_(i){var r=Na(i,2);r!==null&&Fn(r,i,2)}function om(i){var r=Cn();if(typeof i=="function"){var a=i;if(i=a(),Ua){Mn(!0);try{a()}finally{Mn(!1)}}}return r.memoizedState=r.baseState=i,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ms,lastRenderedState:i},r}function A_(i,r,a,l){return i.baseState=a,rm(i,ct,typeof l=="function"?l:Ms)}function zx(i,r,a,l,d){if(mh(i))throw Error(s(485));if(i=r.action,i!==null){var m={payload:d,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){m.listeners.push(T)}};W.T!==null?a(!0):m.isTransition=!1,l(m),a=r.pending,a===null?(m.next=r.pending=m,w_(r,m)):(m.next=a.next,r.pending=a.next=m)}}function w_(i,r){var a=r.action,l=r.payload,d=i.state;if(r.isTransition){var m=W.T,T={};W.T=T;try{var A=a(d,l),O=W.S;O!==null&&O(T,A),R_(i,r,A)}catch(F){lm(i,r,F)}finally{m!==null&&T.types!==null&&(m.types=T.types),W.T=m}}else try{m=a(d,l),R_(i,r,m)}catch(F){lm(i,r,F)}}function R_(i,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){x_(i,r,l)},function(l){return lm(i,r,l)}):x_(i,r,a)}function x_(i,r,a){r.status="fulfilled",r.value=a,C_(r),i.state=a,r=i.pending,r!==null&&(a=r.next,a===r?i.pending=null:(a=a.next,r.next=a,w_(i,a)))}function lm(i,r,a){var l=i.pending;if(i.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,C_(r),r=r.next;while(r!==l)}i.action=null}function C_(i){i=i.listeners;for(var r=0;r<i.length;r++)(0,i[r])()}function I_(i,r){return r}function N_(i,r){if(Qe){var a=dt.formState;if(a!==null){e:{var l=je;if(Qe){if(pt){t:{for(var d=pt,m=_i;d.nodeType!==8;){if(!m){d=null;break t}if(d=Ei(d.nextSibling),d===null){d=null;break t}}m=d.data,d=m==="F!"||m==="F"?d:null}if(d){pt=Ei(d.nextSibling),l=d.data==="F!";break e}}yr(l)}l=!1}l&&(r=a[0])}}return a=Cn(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:I_,lastRenderedState:r},a.queue=l,a=X_.bind(null,je,l),l.dispatch=a,l=om(!1),m=mm.bind(null,je,!1,l.queue),l=Cn(),d={state:r,dispatch:null,action:i,pending:null},l.queue=d,a=zx.bind(null,je,d,m,a),d.dispatch=a,l.memoizedState=i,[r,a,!1]}function D_(i){var r=kt();return O_(r,ct,i)}function O_(i,r,a){if(r=rm(i,r,I_)[0],i=hh(Ms)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=ac(r)}catch(T){throw T===Mo?th:T}else l=r;r=kt();var d=r.queue,m=d.dispatch;return a!==r.memoizedState&&(je.flags|=2048,Uo(9,{destroy:void 0},qx.bind(null,d,a),null)),[l,m,i]}function qx(i,r){i.action=r}function V_(i){var r=kt(),a=ct;if(a!==null)return O_(r,a,i);kt(),r=r.memoizedState,a=kt();var l=a.queue.dispatch;return a.memoizedState=i,[r,l,!1]}function Uo(i,r,a,l){return i={tag:i,create:a,deps:l,inst:r,next:null},r=je.updateQueue,r===null&&(r=ch(),je.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=i.next=i:(l=a.next,a.next=i,i.next=l,r.lastEffect=i),i}function M_(){return kt().memoizedState}function dh(i,r,a,l){var d=Cn();je.flags|=i,d.memoizedState=Uo(1|r,{destroy:void 0},a,l===void 0?null:l)}function fh(i,r,a,l){var d=kt();l=l===void 0?null:l;var m=d.memoizedState.inst;ct!==null&&l!==null&&Jf(l,ct.memoizedState.deps)?d.memoizedState=Uo(r,m,a,l):(je.flags|=i,d.memoizedState=Uo(1|r,m,a,l))}function P_(i,r){dh(8390656,8,i,r)}function cm(i,r){fh(2048,8,i,r)}function Fx(i){je.flags|=4;var r=je.updateQueue;if(r===null)r=ch(),je.updateQueue=r,r.events=[i];else{var a=r.events;a===null?r.events=[i]:a.push(i)}}function j_(i){var r=kt().memoizedState;return Fx({ref:r,nextImpl:i}),function(){if((tt&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function k_(i,r){return fh(4,2,i,r)}function L_(i,r){return fh(4,4,i,r)}function U_(i,r){if(typeof r=="function"){i=i();var a=r(i);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function B_(i,r,a){a=a!=null?a.concat([i]):null,fh(4,4,U_.bind(null,r,i),a)}function um(){}function z_(i,r){var a=kt();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&Jf(r,l[1])?l[0]:(a.memoizedState=[i,r],i)}function q_(i,r){var a=kt();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&Jf(r,l[1]))return l[0];if(l=i(),Ua){Mn(!0);try{i()}finally{Mn(!1)}}return a.memoizedState=[l,r],l}function hm(i,r,a){return a===void 0||(Vs&1073741824)!==0&&(Fe&261930)===0?i.memoizedState=r:(i.memoizedState=a,i=FT(),je.lanes|=i,Rr|=i,a)}function F_(i,r,a,l){return Wn(a,r)?a:jo.current!==null?(i=hm(i,a,l),Wn(i,r)||(Gt=!0),i):(Vs&42)===0||(Vs&1073741824)!==0&&(Fe&261930)===0?(Gt=!0,i.memoizedState=a):(i=FT(),je.lanes|=i,Rr|=i,r)}function H_(i,r,a,l,d){var m=le.p;le.p=m!==0&&8>m?m:8;var T=W.T,A={};W.T=A,mm(i,!1,r,a);try{var O=d(),F=W.S;if(F!==null&&F(A,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var Z=Lx(O,l);oc(i,r,Z,ii(i))}else oc(i,r,l,ii(i))}catch(ne){oc(i,r,{then:function(){},status:"rejected",reason:ne},ii())}finally{le.p=m,T!==null&&A.types!==null&&(T.types=A.types),W.T=T}}function Hx(){}function dm(i,r,a,l){if(i.tag!==5)throw Error(s(476));var d=G_(i).queue;H_(i,d,r,ge,a===null?Hx:function(){return K_(i),a(l)})}function G_(i){var r=i.memoizedState;if(r!==null)return r;r={memoizedState:ge,baseState:ge,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ms,lastRenderedState:ge},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ms,lastRenderedState:a},next:null},i.memoizedState=r,i=i.alternate,i!==null&&(i.memoizedState=r),r}function K_(i){var r=G_(i);r.next===null&&(r=i.alternate.memoizedState),oc(i,r.next.queue,{},ii())}function fm(){return dn(Ac)}function Y_(){return kt().memoizedState}function Q_(){return kt().memoizedState}function Gx(i){for(var r=i.return;r!==null;){switch(r.tag){case 24:case 3:var a=ii();i=Tr(a);var l=Er(r,i,a);l!==null&&(Fn(l,r,a),nc(l,r,a)),r={cache:qf()},i.payload=r;return}r=r.return}}function Kx(i,r,a){var l=ii();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},mh(i)?$_(r,a):(a=Df(i,r,a,l),a!==null&&(Fn(a,i,l),W_(a,r,l)))}function X_(i,r,a){var l=ii();oc(i,r,a,l)}function oc(i,r,a,l){var d={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(mh(i))$_(r,d);else{var m=i.alternate;if(i.lanes===0&&(m===null||m.lanes===0)&&(m=r.lastRenderedReducer,m!==null))try{var T=r.lastRenderedState,A=m(T,a);if(d.hasEagerState=!0,d.eagerState=A,Wn(A,T))return Qu(i,r,d,0),dt===null&&Yu(),!1}catch{}if(a=Df(i,r,d,l),a!==null)return Fn(a,i,l),W_(a,r,l),!0}return!1}function mm(i,r,a,l){if(l={lane:2,revertLane:Km(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},mh(i)){if(r)throw Error(s(479))}else r=Df(i,a,l,2),r!==null&&Fn(r,i,2)}function mh(i){var r=i.alternate;return i===je||r!==null&&r===je}function $_(i,r){ko=oh=!0;var a=i.pending;a===null?r.next=r:(r.next=a.next,a.next=r),i.pending=r}function W_(i,r,a){if((a&4194048)!==0){var l=r.lanes;l&=i.pendingLanes,a|=l,r.lanes=a,sr(i,a)}}var lc={readContext:dn,use:uh,useCallback:It,useContext:It,useEffect:It,useImperativeHandle:It,useLayoutEffect:It,useInsertionEffect:It,useMemo:It,useReducer:It,useRef:It,useState:It,useDebugValue:It,useDeferredValue:It,useTransition:It,useSyncExternalStore:It,useId:It,useHostTransitionStatus:It,useFormState:It,useActionState:It,useOptimistic:It,useMemoCache:It,useCacheRefresh:It};lc.useEffectEvent=It;var Z_={readContext:dn,use:uh,useCallback:function(i,r){return Cn().memoizedState=[i,r===void 0?null:r],i},useContext:dn,useEffect:P_,useImperativeHandle:function(i,r,a){a=a!=null?a.concat([i]):null,dh(4194308,4,U_.bind(null,r,i),a)},useLayoutEffect:function(i,r){return dh(4194308,4,i,r)},useInsertionEffect:function(i,r){dh(4,2,i,r)},useMemo:function(i,r){var a=Cn();r=r===void 0?null:r;var l=i();if(Ua){Mn(!0);try{i()}finally{Mn(!1)}}return a.memoizedState=[l,r],l},useReducer:function(i,r,a){var l=Cn();if(a!==void 0){var d=a(r);if(Ua){Mn(!0);try{a(r)}finally{Mn(!1)}}}else d=r;return l.memoizedState=l.baseState=d,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:d},l.queue=i,i=i.dispatch=Kx.bind(null,je,i),[l.memoizedState,i]},useRef:function(i){var r=Cn();return i={current:i},r.memoizedState=i},useState:function(i){i=om(i);var r=i.queue,a=X_.bind(null,je,r);return r.dispatch=a,[i.memoizedState,a]},useDebugValue:um,useDeferredValue:function(i,r){var a=Cn();return hm(a,i,r)},useTransition:function(){var i=om(!1);return i=H_.bind(null,je,i.queue,!0,!1),Cn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,r,a){var l=je,d=Cn();if(Qe){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),dt===null)throw Error(s(349));(Fe&127)!==0||__(l,r,a)}d.memoizedState=a;var m={value:a,getSnapshot:r};return d.queue=m,P_(E_.bind(null,l,m,i),[i]),l.flags|=2048,Uo(9,{destroy:void 0},T_.bind(null,l,m,a,r),null),a},useId:function(){var i=Cn(),r=dt.identifierPrefix;if(Qe){var a=is,l=ns;a=(l&~(1<<32-At(l)-1)).toString(32)+a,r="_"+r+"R_"+a,a=lh++,0<a&&(r+="H"+a.toString(32)),r+="_"}else a=Ux++,r="_"+r+"r_"+a.toString(32)+"_";return i.memoizedState=r},useHostTransitionStatus:fm,useFormState:N_,useActionState:N_,useOptimistic:function(i){var r=Cn();r.memoizedState=r.baseState=i;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=mm.bind(null,je,!0,a),a.dispatch=r,[i,r]},useMemoCache:sm,useCacheRefresh:function(){return Cn().memoizedState=Gx.bind(null,je)},useEffectEvent:function(i){var r=Cn(),a={impl:i};return r.memoizedState=a,function(){if((tt&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},pm={readContext:dn,use:uh,useCallback:z_,useContext:dn,useEffect:cm,useImperativeHandle:B_,useInsertionEffect:k_,useLayoutEffect:L_,useMemo:q_,useReducer:hh,useRef:M_,useState:function(){return hh(Ms)},useDebugValue:um,useDeferredValue:function(i,r){var a=kt();return F_(a,ct.memoizedState,i,r)},useTransition:function(){var i=hh(Ms)[0],r=kt().memoizedState;return[typeof i=="boolean"?i:ac(i),r]},useSyncExternalStore:v_,useId:Y_,useHostTransitionStatus:fm,useFormState:D_,useActionState:D_,useOptimistic:function(i,r){var a=kt();return A_(a,ct,i,r)},useMemoCache:sm,useCacheRefresh:Q_};pm.useEffectEvent=j_;var J_={readContext:dn,use:uh,useCallback:z_,useContext:dn,useEffect:cm,useImperativeHandle:B_,useInsertionEffect:k_,useLayoutEffect:L_,useMemo:q_,useReducer:am,useRef:M_,useState:function(){return am(Ms)},useDebugValue:um,useDeferredValue:function(i,r){var a=kt();return ct===null?hm(a,i,r):F_(a,ct.memoizedState,i,r)},useTransition:function(){var i=am(Ms)[0],r=kt().memoizedState;return[typeof i=="boolean"?i:ac(i),r]},useSyncExternalStore:v_,useId:Y_,useHostTransitionStatus:fm,useFormState:V_,useActionState:V_,useOptimistic:function(i,r){var a=kt();return ct!==null?A_(a,ct,i,r):(a.baseState=i,[i,a.queue.dispatch])},useMemoCache:sm,useCacheRefresh:Q_};J_.useEffectEvent=j_;function gm(i,r,a,l){r=i.memoizedState,a=a(l,r),a=a==null?r:b({},r,a),i.memoizedState=a,i.lanes===0&&(i.updateQueue.baseState=a)}var ym={enqueueSetState:function(i,r,a){i=i._reactInternals;var l=ii(),d=Tr(l);d.payload=r,a!=null&&(d.callback=a),r=Er(i,d,l),r!==null&&(Fn(r,i,l),nc(r,i,l))},enqueueReplaceState:function(i,r,a){i=i._reactInternals;var l=ii(),d=Tr(l);d.tag=1,d.payload=r,a!=null&&(d.callback=a),r=Er(i,d,l),r!==null&&(Fn(r,i,l),nc(r,i,l))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var a=ii(),l=Tr(a);l.tag=2,r!=null&&(l.callback=r),r=Er(i,l,a),r!==null&&(Fn(r,i,a),nc(r,i,a))}};function eT(i,r,a,l,d,m,T){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(l,m,T):r.prototype&&r.prototype.isPureReactComponent?!Ql(a,l)||!Ql(d,m):!0}function tT(i,r,a,l){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==i&&ym.enqueueReplaceState(r,r.state,null)}function Ba(i,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(i=i.defaultProps){a===r&&(a=b({},a));for(var d in i)a[d]===void 0&&(a[d]=i[d])}return a}function nT(i){Ku(i)}function iT(i){console.error(i)}function sT(i){Ku(i)}function ph(i,r){try{var a=i.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function rT(i,r,a){try{var l=i.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function vm(i,r,a){return a=Tr(a),a.tag=3,a.payload={element:null},a.callback=function(){ph(i,r)},a}function aT(i){return i=Tr(i),i.tag=3,i}function oT(i,r,a,l){var d=a.type.getDerivedStateFromError;if(typeof d=="function"){var m=l.value;i.payload=function(){return d(m)},i.callback=function(){rT(r,a,l)}}var T=a.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(i.callback=function(){rT(r,a,l),typeof d!="function"&&(xr===null?xr=new Set([this]):xr.add(this));var A=l.stack;this.componentDidCatch(l.value,{componentStack:A!==null?A:""})})}function Yx(i,r,a,l,d){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&Do(r,a,d,!0),a=Jn.current,a!==null){switch(a.tag){case 31:case 13:return Ti===null?xh():a.alternate===null&&Nt===0&&(Nt=3),a.flags&=-257,a.flags|=65536,a.lanes=d,l===nh?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),Fm(i,l,d)),!1;case 22:return a.flags|=65536,l===nh?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),Fm(i,l,d)),!1}throw Error(s(435,a.tag))}return Fm(i,l,d),xh(),!1}if(Qe)return r=Jn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=d,l!==kf&&(i=Error(s(422),{cause:l}),Wl(gi(i,a)))):(l!==kf&&(r=Error(s(423),{cause:l}),Wl(gi(r,a))),i=i.current.alternate,i.flags|=65536,d&=-d,i.lanes|=d,l=gi(l,a),d=vm(i.stateNode,l,d),Qf(i,d),Nt!==4&&(Nt=2)),!1;var m=Error(s(520),{cause:l});if(m=gi(m,a),gc===null?gc=[m]:gc.push(m),Nt!==4&&(Nt=2),r===null)return!0;l=gi(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,i=d&-d,a.lanes|=i,i=vm(a.stateNode,l,i),Qf(a,i),!1;case 1:if(r=a.type,m=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(xr===null||!xr.has(m))))return a.flags|=65536,d&=-d,a.lanes|=d,d=aT(d),oT(d,i,a,l),Qf(a,d),!1}a=a.return}while(a!==null);return!1}var _m=Error(s(461)),Gt=!1;function fn(i,r,a,l){r.child=i===null?h_(r,null,a,l):La(r,i.child,a,l)}function lT(i,r,a,l,d){a=a.render;var m=r.ref;if("ref"in l){var T={};for(var A in l)A!=="ref"&&(T[A]=l[A])}else T=l;return Ma(r),l=em(i,r,a,T,m,d),A=tm(),i!==null&&!Gt?(nm(i,r,d),Ps(i,r,d)):(Qe&&A&&Pf(r),r.flags|=1,fn(i,r,l,d),r.child)}function cT(i,r,a,l,d){if(i===null){var m=a.type;return typeof m=="function"&&!Of(m)&&m.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=m,uT(i,r,m,l,d)):(i=$u(a.type,null,l,r,r.mode,d),i.ref=r.ref,i.return=r,r.child=i)}if(m=i.child,!xm(i,d)){var T=m.memoizedProps;if(a=a.compare,a=a!==null?a:Ql,a(T,l)&&i.ref===r.ref)return Ps(i,r,d)}return r.flags|=1,i=Is(m,l),i.ref=r.ref,i.return=r,r.child=i}function uT(i,r,a,l,d){if(i!==null){var m=i.memoizedProps;if(Ql(m,l)&&i.ref===r.ref)if(Gt=!1,r.pendingProps=l=m,xm(i,d))(i.flags&131072)!==0&&(Gt=!0);else return r.lanes=i.lanes,Ps(i,r,d)}return Tm(i,r,a,l,d)}function hT(i,r,a,l){var d=l.children,m=i!==null?i.memoizedState:null;if(i===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((r.flags&128)!==0){if(m=m!==null?m.baseLanes|a:a,i!==null){for(l=r.child=i.child,d=0;l!==null;)d=d|l.lanes|l.childLanes,l=l.sibling;l=d&~m}else l=0,r.child=null;return dT(i,r,m,a,l)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},i!==null&&eh(r,m!==null?m.cachePool:null),m!==null?m_(r,m):$f(),p_(r);else return l=r.lanes=536870912,dT(i,r,m!==null?m.baseLanes|a:a,a,l)}else m!==null?(eh(r,m.cachePool),m_(r,m),Sr(),r.memoizedState=null):(i!==null&&eh(r,null),$f(),Sr());return fn(i,r,d,a),r.child}function cc(i,r){return i!==null&&i.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function dT(i,r,a,l,d){var m=Hf();return m=m===null?null:{parent:Ft._currentValue,pool:m},r.memoizedState={baseLanes:a,cachePool:m},i!==null&&eh(r,null),$f(),p_(r),i!==null&&Do(i,r,l,!0),r.childLanes=d,null}function gh(i,r){return r=vh({mode:r.mode,children:r.children},i.mode),r.ref=i.ref,i.child=r,r.return=i,r}function fT(i,r,a){return La(r,i.child,null,a),i=gh(r,r.pendingProps),i.flags|=2,ei(r),r.memoizedState=null,i}function Qx(i,r,a){var l=r.pendingProps,d=(r.flags&128)!==0;if(r.flags&=-129,i===null){if(Qe){if(l.mode==="hidden")return i=gh(r,l),r.lanes=536870912,cc(null,i);if(Zf(r),(i=pt)?(i=wE(i,_i),i=i!==null&&i.data==="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:pr!==null?{id:ns,overflow:is}:null,retryLane:536870912,hydrationErrors:null},a=$v(i),a.return=r,r.child=a,hn=r,pt=null)):i=null,i===null)throw yr(r);return r.lanes=536870912,null}return gh(r,l)}var m=i.memoizedState;if(m!==null){var T=m.dehydrated;if(Zf(r),d)if(r.flags&256)r.flags&=-257,r=fT(i,r,a);else if(r.memoizedState!==null)r.child=i.child,r.flags|=128,r=null;else throw Error(s(558));else if(Gt||Do(i,r,a,!1),d=(a&i.childLanes)!==0,Gt||d){if(l=dt,l!==null&&(T=Yi(l,a),T!==0&&T!==m.retryLane))throw m.retryLane=T,Na(i,T),Fn(l,i,T),_m;xh(),r=fT(i,r,a)}else i=m.treeContext,pt=Ei(T.nextSibling),hn=r,Qe=!0,gr=null,_i=!1,i!==null&&Jv(r,i),r=gh(r,l),r.flags|=4096;return r}return i=Is(i.child,{mode:l.mode,children:l.children}),i.ref=r.ref,r.child=i,i.return=r,i}function yh(i,r){var a=r.ref;if(a===null)i!==null&&i.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(i===null||i.ref!==a)&&(r.flags|=4194816)}}function Tm(i,r,a,l,d){return Ma(r),a=em(i,r,a,l,void 0,d),l=tm(),i!==null&&!Gt?(nm(i,r,d),Ps(i,r,d)):(Qe&&l&&Pf(r),r.flags|=1,fn(i,r,a,d),r.child)}function mT(i,r,a,l,d,m){return Ma(r),r.updateQueue=null,a=y_(r,l,a,d),g_(i),l=tm(),i!==null&&!Gt?(nm(i,r,m),Ps(i,r,m)):(Qe&&l&&Pf(r),r.flags|=1,fn(i,r,a,m),r.child)}function pT(i,r,a,l,d){if(Ma(r),r.stateNode===null){var m=xo,T=a.contextType;typeof T=="object"&&T!==null&&(m=dn(T)),m=new a(l,m),r.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=ym,r.stateNode=m,m._reactInternals=r,m=r.stateNode,m.props=l,m.state=r.memoizedState,m.refs={},Kf(r),T=a.contextType,m.context=typeof T=="object"&&T!==null?dn(T):xo,m.state=r.memoizedState,T=a.getDerivedStateFromProps,typeof T=="function"&&(gm(r,a,T,l),m.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(T=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),T!==m.state&&ym.enqueueReplaceState(m,m.state,null),sc(r,l,m,d),ic(),m.state=r.memoizedState),typeof m.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(i===null){m=r.stateNode;var A=r.memoizedProps,O=Ba(a,A);m.props=O;var F=m.context,Z=a.contextType;T=xo,typeof Z=="object"&&Z!==null&&(T=dn(Z));var ne=a.getDerivedStateFromProps;Z=typeof ne=="function"||typeof m.getSnapshotBeforeUpdate=="function",A=r.pendingProps!==A,Z||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(A||F!==T)&&tT(r,m,l,T),_r=!1;var Y=r.memoizedState;m.state=Y,sc(r,l,m,d),ic(),F=r.memoizedState,A||Y!==F||_r?(typeof ne=="function"&&(gm(r,a,ne,l),F=r.memoizedState),(O=_r||eT(r,a,O,l,Y,F,T))?(Z||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(r.flags|=4194308)):(typeof m.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=F),m.props=l,m.state=F,m.context=T,l=O):(typeof m.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{m=r.stateNode,Yf(i,r),T=r.memoizedProps,Z=Ba(a,T),m.props=Z,ne=r.pendingProps,Y=m.context,F=a.contextType,O=xo,typeof F=="object"&&F!==null&&(O=dn(F)),A=a.getDerivedStateFromProps,(F=typeof A=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(T!==ne||Y!==O)&&tT(r,m,l,O),_r=!1,Y=r.memoizedState,m.state=Y,sc(r,l,m,d),ic();var $=r.memoizedState;T!==ne||Y!==$||_r||i!==null&&i.dependencies!==null&&Zu(i.dependencies)?(typeof A=="function"&&(gm(r,a,A,l),$=r.memoizedState),(Z=_r||eT(r,a,Z,l,Y,$,O)||i!==null&&i.dependencies!==null&&Zu(i.dependencies))?(F||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(l,$,O),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(l,$,O)),typeof m.componentDidUpdate=="function"&&(r.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof m.componentDidUpdate!="function"||T===i.memoizedProps&&Y===i.memoizedState||(r.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||T===i.memoizedProps&&Y===i.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=$),m.props=l,m.state=$,m.context=O,l=Z):(typeof m.componentDidUpdate!="function"||T===i.memoizedProps&&Y===i.memoizedState||(r.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||T===i.memoizedProps&&Y===i.memoizedState||(r.flags|=1024),l=!1)}return m=l,yh(i,r),l=(r.flags&128)!==0,m||l?(m=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:m.render(),r.flags|=1,i!==null&&l?(r.child=La(r,i.child,null,d),r.child=La(r,null,a,d)):fn(i,r,a,d),r.memoizedState=m.state,i=r.child):i=Ps(i,r,d),i}function gT(i,r,a,l){return Oa(),r.flags|=256,fn(i,r,a,l),r.child}var Em={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function bm(i){return{baseLanes:i,cachePool:r_()}}function Sm(i,r,a){return i=i!==null?i.childLanes&~a:0,r&&(i|=ni),i}function yT(i,r,a){var l=r.pendingProps,d=!1,m=(r.flags&128)!==0,T;if((T=m)||(T=i!==null&&i.memoizedState===null?!1:(jt.current&2)!==0),T&&(d=!0,r.flags&=-129),T=(r.flags&32)!==0,r.flags&=-33,i===null){if(Qe){if(d?br(r):Sr(),(i=pt)?(i=wE(i,_i),i=i!==null&&i.data!=="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:pr!==null?{id:ns,overflow:is}:null,retryLane:536870912,hydrationErrors:null},a=$v(i),a.return=r,r.child=a,hn=r,pt=null)):i=null,i===null)throw yr(r);return rp(i)?r.lanes=32:r.lanes=536870912,null}var A=l.children;return l=l.fallback,d?(Sr(),d=r.mode,A=vh({mode:"hidden",children:A},d),l=Da(l,d,a,null),A.return=r,l.return=r,A.sibling=l,r.child=A,l=r.child,l.memoizedState=bm(a),l.childLanes=Sm(i,T,a),r.memoizedState=Em,cc(null,l)):(br(r),Am(r,A))}var O=i.memoizedState;if(O!==null&&(A=O.dehydrated,A!==null)){if(m)r.flags&256?(br(r),r.flags&=-257,r=wm(i,r,a)):r.memoizedState!==null?(Sr(),r.child=i.child,r.flags|=128,r=null):(Sr(),A=l.fallback,d=r.mode,l=vh({mode:"visible",children:l.children},d),A=Da(A,d,a,null),A.flags|=2,l.return=r,A.return=r,l.sibling=A,r.child=l,La(r,i.child,null,a),l=r.child,l.memoizedState=bm(a),l.childLanes=Sm(i,T,a),r.memoizedState=Em,r=cc(null,l));else if(br(r),rp(A)){if(T=A.nextSibling&&A.nextSibling.dataset,T)var F=T.dgst;T=F,l=Error(s(419)),l.stack="",l.digest=T,Wl({value:l,source:null,stack:null}),r=wm(i,r,a)}else if(Gt||Do(i,r,a,!1),T=(a&i.childLanes)!==0,Gt||T){if(T=dt,T!==null&&(l=Yi(T,a),l!==0&&l!==O.retryLane))throw O.retryLane=l,Na(i,l),Fn(T,i,l),_m;sp(A)||xh(),r=wm(i,r,a)}else sp(A)?(r.flags|=192,r.child=i.child,r=null):(i=O.treeContext,pt=Ei(A.nextSibling),hn=r,Qe=!0,gr=null,_i=!1,i!==null&&Jv(r,i),r=Am(r,l.children),r.flags|=4096);return r}return d?(Sr(),A=l.fallback,d=r.mode,O=i.child,F=O.sibling,l=Is(O,{mode:"hidden",children:l.children}),l.subtreeFlags=O.subtreeFlags&65011712,F!==null?A=Is(F,A):(A=Da(A,d,a,null),A.flags|=2),A.return=r,l.return=r,l.sibling=A,r.child=l,cc(null,l),l=r.child,A=i.child.memoizedState,A===null?A=bm(a):(d=A.cachePool,d!==null?(O=Ft._currentValue,d=d.parent!==O?{parent:O,pool:O}:d):d=r_(),A={baseLanes:A.baseLanes|a,cachePool:d}),l.memoizedState=A,l.childLanes=Sm(i,T,a),r.memoizedState=Em,cc(i.child,l)):(br(r),a=i.child,i=a.sibling,a=Is(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,i!==null&&(T=r.deletions,T===null?(r.deletions=[i],r.flags|=16):T.push(i)),r.child=a,r.memoizedState=null,a)}function Am(i,r){return r=vh({mode:"visible",children:r},i.mode),r.return=i,i.child=r}function vh(i,r){return i=Zn(22,i,null,r),i.lanes=0,i}function wm(i,r,a){return La(r,i.child,null,a),i=Am(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function vT(i,r,a){i.lanes|=r;var l=i.alternate;l!==null&&(l.lanes|=r),Bf(i.return,r,a)}function Rm(i,r,a,l,d,m){var T=i.memoizedState;T===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:d,treeForkCount:m}:(T.isBackwards=r,T.rendering=null,T.renderingStartTime=0,T.last=l,T.tail=a,T.tailMode=d,T.treeForkCount=m)}function _T(i,r,a){var l=r.pendingProps,d=l.revealOrder,m=l.tail;l=l.children;var T=jt.current,A=(T&2)!==0;if(A?(T=T&1|2,r.flags|=128):T&=1,fe(jt,T),fn(i,r,l,a),l=Qe?$l:0,!A&&i!==null&&(i.flags&128)!==0)e:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&vT(i,a,r);else if(i.tag===19)vT(i,a,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(d){case"forwards":for(a=r.child,d=null;a!==null;)i=a.alternate,i!==null&&ah(i)===null&&(d=a),a=a.sibling;a=d,a===null?(d=r.child,r.child=null):(d=a.sibling,a.sibling=null),Rm(r,!1,d,a,m,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,d=r.child,r.child=null;d!==null;){if(i=d.alternate,i!==null&&ah(i)===null){r.child=d;break}i=d.sibling,d.sibling=a,a=d,d=i}Rm(r,!0,a,null,m,l);break;case"together":Rm(r,!1,null,null,void 0,l);break;default:r.memoizedState=null}return r.child}function Ps(i,r,a){if(i!==null&&(r.dependencies=i.dependencies),Rr|=r.lanes,(a&r.childLanes)===0)if(i!==null){if(Do(i,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(i!==null&&r.child!==i.child)throw Error(s(153));if(r.child!==null){for(i=r.child,a=Is(i,i.pendingProps),r.child=a,a.return=r;i.sibling!==null;)i=i.sibling,a=a.sibling=Is(i,i.pendingProps),a.return=r;a.sibling=null}return r.child}function xm(i,r){return(i.lanes&r)!==0?!0:(i=i.dependencies,!!(i!==null&&Zu(i)))}function Xx(i,r,a){switch(r.tag){case 3:nt(r,r.stateNode.containerInfo),vr(r,Ft,i.memoizedState.cache),Oa();break;case 27:case 5:Ue(r);break;case 4:nt(r,r.stateNode.containerInfo);break;case 10:vr(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,Zf(r),null;break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(br(r),r.flags|=128,null):(a&r.child.childLanes)!==0?yT(i,r,a):(br(r),i=Ps(i,r,a),i!==null?i.sibling:null);br(r);break;case 19:var d=(i.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(Do(i,r,a,!1),l=(a&r.childLanes)!==0),d){if(l)return _T(i,r,a);r.flags|=128}if(d=r.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),fe(jt,jt.current),l)break;return null;case 22:return r.lanes=0,hT(i,r,a,r.pendingProps);case 24:vr(r,Ft,i.memoizedState.cache)}return Ps(i,r,a)}function TT(i,r,a){if(i!==null)if(i.memoizedProps!==r.pendingProps)Gt=!0;else{if(!xm(i,a)&&(r.flags&128)===0)return Gt=!1,Xx(i,r,a);Gt=(i.flags&131072)!==0}else Gt=!1,Qe&&(r.flags&1048576)!==0&&Zv(r,$l,r.index);switch(r.lanes=0,r.tag){case 16:e:{var l=r.pendingProps;if(i=ja(r.elementType),r.type=i,typeof i=="function")Of(i)?(l=Ba(i,l),r.tag=1,r=pT(null,r,i,l,a)):(r.tag=0,r=Tm(null,r,i,l,a));else{if(i!=null){var d=i.$$typeof;if(d===ae){r.tag=11,r=lT(null,r,i,l,a);break e}else if(d===C){r.tag=14,r=cT(null,r,i,l,a);break e}}throw r=st(i)||i,Error(s(306,r,""))}}return r;case 0:return Tm(i,r,r.type,r.pendingProps,a);case 1:return l=r.type,d=Ba(l,r.pendingProps),pT(i,r,l,d,a);case 3:e:{if(nt(r,r.stateNode.containerInfo),i===null)throw Error(s(387));l=r.pendingProps;var m=r.memoizedState;d=m.element,Yf(i,r),sc(r,l,null,a);var T=r.memoizedState;if(l=T.cache,vr(r,Ft,l),l!==m.cache&&zf(r,[Ft],a,!0),ic(),l=T.element,m.isDehydrated)if(m={element:l,isDehydrated:!1,cache:T.cache},r.updateQueue.baseState=m,r.memoizedState=m,r.flags&256){r=gT(i,r,l,a);break e}else if(l!==d){d=gi(Error(s(424)),r),Wl(d),r=gT(i,r,l,a);break e}else for(i=r.stateNode.containerInfo,i.nodeType===9?i=i.body:i=i.nodeName==="HTML"?i.ownerDocument.body:i,pt=Ei(i.firstChild),hn=r,Qe=!0,gr=null,_i=!0,a=h_(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Oa(),l===d){r=Ps(i,r,a);break e}fn(i,r,l,a)}r=r.child}return r;case 26:return yh(i,r),i===null?(a=DE(r.type,null,r.pendingProps,null))?r.memoizedState=a:Qe||(a=r.type,i=r.pendingProps,l=Mh(Ie.current).createElement(a),l[wt]=r,l[Tt]=i,mn(l,a,i),ue(l),r.stateNode=l):r.memoizedState=DE(r.type,i.memoizedProps,r.pendingProps,i.memoizedState),null;case 27:return Ue(r),i===null&&Qe&&(l=r.stateNode=CE(r.type,r.pendingProps,Ie.current),hn=r,_i=!0,d=pt,Dr(r.type)?(ap=d,pt=Ei(l.firstChild)):pt=d),fn(i,r,r.pendingProps.children,a),yh(i,r),i===null&&(r.flags|=4194304),r.child;case 5:return i===null&&Qe&&((d=l=pt)&&(l=wC(l,r.type,r.pendingProps,_i),l!==null?(r.stateNode=l,hn=r,pt=Ei(l.firstChild),_i=!1,d=!0):d=!1),d||yr(r)),Ue(r),d=r.type,m=r.pendingProps,T=i!==null?i.memoizedProps:null,l=m.children,tp(d,m)?l=null:T!==null&&tp(d,T)&&(r.flags|=32),r.memoizedState!==null&&(d=em(i,r,Bx,null,null,a),Ac._currentValue=d),yh(i,r),fn(i,r,l,a),r.child;case 6:return i===null&&Qe&&((i=a=pt)&&(a=RC(a,r.pendingProps,_i),a!==null?(r.stateNode=a,hn=r,pt=null,i=!0):i=!1),i||yr(r)),null;case 13:return yT(i,r,a);case 4:return nt(r,r.stateNode.containerInfo),l=r.pendingProps,i===null?r.child=La(r,null,l,a):fn(i,r,l,a),r.child;case 11:return lT(i,r,r.type,r.pendingProps,a);case 7:return fn(i,r,r.pendingProps,a),r.child;case 8:return fn(i,r,r.pendingProps.children,a),r.child;case 12:return fn(i,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,vr(r,r.type,l.value),fn(i,r,l.children,a),r.child;case 9:return d=r.type._context,l=r.pendingProps.children,Ma(r),d=dn(d),l=l(d),r.flags|=1,fn(i,r,l,a),r.child;case 14:return cT(i,r,r.type,r.pendingProps,a);case 15:return uT(i,r,r.type,r.pendingProps,a);case 19:return _T(i,r,a);case 31:return Qx(i,r,a);case 22:return hT(i,r,a,r.pendingProps);case 24:return Ma(r),l=dn(Ft),i===null?(d=Hf(),d===null&&(d=dt,m=qf(),d.pooledCache=m,m.refCount++,m!==null&&(d.pooledCacheLanes|=a),d=m),r.memoizedState={parent:l,cache:d},Kf(r),vr(r,Ft,d)):((i.lanes&a)!==0&&(Yf(i,r),sc(r,null,null,a),ic()),d=i.memoizedState,m=r.memoizedState,d.parent!==l?(d={parent:l,cache:l},r.memoizedState=d,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=d),vr(r,Ft,l)):(l=m.cache,vr(r,Ft,l),l!==d.cache&&zf(r,[Ft],a,!0))),fn(i,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function js(i){i.flags|=4}function Cm(i,r,a,l,d){if((r=(i.mode&32)!==0)&&(r=!1),r){if(i.flags|=16777216,(d&335544128)===d)if(i.stateNode.complete)i.flags|=8192;else if(YT())i.flags|=8192;else throw ka=nh,Gf}else i.flags&=-16777217}function ET(i,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!jE(r))if(YT())i.flags|=8192;else throw ka=nh,Gf}function _h(i,r){r!==null&&(i.flags|=4),i.flags&16384&&(r=i.tag!==22?ma():536870912,i.lanes|=r,Fo|=r)}function uc(i,r){if(!Qe)switch(i.tailMode){case"hidden":r=i.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?i.tail=null:a.sibling=null;break;case"collapsed":a=i.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:l.sibling=null}}function gt(i){var r=i.alternate!==null&&i.alternate.child===i.child,a=0,l=0;if(r)for(var d=i.child;d!==null;)a|=d.lanes|d.childLanes,l|=d.subtreeFlags&65011712,l|=d.flags&65011712,d.return=i,d=d.sibling;else for(d=i.child;d!==null;)a|=d.lanes|d.childLanes,l|=d.subtreeFlags,l|=d.flags,d.return=i,d=d.sibling;return i.subtreeFlags|=l,i.childLanes=a,r}function $x(i,r,a){var l=r.pendingProps;switch(jf(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gt(r),null;case 1:return gt(r),null;case 3:return a=r.stateNode,l=null,i!==null&&(l=i.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),Os(Ft),Ze(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(i===null||i.child===null)&&(No(r)?js(r):i===null||i.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Lf())),gt(r),null;case 26:var d=r.type,m=r.memoizedState;return i===null?(js(r),m!==null?(gt(r),ET(r,m)):(gt(r),Cm(r,d,null,l,a))):m?m!==i.memoizedState?(js(r),gt(r),ET(r,m)):(gt(r),r.flags&=-16777217):(i=i.memoizedProps,i!==l&&js(r),gt(r),Cm(r,d,i,l,a)),null;case 27:if(Dn(r),a=Ie.current,d=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==l&&js(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return gt(r),null}i=de.current,No(r)?e_(r):(i=CE(d,l,a),r.stateNode=i,js(r))}return gt(r),null;case 5:if(Dn(r),d=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==l&&js(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return gt(r),null}if(m=de.current,No(r))e_(r);else{var T=Mh(Ie.current);switch(m){case 1:m=T.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:m=T.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":m=T.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":m=T.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":m=T.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof l.is=="string"?T.createElement("select",{is:l.is}):T.createElement("select"),l.multiple?m.multiple=!0:l.size&&(m.size=l.size);break;default:m=typeof l.is=="string"?T.createElement(d,{is:l.is}):T.createElement(d)}}m[wt]=r,m[Tt]=l;e:for(T=r.child;T!==null;){if(T.tag===5||T.tag===6)m.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===r)break e;for(;T.sibling===null;){if(T.return===null||T.return===r)break e;T=T.return}T.sibling.return=T.return,T=T.sibling}r.stateNode=m;e:switch(mn(m,d,l),d){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&js(r)}}return gt(r),Cm(r,r.type,i===null?null:i.memoizedProps,r.pendingProps,a),null;case 6:if(i&&r.stateNode!=null)i.memoizedProps!==l&&js(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(i=Ie.current,No(r)){if(i=r.stateNode,a=r.memoizedProps,l=null,d=hn,d!==null)switch(d.tag){case 27:case 5:l=d.memoizedProps}i[wt]=r,i=!!(i.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||yE(i.nodeValue,a)),i||yr(r,!0)}else i=Mh(i).createTextNode(l),i[wt]=r,r.stateNode=i}return gt(r),null;case 31:if(a=r.memoizedState,i===null||i.memoizedState!==null){if(l=No(r),a!==null){if(i===null){if(!l)throw Error(s(318));if(i=r.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(557));i[wt]=r}else Oa(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;gt(r),i=!1}else a=Lf(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=a),i=!0;if(!i)return r.flags&256?(ei(r),r):(ei(r),null);if((r.flags&128)!==0)throw Error(s(558))}return gt(r),null;case 13:if(l=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(d=No(r),l!==null&&l.dehydrated!==null){if(i===null){if(!d)throw Error(s(318));if(d=r.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(s(317));d[wt]=r}else Oa(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;gt(r),d=!1}else d=Lf(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=d),d=!0;if(!d)return r.flags&256?(ei(r),r):(ei(r),null)}return ei(r),(r.flags&128)!==0?(r.lanes=a,r):(a=l!==null,i=i!==null&&i.memoizedState!==null,a&&(l=r.child,d=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(d=l.alternate.memoizedState.cachePool.pool),m=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==d&&(l.flags|=2048)),a!==i&&a&&(r.child.flags|=8192),_h(r,r.updateQueue),gt(r),null);case 4:return Ze(),i===null&&$m(r.stateNode.containerInfo),gt(r),null;case 10:return Os(r.type),gt(r),null;case 19:if(te(jt),l=r.memoizedState,l===null)return gt(r),null;if(d=(r.flags&128)!==0,m=l.rendering,m===null)if(d)uc(l,!1);else{if(Nt!==0||i!==null&&(i.flags&128)!==0)for(i=r.child;i!==null;){if(m=ah(i),m!==null){for(r.flags|=128,uc(l,!1),i=m.updateQueue,r.updateQueue=i,_h(r,i),r.subtreeFlags=0,i=a,a=r.child;a!==null;)Xv(a,i),a=a.sibling;return fe(jt,jt.current&1|2),Qe&&Ns(r,l.treeForkCount),r.child}i=i.sibling}l.tail!==null&&ln()>Ah&&(r.flags|=128,d=!0,uc(l,!1),r.lanes=4194304)}else{if(!d)if(i=ah(m),i!==null){if(r.flags|=128,d=!0,i=i.updateQueue,r.updateQueue=i,_h(r,i),uc(l,!0),l.tail===null&&l.tailMode==="hidden"&&!m.alternate&&!Qe)return gt(r),null}else 2*ln()-l.renderingStartTime>Ah&&a!==536870912&&(r.flags|=128,d=!0,uc(l,!1),r.lanes=4194304);l.isBackwards?(m.sibling=r.child,r.child=m):(i=l.last,i!==null?i.sibling=m:r.child=m,l.last=m)}return l.tail!==null?(i=l.tail,l.rendering=i,l.tail=i.sibling,l.renderingStartTime=ln(),i.sibling=null,a=jt.current,fe(jt,d?a&1|2:a&1),Qe&&Ns(r,l.treeForkCount),i):(gt(r),null);case 22:case 23:return ei(r),Wf(),l=r.memoizedState!==null,i!==null?i.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(gt(r),r.subtreeFlags&6&&(r.flags|=8192)):gt(r),a=r.updateQueue,a!==null&&_h(r,a.retryQueue),a=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),i!==null&&te(Pa),null;case 24:return a=null,i!==null&&(a=i.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),Os(Ft),gt(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function Wx(i,r){switch(jf(r),r.tag){case 1:return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return Os(Ft),Ze(),i=r.flags,(i&65536)!==0&&(i&128)===0?(r.flags=i&-65537|128,r):null;case 26:case 27:case 5:return Dn(r),null;case 31:if(r.memoizedState!==null){if(ei(r),r.alternate===null)throw Error(s(340));Oa()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 13:if(ei(r),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Oa()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return te(jt),null;case 4:return Ze(),null;case 10:return Os(r.type),null;case 22:case 23:return ei(r),Wf(),i!==null&&te(Pa),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 24:return Os(Ft),null;case 25:return null;default:return null}}function bT(i,r){switch(jf(r),r.tag){case 3:Os(Ft),Ze();break;case 26:case 27:case 5:Dn(r);break;case 4:Ze();break;case 31:r.memoizedState!==null&&ei(r);break;case 13:ei(r);break;case 19:te(jt);break;case 10:Os(r.type);break;case 22:case 23:ei(r),Wf(),i!==null&&te(Pa);break;case 24:Os(Ft)}}function hc(i,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var d=l.next;a=d;do{if((a.tag&i)===i){l=void 0;var m=a.create,T=a.inst;l=m(),T.destroy=l}a=a.next}while(a!==d)}}catch(A){ot(r,r.return,A)}}function Ar(i,r,a){try{var l=r.updateQueue,d=l!==null?l.lastEffect:null;if(d!==null){var m=d.next;l=m;do{if((l.tag&i)===i){var T=l.inst,A=T.destroy;if(A!==void 0){T.destroy=void 0,d=r;var O=a,F=A;try{F()}catch(Z){ot(d,O,Z)}}}l=l.next}while(l!==m)}}catch(Z){ot(r,r.return,Z)}}function ST(i){var r=i.updateQueue;if(r!==null){var a=i.stateNode;try{f_(r,a)}catch(l){ot(i,i.return,l)}}}function AT(i,r,a){a.props=Ba(i.type,i.memoizedProps),a.state=i.memoizedState;try{a.componentWillUnmount()}catch(l){ot(i,r,l)}}function dc(i,r){try{var a=i.ref;if(a!==null){switch(i.tag){case 26:case 27:case 5:var l=i.stateNode;break;case 30:l=i.stateNode;break;default:l=i.stateNode}typeof a=="function"?i.refCleanup=a(l):a.current=l}}catch(d){ot(i,r,d)}}function ss(i,r){var a=i.ref,l=i.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(d){ot(i,r,d)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(d){ot(i,r,d)}else a.current=null}function wT(i){var r=i.type,a=i.memoizedProps,l=i.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(d){ot(i,i.return,d)}}function Im(i,r,a){try{var l=i.stateNode;_C(l,i.type,a,r),l[Tt]=r}catch(d){ot(i,i.return,d)}}function RT(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Dr(i.type)||i.tag===4}function Nm(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||RT(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Dr(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Dm(i,r,a){var l=i.tag;if(l===5||l===6)i=i.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(i,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(i),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=Ni));else if(l!==4&&(l===27&&Dr(i.type)&&(a=i.stateNode,r=null),i=i.child,i!==null))for(Dm(i,r,a),i=i.sibling;i!==null;)Dm(i,r,a),i=i.sibling}function Th(i,r,a){var l=i.tag;if(l===5||l===6)i=i.stateNode,r?a.insertBefore(i,r):a.appendChild(i);else if(l!==4&&(l===27&&Dr(i.type)&&(a=i.stateNode),i=i.child,i!==null))for(Th(i,r,a),i=i.sibling;i!==null;)Th(i,r,a),i=i.sibling}function xT(i){var r=i.stateNode,a=i.memoizedProps;try{for(var l=i.type,d=r.attributes;d.length;)r.removeAttributeNode(d[0]);mn(r,l,a),r[wt]=i,r[Tt]=a}catch(m){ot(i,i.return,m)}}var ks=!1,Kt=!1,Om=!1,CT=typeof WeakSet=="function"?WeakSet:Set,rn=null;function Zx(i,r){if(i=i.containerInfo,Jm=zh,i=Bv(i),wf(i)){if("selectionStart"in i)var a={start:i.selectionStart,end:i.selectionEnd};else e:{a=(a=i.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var d=l.anchorOffset,m=l.focusNode;l=l.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break e}var T=0,A=-1,O=-1,F=0,Z=0,ne=i,Y=null;t:for(;;){for(var $;ne!==a||d!==0&&ne.nodeType!==3||(A=T+d),ne!==m||l!==0&&ne.nodeType!==3||(O=T+l),ne.nodeType===3&&(T+=ne.nodeValue.length),($=ne.firstChild)!==null;)Y=ne,ne=$;for(;;){if(ne===i)break t;if(Y===a&&++F===d&&(A=T),Y===m&&++Z===l&&(O=T),($=ne.nextSibling)!==null)break;ne=Y,Y=ne.parentNode}ne=$}a=A===-1||O===-1?null:{start:A,end:O}}else a=null}a=a||{start:0,end:0}}else a=null;for(ep={focusedElem:i,selectionRange:a},zh=!1,rn=r;rn!==null;)if(r=rn,i=r.child,(r.subtreeFlags&1028)!==0&&i!==null)i.return=r,rn=i;else for(;rn!==null;){switch(r=rn,m=r.alternate,i=r.flags,r.tag){case 0:if((i&4)!==0&&(i=r.updateQueue,i=i!==null?i.events:null,i!==null))for(a=0;a<i.length;a++)d=i[a],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&m!==null){i=void 0,a=r,d=m.memoizedProps,m=m.memoizedState,l=a.stateNode;try{var _e=Ba(a.type,d);i=l.getSnapshotBeforeUpdate(_e,m),l.__reactInternalSnapshotBeforeUpdate=i}catch(we){ot(a,a.return,we)}}break;case 3:if((i&1024)!==0){if(i=r.stateNode.containerInfo,a=i.nodeType,a===9)ip(i);else if(a===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":ip(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=r.sibling,i!==null){i.return=r.return,rn=i;break}rn=r.return}}function IT(i,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Us(i,a),l&4&&hc(5,a);break;case 1:if(Us(i,a),l&4)if(i=a.stateNode,r===null)try{i.componentDidMount()}catch(T){ot(a,a.return,T)}else{var d=Ba(a.type,r.memoizedProps);r=r.memoizedState;try{i.componentDidUpdate(d,r,i.__reactInternalSnapshotBeforeUpdate)}catch(T){ot(a,a.return,T)}}l&64&&ST(a),l&512&&dc(a,a.return);break;case 3:if(Us(i,a),l&64&&(i=a.updateQueue,i!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{f_(i,r)}catch(T){ot(a,a.return,T)}}break;case 27:r===null&&l&4&&xT(a);case 26:case 5:Us(i,a),r===null&&l&4&&wT(a),l&512&&dc(a,a.return);break;case 12:Us(i,a);break;case 31:Us(i,a),l&4&&OT(i,a);break;case 13:Us(i,a),l&4&&VT(i,a),l&64&&(i=a.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(a=oC.bind(null,a),xC(i,a))));break;case 22:if(l=a.memoizedState!==null||ks,!l){r=r!==null&&r.memoizedState!==null||Kt,d=ks;var m=Kt;ks=l,(Kt=r)&&!m?Bs(i,a,(a.subtreeFlags&8772)!==0):Us(i,a),ks=d,Kt=m}break;case 30:break;default:Us(i,a)}}function NT(i){var r=i.alternate;r!==null&&(i.alternate=null,NT(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&rr(r)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var bt=null,Un=!1;function Ls(i,r,a){for(a=a.child;a!==null;)DT(i,r,a),a=a.sibling}function DT(i,r,a){if(Wt&&typeof Wt.onCommitFiberUnmount=="function")try{Wt.onCommitFiberUnmount(Vn,a)}catch{}switch(a.tag){case 26:Kt||ss(a,r),Ls(i,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Kt||ss(a,r);var l=bt,d=Un;Dr(a.type)&&(bt=a.stateNode,Un=!1),Ls(i,r,a),Ec(a.stateNode),bt=l,Un=d;break;case 5:Kt||ss(a,r);case 6:if(l=bt,d=Un,bt=null,Ls(i,r,a),bt=l,Un=d,bt!==null)if(Un)try{(bt.nodeType===9?bt.body:bt.nodeName==="HTML"?bt.ownerDocument.body:bt).removeChild(a.stateNode)}catch(m){ot(a,r,m)}else try{bt.removeChild(a.stateNode)}catch(m){ot(a,r,m)}break;case 18:bt!==null&&(Un?(i=bt,SE(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,a.stateNode),Wo(i)):SE(bt,a.stateNode));break;case 4:l=bt,d=Un,bt=a.stateNode.containerInfo,Un=!0,Ls(i,r,a),bt=l,Un=d;break;case 0:case 11:case 14:case 15:Ar(2,a,r),Kt||Ar(4,a,r),Ls(i,r,a);break;case 1:Kt||(ss(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&AT(a,r,l)),Ls(i,r,a);break;case 21:Ls(i,r,a);break;case 22:Kt=(l=Kt)||a.memoizedState!==null,Ls(i,r,a),Kt=l;break;default:Ls(i,r,a)}}function OT(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{Wo(i)}catch(a){ot(r,r.return,a)}}}function VT(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Wo(i)}catch(a){ot(r,r.return,a)}}function Jx(i){switch(i.tag){case 31:case 13:case 19:var r=i.stateNode;return r===null&&(r=i.stateNode=new CT),r;case 22:return i=i.stateNode,r=i._retryCache,r===null&&(r=i._retryCache=new CT),r;default:throw Error(s(435,i.tag))}}function Eh(i,r){var a=Jx(i);r.forEach(function(l){if(!a.has(l)){a.add(l);var d=lC.bind(null,i,l);l.then(d,d)}})}function Bn(i,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var d=a[l],m=i,T=r,A=T;e:for(;A!==null;){switch(A.tag){case 27:if(Dr(A.type)){bt=A.stateNode,Un=!1;break e}break;case 5:bt=A.stateNode,Un=!1;break e;case 3:case 4:bt=A.stateNode.containerInfo,Un=!0;break e}A=A.return}if(bt===null)throw Error(s(160));DT(m,T,d),bt=null,Un=!1,m=d.alternate,m!==null&&(m.return=null),d.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)MT(r,i),r=r.sibling}var ji=null;function MT(i,r){var a=i.alternate,l=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Bn(r,i),zn(i),l&4&&(Ar(3,i,i.return),hc(3,i),Ar(5,i,i.return));break;case 1:Bn(r,i),zn(i),l&512&&(Kt||a===null||ss(a,a.return)),l&64&&ks&&(i=i.updateQueue,i!==null&&(l=i.callbacks,l!==null&&(a=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var d=ji;if(Bn(r,i),zn(i),l&512&&(Kt||a===null||ss(a,a.return)),l&4){var m=a!==null?a.memoizedState:null;if(l=i.memoizedState,a===null)if(l===null)if(i.stateNode===null){e:{l=i.type,a=i.memoizedProps,d=d.ownerDocument||d;t:switch(l){case"title":m=d.getElementsByTagName("title")[0],(!m||m[Tn]||m[wt]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=d.createElement(l),d.head.insertBefore(m,d.querySelector("head > title"))),mn(m,l,a),m[wt]=i,ue(m),l=m;break e;case"link":var T=ME("link","href",d).get(l+(a.href||""));if(T){for(var A=0;A<T.length;A++)if(m=T[A],m.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&m.getAttribute("rel")===(a.rel==null?null:a.rel)&&m.getAttribute("title")===(a.title==null?null:a.title)&&m.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){T.splice(A,1);break t}}m=d.createElement(l),mn(m,l,a),d.head.appendChild(m);break;case"meta":if(T=ME("meta","content",d).get(l+(a.content||""))){for(A=0;A<T.length;A++)if(m=T[A],m.getAttribute("content")===(a.content==null?null:""+a.content)&&m.getAttribute("name")===(a.name==null?null:a.name)&&m.getAttribute("property")===(a.property==null?null:a.property)&&m.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&m.getAttribute("charset")===(a.charSet==null?null:a.charSet)){T.splice(A,1);break t}}m=d.createElement(l),mn(m,l,a),d.head.appendChild(m);break;default:throw Error(s(468,l))}m[wt]=i,ue(m),l=m}i.stateNode=l}else PE(d,i.type,i.stateNode);else i.stateNode=VE(d,l,i.memoizedProps);else m!==l?(m===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):m.count--,l===null?PE(d,i.type,i.stateNode):VE(d,l,i.memoizedProps)):l===null&&i.stateNode!==null&&Im(i,i.memoizedProps,a.memoizedProps)}break;case 27:Bn(r,i),zn(i),l&512&&(Kt||a===null||ss(a,a.return)),a!==null&&l&4&&Im(i,i.memoizedProps,a.memoizedProps);break;case 5:if(Bn(r,i),zn(i),l&512&&(Kt||a===null||ss(a,a.return)),i.flags&32){d=i.stateNode;try{Ln(d,"")}catch(_e){ot(i,i.return,_e)}}l&4&&i.stateNode!=null&&(d=i.memoizedProps,Im(i,d,a!==null?a.memoizedProps:d)),l&1024&&(Om=!0);break;case 6:if(Bn(r,i),zn(i),l&4){if(i.stateNode===null)throw Error(s(162));l=i.memoizedProps,a=i.stateNode;try{a.nodeValue=l}catch(_e){ot(i,i.return,_e)}}break;case 3:if(kh=null,d=ji,ji=Ph(r.containerInfo),Bn(r,i),ji=d,zn(i),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Wo(r.containerInfo)}catch(_e){ot(i,i.return,_e)}Om&&(Om=!1,PT(i));break;case 4:l=ji,ji=Ph(i.stateNode.containerInfo),Bn(r,i),zn(i),ji=l;break;case 12:Bn(r,i),zn(i);break;case 31:Bn(r,i),zn(i),l&4&&(l=i.updateQueue,l!==null&&(i.updateQueue=null,Eh(i,l)));break;case 13:Bn(r,i),zn(i),i.child.flags&8192&&i.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Sh=ln()),l&4&&(l=i.updateQueue,l!==null&&(i.updateQueue=null,Eh(i,l)));break;case 22:d=i.memoizedState!==null;var O=a!==null&&a.memoizedState!==null,F=ks,Z=Kt;if(ks=F||d,Kt=Z||O,Bn(r,i),Kt=Z,ks=F,zn(i),l&8192)e:for(r=i.stateNode,r._visibility=d?r._visibility&-2:r._visibility|1,d&&(a===null||O||ks||Kt||za(i)),a=null,r=i;;){if(r.tag===5||r.tag===26){if(a===null){O=a=r;try{if(m=O.stateNode,d)T=m.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{A=O.stateNode;var ne=O.memoizedProps.style,Y=ne!=null&&ne.hasOwnProperty("display")?ne.display:null;A.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch(_e){ot(O,O.return,_e)}}}else if(r.tag===6){if(a===null){O=r;try{O.stateNode.nodeValue=d?"":O.memoizedProps}catch(_e){ot(O,O.return,_e)}}}else if(r.tag===18){if(a===null){O=r;try{var $=O.stateNode;d?AE($,!0):AE(O.stateNode,!1)}catch(_e){ot(O,O.return,_e)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===i)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=i.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Eh(i,a))));break;case 19:Bn(r,i),zn(i),l&4&&(l=i.updateQueue,l!==null&&(i.updateQueue=null,Eh(i,l)));break;case 30:break;case 21:break;default:Bn(r,i),zn(i)}}function zn(i){var r=i.flags;if(r&2){try{for(var a,l=i.return;l!==null;){if(RT(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var d=a.stateNode,m=Nm(i);Th(i,m,d);break;case 5:var T=a.stateNode;a.flags&32&&(Ln(T,""),a.flags&=-33);var A=Nm(i);Th(i,A,T);break;case 3:case 4:var O=a.stateNode.containerInfo,F=Nm(i);Dm(i,F,O);break;default:throw Error(s(161))}}catch(Z){ot(i,i.return,Z)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function PT(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var r=i;PT(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),i=i.sibling}}function Us(i,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)IT(i,r.alternate,r),r=r.sibling}function za(i){for(i=i.child;i!==null;){var r=i;switch(r.tag){case 0:case 11:case 14:case 15:Ar(4,r,r.return),za(r);break;case 1:ss(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&AT(r,r.return,a),za(r);break;case 27:Ec(r.stateNode);case 26:case 5:ss(r,r.return),za(r);break;case 22:r.memoizedState===null&&za(r);break;case 30:za(r);break;default:za(r)}i=i.sibling}}function Bs(i,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,d=i,m=r,T=m.flags;switch(m.tag){case 0:case 11:case 15:Bs(d,m,a),hc(4,m);break;case 1:if(Bs(d,m,a),l=m,d=l.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(F){ot(l,l.return,F)}if(l=m,d=l.updateQueue,d!==null){var A=l.stateNode;try{var O=d.shared.hiddenCallbacks;if(O!==null)for(d.shared.hiddenCallbacks=null,d=0;d<O.length;d++)d_(O[d],A)}catch(F){ot(l,l.return,F)}}a&&T&64&&ST(m),dc(m,m.return);break;case 27:xT(m);case 26:case 5:Bs(d,m,a),a&&l===null&&T&4&&wT(m),dc(m,m.return);break;case 12:Bs(d,m,a);break;case 31:Bs(d,m,a),a&&T&4&&OT(d,m);break;case 13:Bs(d,m,a),a&&T&4&&VT(d,m);break;case 22:m.memoizedState===null&&Bs(d,m,a),dc(m,m.return);break;case 30:break;default:Bs(d,m,a)}r=r.sibling}}function Vm(i,r){var a=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==a&&(i!=null&&i.refCount++,a!=null&&Zl(a))}function Mm(i,r){i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&Zl(i))}function ki(i,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)jT(i,r,a,l),r=r.sibling}function jT(i,r,a,l){var d=r.flags;switch(r.tag){case 0:case 11:case 15:ki(i,r,a,l),d&2048&&hc(9,r);break;case 1:ki(i,r,a,l);break;case 3:ki(i,r,a,l),d&2048&&(i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&Zl(i)));break;case 12:if(d&2048){ki(i,r,a,l),i=r.stateNode;try{var m=r.memoizedProps,T=m.id,A=m.onPostCommit;typeof A=="function"&&A(T,r.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(O){ot(r,r.return,O)}}else ki(i,r,a,l);break;case 31:ki(i,r,a,l);break;case 13:ki(i,r,a,l);break;case 23:break;case 22:m=r.stateNode,T=r.alternate,r.memoizedState!==null?m._visibility&2?ki(i,r,a,l):fc(i,r):m._visibility&2?ki(i,r,a,l):(m._visibility|=2,Bo(i,r,a,l,(r.subtreeFlags&10256)!==0||!1)),d&2048&&Vm(T,r);break;case 24:ki(i,r,a,l),d&2048&&Mm(r.alternate,r);break;default:ki(i,r,a,l)}}function Bo(i,r,a,l,d){for(d=d&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var m=i,T=r,A=a,O=l,F=T.flags;switch(T.tag){case 0:case 11:case 15:Bo(m,T,A,O,d),hc(8,T);break;case 23:break;case 22:var Z=T.stateNode;T.memoizedState!==null?Z._visibility&2?Bo(m,T,A,O,d):fc(m,T):(Z._visibility|=2,Bo(m,T,A,O,d)),d&&F&2048&&Vm(T.alternate,T);break;case 24:Bo(m,T,A,O,d),d&&F&2048&&Mm(T.alternate,T);break;default:Bo(m,T,A,O,d)}r=r.sibling}}function fc(i,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=i,l=r,d=l.flags;switch(l.tag){case 22:fc(a,l),d&2048&&Vm(l.alternate,l);break;case 24:fc(a,l),d&2048&&Mm(l.alternate,l);break;default:fc(a,l)}r=r.sibling}}var mc=8192;function zo(i,r,a){if(i.subtreeFlags&mc)for(i=i.child;i!==null;)kT(i,r,a),i=i.sibling}function kT(i,r,a){switch(i.tag){case 26:zo(i,r,a),i.flags&mc&&i.memoizedState!==null&&UC(a,ji,i.memoizedState,i.memoizedProps);break;case 5:zo(i,r,a);break;case 3:case 4:var l=ji;ji=Ph(i.stateNode.containerInfo),zo(i,r,a),ji=l;break;case 22:i.memoizedState===null&&(l=i.alternate,l!==null&&l.memoizedState!==null?(l=mc,mc=16777216,zo(i,r,a),mc=l):zo(i,r,a));break;default:zo(i,r,a)}}function LT(i){var r=i.alternate;if(r!==null&&(i=r.child,i!==null)){r.child=null;do r=i.sibling,i.sibling=null,i=r;while(i!==null)}}function pc(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];rn=l,BT(l,i)}LT(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)UT(i),i=i.sibling}function UT(i){switch(i.tag){case 0:case 11:case 15:pc(i),i.flags&2048&&Ar(9,i,i.return);break;case 3:pc(i);break;case 12:pc(i);break;case 22:var r=i.stateNode;i.memoizedState!==null&&r._visibility&2&&(i.return===null||i.return.tag!==13)?(r._visibility&=-3,bh(i)):pc(i);break;default:pc(i)}}function bh(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];rn=l,BT(l,i)}LT(i)}for(i=i.child;i!==null;){switch(r=i,r.tag){case 0:case 11:case 15:Ar(8,r,r.return),bh(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,bh(r));break;default:bh(r)}i=i.sibling}}function BT(i,r){for(;rn!==null;){var a=rn;switch(a.tag){case 0:case 11:case 15:Ar(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Zl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,rn=l;else e:for(a=i;rn!==null;){l=rn;var d=l.sibling,m=l.return;if(NT(l),l===a){rn=null;break e}if(d!==null){d.return=m,rn=d;break e}rn=m}}}var eC={getCacheForType:function(i){var r=dn(Ft),a=r.data.get(i);return a===void 0&&(a=i(),r.data.set(i,a)),a},cacheSignal:function(){return dn(Ft).controller.signal}},tC=typeof WeakMap=="function"?WeakMap:Map,tt=0,dt=null,ze=null,Fe=0,at=0,ti=null,wr=!1,qo=!1,Pm=!1,zs=0,Nt=0,Rr=0,qa=0,jm=0,ni=0,Fo=0,gc=null,qn=null,km=!1,Sh=0,zT=0,Ah=1/0,wh=null,xr=null,Zt=0,Cr=null,Ho=null,qs=0,Lm=0,Um=null,qT=null,yc=0,Bm=null;function ii(){return(tt&2)!==0&&Fe!==0?Fe&-Fe:W.T!==null?Km():pa()}function FT(){if(ni===0)if((Fe&536870912)===0||Qe){var i=ws;ws<<=1,(ws&3932160)===0&&(ws=262144),ni=i}else ni=536870912;return i=Jn.current,i!==null&&(i.flags|=32),ni}function Fn(i,r,a){(i===dt&&(at===2||at===9)||i.cancelPendingCommit!==null)&&(Go(i,0),Ir(i,Fe,ni,!1)),Ki(i,a),((tt&2)===0||i!==dt)&&(i===dt&&((tt&2)===0&&(qa|=a),Nt===4&&Ir(i,Fe,ni,!1)),rs(i))}function HT(i,r,a){if((tt&6)!==0)throw Error(s(327));var l=!a&&(r&127)===0&&(r&i.expiredLanes)===0||nn(i,r),d=l?sC(i,r):qm(i,r,!0),m=l;do{if(d===0){qo&&!l&&Ir(i,r,0,!1);break}else{if(a=i.current.alternate,m&&!nC(a)){d=qm(i,r,!1),m=!1;continue}if(d===2){if(m=r,i.errorRecoveryDisabledLanes&m)var T=0;else T=i.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){r=T;e:{var A=i;d=gc;var O=A.current.memoizedState.isDehydrated;if(O&&(Go(A,T).flags|=256),T=qm(A,T,!1),T!==2){if(Pm&&!O){A.errorRecoveryDisabledLanes|=m,qa|=m,d=4;break e}m=qn,qn=d,m!==null&&(qn===null?qn=m:qn.push.apply(qn,m))}d=T}if(m=!1,d!==2)continue}}if(d===1){Go(i,0),Ir(i,r,0,!0);break}e:{switch(l=i,m=d,m){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:Ir(l,r,ni,!wr);break e;case 2:qn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(d=Sh+300-ln(),10<d)){if(Ir(l,r,ni,!wr),Qn(l,0,!0)!==0)break e;qs=r,l.timeoutHandle=EE(GT.bind(null,l,a,qn,wh,km,r,ni,qa,Fo,wr,m,"Throttled",-0,0),d);break e}GT(l,a,qn,wh,km,r,ni,qa,Fo,wr,m,null,-0,0)}}break}while(!0);rs(i)}function GT(i,r,a,l,d,m,T,A,O,F,Z,ne,Y,$){if(i.timeoutHandle=-1,ne=r.subtreeFlags,ne&8192||(ne&16785408)===16785408){ne={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ni},kT(r,m,ne);var _e=(m&62914560)===m?Sh-ln():(m&4194048)===m?zT-ln():0;if(_e=BC(ne,_e),_e!==null){qs=m,i.cancelPendingCommit=_e(JT.bind(null,i,r,m,a,l,d,T,A,O,Z,ne,null,Y,$)),Ir(i,m,T,!F);return}}JT(i,r,m,a,l,d,T,A,O)}function nC(i){for(var r=i;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var d=a[l],m=d.getSnapshot;d=d.value;try{if(!Wn(m(),d))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Ir(i,r,a,l){r&=~jm,r&=~qa,i.suspendedLanes|=r,i.pingedLanes&=~r,l&&(i.warmLanes|=r),l=i.expirationTimes;for(var d=r;0<d;){var m=31-At(d),T=1<<m;l[m]=-1,d&=~T}a!==0&&Pn(i,a,r)}function Rh(){return(tt&6)===0?(vc(0),!1):!0}function zm(){if(ze!==null){if(at===0)var i=ze.return;else i=ze,Ds=Va=null,im(i),Po=null,ec=0,i=ze;for(;i!==null;)bT(i.alternate,i),i=i.return;ze=null}}function Go(i,r){var a=i.timeoutHandle;a!==-1&&(i.timeoutHandle=-1,bC(a)),a=i.cancelPendingCommit,a!==null&&(i.cancelPendingCommit=null,a()),qs=0,zm(),dt=i,ze=a=Is(i.current,null),Fe=r,at=0,ti=null,wr=!1,qo=nn(i,r),Pm=!1,Fo=ni=jm=qa=Rr=Nt=0,qn=gc=null,km=!1,(r&8)!==0&&(r|=r&32);var l=i.entangledLanes;if(l!==0)for(i=i.entanglements,l&=r;0<l;){var d=31-At(l),m=1<<d;r|=i[d],l&=~m}return zs=r,Yu(),a}function KT(i,r){je=null,W.H=lc,r===Mo||r===th?(r=l_(),at=3):r===Gf?(r=l_(),at=4):at=r===_m?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,ti=r,ze===null&&(Nt=1,ph(i,gi(r,i.current)))}function YT(){var i=Jn.current;return i===null?!0:(Fe&4194048)===Fe?Ti===null:(Fe&62914560)===Fe||(Fe&536870912)!==0?i===Ti:!1}function QT(){var i=W.H;return W.H=lc,i===null?lc:i}function XT(){var i=W.A;return W.A=eC,i}function xh(){Nt=4,wr||(Fe&4194048)!==Fe&&Jn.current!==null||(qo=!0),(Rr&134217727)===0&&(qa&134217727)===0||dt===null||Ir(dt,Fe,ni,!1)}function qm(i,r,a){var l=tt;tt|=2;var d=QT(),m=XT();(dt!==i||Fe!==r)&&(wh=null,Go(i,r)),r=!1;var T=Nt;e:do try{if(at!==0&&ze!==null){var A=ze,O=ti;switch(at){case 8:zm(),T=6;break e;case 3:case 2:case 9:case 6:Jn.current===null&&(r=!0);var F=at;if(at=0,ti=null,Ko(i,A,O,F),a&&qo){T=0;break e}break;default:F=at,at=0,ti=null,Ko(i,A,O,F)}}iC(),T=Nt;break}catch(Z){KT(i,Z)}while(!0);return r&&i.shellSuspendCounter++,Ds=Va=null,tt=l,W.H=d,W.A=m,ze===null&&(dt=null,Fe=0,Yu()),T}function iC(){for(;ze!==null;)$T(ze)}function sC(i,r){var a=tt;tt|=2;var l=QT(),d=XT();dt!==i||Fe!==r?(wh=null,Ah=ln()+500,Go(i,r)):qo=nn(i,r);e:do try{if(at!==0&&ze!==null){r=ze;var m=ti;t:switch(at){case 1:at=0,ti=null,Ko(i,r,m,1);break;case 2:case 9:if(a_(m)){at=0,ti=null,WT(r);break}r=function(){at!==2&&at!==9||dt!==i||(at=7),rs(i)},m.then(r,r);break e;case 3:at=7;break e;case 4:at=5;break e;case 7:a_(m)?(at=0,ti=null,WT(r)):(at=0,ti=null,Ko(i,r,m,7));break;case 5:var T=null;switch(ze.tag){case 26:T=ze.memoizedState;case 5:case 27:var A=ze;if(T?jE(T):A.stateNode.complete){at=0,ti=null;var O=A.sibling;if(O!==null)ze=O;else{var F=A.return;F!==null?(ze=F,Ch(F)):ze=null}break t}}at=0,ti=null,Ko(i,r,m,5);break;case 6:at=0,ti=null,Ko(i,r,m,6);break;case 8:zm(),Nt=6;break e;default:throw Error(s(462))}}rC();break}catch(Z){KT(i,Z)}while(!0);return Ds=Va=null,W.H=l,W.A=d,tt=a,ze!==null?0:(dt=null,Fe=0,Yu(),Nt)}function rC(){for(;ze!==null&&!Vl();)$T(ze)}function $T(i){var r=TT(i.alternate,i,zs);i.memoizedProps=i.pendingProps,r===null?Ch(i):ze=r}function WT(i){var r=i,a=r.alternate;switch(r.tag){case 15:case 0:r=mT(a,r,r.pendingProps,r.type,void 0,Fe);break;case 11:r=mT(a,r,r.pendingProps,r.type.render,r.ref,Fe);break;case 5:im(r);default:bT(a,r),r=ze=Xv(r,zs),r=TT(a,r,zs)}i.memoizedProps=i.pendingProps,r===null?Ch(i):ze=r}function Ko(i,r,a,l){Ds=Va=null,im(r),Po=null,ec=0;var d=r.return;try{if(Yx(i,d,r,a,Fe)){Nt=1,ph(i,gi(a,i.current)),ze=null;return}}catch(m){if(d!==null)throw ze=d,m;Nt=1,ph(i,gi(a,i.current)),ze=null;return}r.flags&32768?(Qe||l===1?i=!0:qo||(Fe&536870912)!==0?i=!1:(wr=i=!0,(l===2||l===9||l===3||l===6)&&(l=Jn.current,l!==null&&l.tag===13&&(l.flags|=16384))),ZT(r,i)):Ch(r)}function Ch(i){var r=i;do{if((r.flags&32768)!==0){ZT(r,wr);return}i=r.return;var a=$x(r.alternate,r,zs);if(a!==null){ze=a;return}if(r=r.sibling,r!==null){ze=r;return}ze=r=i}while(r!==null);Nt===0&&(Nt=5)}function ZT(i,r){do{var a=Wx(i.alternate,i);if(a!==null){a.flags&=32767,ze=a;return}if(a=i.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(i=i.sibling,i!==null)){ze=i;return}ze=i=a}while(i!==null);Nt=6,ze=null}function JT(i,r,a,l,d,m,T,A,O){i.cancelPendingCommit=null;do Ih();while(Zt!==0);if((tt&6)!==0)throw Error(s(327));if(r!==null){if(r===i.current)throw Error(s(177));if(m=r.lanes|r.childLanes,m|=Nf,_n(i,a,m,T,A,O),i===dt&&(ze=dt=null,Fe=0),Ho=r,Cr=i,qs=a,Lm=m,Um=d,qT=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,cC(Hi,function(){return sE(),null})):(i.callbackNode=null,i.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=W.T,W.T=null,d=le.p,le.p=2,T=tt,tt|=4;try{Zx(i,r,a)}finally{tt=T,le.p=d,W.T=l}}Zt=1,eE(),tE(),nE()}}function eE(){if(Zt===1){Zt=0;var i=Cr,r=Ho,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=W.T,W.T=null;var l=le.p;le.p=2;var d=tt;tt|=4;try{MT(r,i);var m=ep,T=Bv(i.containerInfo),A=m.focusedElem,O=m.selectionRange;if(T!==A&&A&&A.ownerDocument&&Uv(A.ownerDocument.documentElement,A)){if(O!==null&&wf(A)){var F=O.start,Z=O.end;if(Z===void 0&&(Z=F),"selectionStart"in A)A.selectionStart=F,A.selectionEnd=Math.min(Z,A.value.length);else{var ne=A.ownerDocument||document,Y=ne&&ne.defaultView||window;if(Y.getSelection){var $=Y.getSelection(),_e=A.textContent.length,we=Math.min(O.start,_e),ht=O.end===void 0?we:Math.min(O.end,_e);!$.extend&&we>ht&&(T=ht,ht=we,we=T);var B=Lv(A,we),j=Lv(A,ht);if(B&&j&&($.rangeCount!==1||$.anchorNode!==B.node||$.anchorOffset!==B.offset||$.focusNode!==j.node||$.focusOffset!==j.offset)){var q=ne.createRange();q.setStart(B.node,B.offset),$.removeAllRanges(),we>ht?($.addRange(q),$.extend(j.node,j.offset)):(q.setEnd(j.node,j.offset),$.addRange(q))}}}}for(ne=[],$=A;$=$.parentNode;)$.nodeType===1&&ne.push({element:$,left:$.scrollLeft,top:$.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<ne.length;A++){var ee=ne[A];ee.element.scrollLeft=ee.left,ee.element.scrollTop=ee.top}}zh=!!Jm,ep=Jm=null}finally{tt=d,le.p=l,W.T=a}}i.current=r,Zt=2}}function tE(){if(Zt===2){Zt=0;var i=Cr,r=Ho,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=W.T,W.T=null;var l=le.p;le.p=2;var d=tt;tt|=4;try{IT(i,r.alternate,r)}finally{tt=d,le.p=l,W.T=a}}Zt=3}}function nE(){if(Zt===4||Zt===3){Zt=0,uo();var i=Cr,r=Ho,a=qs,l=qT;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Zt=5:(Zt=0,Ho=Cr=null,iE(i,i.pendingLanes));var d=i.pendingLanes;if(d===0&&(xr=null),jn(a),r=r.stateNode,Wt&&typeof Wt.onCommitFiberRoot=="function")try{Wt.onCommitFiberRoot(Vn,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=W.T,d=le.p,le.p=2,W.T=null;try{for(var m=i.onRecoverableError,T=0;T<l.length;T++){var A=l[T];m(A.value,{componentStack:A.stack})}}finally{W.T=r,le.p=d}}(qs&3)!==0&&Ih(),rs(i),d=i.pendingLanes,(a&261930)!==0&&(d&42)!==0?i===Bm?yc++:(yc=0,Bm=i):yc=0,vc(0)}}function iE(i,r){(i.pooledCacheLanes&=r)===0&&(r=i.pooledCache,r!=null&&(i.pooledCache=null,Zl(r)))}function Ih(){return eE(),tE(),nE(),sE()}function sE(){if(Zt!==5)return!1;var i=Cr,r=Lm;Lm=0;var a=jn(qs),l=W.T,d=le.p;try{le.p=32>a?32:a,W.T=null,a=Um,Um=null;var m=Cr,T=qs;if(Zt=0,Ho=Cr=null,qs=0,(tt&6)!==0)throw Error(s(331));var A=tt;if(tt|=4,UT(m.current),jT(m,m.current,T,a),tt=A,vc(0,!1),Wt&&typeof Wt.onPostCommitFiberRoot=="function")try{Wt.onPostCommitFiberRoot(Vn,m)}catch{}return!0}finally{le.p=d,W.T=l,iE(i,r)}}function rE(i,r,a){r=gi(a,r),r=vm(i.stateNode,r,2),i=Er(i,r,2),i!==null&&(Ki(i,2),rs(i))}function ot(i,r,a){if(i.tag===3)rE(i,i,a);else for(;r!==null;){if(r.tag===3){rE(r,i,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(xr===null||!xr.has(l))){i=gi(a,i),a=aT(2),l=Er(r,a,2),l!==null&&(oT(a,l,r,i),Ki(l,2),rs(l));break}}r=r.return}}function Fm(i,r,a){var l=i.pingCache;if(l===null){l=i.pingCache=new tC;var d=new Set;l.set(r,d)}else d=l.get(r),d===void 0&&(d=new Set,l.set(r,d));d.has(a)||(Pm=!0,d.add(a),i=aC.bind(null,i,r,a),r.then(i,i))}function aC(i,r,a){var l=i.pingCache;l!==null&&l.delete(r),i.pingedLanes|=i.suspendedLanes&a,i.warmLanes&=~a,dt===i&&(Fe&a)===a&&(Nt===4||Nt===3&&(Fe&62914560)===Fe&&300>ln()-Sh?(tt&2)===0&&Go(i,0):jm|=a,Fo===Fe&&(Fo=0)),rs(i)}function aE(i,r){r===0&&(r=ma()),i=Na(i,r),i!==null&&(Ki(i,r),rs(i))}function oC(i){var r=i.memoizedState,a=0;r!==null&&(a=r.retryLane),aE(i,a)}function lC(i,r){var a=0;switch(i.tag){case 31:case 13:var l=i.stateNode,d=i.memoizedState;d!==null&&(a=d.retryLane);break;case 19:l=i.stateNode;break;case 22:l=i.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),aE(i,a)}function cC(i,r){return Je(i,r)}var Nh=null,Yo=null,Hm=!1,Dh=!1,Gm=!1,Nr=0;function rs(i){i!==Yo&&i.next===null&&(Yo===null?Nh=Yo=i:Yo=Yo.next=i),Dh=!0,Hm||(Hm=!0,hC())}function vc(i,r){if(!Gm&&Dh){Gm=!0;do for(var a=!1,l=Nh;l!==null;){if(i!==0){var d=l.pendingLanes;if(d===0)var m=0;else{var T=l.suspendedLanes,A=l.pingedLanes;m=(1<<31-At(42|i)+1)-1,m&=d&~(T&~A),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(a=!0,uE(l,m))}else m=Fe,m=Qn(l,l===dt?m:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(m&3)===0||nn(l,m)||(a=!0,uE(l,m));l=l.next}while(a);Gm=!1}}function uC(){oE()}function oE(){Dh=Hm=!1;var i=0;Nr!==0&&EC()&&(i=Nr);for(var r=ln(),a=null,l=Nh;l!==null;){var d=l.next,m=lE(l,r);m===0?(l.next=null,a===null?Nh=d:a.next=d,d===null&&(Yo=a)):(a=l,(i!==0||(m&3)!==0)&&(Dh=!0)),l=d}Zt!==0&&Zt!==5||vc(i),Nr!==0&&(Nr=0)}function lE(i,r){for(var a=i.suspendedLanes,l=i.pingedLanes,d=i.expirationTimes,m=i.pendingLanes&-62914561;0<m;){var T=31-At(m),A=1<<T,O=d[T];O===-1?((A&a)===0||(A&l)!==0)&&(d[T]=ir(A,r)):O<=r&&(i.expiredLanes|=A),m&=~A}if(r=dt,a=Fe,a=Qn(i,i===r?a:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),l=i.callbackNode,a===0||i===r&&(at===2||at===9)||i.cancelPendingCommit!==null)return l!==null&&l!==null&&ke(l),i.callbackNode=null,i.callbackPriority=0;if((a&3)===0||nn(i,a)){if(r=a&-a,r===i.callbackPriority)return r;switch(l!==null&&ke(l),jn(a)){case 2:case 8:a=fa;break;case 32:a=Hi;break;case 268435456:a=Ci;break;default:a=Hi}return l=cE.bind(null,i),a=Je(a,l),i.callbackPriority=r,i.callbackNode=a,r}return l!==null&&l!==null&&ke(l),i.callbackPriority=2,i.callbackNode=null,2}function cE(i,r){if(Zt!==0&&Zt!==5)return i.callbackNode=null,i.callbackPriority=0,null;var a=i.callbackNode;if(Ih()&&i.callbackNode!==a)return null;var l=Fe;return l=Qn(i,i===dt?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),l===0?null:(HT(i,l,r),lE(i,ln()),i.callbackNode!=null&&i.callbackNode===a?cE.bind(null,i):null)}function uE(i,r){if(Ih())return null;HT(i,r,!0)}function hC(){SC(function(){(tt&6)!==0?Je(da,uC):oE()})}function Km(){if(Nr===0){var i=Oo;i===0&&(i=Ut,Ut<<=1,(Ut&261888)===0&&(Ut=256)),Nr=i}return Nr}function hE(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:yo(""+i)}function dE(i,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,i.id&&a.setAttribute("form",i.id),r.parentNode.insertBefore(a,r),i=new FormData(i),a.parentNode.removeChild(a),i}function dC(i,r,a,l,d){if(r==="submit"&&a&&a.stateNode===d){var m=hE((d[Tt]||null).action),T=l.submitter;T&&(r=(r=T[Tt]||null)?hE(r.formAction):T.getAttribute("formAction"),r!==null&&(m=r,T=null));var A=new Zi("action","action",null,l,d);i.push({event:A,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Nr!==0){var O=T?dE(d,T):new FormData(d);dm(a,{pending:!0,data:O,method:d.method,action:m},null,O)}}else typeof m=="function"&&(A.preventDefault(),O=T?dE(d,T):new FormData(d),dm(a,{pending:!0,data:O,method:d.method,action:m},m,O))},currentTarget:d}]})}}for(var Ym=0;Ym<If.length;Ym++){var Qm=If[Ym],fC=Qm.toLowerCase(),mC=Qm[0].toUpperCase()+Qm.slice(1);Pi(fC,"on"+mC)}Pi(Fv,"onAnimationEnd"),Pi(Hv,"onAnimationIteration"),Pi(Gv,"onAnimationStart"),Pi("dblclick","onDoubleClick"),Pi("focusin","onFocus"),Pi("focusout","onBlur"),Pi(Nx,"onTransitionRun"),Pi(Dx,"onTransitionStart"),Pi(Ox,"onTransitionCancel"),Pi(Kv,"onTransitionEnd"),Ct("onMouseEnter",["mouseout","mouseover"]),Ct("onMouseLeave",["mouseout","mouseover"]),Ct("onPointerEnter",["pointerout","pointerover"]),Ct("onPointerLeave",["pointerout","pointerover"]),cn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),cn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),cn("onBeforeInput",["compositionend","keypress","textInput","paste"]),cn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),cn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),cn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _c="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),pC=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(_c));function fE(i,r){r=(r&4)!==0;for(var a=0;a<i.length;a++){var l=i[a],d=l.event;l=l.listeners;e:{var m=void 0;if(r)for(var T=l.length-1;0<=T;T--){var A=l[T],O=A.instance,F=A.currentTarget;if(A=A.listener,O!==m&&d.isPropagationStopped())break e;m=A,d.currentTarget=F;try{m(d)}catch(Z){Ku(Z)}d.currentTarget=null,m=O}else for(T=0;T<l.length;T++){if(A=l[T],O=A.instance,F=A.currentTarget,A=A.listener,O!==m&&d.isPropagationStopped())break e;m=A,d.currentTarget=F;try{m(d)}catch(Z){Ku(Z)}d.currentTarget=null,m=O}}}}function qe(i,r){var a=r[ga];a===void 0&&(a=r[ga]=new Set);var l=i+"__bubble";a.has(l)||(mE(r,i,2,!1),a.add(l))}function Xm(i,r,a){var l=0;r&&(l|=4),mE(a,i,l,r)}var Oh="_reactListening"+Math.random().toString(36).slice(2);function $m(i){if(!i[Oh]){i[Oh]=!0,ft.forEach(function(a){a!=="selectionchange"&&(pC.has(a)||Xm(a,!1,i),Xm(a,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[Oh]||(r[Oh]=!0,Xm("selectionchange",!1,r))}}function mE(i,r,a,l){switch(FE(r)){case 2:var d=FC;break;case 8:d=HC;break;default:d=hp}a=d.bind(null,r,a,i),d=void 0,!ba||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(d=!0),l?d!==void 0?i.addEventListener(r,a,{capture:!0,passive:d}):i.addEventListener(r,a,!0):d!==void 0?i.addEventListener(r,a,{passive:d}):i.addEventListener(r,a,!1)}function Wm(i,r,a,l,d){var m=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var T=l.tag;if(T===3||T===4){var A=l.stateNode.containerInfo;if(A===d)break;if(T===4)for(T=l.return;T!==null;){var O=T.tag;if((O===3||O===4)&&T.stateNode.containerInfo===d)return;T=T.return}for(;A!==null;){if(T=w(A),T===null)return;if(O=T.tag,O===5||O===6||O===26||O===27){l=m=T;continue e}A=A.parentNode}}l=l.return}hr(function(){var F=m,Z=di(a),ne=[];e:{var Y=Yv.get(i);if(Y!==void 0){var $=Zi,_e=i;switch(i){case"keypress":if(Aa(a)===0)break e;case"keydown":case"keyup":$=Fu;break;case"focusin":_e="focus",$=Ra;break;case"focusout":_e="blur",$=Ra;break;case"beforeblur":case"afterblur":$=Ra;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":$=Hl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":$=Mu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":$=v;break;case Fv:case Hv:case Gv:$=ju;break;case Kv:$=R;break;case"scroll":case"scrollend":$=Fl;break;case"wheel":$=X;break;case"copy":case"cut":case"paste":$=ku;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":$=Cs;break;case"toggle":case"beforetoggle":$=Pe}var we=(r&4)!==0,ht=!we&&(i==="scroll"||i==="scrollend"),B=we?Y!==null?Y+"Capture":null:Y;we=[];for(var j=F,q;j!==null;){var ee=j;if(q=ee.stateNode,ee=ee.tag,ee!==5&&ee!==26&&ee!==27||q===null||B===null||(ee=Di(j,B),ee!=null&&we.push(Tc(j,ee,q))),ht)break;j=j.return}0<we.length&&(Y=new $(Y,_e,null,a,Z),ne.push({event:Y,listeners:we}))}}if((r&7)===0){e:{if(Y=i==="mouseover"||i==="pointerover",$=i==="mouseout"||i==="pointerout",Y&&a!==Bl&&(_e=a.relatedTarget||a.fromElement)&&(w(_e)||_e[Ii]))break e;if(($||Y)&&(Y=Z.window===Z?Z:(Y=Z.ownerDocument)?Y.defaultView||Y.parentWindow:window,$?(_e=a.relatedTarget||a.toElement,$=F,_e=_e?w(_e):null,_e!==null&&(ht=c(_e),we=_e.tag,_e!==ht||we!==5&&we!==27&&we!==6)&&(_e=null)):($=null,_e=F),$!==_e)){if(we=Hl,ee="onMouseLeave",B="onMouseEnter",j="mouse",(i==="pointerout"||i==="pointerover")&&(we=Cs,ee="onPointerLeave",B="onPointerEnter",j="pointer"),ht=$==null?Y:oe($),q=_e==null?Y:oe(_e),Y=new we(ee,j+"leave",$,a,Z),Y.target=ht,Y.relatedTarget=q,ee=null,w(Z)===F&&(we=new we(B,j+"enter",_e,a,Z),we.target=q,we.relatedTarget=ht,ee=we),ht=ee,$&&_e)t:{for(we=gC,B=$,j=_e,q=0,ee=B;ee;ee=we(ee))q++;ee=0;for(var Ee=j;Ee;Ee=we(Ee))ee++;for(;0<q-ee;)B=we(B),q--;for(;0<ee-q;)j=we(j),ee--;for(;q--;){if(B===j||j!==null&&B===j.alternate){we=B;break t}B=we(B),j=we(j)}we=null}else we=null;$!==null&&pE(ne,Y,$,we,!1),_e!==null&&ht!==null&&pE(ne,ht,_e,we,!0)}}e:{if(Y=F?oe(F):window,$=Y.nodeName&&Y.nodeName.toLowerCase(),$==="select"||$==="input"&&Y.type==="file")var $e=Ov;else if(Nv(Y))if(Vv)$e=xx;else{$e=wx;var Te=Ax}else $=Y.nodeName,!$||$.toLowerCase()!=="input"||Y.type!=="checkbox"&&Y.type!=="radio"?F&&go(F.elementType)&&($e=Ov):$e=Rx;if($e&&($e=$e(i,F))){Dv(ne,$e,a,Z);break e}Te&&Te(i,Y,F),i==="focusout"&&F&&Y.type==="number"&&F.memoizedProps.value!=null&&kl(Y,"number",Y.value)}switch(Te=F?oe(F):window,i){case"focusin":(Nv(Te)||Te.contentEditable==="true")&&(Ao=Te,Rf=F,Xl=null);break;case"focusout":Xl=Rf=Ao=null;break;case"mousedown":xf=!0;break;case"contextmenu":case"mouseup":case"dragend":xf=!1,zv(ne,a,Z);break;case"selectionchange":if(Ix)break;case"keydown":case"keyup":zv(ne,a,Z)}var Le;if(et)e:{switch(i){case"compositionstart":var He="onCompositionStart";break e;case"compositionend":He="onCompositionEnd";break e;case"compositionupdate":He="onCompositionUpdate";break e}He=void 0}else So?xa(i,a)&&(He="onCompositionEnd"):i==="keydown"&&a.keyCode===229&&(He="onCompositionStart");He&&(ts&&a.locale!=="ko"&&(So||He!=="onCompositionStart"?He==="onCompositionEnd"&&So&&(Le=ql()):(Wi=Z,zl="value"in Wi?Wi.value:Wi.textContent,So=!0)),Te=Vh(F,He),0<Te.length&&(He=new es(He,i,null,a,Z),ne.push({event:He,listeners:Te}),Le?He.data=Le:(Le=bo(a),Le!==null&&(He.data=Le)))),(Le=mi?Tx(i,a):Ex(i,a))&&(He=Vh(F,"onBeforeInput"),0<He.length&&(Te=new es("onBeforeInput","beforeinput",null,a,Z),ne.push({event:Te,listeners:He}),Te.data=Le)),dC(ne,i,F,a,Z)}fE(ne,r)})}function Tc(i,r,a){return{instance:i,listener:r,currentTarget:a}}function Vh(i,r){for(var a=r+"Capture",l=[];i!==null;){var d=i,m=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||m===null||(d=Di(i,a),d!=null&&l.unshift(Tc(i,d,m)),d=Di(i,r),d!=null&&l.push(Tc(i,d,m))),i.tag===3)return l;i=i.return}return[]}function gC(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function pE(i,r,a,l,d){for(var m=r._reactName,T=[];a!==null&&a!==l;){var A=a,O=A.alternate,F=A.stateNode;if(A=A.tag,O!==null&&O===l)break;A!==5&&A!==26&&A!==27||F===null||(O=F,d?(F=Di(a,m),F!=null&&T.unshift(Tc(a,F,O))):d||(F=Di(a,m),F!=null&&T.push(Tc(a,F,O)))),a=a.return}T.length!==0&&i.push({event:r,listeners:T})}var yC=/\r\n?/g,vC=/\u0000|\uFFFD/g;function gE(i){return(typeof i=="string"?i:""+i).replace(yC,`
`).replace(vC,"")}function yE(i,r){return r=gE(r),gE(i)===r}function ut(i,r,a,l,d,m){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||Ln(i,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&Ln(i,""+l);break;case"className":$n(i,"class",l);break;case"tabIndex":$n(i,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":$n(i,a,l);break;case"style":Ul(i,l,m);break;case"data":if(r!=="object"){$n(i,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){i.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){i.removeAttribute(a);break}l=yo(""+l),i.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){i.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(a==="formAction"?(r!=="input"&&ut(i,r,"name",d.name,d,null),ut(i,r,"formEncType",d.formEncType,d,null),ut(i,r,"formMethod",d.formMethod,d,null),ut(i,r,"formTarget",d.formTarget,d,null)):(ut(i,r,"encType",d.encType,d,null),ut(i,r,"method",d.method,d,null),ut(i,r,"target",d.target,d,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){i.removeAttribute(a);break}l=yo(""+l),i.setAttribute(a,l);break;case"onClick":l!=null&&(i.onclick=Ni);break;case"onScroll":l!=null&&qe("scroll",i);break;case"onScrollEnd":l!=null&&qe("scrollend",i);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(d.children!=null)throw Error(s(60));i.innerHTML=a}}break;case"multiple":i.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":i.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){i.removeAttribute("xlink:href");break}a=yo(""+l),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?i.setAttribute(a,""+l):i.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?i.setAttribute(a,""):i.removeAttribute(a);break;case"capture":case"download":l===!0?i.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?i.setAttribute(a,l):i.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?i.setAttribute(a,l):i.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?i.removeAttribute(a):i.setAttribute(a,l);break;case"popover":qe("beforetoggle",i),qe("toggle",i),mo(i,"popover",l);break;case"xlinkActuate":qt(i,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":qt(i,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":qt(i,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":qt(i,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":qt(i,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":qt(i,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":qt(i,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":qt(i,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":qt(i,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":mo(i,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Vu.get(a)||a,mo(i,a,l))}}function Zm(i,r,a,l,d,m){switch(a){case"style":Ul(i,l,m);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(d.children!=null)throw Error(s(60));i.innerHTML=a}}break;case"children":typeof l=="string"?Ln(i,l):(typeof l=="number"||typeof l=="bigint")&&Ln(i,""+l);break;case"onScroll":l!=null&&qe("scroll",i);break;case"onScrollEnd":l!=null&&qe("scrollend",i);break;case"onClick":l!=null&&(i.onclick=Ni);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!hi.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(d=a.endsWith("Capture"),r=a.slice(2,d?a.length-7:void 0),m=i[Tt]||null,m=m!=null?m[a]:null,typeof m=="function"&&i.removeEventListener(r,m,d),typeof l=="function")){typeof m!="function"&&m!==null&&(a in i?i[a]=null:i.hasAttribute(a)&&i.removeAttribute(a)),i.addEventListener(r,l,d);break e}a in i?i[a]=l:l===!0?i.setAttribute(a,""):mo(i,a,l)}}}function mn(i,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":qe("error",i),qe("load",i);var l=!1,d=!1,m;for(m in a)if(a.hasOwnProperty(m)){var T=a[m];if(T!=null)switch(m){case"src":l=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:ut(i,r,m,T,a,null)}}d&&ut(i,r,"srcSet",a.srcSet,a,null),l&&ut(i,r,"src",a.src,a,null);return;case"input":qe("invalid",i);var A=m=T=d=null,O=null,F=null;for(l in a)if(a.hasOwnProperty(l)){var Z=a[l];if(Z!=null)switch(l){case"name":d=Z;break;case"type":T=Z;break;case"checked":O=Z;break;case"defaultChecked":F=Z;break;case"value":m=Z;break;case"defaultValue":A=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(s(137,r));break;default:ut(i,r,l,Z,a,null)}}Nu(i,m,A,O,F,T,d,!1);return;case"select":qe("invalid",i),l=T=m=null;for(d in a)if(a.hasOwnProperty(d)&&(A=a[d],A!=null))switch(d){case"value":m=A;break;case"defaultValue":T=A;break;case"multiple":l=A;default:ut(i,r,d,A,a,null)}r=m,a=T,i.multiple=!!l,r!=null?or(i,!!l,r,!1):a!=null&&or(i,!!l,a,!0);return;case"textarea":qe("invalid",i),m=d=l=null;for(T in a)if(a.hasOwnProperty(T)&&(A=a[T],A!=null))switch(T){case"value":l=A;break;case"defaultValue":d=A;break;case"children":m=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(s(91));break;default:ut(i,r,T,A,a,null)}lr(i,l,d,m);return;case"option":for(O in a)a.hasOwnProperty(O)&&(l=a[O],l!=null)&&(O==="selected"?i.selected=l&&typeof l!="function"&&typeof l!="symbol":ut(i,r,O,l,a,null));return;case"dialog":qe("beforetoggle",i),qe("toggle",i),qe("cancel",i),qe("close",i);break;case"iframe":case"object":qe("load",i);break;case"video":case"audio":for(l=0;l<_c.length;l++)qe(_c[l],i);break;case"image":qe("error",i),qe("load",i);break;case"details":qe("toggle",i);break;case"embed":case"source":case"link":qe("error",i),qe("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(F in a)if(a.hasOwnProperty(F)&&(l=a[F],l!=null))switch(F){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:ut(i,r,F,l,a,null)}return;default:if(go(r)){for(Z in a)a.hasOwnProperty(Z)&&(l=a[Z],l!==void 0&&Zm(i,r,Z,l,a,void 0));return}}for(A in a)a.hasOwnProperty(A)&&(l=a[A],l!=null&&ut(i,r,A,l,a,null))}function _C(i,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,m=null,T=null,A=null,O=null,F=null,Z=null;for($ in a){var ne=a[$];if(a.hasOwnProperty($)&&ne!=null)switch($){case"checked":break;case"value":break;case"defaultValue":O=ne;default:l.hasOwnProperty($)||ut(i,r,$,null,l,ne)}}for(var Y in l){var $=l[Y];if(ne=a[Y],l.hasOwnProperty(Y)&&($!=null||ne!=null))switch(Y){case"type":m=$;break;case"name":d=$;break;case"checked":F=$;break;case"defaultChecked":Z=$;break;case"value":T=$;break;case"defaultValue":A=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,r));break;default:$!==ne&&ut(i,r,Y,$,l,ne)}}po(i,T,A,O,F,Z,m,d);return;case"select":$=T=A=Y=null;for(m in a)if(O=a[m],a.hasOwnProperty(m)&&O!=null)switch(m){case"value":break;case"multiple":$=O;default:l.hasOwnProperty(m)||ut(i,r,m,null,l,O)}for(d in l)if(m=l[d],O=a[d],l.hasOwnProperty(d)&&(m!=null||O!=null))switch(d){case"value":Y=m;break;case"defaultValue":A=m;break;case"multiple":T=m;default:m!==O&&ut(i,r,d,m,l,O)}r=A,a=T,l=$,Y!=null?or(i,!!a,Y,!1):!!l!=!!a&&(r!=null?or(i,!!a,r,!0):or(i,!!a,a?[]:"",!1));return;case"textarea":$=Y=null;for(A in a)if(d=a[A],a.hasOwnProperty(A)&&d!=null&&!l.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:ut(i,r,A,null,l,d)}for(T in l)if(d=l[T],m=a[T],l.hasOwnProperty(T)&&(d!=null||m!=null))switch(T){case"value":Y=d;break;case"defaultValue":$=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(s(91));break;default:d!==m&&ut(i,r,T,d,l,m)}Du(i,Y,$);return;case"option":for(var _e in a)Y=a[_e],a.hasOwnProperty(_e)&&Y!=null&&!l.hasOwnProperty(_e)&&(_e==="selected"?i.selected=!1:ut(i,r,_e,null,l,Y));for(O in l)Y=l[O],$=a[O],l.hasOwnProperty(O)&&Y!==$&&(Y!=null||$!=null)&&(O==="selected"?i.selected=Y&&typeof Y!="function"&&typeof Y!="symbol":ut(i,r,O,Y,l,$));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var we in a)Y=a[we],a.hasOwnProperty(we)&&Y!=null&&!l.hasOwnProperty(we)&&ut(i,r,we,null,l,Y);for(F in l)if(Y=l[F],$=a[F],l.hasOwnProperty(F)&&Y!==$&&(Y!=null||$!=null))switch(F){case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,r));break;default:ut(i,r,F,Y,l,$)}return;default:if(go(r)){for(var ht in a)Y=a[ht],a.hasOwnProperty(ht)&&Y!==void 0&&!l.hasOwnProperty(ht)&&Zm(i,r,ht,void 0,l,Y);for(Z in l)Y=l[Z],$=a[Z],!l.hasOwnProperty(Z)||Y===$||Y===void 0&&$===void 0||Zm(i,r,Z,Y,l,$);return}}for(var B in a)Y=a[B],a.hasOwnProperty(B)&&Y!=null&&!l.hasOwnProperty(B)&&ut(i,r,B,null,l,Y);for(ne in l)Y=l[ne],$=a[ne],!l.hasOwnProperty(ne)||Y===$||Y==null&&$==null||ut(i,r,ne,Y,l,$)}function vE(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function TC(){if(typeof performance.getEntriesByType=="function"){for(var i=0,r=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var d=a[l],m=d.transferSize,T=d.initiatorType,A=d.duration;if(m&&A&&vE(T)){for(T=0,A=d.responseEnd,l+=1;l<a.length;l++){var O=a[l],F=O.startTime;if(F>A)break;var Z=O.transferSize,ne=O.initiatorType;Z&&vE(ne)&&(O=O.responseEnd,T+=Z*(O<A?1:(A-F)/(O-F)))}if(--l,r+=8*(m+T)/(d.duration/1e3),i++,10<i)break}}if(0<i)return r/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var Jm=null,ep=null;function Mh(i){return i.nodeType===9?i:i.ownerDocument}function _E(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function TE(i,r){if(i===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&r==="foreignObject"?0:i}function tp(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var np=null;function EC(){var i=window.event;return i&&i.type==="popstate"?i===np?!1:(np=i,!0):(np=null,!1)}var EE=typeof setTimeout=="function"?setTimeout:void 0,bC=typeof clearTimeout=="function"?clearTimeout:void 0,bE=typeof Promise=="function"?Promise:void 0,SC=typeof queueMicrotask=="function"?queueMicrotask:typeof bE<"u"?function(i){return bE.resolve(null).then(i).catch(AC)}:EE;function AC(i){setTimeout(function(){throw i})}function Dr(i){return i==="head"}function SE(i,r){var a=r,l=0;do{var d=a.nextSibling;if(i.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"||a==="/&"){if(l===0){i.removeChild(d),Wo(r);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Ec(i.ownerDocument.documentElement);else if(a==="head"){a=i.ownerDocument.head,Ec(a);for(var m=a.firstChild;m;){var T=m.nextSibling,A=m.nodeName;m[Tn]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&m.rel.toLowerCase()==="stylesheet"||a.removeChild(m),m=T}}else a==="body"&&Ec(i.ownerDocument.body);a=d}while(a);Wo(r)}function AE(i,r){var a=i;i=0;do{var l=a.nextSibling;if(a.nodeType===1?r?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(r?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(i===0)break;i--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||i++;a=l}while(a)}function ip(i){var r=i.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":ip(a),rr(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}i.removeChild(a)}}function wC(i,r,a,l){for(;i.nodeType===1;){var d=a;if(i.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(l){if(!i[Tn])switch(r){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(m=i.getAttribute("rel"),m==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(m!==d.rel||i.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||i.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||i.getAttribute("title")!==(d.title==null?null:d.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(m=i.getAttribute("src"),(m!==(d.src==null?null:d.src)||i.getAttribute("type")!==(d.type==null?null:d.type)||i.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&m&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(r==="input"&&i.type==="hidden"){var m=d.name==null?null:""+d.name;if(d.type==="hidden"&&i.getAttribute("name")===m)return i}else return i;if(i=Ei(i.nextSibling),i===null)break}return null}function RC(i,r,a){if(r==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!a||(i=Ei(i.nextSibling),i===null))return null;return i}function wE(i,r){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!r||(i=Ei(i.nextSibling),i===null))return null;return i}function sp(i){return i.data==="$?"||i.data==="$~"}function rp(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function xC(i,r){var a=i.ownerDocument;if(i.data==="$~")i._reactRetry=r;else if(i.data!=="$?"||a.readyState!=="loading")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),i._reactRetry=l}}function Ei(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return i}var ap=null;function RE(i){i=i.nextSibling;for(var r=0;i;){if(i.nodeType===8){var a=i.data;if(a==="/$"||a==="/&"){if(r===0)return Ei(i.nextSibling);r--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||r++}i=i.nextSibling}return null}function xE(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var a=i.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(r===0)return i;r--}else a!=="/$"&&a!=="/&"||r++}i=i.previousSibling}return null}function CE(i,r,a){switch(r=Mh(a),i){case"html":if(i=r.documentElement,!i)throw Error(s(452));return i;case"head":if(i=r.head,!i)throw Error(s(453));return i;case"body":if(i=r.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}function Ec(i){for(var r=i.attributes;r.length;)i.removeAttributeNode(r[0]);rr(i)}var bi=new Map,IE=new Set;function Ph(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Fs=le.d;le.d={f:CC,r:IC,D:NC,C:DC,L:OC,m:VC,X:PC,S:MC,M:jC};function CC(){var i=Fs.f(),r=Rh();return i||r}function IC(i){var r=K(i);r!==null&&r.tag===5&&r.type==="form"?K_(r):Fs.r(i)}var Qo=typeof document>"u"?null:document;function NE(i,r,a){var l=Qo;if(l&&typeof r=="string"&&r){var d=kn(r);d='link[rel="'+i+'"][href="'+d+'"]',typeof a=="string"&&(d+='[crossorigin="'+a+'"]'),IE.has(d)||(IE.add(d),i={rel:i,crossOrigin:a,href:r},l.querySelector(d)===null&&(r=l.createElement("link"),mn(r,"link",i),ue(r),l.head.appendChild(r)))}}function NC(i){Fs.D(i),NE("dns-prefetch",i,null)}function DC(i,r){Fs.C(i,r),NE("preconnect",i,r)}function OC(i,r,a){Fs.L(i,r,a);var l=Qo;if(l&&i&&r){var d='link[rel="preload"][as="'+kn(r)+'"]';r==="image"&&a&&a.imageSrcSet?(d+='[imagesrcset="'+kn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(d+='[imagesizes="'+kn(a.imageSizes)+'"]')):d+='[href="'+kn(i)+'"]';var m=d;switch(r){case"style":m=Xo(i);break;case"script":m=$o(i)}bi.has(m)||(i=b({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:i,as:r},a),bi.set(m,i),l.querySelector(d)!==null||r==="style"&&l.querySelector(bc(m))||r==="script"&&l.querySelector(Sc(m))||(r=l.createElement("link"),mn(r,"link",i),ue(r),l.head.appendChild(r)))}}function VC(i,r){Fs.m(i,r);var a=Qo;if(a&&i){var l=r&&typeof r.as=="string"?r.as:"script",d='link[rel="modulepreload"][as="'+kn(l)+'"][href="'+kn(i)+'"]',m=d;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=$o(i)}if(!bi.has(m)&&(i=b({rel:"modulepreload",href:i},r),bi.set(m,i),a.querySelector(d)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Sc(m)))return}l=a.createElement("link"),mn(l,"link",i),ue(l),a.head.appendChild(l)}}}function MC(i,r,a){Fs.S(i,r,a);var l=Qo;if(l&&i){var d=pe(l).hoistableStyles,m=Xo(i);r=r||"default";var T=d.get(m);if(!T){var A={loading:0,preload:null};if(T=l.querySelector(bc(m)))A.loading=5;else{i=b({rel:"stylesheet",href:i,"data-precedence":r},a),(a=bi.get(m))&&op(i,a);var O=T=l.createElement("link");ue(O),mn(O,"link",i),O._p=new Promise(function(F,Z){O.onload=F,O.onerror=Z}),O.addEventListener("load",function(){A.loading|=1}),O.addEventListener("error",function(){A.loading|=2}),A.loading|=4,jh(T,r,l)}T={type:"stylesheet",instance:T,count:1,state:A},d.set(m,T)}}}function PC(i,r){Fs.X(i,r);var a=Qo;if(a&&i){var l=pe(a).hoistableScripts,d=$o(i),m=l.get(d);m||(m=a.querySelector(Sc(d)),m||(i=b({src:i,async:!0},r),(r=bi.get(d))&&lp(i,r),m=a.createElement("script"),ue(m),mn(m,"link",i),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(d,m))}}function jC(i,r){Fs.M(i,r);var a=Qo;if(a&&i){var l=pe(a).hoistableScripts,d=$o(i),m=l.get(d);m||(m=a.querySelector(Sc(d)),m||(i=b({src:i,async:!0,type:"module"},r),(r=bi.get(d))&&lp(i,r),m=a.createElement("script"),ue(m),mn(m,"link",i),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(d,m))}}function DE(i,r,a,l){var d=(d=Ie.current)?Ph(d):null;if(!d)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=Xo(a.href),a=pe(d).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){i=Xo(a.href);var m=pe(d).hoistableStyles,T=m.get(i);if(T||(d=d.ownerDocument||d,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(i,T),(m=d.querySelector(bc(i)))&&!m._p&&(T.instance=m,T.state.loading=5),bi.has(i)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},bi.set(i,a),m||kC(d,i,a,T.state))),r&&l===null)throw Error(s(528,""));return T}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=$o(a),a=pe(d).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function Xo(i){return'href="'+kn(i)+'"'}function bc(i){return'link[rel="stylesheet"]['+i+"]"}function OE(i){return b({},i,{"data-precedence":i.precedence,precedence:null})}function kC(i,r,a,l){i.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=i.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),mn(r,"link",a),ue(r),i.head.appendChild(r))}function $o(i){return'[src="'+kn(i)+'"]'}function Sc(i){return"script[async]"+i}function VE(i,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=i.querySelector('style[data-href~="'+kn(a.href)+'"]');if(l)return r.instance=l,ue(l),l;var d=b({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(i.ownerDocument||i).createElement("style"),ue(l),mn(l,"style",d),jh(l,a.precedence,i),r.instance=l;case"stylesheet":d=Xo(a.href);var m=i.querySelector(bc(d));if(m)return r.state.loading|=4,r.instance=m,ue(m),m;l=OE(a),(d=bi.get(d))&&op(l,d),m=(i.ownerDocument||i).createElement("link"),ue(m);var T=m;return T._p=new Promise(function(A,O){T.onload=A,T.onerror=O}),mn(m,"link",l),r.state.loading|=4,jh(m,a.precedence,i),r.instance=m;case"script":return m=$o(a.src),(d=i.querySelector(Sc(m)))?(r.instance=d,ue(d),d):(l=a,(d=bi.get(m))&&(l=b({},a),lp(l,d)),i=i.ownerDocument||i,d=i.createElement("script"),ue(d),mn(d,"link",l),i.head.appendChild(d),r.instance=d);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,jh(l,a.precedence,i));return r.instance}function jh(i,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=l.length?l[l.length-1]:null,m=d,T=0;T<l.length;T++){var A=l[T];if(A.dataset.precedence===r)m=A;else if(m!==d)break}m?m.parentNode.insertBefore(i,m.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(i,r.firstChild))}function op(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.title==null&&(i.title=r.title)}function lp(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.integrity==null&&(i.integrity=r.integrity)}var kh=null;function ME(i,r,a){if(kh===null){var l=new Map,d=kh=new Map;d.set(a,l)}else d=kh,l=d.get(a),l||(l=new Map,d.set(a,l));if(l.has(i))return l;for(l.set(i,null),a=a.getElementsByTagName(i),d=0;d<a.length;d++){var m=a[d];if(!(m[Tn]||m[wt]||i==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var T=m.getAttribute(r)||"";T=i+T;var A=l.get(T);A?A.push(m):l.set(T,[m])}}return l}function PE(i,r,a){i=i.ownerDocument||i,i.head.insertBefore(a,r==="title"?i.querySelector("head > title"):null)}function LC(i,r,a){if(a===1||r.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;return r.rel==="stylesheet"?(i=r.disabled,typeof r.precedence=="string"&&i==null):!0;case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function jE(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function UC(i,r,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var d=Xo(l.href),m=r.querySelector(bc(d));if(m){r=m._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(i.count++,i=Lh.bind(i),r.then(i,i)),a.state.loading|=4,a.instance=m,ue(m);return}m=r.ownerDocument||r,l=OE(l),(d=bi.get(d))&&op(l,d),m=m.createElement("link"),ue(m);var T=m;T._p=new Promise(function(A,O){T.onload=A,T.onerror=O}),mn(m,"link",l),a.instance=m}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(a,r),(r=a.state.preload)&&(a.state.loading&3)===0&&(i.count++,a=Lh.bind(i),r.addEventListener("load",a),r.addEventListener("error",a))}}var cp=0;function BC(i,r){return i.stylesheets&&i.count===0&&Bh(i,i.stylesheets),0<i.count||0<i.imgCount?function(a){var l=setTimeout(function(){if(i.stylesheets&&Bh(i,i.stylesheets),i.unsuspend){var m=i.unsuspend;i.unsuspend=null,m()}},6e4+r);0<i.imgBytes&&cp===0&&(cp=62500*TC());var d=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&Bh(i,i.stylesheets),i.unsuspend)){var m=i.unsuspend;i.unsuspend=null,m()}},(i.imgBytes>cp?50:800)+r);return i.unsuspend=a,function(){i.unsuspend=null,clearTimeout(l),clearTimeout(d)}}:null}function Lh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Bh(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Uh=null;function Bh(i,r){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Uh=new Map,r.forEach(zC,i),Uh=null,Lh.call(i))}function zC(i,r){if(!(r.state.loading&4)){var a=Uh.get(i);if(a)var l=a.get(null);else{a=new Map,Uh.set(i,a);for(var d=i.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<d.length;m++){var T=d[m];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(a.set(T.dataset.precedence,T),l=T)}l&&a.set(null,l)}d=r.instance,T=d.getAttribute("data-precedence"),m=a.get(T)||l,m===l&&a.set(null,d),a.set(T,d),this.count++,l=Lh.bind(this),d.addEventListener("load",l),d.addEventListener("error",l),m?m.parentNode.insertBefore(d,m.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(d,i.firstChild)),r.state.loading|=4}}var Ac={$$typeof:J,Provider:null,Consumer:null,_currentValue:ge,_currentValue2:ge,_threadCount:0};function qC(i,r,a,l,d,m,T,A,O){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ci(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ci(0),this.hiddenUpdates=ci(null),this.identifierPrefix=l,this.onUncaughtError=d,this.onCaughtError=m,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=O,this.incompleteTransitions=new Map}function kE(i,r,a,l,d,m,T,A,O,F,Z,ne){return i=new qC(i,r,a,T,O,F,Z,ne,A),r=1,m===!0&&(r|=24),m=Zn(3,null,null,r),i.current=m,m.stateNode=i,r=qf(),r.refCount++,i.pooledCache=r,r.refCount++,m.memoizedState={element:l,isDehydrated:a,cache:r},Kf(m),i}function LE(i){return i?(i=xo,i):xo}function UE(i,r,a,l,d,m){d=LE(d),l.context===null?l.context=d:l.pendingContext=d,l=Tr(r),l.payload={element:a},m=m===void 0?null:m,m!==null&&(l.callback=m),a=Er(i,l,r),a!==null&&(Fn(a,i,r),nc(a,i,r))}function BE(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var a=i.retryLane;i.retryLane=a!==0&&a<r?a:r}}function up(i,r){BE(i,r),(i=i.alternate)&&BE(i,r)}function zE(i){if(i.tag===13||i.tag===31){var r=Na(i,67108864);r!==null&&Fn(r,i,67108864),up(i,67108864)}}function qE(i){if(i.tag===13||i.tag===31){var r=ii();r=Qi(r);var a=Na(i,r);a!==null&&Fn(a,i,r),up(i,r)}}var zh=!0;function FC(i,r,a,l){var d=W.T;W.T=null;var m=le.p;try{le.p=2,hp(i,r,a,l)}finally{le.p=m,W.T=d}}function HC(i,r,a,l){var d=W.T;W.T=null;var m=le.p;try{le.p=8,hp(i,r,a,l)}finally{le.p=m,W.T=d}}function hp(i,r,a,l){if(zh){var d=dp(l);if(d===null)Wm(i,r,l,qh,a),HE(i,l);else if(KC(d,i,r,a,l))l.stopPropagation();else if(HE(i,l),r&4&&-1<GC.indexOf(i)){for(;d!==null;){var m=K(d);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var T=li(m.pendingLanes);if(T!==0){var A=m;for(A.pendingLanes|=2,A.entangledLanes|=2;T;){var O=1<<31-At(T);A.entanglements[1]|=O,T&=~O}rs(m),(tt&6)===0&&(Ah=ln()+500,vc(0))}}break;case 31:case 13:A=Na(m,2),A!==null&&Fn(A,m,2),Rh(),up(m,2)}if(m=dp(l),m===null&&Wm(i,r,l,qh,a),m===d)break;d=m}d!==null&&l.stopPropagation()}else Wm(i,r,l,null,a)}}function dp(i){return i=di(i),fp(i)}var qh=null;function fp(i){if(qh=null,i=w(i),i!==null){var r=c(i);if(r===null)i=null;else{var a=r.tag;if(a===13){if(i=u(r),i!==null)return i;i=null}else if(a===31){if(i=f(r),i!==null)return i;i=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return qh=i,null}function FE(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ss()){case da:return 2;case fa:return 8;case Hi:case nr:return 32;case Ci:return 268435456;default:return 32}default:return 32}}var mp=!1,Or=null,Vr=null,Mr=null,wc=new Map,Rc=new Map,Pr=[],GC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function HE(i,r){switch(i){case"focusin":case"focusout":Or=null;break;case"dragenter":case"dragleave":Vr=null;break;case"mouseover":case"mouseout":Mr=null;break;case"pointerover":case"pointerout":wc.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rc.delete(r.pointerId)}}function xc(i,r,a,l,d,m){return i===null||i.nativeEvent!==m?(i={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:m,targetContainers:[d]},r!==null&&(r=K(r),r!==null&&zE(r)),i):(i.eventSystemFlags|=l,r=i.targetContainers,d!==null&&r.indexOf(d)===-1&&r.push(d),i)}function KC(i,r,a,l,d){switch(r){case"focusin":return Or=xc(Or,i,r,a,l,d),!0;case"dragenter":return Vr=xc(Vr,i,r,a,l,d),!0;case"mouseover":return Mr=xc(Mr,i,r,a,l,d),!0;case"pointerover":var m=d.pointerId;return wc.set(m,xc(wc.get(m)||null,i,r,a,l,d)),!0;case"gotpointercapture":return m=d.pointerId,Rc.set(m,xc(Rc.get(m)||null,i,r,a,l,d)),!0}return!1}function GE(i){var r=w(i.target);if(r!==null){var a=c(r);if(a!==null){if(r=a.tag,r===13){if(r=u(a),r!==null){i.blockedOn=r,Bt(i.priority,function(){qE(a)});return}}else if(r===31){if(r=f(a),r!==null){i.blockedOn=r,Bt(i.priority,function(){qE(a)});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){i.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Fh(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var a=dp(i.nativeEvent);if(a===null){a=i.nativeEvent;var l=new a.constructor(a.type,a);Bl=l,a.target.dispatchEvent(l),Bl=null}else return r=K(a),r!==null&&zE(r),i.blockedOn=a,!1;r.shift()}return!0}function KE(i,r,a){Fh(i)&&a.delete(r)}function YC(){mp=!1,Or!==null&&Fh(Or)&&(Or=null),Vr!==null&&Fh(Vr)&&(Vr=null),Mr!==null&&Fh(Mr)&&(Mr=null),wc.forEach(KE),Rc.forEach(KE)}function Hh(i,r){i.blockedOn===r&&(i.blockedOn=null,mp||(mp=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,YC)))}var Gh=null;function YE(i){Gh!==i&&(Gh=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Gh===i&&(Gh=null);for(var r=0;r<i.length;r+=3){var a=i[r],l=i[r+1],d=i[r+2];if(typeof l!="function"){if(fp(l||a)===null)continue;break}var m=K(a);m!==null&&(i.splice(r,3),r-=3,dm(m,{pending:!0,data:d,method:a.method,action:l},l,d))}}))}function Wo(i){function r(O){return Hh(O,i)}Or!==null&&Hh(Or,i),Vr!==null&&Hh(Vr,i),Mr!==null&&Hh(Mr,i),wc.forEach(r),Rc.forEach(r);for(var a=0;a<Pr.length;a++){var l=Pr[a];l.blockedOn===i&&(l.blockedOn=null)}for(;0<Pr.length&&(a=Pr[0],a.blockedOn===null);)GE(a),a.blockedOn===null&&Pr.shift();if(a=(i.ownerDocument||i).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var d=a[l],m=a[l+1],T=d[Tt]||null;if(typeof m=="function")T||YE(a);else if(T){var A=null;if(m&&m.hasAttribute("formAction")){if(d=m,T=m[Tt]||null)A=T.formAction;else if(fp(d)!==null)continue}else A=T.action;typeof A=="function"?a[l+1]=A:(a.splice(l,3),l-=3),YE(a)}}}function QE(){function i(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(T){return d=T})},focusReset:"manual",scroll:"manual"})}function r(){d!==null&&(d(),d=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,d=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),d!==null&&(d(),d=null)}}}function pp(i){this._internalRoot=i}Kh.prototype.render=pp.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=ii();UE(a,l,i,r,null,null)},Kh.prototype.unmount=pp.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;UE(i.current,2,null,i,null,null),Rh(),r[Ii]=null}};function Kh(i){this._internalRoot=i}Kh.prototype.unstable_scheduleHydration=function(i){if(i){var r=pa();i={blockedOn:null,target:i,priority:r};for(var a=0;a<Pr.length&&r!==0&&r<Pr[a].priority;a++);Pr.splice(a,0,i),a===0&&GE(i)}};var XE=e.version;if(XE!=="19.2.3")throw Error(s(527,XE,"19.2.3"));le.findDOMNode=function(i){var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=y(r),i=i!==null?_(i):null,i=i===null?null:i.stateNode,i};var QC={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yh.isDisabled&&Yh.supportsFiber)try{Vn=Yh.inject(QC),Wt=Yh}catch{}}return Ic.createRoot=function(i,r){if(!o(i))throw Error(s(299));var a=!1,l="",d=nT,m=iT,T=sT;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(d=r.onUncaughtError),r.onCaughtError!==void 0&&(m=r.onCaughtError),r.onRecoverableError!==void 0&&(T=r.onRecoverableError)),r=kE(i,1,!1,null,null,a,l,null,d,m,T,QE),i[Ii]=r.current,$m(i),new pp(r)},Ic.hydrateRoot=function(i,r,a){if(!o(i))throw Error(s(299));var l=!1,d="",m=nT,T=iT,A=sT,O=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(d=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(T=a.onCaughtError),a.onRecoverableError!==void 0&&(A=a.onRecoverableError),a.formState!==void 0&&(O=a.formState)),r=kE(i,1,!0,r,a??null,l,d,O,m,T,A,QE),r.context=LE(null),a=r.current,l=ii(),l=Qi(l),d=Tr(l),d.callback=null,Er(a,d,l),a=l,r.current.lanes=a,Ki(r,a),rs(r),i[Ii]=r.current,$m(i),new Kh(r)},Ic.version="19.2.3",Ic}var r0;function sI(){if(r0)return vp.exports;r0=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),vp.exports=iI(),vp.exports}var rI=sI();const aI=()=>{};var a0={};const sA=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let o=t.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},oI=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const o=t[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const c=t[n++];e[s++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=t[n++],u=t[n++],f=t[n++],g=((o&7)<<18|(c&63)<<12|(u&63)<<6|f&63)-65536;e[s++]=String.fromCharCode(55296+(g>>10)),e[s++]=String.fromCharCode(56320+(g&1023))}else{const c=t[n++],u=t[n++];e[s++]=String.fromCharCode((o&15)<<12|(c&63)<<6|u&63)}}return e.join("")},rA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<t.length;o+=3){const c=t[o],u=o+1<t.length,f=u?t[o+1]:0,g=o+2<t.length,y=g?t[o+2]:0,_=c>>2,b=(c&3)<<4|f>>4;let S=(f&15)<<2|y>>6,N=y&63;g||(N=64,u||(S=64)),s.push(n[_],n[b],n[S],n[N])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(sA(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):oI(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<t.length;){const c=n[t.charAt(o++)],f=o<t.length?n[t.charAt(o)]:0;++o;const y=o<t.length?n[t.charAt(o)]:64;++o;const b=o<t.length?n[t.charAt(o)]:64;if(++o,c==null||f==null||y==null||b==null)throw new lI;const S=c<<2|f>>4;if(s.push(S),y!==64){const N=f<<4&240|y>>2;if(s.push(N),b!==64){const k=y<<6&192|b;s.push(k)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class lI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const cI=function(t){const e=sA(t);return rA.encodeByteArray(e,!0)},Sd=function(t){return cI(t).replace(/\./g,"")},aA=function(t){try{return rA.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function uI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const hI=()=>uI().__FIREBASE_DEFAULTS__,dI=()=>{if(typeof process>"u"||typeof a0>"u")return;const t=a0.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},fI=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&aA(t[1]);return e&&JSON.parse(e)},$d=()=>{try{return aI()||hI()||dI()||fI()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},oA=t=>$d()?.emulatorHosts?.[t],lA=t=>{const e=oA(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},cA=()=>$d()?.config,uA=t=>$d()?.[`_${t}`];class mI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}function aa(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Wg(t){return(await fetch(t,{credentials:"include"})).ok}function hA(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=t.iat||0,c=t.sub||t.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Sd(JSON.stringify(n)),Sd(JSON.stringify(u)),""].join(".")}const Bc={};function pI(){const t={prod:[],emulator:[]};for(const e of Object.keys(Bc))Bc[e]?t.emulator.push(e):t.prod.push(e);return t}function gI(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let o0=!1;function Zg(t,e){if(typeof window>"u"||typeof document>"u"||!aa(window.location.host)||Bc[t]===e||Bc[t]||o0)return;Bc[t]=e;function n(S){return`__firebase__banner__${S}`}const s="__firebase__banner",c=pI().prod.length>0;function u(){const S=document.getElementById(s);S&&S.remove()}function f(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function g(S,N){S.setAttribute("width","24"),S.setAttribute("id",N),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function y(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{o0=!0,u()},S}function _(S,N){S.setAttribute("id",N),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function b(){const S=gI(s),N=n("text"),k=document.getElementById(N)||document.createElement("span"),G=n("learnmore"),L=document.getElementById(G)||document.createElement("a"),H=n("preprendIcon"),Q=document.getElementById(H)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const J=S.element;f(J),_(L,G);const ae=y();g(Q,H),J.append(Q,k,L,ae),document.body.appendChild(J)}c?(k.innerText="Preview backend disconnected.",Q.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Q.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,k.innerText="Preview backend running in this workspace."),k.setAttribute("id",N)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}function Rn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function yI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Rn())}function vI(){const t=$d()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function _I(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function TI(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function EI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function bI(){const t=Rn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function SI(){return!vI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function AI(){try{return typeof indexedDB=="object"}catch{return!1}}function wI(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}const RI="FirebaseError";class _s extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=RI,Object.setPrototypeOf(this,_s.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,hu.prototype.create)}}class hu{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,c=this.errors[e],u=c?xI(c,s):"Error",f=`${this.serviceName}: ${u} (${o}).`;return new _s(o,f,s)}}function xI(t,e){return t.replace(CI,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const CI=/\{\$([^}]+)}/g;function II(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ja(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const c=t[o],u=e[o];if(l0(c)&&l0(u)){if(!Ja(c,u))return!1}else if(c!==u)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function l0(t){return t!==null&&typeof t=="object"}function du(t){const e=[];for(const[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Mc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,c]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(c)}}),e}function Pc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function NI(t,e){const n=new DI(t,e);return n.subscribe.bind(n)}class DI{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");OI(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=bp),o.error===void 0&&(o.error=bp),o.complete===void 0&&(o.complete=bp);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function OI(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function bp(){}function Ot(t){return t&&t._delegate?t._delegate:t}class Wr{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Ha="[DEFAULT]";class VI{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new mI;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(PI(e))try{this.getOrInitializeService({instanceIdentifier:Ha})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:o});s.resolve(c)}catch{}}}}clearInstance(e=Ha){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ha){return this.instances.has(e)}getOptions(e=Ha){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[c,u]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(c);s===f&&u.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const c=this.instances.get(s);return c&&e(c,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:MI(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Ha){return this.component?this.component.multipleInstances?e:Ha:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function MI(t){return t===Ha?void 0:t}function PI(t){return t.instantiationMode==="EAGER"}class jI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new VI(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Ge;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ge||(Ge={}));const kI={debug:Ge.DEBUG,verbose:Ge.VERBOSE,info:Ge.INFO,warn:Ge.WARN,error:Ge.ERROR,silent:Ge.SILENT},LI=Ge.INFO,UI={[Ge.DEBUG]:"log",[Ge.VERBOSE]:"log",[Ge.INFO]:"info",[Ge.WARN]:"warn",[Ge.ERROR]:"error"},BI=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),o=UI[e];if(o)console[o](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Jg{constructor(e){this.name=e,this._logLevel=LI,this._logHandler=BI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ge))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?kI[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ge.DEBUG,...e),this._logHandler(this,Ge.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ge.VERBOSE,...e),this._logHandler(this,Ge.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ge.INFO,...e),this._logHandler(this,Ge.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ge.WARN,...e),this._logHandler(this,Ge.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ge.ERROR,...e),this._logHandler(this,Ge.ERROR,...e)}}const zI=(t,e)=>e.some(n=>t instanceof n);let c0,u0;function qI(){return c0||(c0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function FI(){return u0||(u0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const dA=new WeakMap,tg=new WeakMap,fA=new WeakMap,Sp=new WeakMap,ey=new WeakMap;function HI(t){const e=new Promise((n,s)=>{const o=()=>{t.removeEventListener("success",c),t.removeEventListener("error",u)},c=()=>{n(Kr(t.result)),o()},u=()=>{s(t.error),o()};t.addEventListener("success",c),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&dA.set(n,t)}).catch(()=>{}),ey.set(e,t),e}function GI(t){if(tg.has(t))return;const e=new Promise((n,s)=>{const o=()=>{t.removeEventListener("complete",c),t.removeEventListener("error",u),t.removeEventListener("abort",u)},c=()=>{n(),o()},u=()=>{s(t.error||new DOMException("AbortError","AbortError")),o()};t.addEventListener("complete",c),t.addEventListener("error",u),t.addEventListener("abort",u)});tg.set(t,e)}let ng={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return tg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||fA.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Kr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function KI(t){ng=t(ng)}function YI(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(Ap(this),e,...n);return fA.set(s,e.sort?e.sort():[e]),Kr(s)}:FI().includes(t)?function(...e){return t.apply(Ap(this),e),Kr(dA.get(this))}:function(...e){return Kr(t.apply(Ap(this),e))}}function QI(t){return typeof t=="function"?YI(t):(t instanceof IDBTransaction&&GI(t),zI(t,qI())?new Proxy(t,ng):t)}function Kr(t){if(t instanceof IDBRequest)return HI(t);if(Sp.has(t))return Sp.get(t);const e=QI(t);return e!==t&&(Sp.set(t,e),ey.set(e,t)),e}const Ap=t=>ey.get(t);function XI(t,e,{blocked:n,upgrade:s,blocking:o,terminated:c}={}){const u=indexedDB.open(t,e),f=Kr(u);return s&&u.addEventListener("upgradeneeded",g=>{s(Kr(u.result),g.oldVersion,g.newVersion,Kr(u.transaction),g)}),n&&u.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),f.then(g=>{c&&g.addEventListener("close",()=>c()),o&&g.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),f}const $I=["get","getKey","getAll","getAllKeys","count"],WI=["put","add","delete","clear"],wp=new Map;function h0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(wp.get(e))return wp.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=WI.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||$I.includes(n)))return;const c=async function(u,...f){const g=this.transaction(u,o?"readwrite":"readonly");let y=g.store;return s&&(y=y.index(f.shift())),(await Promise.all([y[n](...f),o&&g.done]))[0]};return wp.set(e,c),c}KI(t=>({...t,get:(e,n,s)=>h0(e,n)||t.get(e,n,s),has:(e,n)=>!!h0(e,n)||t.has(e,n)}));class ZI{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(JI(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function JI(t){return t.getComponent()?.type==="VERSION"}const ig="@firebase/app",d0="0.14.6";const Ys=new Jg("@firebase/app"),eN="@firebase/app-compat",tN="@firebase/analytics-compat",nN="@firebase/analytics",iN="@firebase/app-check-compat",sN="@firebase/app-check",rN="@firebase/auth",aN="@firebase/auth-compat",oN="@firebase/database",lN="@firebase/data-connect",cN="@firebase/database-compat",uN="@firebase/functions",hN="@firebase/functions-compat",dN="@firebase/installations",fN="@firebase/installations-compat",mN="@firebase/messaging",pN="@firebase/messaging-compat",gN="@firebase/performance",yN="@firebase/performance-compat",vN="@firebase/remote-config",_N="@firebase/remote-config-compat",TN="@firebase/storage",EN="@firebase/storage-compat",bN="@firebase/firestore",SN="@firebase/ai",AN="@firebase/firestore-compat",wN="firebase",RN="12.6.0";const sg="[DEFAULT]",xN={[ig]:"fire-core",[eN]:"fire-core-compat",[nN]:"fire-analytics",[tN]:"fire-analytics-compat",[sN]:"fire-app-check",[iN]:"fire-app-check-compat",[rN]:"fire-auth",[aN]:"fire-auth-compat",[oN]:"fire-rtdb",[lN]:"fire-data-connect",[cN]:"fire-rtdb-compat",[uN]:"fire-fn",[hN]:"fire-fn-compat",[dN]:"fire-iid",[fN]:"fire-iid-compat",[mN]:"fire-fcm",[pN]:"fire-fcm-compat",[gN]:"fire-perf",[yN]:"fire-perf-compat",[vN]:"fire-rc",[_N]:"fire-rc-compat",[TN]:"fire-gcs",[EN]:"fire-gcs-compat",[bN]:"fire-fst",[AN]:"fire-fst-compat",[SN]:"fire-vertex","fire-js":"fire-js",[wN]:"fire-js-all"};const Ad=new Map,CN=new Map,rg=new Map;function f0(t,e){try{t.container.addComponent(e)}catch(n){Ys.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function eo(t){const e=t.name;if(rg.has(e))return Ys.debug(`There were multiple attempts to register component ${e}.`),!1;rg.set(e,t);for(const n of Ad.values())f0(n,t);for(const n of CN.values())f0(n,t);return!0}function Wd(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function si(t){return t==null?!1:t.settings!==void 0}const IN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Yr=new hu("app","Firebase",IN);class NN{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Wr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Yr.create("app-deleted",{appName:this._name})}}const oo=RN;function mA(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s={name:sg,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw Yr.create("bad-app-name",{appName:String(o)});if(n||(n=cA()),!n)throw Yr.create("no-options");const c=Ad.get(o);if(c){if(Ja(n,c.options)&&Ja(s,c.config))return c;throw Yr.create("duplicate-app",{appName:o})}const u=new jI(o);for(const g of rg.values())u.addComponent(g);const f=new NN(n,s,u);return Ad.set(o,f),f}function ty(t=sg){const e=Ad.get(t);if(!e&&t===sg&&cA())return mA();if(!e)throw Yr.create("no-app",{appName:t});return e}function cs(t,e,n){let s=xN[t]??t;n&&(s+=`-${n}`);const o=s.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const u=[`Unable to register library "${s}" with version "${e}":`];o&&u.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&c&&u.push("and"),c&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ys.warn(u.join(" "));return}eo(new Wr(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const DN="firebase-heartbeat-database",ON=1,Wc="firebase-heartbeat-store";let Rp=null;function pA(){return Rp||(Rp=XI(DN,ON,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Wc)}catch(n){console.warn(n)}}}}).catch(t=>{throw Yr.create("idb-open",{originalErrorMessage:t.message})})),Rp}async function VN(t){try{const n=(await pA()).transaction(Wc),s=await n.objectStore(Wc).get(gA(t));return await n.done,s}catch(e){if(e instanceof _s)Ys.warn(e.message);else{const n=Yr.create("idb-get",{originalErrorMessage:e?.message});Ys.warn(n.message)}}}async function m0(t,e){try{const s=(await pA()).transaction(Wc,"readwrite");await s.objectStore(Wc).put(e,gA(t)),await s.done}catch(n){if(n instanceof _s)Ys.warn(n.message);else{const s=Yr.create("idb-set",{originalErrorMessage:n?.message});Ys.warn(s.message)}}}function gA(t){return`${t.name}!${t.options.appId}`}const MN=1024,PN=30;class jN{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new LN(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=p0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>PN){const o=UN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Ys.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=p0(),{heartbeatsToSend:n,unsentEntries:s}=kN(this._heartbeatsCache.heartbeats),o=Sd(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Ys.warn(e),""}}}function p0(){return new Date().toISOString().substring(0,10)}function kN(t,e=MN){const n=[];let s=t.slice();for(const o of t){const c=n.find(u=>u.agent===o.agent);if(c){if(c.dates.push(o.date),g0(n)>e){c.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),g0(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class LN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return AI()?wI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await VN(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return m0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return m0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function g0(t){return Sd(JSON.stringify({version:2,heartbeats:t})).length}function UN(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let s=1;s<t.length;s++)t[s].date<n&&(n=t[s].date,e=s);return e}function BN(t){eo(new Wr("platform-logger",e=>new ZI(e),"PRIVATE")),eo(new Wr("heartbeat",e=>new jN(e),"PRIVATE")),cs(ig,d0,t),cs(ig,d0,"esm2020"),cs("fire-js","")}BN("");var zN="firebase",qN="12.7.0";cs(zN,qN,"app");function yA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const FN=yA,vA=new hu("auth","Firebase",yA());const wd=new Jg("@firebase/auth");function HN(t,...e){wd.logLevel<=Ge.WARN&&wd.warn(`Auth (${oo}): ${t}`,...e)}function cd(t,...e){wd.logLevel<=Ge.ERROR&&wd.error(`Auth (${oo}): ${t}`,...e)}function qi(t,...e){throw ny(t,...e)}function us(t,...e){return ny(t,...e)}function _A(t,e,n){const s={...FN(),[e]:n};return new hu("auth","Firebase",s).create(e,{appName:t.name})}function Ks(t){return _A(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ny(t,...e){if(typeof t!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=t.name),t._errorFactory.create(n,...s)}return vA.create(t,...e)}function Re(t,e,...n){if(!t)throw ny(e,...n)}function Hs(t){const e="INTERNAL ASSERTION FAILED: "+t;throw cd(e),new Error(e)}function Qs(t,e){t||Hs(e)}function ag(){return typeof self<"u"&&self.location?.href||""}function GN(){return y0()==="http:"||y0()==="https:"}function y0(){return typeof self<"u"&&self.location?.protocol||null}function KN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(GN()||TI()||"connection"in navigator)?navigator.onLine:!0}function YN(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class fu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Qs(n>e,"Short delay should be less than long delay!"),this.isMobile=yI()||EI()}get(){return KN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function iy(t,e){Qs(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class TA{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Hs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Hs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Hs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const QN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const XN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],$N=new fu(3e4,6e4);function Js(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function er(t,e,n,s,o={}){return EA(t,o,async()=>{let c={},u={};s&&(e==="GET"?u=s:c={body:JSON.stringify(s)});const f=du({key:t.config.apiKey,...u}).slice(1),g=await t._getAdditionalHeaders();g["Content-Type"]="application/json",t.languageCode&&(g["X-Firebase-Locale"]=t.languageCode);const y={method:e,headers:g,...c};return _I()||(y.referrerPolicy="no-referrer"),t.emulatorConfig&&aa(t.emulatorConfig.host)&&(y.credentials="include"),TA.fetch()(await bA(t,t.config.apiHost,n,f),y)})}async function EA(t,e,n){t._canInitEmulator=!1;const s={...QN,...e};try{const o=new ZN(t),c=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const u=await c.json();if("needConfirmation"in u)throw Qh(t,"account-exists-with-different-credential",u);if(c.ok&&!("errorMessage"in u))return u;{const f=c.ok?u.errorMessage:u.error.message,[g,y]=f.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw Qh(t,"credential-already-in-use",u);if(g==="EMAIL_EXISTS")throw Qh(t,"email-already-in-use",u);if(g==="USER_DISABLED")throw Qh(t,"user-disabled",u);const _=s[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw _A(t,_,y);qi(t,_)}}catch(o){if(o instanceof _s)throw o;qi(t,"network-request-failed",{message:String(o)})}}async function mu(t,e,n,s,o={}){const c=await er(t,e,n,s,o);return"mfaPendingCredential"in c&&qi(t,"multi-factor-auth-required",{_serverResponse:c}),c}async function bA(t,e,n,s){const o=`${e}${n}?${s}`,c=t,u=c.config.emulator?iy(t.config,o):`${t.config.apiScheme}://${o}`;return XN.includes(n)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(u).toString():u}function WN(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class ZN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(us(this.auth,"network-request-failed")),$N.get())})}}function Qh(t,e,n){const s={appName:t.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=us(t,e,s);return o.customData._tokenResponse=n,o}function v0(t){return t!==void 0&&t.enterprise!==void 0}class JN{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return WN(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function eD(t,e){return er(t,"GET","/v2/recaptchaConfig",Js(t,e))}async function tD(t,e){return er(t,"POST","/v1/accounts:delete",e)}async function Rd(t,e){return er(t,"POST","/v1/accounts:lookup",e)}function zc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function nD(t,e=!1){const n=Ot(t),s=await n.getIdToken(e),o=sy(s);Re(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,u=c?.sign_in_provider;return{claims:o,token:s,authTime:zc(xp(o.auth_time)),issuedAtTime:zc(xp(o.iat)),expirationTime:zc(xp(o.exp)),signInProvider:u||null,signInSecondFactor:c?.sign_in_second_factor||null}}function xp(t){return Number(t)*1e3}function sy(t){const[e,n,s]=t.split(".");if(e===void 0||n===void 0||s===void 0)return cd("JWT malformed, contained fewer than 3 sections"),null;try{const o=aA(n);return o?JSON.parse(o):(cd("Failed to decode base64 JWT payload"),null)}catch(o){return cd("Caught error parsing JWT payload as JSON",o?.toString()),null}}function _0(t){const e=sy(t);return Re(e,"internal-error"),Re(typeof e.exp<"u","internal-error"),Re(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Zc(t,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof _s&&iD(s)&&t.auth.currentUser===t&&await t.auth.signOut(),s}}function iD({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class sD{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class og{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=zc(this.lastLoginAt),this.creationTime=zc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function xd(t){const e=t.auth,n=await t.getIdToken(),s=await Zc(t,Rd(e,{idToken:n}));Re(s?.users.length,e,"internal-error");const o=s.users[0];t._notifyReloadListener(o);const c=o.providerUserInfo?.length?SA(o.providerUserInfo):[],u=aD(t.providerData,c),f=t.isAnonymous,g=!(t.email&&o.passwordHash)&&!u?.length,y=f?g:!1,_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new og(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(t,_)}async function rD(t){const e=Ot(t);await xd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function aD(t,e){return[...t.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function SA(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function oD(t,e){const n=await EA(t,{},async()=>{const s=du({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=t.config,u=await bA(t,o,"/v1/token",`key=${c}`),f=await t._getAdditionalHeaders();f["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:f,body:s};return t.emulatorConfig&&aa(t.emulatorConfig.host)&&(g.credentials="include"),TA.fetch()(u,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function lD(t,e){return er(t,"POST","/v2/accounts:revokeToken",Js(t,e))}class cl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Re(e.idToken,"internal-error"),Re(typeof e.idToken<"u","internal-error"),Re(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):_0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Re(e.length!==0,"internal-error");const n=_0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Re(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:c}=await oD(e,n);this.updateTokensAndExpiration(s,o,Number(c))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:c}=n,u=new cl;return s&&(Re(typeof s=="string","internal-error",{appName:e}),u.refreshToken=s),o&&(Re(typeof o=="string","internal-error",{appName:e}),u.accessToken=o),c&&(Re(typeof c=="number","internal-error",{appName:e}),u.expirationTime=c),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new cl,this.toJSON())}_performRefresh(){return Hs("not implemented")}}function kr(t,e){Re(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Bi{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new sD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new og(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Zc(this,this.stsTokenManager.getToken(this.auth,e));return Re(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return nD(this,e)}reload(){return rD(this)}_assign(e){this!==e&&(Re(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Bi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await xd(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(si(this.auth.app))return Promise.reject(Ks(this.auth));const e=await this.getIdToken();return await Zc(this,tD(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,c=n.phoneNumber??void 0,u=n.photoURL??void 0,f=n.tenantId??void 0,g=n._redirectEventId??void 0,y=n.createdAt??void 0,_=n.lastLoginAt??void 0,{uid:b,emailVerified:S,isAnonymous:N,providerData:k,stsTokenManager:G}=n;Re(b&&G,e,"internal-error");const L=cl.fromJSON(this.name,G);Re(typeof b=="string",e,"internal-error"),kr(s,e.name),kr(o,e.name),Re(typeof S=="boolean",e,"internal-error"),Re(typeof N=="boolean",e,"internal-error"),kr(c,e.name),kr(u,e.name),kr(f,e.name),kr(g,e.name),kr(y,e.name),kr(_,e.name);const H=new Bi({uid:b,auth:e,email:o,emailVerified:S,displayName:s,isAnonymous:N,photoURL:u,phoneNumber:c,tenantId:f,stsTokenManager:L,createdAt:y,lastLoginAt:_});return k&&Array.isArray(k)&&(H.providerData=k.map(Q=>({...Q}))),g&&(H._redirectEventId=g),H}static async _fromIdTokenResponse(e,n,s=!1){const o=new cl;o.updateFromServerResponse(n);const c=new Bi({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await xd(c),c}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];Re(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?SA(o.providerUserInfo):[],u=!(o.email&&o.passwordHash)&&!c?.length,f=new cl;f.updateFromIdToken(s);const g=new Bi({uid:o.localId,auth:e,stsTokenManager:f,isAnonymous:u}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new og(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(g,y),g}}const T0=new Map;function Gs(t){Qs(t instanceof Function,"Expected a class definition");let e=T0.get(t);return e?(Qs(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,T0.set(t,e),e)}class AA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}AA.type="NONE";const E0=AA;function ud(t,e,n){return`firebase:${t}:${e}:${n}`}class ul{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:c}=this.auth;this.fullUserKey=ud(this.userKey,o.apiKey,c),this.fullPersistenceKey=ud("persistence",o.apiKey,c),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Rd(this.auth,{idToken:e}).catch(()=>{});return n?Bi._fromGetAccountInfoResponse(this.auth,n,e):null}return Bi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new ul(Gs(E0),e,s);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=o[0]||Gs(E0);const u=ud(s,e.config.apiKey,e.name);let f=null;for(const y of n)try{const _=await y._get(u);if(_){let b;if(typeof _=="string"){const S=await Rd(e,{idToken:_}).catch(()=>{});if(!S)break;b=await Bi._fromGetAccountInfoResponse(e,S,_)}else b=Bi._fromJSON(e,_);y!==c&&(f=b),c=y;break}}catch{}const g=o.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!g.length?new ul(c,e,s):(c=g[0],f&&await c._set(u,f.toJSON()),await Promise.all(n.map(async y=>{if(y!==c)try{await y._remove(u)}catch{}})),new ul(c,e,s))}}function b0(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(CA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(wA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(NA(e))return"Blackberry";if(DA(e))return"Webos";if(RA(e))return"Safari";if((e.includes("chrome/")||xA(e))&&!e.includes("edge/"))return"Chrome";if(IA(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=t.match(n);if(s?.length===2)return s[1]}return"Other"}function wA(t=Rn()){return/firefox\//i.test(t)}function RA(t=Rn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function xA(t=Rn()){return/crios\//i.test(t)}function CA(t=Rn()){return/iemobile/i.test(t)}function IA(t=Rn()){return/android/i.test(t)}function NA(t=Rn()){return/blackberry/i.test(t)}function DA(t=Rn()){return/webos/i.test(t)}function ry(t=Rn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function cD(t=Rn()){return ry(t)&&!!window.navigator?.standalone}function uD(){return bI()&&document.documentMode===10}function OA(t=Rn()){return ry(t)||IA(t)||DA(t)||NA(t)||/windows phone/i.test(t)||CA(t)}function VA(t,e=[]){let n;switch(t){case"Browser":n=b0(Rn());break;case"Worker":n=`${b0(Rn())}-${t}`;break;default:n=t}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${oo}/${s}`}class hD{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=c=>new Promise((u,f)=>{try{const g=e(c);u(g)}catch(g){f(g)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function dD(t,e={}){return er(t,"GET","/v2/passwordPolicy",Js(t,e))}const fD=6;class mD{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??fD,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class pD{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new S0(this),this.idTokenSubscription=new S0(this),this.beforeStateQueue=new hD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=vA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Gs(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await ul.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Rd(this,{idToken:e}),s=await Bi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(si(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(u,u))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,u=s?._redirectEventId,f=await this.tryRedirectSignIn(e);(!c||c===u)&&f?.user&&(s=f.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(c){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Re(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await xd(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=YN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(si(this.app))return Promise.reject(Ks(this));const n=e?Ot(e):null;return n&&Re(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Re(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return si(this.app)?Promise.reject(Ks(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return si(this.app)?Promise.reject(Ks(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Gs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await dD(this),n=new mD(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new hu("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await lD(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Gs(e)||this._popupRedirectResolver;Re(n,this,"argument-error"),this.redirectPersistenceManager=await ul.create(this,[Gs(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const c=typeof n=="function"?n:n.next.bind(n);let u=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(Re(f,this,"internal-error"),f.then(()=>{u||c(this.currentUser)}),typeof n=="function"){const g=e.addObserver(n,s,o);return()=>{u=!0,g()}}else{const g=e.addObserver(n);return()=>{u=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=VA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(si(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&HN(`Error while retrieving App Check token: ${e.error}`),e?.token}}function oa(t){return Ot(t)}class S0{constructor(e){this.auth=e,this.observer=null,this.addObserver=NI(n=>this.observer=n)}get next(){return Re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Zd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function gD(t){Zd=t}function MA(t){return Zd.loadJS(t)}function yD(){return Zd.recaptchaEnterpriseScript}function vD(){return Zd.gapiScript}function _D(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class TD{constructor(){this.enterprise=new ED}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class ED{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const bD="recaptcha-enterprise",PA="NO_RECAPTCHA";class SD{constructor(e){this.type=bD,this.auth=oa(e)}async verify(e="verify",n=!1){async function s(c){if(!n){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(u,f)=>{eD(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{const y=new JN(g);return c.tenantId==null?c._agentRecaptchaConfig=y:c._tenantRecaptchaConfigs[c.tenantId]=y,u(y.siteKey)}}).catch(g=>{f(g)})})}function o(c,u,f){const g=window.grecaptcha;v0(g)?g.enterprise.ready(()=>{g.enterprise.execute(c,{action:e}).then(y=>{u(y)}).catch(()=>{u(PA)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new TD().execute("siteKey",{action:"verify"}):new Promise((c,u)=>{s(this.auth).then(f=>{if(!n&&v0(window.grecaptcha))o(f,c,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let g=yD();g.length!==0&&(g+=f),MA(g).then(()=>{o(f,c,u)}).catch(y=>{u(y)})}}).catch(f=>{u(f)})})}}async function A0(t,e,n,s=!1,o=!1){const c=new SD(t);let u;if(o)u=PA;else try{u=await c.verify(n)}catch{u=await c.verify(n,!0)}const f={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in f){const g=f.phoneEnrollmentInfo.phoneNumber,y=f.phoneEnrollmentInfo.recaptchaToken;Object.assign(f,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:y,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in f){const g=f.phoneSignInInfo.recaptchaToken;Object.assign(f,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return f}return s?Object.assign(f,{captchaResp:u}):Object.assign(f,{captchaResponse:u}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f}async function Cd(t,e,n,s,o){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await A0(t,e,n,n==="getOobCode");return s(t,c)}else return s(t,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await A0(t,e,n,n==="getOobCode");return s(t,u)}else return Promise.reject(c)})}function AD(t,e){const n=Wd(t,"auth");if(n.isInitialized()){const o=n.getImmediate(),c=n.getOptions();if(Ja(c,e??{}))return o;qi(o,"already-initialized")}return n.initialize({options:e})}function wD(t,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(Gs);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(s,e?.popupRedirectResolver)}function RD(t,e,n){const s=oa(t);Re(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,c=jA(e),{host:u,port:f}=xD(e),g=f===null?"":`:${f}`,y={url:`${c}//${u}${g}/`},_=Object.freeze({host:u,port:f,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Re(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Re(Ja(y,s.config.emulator)&&Ja(_,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=_,s.settings.appVerificationDisabledForTesting=!0,aa(u)?(Wg(`${c}//${u}${g}`),Zg("Auth",!0)):CD()}function jA(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function xD(t){const e=jA(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const c=o[1];return{host:c,port:w0(s.substr(c.length+1))}}else{const[c,u]=s.split(":");return{host:c,port:w0(u)}}}function w0(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function CD(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class ay{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Hs("not implemented")}_getIdTokenResponse(e){return Hs("not implemented")}_linkToIdToken(e,n){return Hs("not implemented")}_getReauthenticationResolver(e){return Hs("not implemented")}}async function ID(t,e){return er(t,"POST","/v1/accounts:signUp",e)}async function ND(t,e){return mu(t,"POST","/v1/accounts:signInWithPassword",Js(t,e))}async function DD(t,e){return er(t,"POST","/v1/accounts:sendOobCode",Js(t,e))}async function OD(t,e){return DD(t,e)}async function VD(t,e){return mu(t,"POST","/v1/accounts:signInWithEmailLink",Js(t,e))}async function MD(t,e){return mu(t,"POST","/v1/accounts:signInWithEmailLink",Js(t,e))}class Jc extends ay{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new Jc(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new Jc(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Cd(e,n,"signInWithPassword",ND);case"emailLink":return VD(e,{email:this._email,oobCode:this._password});default:qi(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Cd(e,s,"signUpPassword",ID);case"emailLink":return MD(e,{idToken:n,email:this._email,oobCode:this._password});default:qi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function hl(t,e){return mu(t,"POST","/v1/accounts:signInWithIdp",Js(t,e))}const PD="http://localhost";class to extends ay{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new to(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):qi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...c}=n;if(!s||!o)return null;const u=new to(s,o);return u.idToken=c.idToken||void 0,u.accessToken=c.accessToken||void 0,u.secret=c.secret,u.nonce=c.nonce,u.pendingToken=c.pendingToken||null,u}_getIdTokenResponse(e){const n=this.buildRequest();return hl(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,hl(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,hl(e,n)}buildRequest(){const e={requestUri:PD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=du(n)}return e}}function jD(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function kD(t){const e=Mc(Pc(t)).link,n=e?Mc(Pc(e)).deep_link_id:null,s=Mc(Pc(t)).deep_link_id;return(s?Mc(Pc(s)).link:null)||s||n||e||t}class oy{constructor(e){const n=Mc(Pc(e)),s=n.apiKey??null,o=n.oobCode??null,c=jD(n.mode??null);Re(s&&o&&c,"argument-error"),this.apiKey=s,this.operation=c,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=kD(e);try{return new oy(n)}catch{return null}}}class Al{constructor(){this.providerId=Al.PROVIDER_ID}static credential(e,n){return Jc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=oy.parseLink(n);return Re(s,"argument-error"),Jc._fromEmailAndCode(e,s.code,s.tenantId)}}Al.PROVIDER_ID="password";Al.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Al.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class kA{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class pu extends kA{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Br extends pu{constructor(){super("facebook.com")}static credential(e){return to._fromParams({providerId:Br.PROVIDER_ID,signInMethod:Br.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Br.credentialFromTaggedObject(e)}static credentialFromError(e){return Br.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Br.credential(e.oauthAccessToken)}catch{return null}}}Br.FACEBOOK_SIGN_IN_METHOD="facebook.com";Br.PROVIDER_ID="facebook.com";class zr extends pu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return to._fromParams({providerId:zr.PROVIDER_ID,signInMethod:zr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return zr.credentialFromTaggedObject(e)}static credentialFromError(e){return zr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return zr.credential(n,s)}catch{return null}}}zr.GOOGLE_SIGN_IN_METHOD="google.com";zr.PROVIDER_ID="google.com";class qr extends pu{constructor(){super("github.com")}static credential(e){return to._fromParams({providerId:qr.PROVIDER_ID,signInMethod:qr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return qr.credentialFromTaggedObject(e)}static credentialFromError(e){return qr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return qr.credential(e.oauthAccessToken)}catch{return null}}}qr.GITHUB_SIGN_IN_METHOD="github.com";qr.PROVIDER_ID="github.com";class Fr extends pu{constructor(){super("twitter.com")}static credential(e,n){return to._fromParams({providerId:Fr.PROVIDER_ID,signInMethod:Fr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Fr.credentialFromTaggedObject(e)}static credentialFromError(e){return Fr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Fr.credential(n,s)}catch{return null}}}Fr.TWITTER_SIGN_IN_METHOD="twitter.com";Fr.PROVIDER_ID="twitter.com";async function LD(t,e){return mu(t,"POST","/v1/accounts:signUp",Js(t,e))}class no{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const c=await Bi._fromIdTokenResponse(e,s,o),u=R0(s);return new no({user:c,providerId:u,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=R0(s);return new no({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function R0(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class Id extends _s{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Id.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new Id(e,n,s,o)}}function LA(t,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Id._fromErrorAndOperation(t,c,e,s):c})}async function UD(t,e,n=!1){const s=await Zc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return no._forOperation(t,"link",s)}async function BD(t,e,n=!1){const{auth:s}=t;if(si(s.app))return Promise.reject(Ks(s));const o="reauthenticate";try{const c=await Zc(t,LA(s,o,e,t),n);Re(c.idToken,s,"internal-error");const u=sy(c.idToken);Re(u,s,"internal-error");const{sub:f}=u;return Re(t.uid===f,s,"user-mismatch"),no._forOperation(t,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&qi(s,"user-mismatch"),c}}async function UA(t,e,n=!1){if(si(t.app))return Promise.reject(Ks(t));const s="signIn",o=await LA(t,s,e),c=await no._fromIdTokenResponse(t,s,o);return n||await t._updateCurrentUser(c.user),c}async function zD(t,e){return UA(oa(t),e)}async function BA(t){const e=oa(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function qD(t,e,n){const s=oa(t);await Cd(s,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",OD)}async function FD(t,e,n){if(si(t.app))return Promise.reject(Ks(t));const s=oa(t),u=await Cd(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",LD).catch(g=>{throw g.code==="auth/password-does-not-meet-requirements"&&BA(t),g}),f=await no._fromIdTokenResponse(s,"signIn",u);return await s._updateCurrentUser(f.user),f}function HD(t,e,n){return si(t.app)?Promise.reject(Ks(t)):zD(Ot(t),Al.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&BA(t),s})}function GD(t,e,n,s){return Ot(t).onIdTokenChanged(e,n,s)}function KD(t,e,n){return Ot(t).beforeAuthStateChanged(e,n)}function YD(t,e,n,s){return Ot(t).onAuthStateChanged(e,n,s)}const Nd="__sak";class zA{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Nd,"1"),this.storage.removeItem(Nd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const QD=1e3,XD=10;class qA extends zA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=OA(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((u,f,g)=>{this.notifyListeners(u,g)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const u=this.storage.getItem(s);!n&&this.localCache[s]===u||this.notifyListeners(s,u)},c=this.storage.getItem(s);uD()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,XD):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},QD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}qA.type="LOCAL";const $D=qA;class FA extends zA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}FA.type="SESSION";const HA=FA;function WD(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Jd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new Jd(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:c}=n.data,u=this.handlersMap[o];if(!u?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const f=Array.from(u).map(async y=>y(n.origin,c)),g=await WD(f);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:g})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Jd.receivers=[];function ly(t="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return t+n}class ZD{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,u;return new Promise((f,g)=>{const y=ly("",20);o.port1.start();const _=setTimeout(()=>{g(new Error("unsupported_event"))},s);u={messageChannel:o,onMessage(b){const S=b;if(S.data.eventId===y)switch(S.data.status){case"ack":clearTimeout(_),c=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),f(S.data.response);break;default:clearTimeout(_),clearTimeout(c),g(new Error("invalid_response"));break}}},this.handlers.add(u),o.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[o.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}function hs(){return window}function JD(t){hs().location.href=t}function GA(){return typeof hs().WorkerGlobalScope<"u"&&typeof hs().importScripts=="function"}async function e2(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function t2(){return navigator?.serviceWorker?.controller||null}function n2(){return GA()?self:null}const KA="firebaseLocalStorageDb",i2=1,Dd="firebaseLocalStorage",YA="fbase_key";class gu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function ef(t,e){return t.transaction([Dd],e?"readwrite":"readonly").objectStore(Dd)}function s2(){const t=indexedDB.deleteDatabase(KA);return new gu(t).toPromise()}function lg(){const t=indexedDB.open(KA,i2);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const s=t.result;try{s.createObjectStore(Dd,{keyPath:YA})}catch(o){n(o)}}),t.addEventListener("success",async()=>{const s=t.result;s.objectStoreNames.contains(Dd)?e(s):(s.close(),await s2(),e(await lg()))})})}async function x0(t,e,n){const s=ef(t,!0).put({[YA]:e,value:n});return new gu(s).toPromise()}async function r2(t,e){const n=ef(t,!1).get(e),s=await new gu(n).toPromise();return s===void 0?null:s.value}function C0(t,e){const n=ef(t,!0).delete(e);return new gu(n).toPromise()}const a2=800,o2=3;class QA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await lg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>o2)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return GA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Jd._getInstance(n2()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await e2(),!this.activeServiceWorker)return;this.sender=new ZD(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||t2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await lg();return await x0(e,Nd,"1"),await C0(e,Nd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>x0(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>r2(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>C0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=ef(o,!1).getAll();return new gu(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),a2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}QA.type="LOCAL";const l2=QA;new fu(3e4,6e4);function c2(t,e){return e?Gs(e):(Re(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class cy extends ay{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return hl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return hl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return hl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function u2(t){return UA(t.auth,new cy(t),t.bypassAuthState)}function h2(t){const{auth:e,user:n}=t;return Re(n,e,"internal-error"),BD(n,new cy(t),t.bypassAuthState)}async function d2(t){const{auth:e,user:n}=t;return Re(n,e,"internal-error"),UD(n,new cy(t),t.bypassAuthState)}class XA{constructor(e,n,s,o,c=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:c,error:u,type:f}=e;if(u){this.reject(u);return}const g={auth:this.auth,requestUri:n,sessionId:s,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(g))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return u2;case"linkViaPopup":case"linkViaRedirect":return d2;case"reauthViaPopup":case"reauthViaRedirect":return h2;default:qi(this.auth,"internal-error")}}resolve(e){Qs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Qs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const f2=new fu(2e3,1e4);class il extends XA{constructor(e,n,s,o,c){super(e,n,o,c),this.provider=s,this.authWindow=null,this.pollId=null,il.currentPopupAction&&il.currentPopupAction.cancel(),il.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Re(e,this.auth,"internal-error"),e}async onExecution(){Qs(this.filter.length===1,"Popup operations only handle one event");const e=ly();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(us(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(us(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,il.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(us(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,f2.get())};e()}}il.currentPopupAction=null;const m2="pendingRedirect",hd=new Map;class p2 extends XA{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=hd.get(this.auth._key());if(!e){try{const s=await g2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}hd.set(this.auth._key(),e)}return this.bypassAuthState||hd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function g2(t,e){const n=_2(e),s=v2(t);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function y2(t,e){hd.set(t._key(),e)}function v2(t){return Gs(t._redirectPersistence)}function _2(t){return ud(m2,t.config.apiKey,t.name)}async function T2(t,e,n=!1){if(si(t.app))return Promise.reject(Ks(t));const s=oa(t),o=c2(s,e),u=await new p2(s,o,n).execute();return u&&!n&&(delete u.user._redirectEventId,await s._persistUserIfCurrent(u.user),await s._setRedirectUser(null,e)),u}const E2=600*1e3;class b2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!S2(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!$A(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(us(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=E2&&this.cachedEventUids.clear(),this.cachedEventUids.has(I0(e))}saveEventToCache(e){this.cachedEventUids.add(I0(e)),this.lastProcessedEventTime=Date.now()}}function I0(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function $A({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function S2(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return $A(t);default:return!1}}async function A2(t,e={}){return er(t,"GET","/v1/projects",e)}const w2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,R2=/^https?/;async function x2(t){if(t.config.emulator)return;const{authorizedDomains:e}=await A2(t);for(const n of e)try{if(C2(n))return}catch{}qi(t,"unauthorized-domain")}function C2(t){const e=ag(),{protocol:n,hostname:s}=new URL(e);if(t.startsWith("chrome-extension://")){const u=new URL(t);return u.hostname===""&&s===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&u.hostname===s}if(!R2.test(n))return!1;if(w2.test(t))return s===t;const o=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const I2=new fu(3e4,6e4);function N0(){const t=hs().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function N2(t){return new Promise((e,n)=>{function s(){N0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{N0(),n(us(t,"network-request-failed"))},timeout:I2.get()})}if(hs().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(hs().gapi?.load)s();else{const o=_D("iframefcb");return hs()[o]=()=>{gapi.load?s():n(us(t,"network-request-failed"))},MA(`${vD()}?onload=${o}`).catch(c=>n(c))}}).catch(e=>{throw dd=null,e})}let dd=null;function D2(t){return dd=dd||N2(t),dd}const O2=new fu(5e3,15e3),V2="__/auth/iframe",M2="emulator/auth/iframe",P2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},j2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function k2(t){const e=t.config;Re(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?iy(e,M2):`https://${t.config.authDomain}/${V2}`,s={apiKey:e.apiKey,appName:t.name,v:oo},o=j2.get(t.config.apiHost);o&&(s.eid=o);const c=t._getFrameworks();return c.length&&(s.fw=c.join(",")),`${n}?${du(s).slice(1)}`}async function L2(t){const e=await D2(t),n=hs().gapi;return Re(n,t,"internal-error"),e.open({where:document.body,url:k2(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:P2,dontclear:!0},s=>new Promise(async(o,c)=>{await s.restyle({setHideOnLeave:!1});const u=us(t,"network-request-failed"),f=hs().setTimeout(()=>{c(u)},O2.get());function g(){hs().clearTimeout(f),o(s)}s.ping(g).then(g,()=>{c(u)})}))}const U2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},B2=500,z2=600,q2="_blank",F2="http://localhost";class D0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function H2(t,e,n,s=B2,o=z2){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),u=Math.max((window.screen.availWidth-s)/2,0).toString();let f="";const g={...U2,width:s.toString(),height:o.toString(),top:c,left:u},y=Rn().toLowerCase();n&&(f=xA(y)?q2:n),wA(y)&&(e=e||F2,g.scrollbars="yes");const _=Object.entries(g).reduce((S,[N,k])=>`${S}${N}=${k},`,"");if(cD(y)&&f!=="_self")return G2(e||"",f),new D0(null);const b=window.open(e||"",f,_);Re(b,t,"popup-blocked");try{b.focus()}catch{}return new D0(b)}function G2(t,e){const n=document.createElement("a");n.href=t,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const K2="__/auth/handler",Y2="emulator/auth/handler",Q2=encodeURIComponent("fac");async function O0(t,e,n,s,o,c){Re(t.config.authDomain,t,"auth-domain-config-required"),Re(t.config.apiKey,t,"invalid-api-key");const u={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:s,v:oo,eventId:o};if(e instanceof kA){e.setDefaultLanguage(t.languageCode),u.providerId=e.providerId||"",II(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,b]of Object.entries({}))u[_]=b}if(e instanceof pu){const _=e.getScopes().filter(b=>b!=="");_.length>0&&(u.scopes=_.join(","))}t.tenantId&&(u.tid=t.tenantId);const f=u;for(const _ of Object.keys(f))f[_]===void 0&&delete f[_];const g=await t._getAppCheckToken(),y=g?`#${Q2}=${encodeURIComponent(g)}`:"";return`${X2(t)}?${du(f).slice(1)}${y}`}function X2({config:t}){return t.emulator?iy(t,Y2):`https://${t.authDomain}/${K2}`}const Cp="webStorageSupport";class $2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=HA,this._completeRedirectFn=T2,this._overrideRedirectResult=y2}async _openPopup(e,n,s,o){Qs(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await O0(e,n,s,ag(),o);return H2(e,c,ly())}async _openRedirect(e,n,s,o){await this._originValidation(e);const c=await O0(e,n,s,ag(),o);return JD(c),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:c}=this.eventManagers[n];return o?Promise.resolve(o):(Qs(c,"If manager is not set, promise should be"),c)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await L2(e),s=new b2(e);return n.register("authEvent",o=>(Re(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Cp,{type:Cp},o=>{const c=o?.[0]?.[Cp];c!==void 0&&n(!!c),qi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=x2(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return OA()||RA()||ry()}}const W2=$2;var V0="@firebase/auth",M0="1.12.0";class Z2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function J2(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function eO(t){eo(new Wr("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:u,authDomain:f}=s.options;Re(u&&!u.includes(":"),"invalid-api-key",{appName:s.name});const g={apiKey:u,authDomain:f,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:VA(t)},y=new pD(s,o,c,g);return wD(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),eo(new Wr("auth-internal",e=>{const n=oa(e.getProvider("auth").getImmediate());return(s=>new Z2(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),cs(V0,M0,J2(t)),cs(V0,M0,"esm2020")}const tO=300,nO=uA("authIdTokenMaxAge")||tO;let P0=null;const iO=t=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>nO)return;const o=n?.token;P0!==o&&(P0=o,await fetch(t,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function sO(t=ty()){const e=Wd(t,"auth");if(e.isInitialized())return e.getImmediate();const n=AD(t,{popupRedirectResolver:W2,persistence:[l2,$D,HA]}),s=uA("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(s,location.origin);if(location.origin===c.origin){const u=iO(c.toString());KD(n,u,()=>u(n.currentUser)),GD(n,f=>u(f))}}const o=oA("auth");return o&&RD(n,`http://${o}`),n}function rO(){return document.getElementsByTagName("head")?.[0]??document}gD({loadJS(t){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",t),s.onload=e,s.onerror=o=>{const c=us("internal-error");c.customData=o,n(c)},s.type="text/javascript",s.charset="UTF-8",rO().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});eO("Browser");var j0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Qr,WA;(function(){var t;function e(C,x){function I(){}I.prototype=x.prototype,C.F=x.prototype,C.prototype=new I,C.prototype.constructor=C,C.D=function(M,V,U){for(var D=Array(arguments.length-2),st=2;st<arguments.length;st++)D[st-2]=arguments[st];return x.prototype[V].apply(M,D)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(C,x,I){I||(I=0);const M=Array(16);if(typeof x=="string")for(var V=0;V<16;++V)M[V]=x.charCodeAt(I++)|x.charCodeAt(I++)<<8|x.charCodeAt(I++)<<16|x.charCodeAt(I++)<<24;else for(V=0;V<16;++V)M[V]=x[I++]|x[I++]<<8|x[I++]<<16|x[I++]<<24;x=C.g[0],I=C.g[1],V=C.g[2];let U=C.g[3],D;D=x+(U^I&(V^U))+M[0]+3614090360&4294967295,x=I+(D<<7&4294967295|D>>>25),D=U+(V^x&(I^V))+M[1]+3905402710&4294967295,U=x+(D<<12&4294967295|D>>>20),D=V+(I^U&(x^I))+M[2]+606105819&4294967295,V=U+(D<<17&4294967295|D>>>15),D=I+(x^V&(U^x))+M[3]+3250441966&4294967295,I=V+(D<<22&4294967295|D>>>10),D=x+(U^I&(V^U))+M[4]+4118548399&4294967295,x=I+(D<<7&4294967295|D>>>25),D=U+(V^x&(I^V))+M[5]+1200080426&4294967295,U=x+(D<<12&4294967295|D>>>20),D=V+(I^U&(x^I))+M[6]+2821735955&4294967295,V=U+(D<<17&4294967295|D>>>15),D=I+(x^V&(U^x))+M[7]+4249261313&4294967295,I=V+(D<<22&4294967295|D>>>10),D=x+(U^I&(V^U))+M[8]+1770035416&4294967295,x=I+(D<<7&4294967295|D>>>25),D=U+(V^x&(I^V))+M[9]+2336552879&4294967295,U=x+(D<<12&4294967295|D>>>20),D=V+(I^U&(x^I))+M[10]+4294925233&4294967295,V=U+(D<<17&4294967295|D>>>15),D=I+(x^V&(U^x))+M[11]+2304563134&4294967295,I=V+(D<<22&4294967295|D>>>10),D=x+(U^I&(V^U))+M[12]+1804603682&4294967295,x=I+(D<<7&4294967295|D>>>25),D=U+(V^x&(I^V))+M[13]+4254626195&4294967295,U=x+(D<<12&4294967295|D>>>20),D=V+(I^U&(x^I))+M[14]+2792965006&4294967295,V=U+(D<<17&4294967295|D>>>15),D=I+(x^V&(U^x))+M[15]+1236535329&4294967295,I=V+(D<<22&4294967295|D>>>10),D=x+(V^U&(I^V))+M[1]+4129170786&4294967295,x=I+(D<<5&4294967295|D>>>27),D=U+(I^V&(x^I))+M[6]+3225465664&4294967295,U=x+(D<<9&4294967295|D>>>23),D=V+(x^I&(U^x))+M[11]+643717713&4294967295,V=U+(D<<14&4294967295|D>>>18),D=I+(U^x&(V^U))+M[0]+3921069994&4294967295,I=V+(D<<20&4294967295|D>>>12),D=x+(V^U&(I^V))+M[5]+3593408605&4294967295,x=I+(D<<5&4294967295|D>>>27),D=U+(I^V&(x^I))+M[10]+38016083&4294967295,U=x+(D<<9&4294967295|D>>>23),D=V+(x^I&(U^x))+M[15]+3634488961&4294967295,V=U+(D<<14&4294967295|D>>>18),D=I+(U^x&(V^U))+M[4]+3889429448&4294967295,I=V+(D<<20&4294967295|D>>>12),D=x+(V^U&(I^V))+M[9]+568446438&4294967295,x=I+(D<<5&4294967295|D>>>27),D=U+(I^V&(x^I))+M[14]+3275163606&4294967295,U=x+(D<<9&4294967295|D>>>23),D=V+(x^I&(U^x))+M[3]+4107603335&4294967295,V=U+(D<<14&4294967295|D>>>18),D=I+(U^x&(V^U))+M[8]+1163531501&4294967295,I=V+(D<<20&4294967295|D>>>12),D=x+(V^U&(I^V))+M[13]+2850285829&4294967295,x=I+(D<<5&4294967295|D>>>27),D=U+(I^V&(x^I))+M[2]+4243563512&4294967295,U=x+(D<<9&4294967295|D>>>23),D=V+(x^I&(U^x))+M[7]+1735328473&4294967295,V=U+(D<<14&4294967295|D>>>18),D=I+(U^x&(V^U))+M[12]+2368359562&4294967295,I=V+(D<<20&4294967295|D>>>12),D=x+(I^V^U)+M[5]+4294588738&4294967295,x=I+(D<<4&4294967295|D>>>28),D=U+(x^I^V)+M[8]+2272392833&4294967295,U=x+(D<<11&4294967295|D>>>21),D=V+(U^x^I)+M[11]+1839030562&4294967295,V=U+(D<<16&4294967295|D>>>16),D=I+(V^U^x)+M[14]+4259657740&4294967295,I=V+(D<<23&4294967295|D>>>9),D=x+(I^V^U)+M[1]+2763975236&4294967295,x=I+(D<<4&4294967295|D>>>28),D=U+(x^I^V)+M[4]+1272893353&4294967295,U=x+(D<<11&4294967295|D>>>21),D=V+(U^x^I)+M[7]+4139469664&4294967295,V=U+(D<<16&4294967295|D>>>16),D=I+(V^U^x)+M[10]+3200236656&4294967295,I=V+(D<<23&4294967295|D>>>9),D=x+(I^V^U)+M[13]+681279174&4294967295,x=I+(D<<4&4294967295|D>>>28),D=U+(x^I^V)+M[0]+3936430074&4294967295,U=x+(D<<11&4294967295|D>>>21),D=V+(U^x^I)+M[3]+3572445317&4294967295,V=U+(D<<16&4294967295|D>>>16),D=I+(V^U^x)+M[6]+76029189&4294967295,I=V+(D<<23&4294967295|D>>>9),D=x+(I^V^U)+M[9]+3654602809&4294967295,x=I+(D<<4&4294967295|D>>>28),D=U+(x^I^V)+M[12]+3873151461&4294967295,U=x+(D<<11&4294967295|D>>>21),D=V+(U^x^I)+M[15]+530742520&4294967295,V=U+(D<<16&4294967295|D>>>16),D=I+(V^U^x)+M[2]+3299628645&4294967295,I=V+(D<<23&4294967295|D>>>9),D=x+(V^(I|~U))+M[0]+4096336452&4294967295,x=I+(D<<6&4294967295|D>>>26),D=U+(I^(x|~V))+M[7]+1126891415&4294967295,U=x+(D<<10&4294967295|D>>>22),D=V+(x^(U|~I))+M[14]+2878612391&4294967295,V=U+(D<<15&4294967295|D>>>17),D=I+(U^(V|~x))+M[5]+4237533241&4294967295,I=V+(D<<21&4294967295|D>>>11),D=x+(V^(I|~U))+M[12]+1700485571&4294967295,x=I+(D<<6&4294967295|D>>>26),D=U+(I^(x|~V))+M[3]+2399980690&4294967295,U=x+(D<<10&4294967295|D>>>22),D=V+(x^(U|~I))+M[10]+4293915773&4294967295,V=U+(D<<15&4294967295|D>>>17),D=I+(U^(V|~x))+M[1]+2240044497&4294967295,I=V+(D<<21&4294967295|D>>>11),D=x+(V^(I|~U))+M[8]+1873313359&4294967295,x=I+(D<<6&4294967295|D>>>26),D=U+(I^(x|~V))+M[15]+4264355552&4294967295,U=x+(D<<10&4294967295|D>>>22),D=V+(x^(U|~I))+M[6]+2734768916&4294967295,V=U+(D<<15&4294967295|D>>>17),D=I+(U^(V|~x))+M[13]+1309151649&4294967295,I=V+(D<<21&4294967295|D>>>11),D=x+(V^(I|~U))+M[4]+4149444226&4294967295,x=I+(D<<6&4294967295|D>>>26),D=U+(I^(x|~V))+M[11]+3174756917&4294967295,U=x+(D<<10&4294967295|D>>>22),D=V+(x^(U|~I))+M[2]+718787259&4294967295,V=U+(D<<15&4294967295|D>>>17),D=I+(U^(V|~x))+M[9]+3951481745&4294967295,C.g[0]=C.g[0]+x&4294967295,C.g[1]=C.g[1]+(V+(D<<21&4294967295|D>>>11))&4294967295,C.g[2]=C.g[2]+V&4294967295,C.g[3]=C.g[3]+U&4294967295}s.prototype.v=function(C,x){x===void 0&&(x=C.length);const I=x-this.blockSize,M=this.C;let V=this.h,U=0;for(;U<x;){if(V==0)for(;U<=I;)o(this,C,U),U+=this.blockSize;if(typeof C=="string"){for(;U<x;)if(M[V++]=C.charCodeAt(U++),V==this.blockSize){o(this,M),V=0;break}}else for(;U<x;)if(M[V++]=C[U++],V==this.blockSize){o(this,M),V=0;break}}this.h=V,this.o+=x},s.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var x=1;x<C.length-8;++x)C[x]=0;x=this.o*8;for(var I=C.length-8;I<C.length;++I)C[I]=x&255,x/=256;for(this.v(C),C=Array(16),x=0,I=0;I<4;++I)for(let M=0;M<32;M+=8)C[x++]=this.g[I]>>>M&255;return C};function c(C,x){var I=f;return Object.prototype.hasOwnProperty.call(I,C)?I[C]:I[C]=x(C)}function u(C,x){this.h=x;const I=[];let M=!0;for(let V=C.length-1;V>=0;V--){const U=C[V]|0;M&&U==x||(I[V]=U,M=!1)}this.g=I}var f={};function g(C){return-128<=C&&C<128?c(C,function(x){return new u([x|0],x<0?-1:0)}):new u([C|0],C<0?-1:0)}function y(C){if(isNaN(C)||!isFinite(C))return b;if(C<0)return L(y(-C));const x=[];let I=1;for(let M=0;C>=I;M++)x[M]=C/I|0,I*=4294967296;return new u(x,0)}function _(C,x){if(C.length==0)throw Error("number format error: empty string");if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(C.charAt(0)=="-")return L(_(C.substring(1),x));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=y(Math.pow(x,8));let M=b;for(let U=0;U<C.length;U+=8){var V=Math.min(8,C.length-U);const D=parseInt(C.substring(U,U+V),x);V<8?(V=y(Math.pow(x,V)),M=M.j(V).add(y(D))):(M=M.j(I),M=M.add(y(D)))}return M}var b=g(0),S=g(1),N=g(16777216);t=u.prototype,t.m=function(){if(G(this))return-L(this).m();let C=0,x=1;for(let I=0;I<this.g.length;I++){const M=this.i(I);C+=(M>=0?M:4294967296+M)*x,x*=4294967296}return C},t.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(k(this))return"0";if(G(this))return"-"+L(this).toString(C);const x=y(Math.pow(C,6));var I=this;let M="";for(;;){const V=ae(I,x).g;I=H(I,V.j(x));let U=((I.g.length>0?I.g[0]:I.h)>>>0).toString(C);if(I=V,k(I))return U+M;for(;U.length<6;)U="0"+U;M=U+M}},t.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function k(C){if(C.h!=0)return!1;for(let x=0;x<C.g.length;x++)if(C.g[x]!=0)return!1;return!0}function G(C){return C.h==-1}t.l=function(C){return C=H(this,C),G(C)?-1:k(C)?0:1};function L(C){const x=C.g.length,I=[];for(let M=0;M<x;M++)I[M]=~C.g[M];return new u(I,~C.h).add(S)}t.abs=function(){return G(this)?L(this):this},t.add=function(C){const x=Math.max(this.g.length,C.g.length),I=[];let M=0;for(let V=0;V<=x;V++){let U=M+(this.i(V)&65535)+(C.i(V)&65535),D=(U>>>16)+(this.i(V)>>>16)+(C.i(V)>>>16);M=D>>>16,U&=65535,D&=65535,I[V]=D<<16|U}return new u(I,I[I.length-1]&-2147483648?-1:0)};function H(C,x){return C.add(L(x))}t.j=function(C){if(k(this)||k(C))return b;if(G(this))return G(C)?L(this).j(L(C)):L(L(this).j(C));if(G(C))return L(this.j(L(C)));if(this.l(N)<0&&C.l(N)<0)return y(this.m()*C.m());const x=this.g.length+C.g.length,I=[];for(var M=0;M<2*x;M++)I[M]=0;for(M=0;M<this.g.length;M++)for(let V=0;V<C.g.length;V++){const U=this.i(M)>>>16,D=this.i(M)&65535,st=C.i(V)>>>16,vt=C.i(V)&65535;I[2*M+2*V]+=D*vt,Q(I,2*M+2*V),I[2*M+2*V+1]+=U*vt,Q(I,2*M+2*V+1),I[2*M+2*V+1]+=D*st,Q(I,2*M+2*V+1),I[2*M+2*V+2]+=U*st,Q(I,2*M+2*V+2)}for(C=0;C<x;C++)I[C]=I[2*C+1]<<16|I[2*C];for(C=x;C<2*x;C++)I[C]=0;return new u(I,0)};function Q(C,x){for(;(C[x]&65535)!=C[x];)C[x+1]+=C[x]>>>16,C[x]&=65535,x++}function J(C,x){this.g=C,this.h=x}function ae(C,x){if(k(x))throw Error("division by zero");if(k(C))return new J(b,b);if(G(C))return x=ae(L(C),x),new J(L(x.g),L(x.h));if(G(x))return x=ae(C,L(x)),new J(L(x.g),x.h);if(C.g.length>30){if(G(C)||G(x))throw Error("slowDivide_ only works with positive integers.");for(var I=S,M=x;M.l(C)<=0;)I=ce(I),M=ce(M);var V=me(I,1),U=me(M,1);for(M=me(M,2),I=me(I,2);!k(M);){var D=U.add(M);D.l(C)<=0&&(V=V.add(I),U=D),M=me(M,1),I=me(I,1)}return x=H(C,V.j(x)),new J(V,x)}for(V=b;C.l(x)>=0;){for(I=Math.max(1,Math.floor(C.m()/x.m())),M=Math.ceil(Math.log(I)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),U=y(I),D=U.j(x);G(D)||D.l(C)>0;)I-=M,U=y(I),D=U.j(x);k(U)&&(U=S),V=V.add(U),C=H(C,D)}return new J(V,C)}t.B=function(C){return ae(this,C).h},t.and=function(C){const x=Math.max(this.g.length,C.g.length),I=[];for(let M=0;M<x;M++)I[M]=this.i(M)&C.i(M);return new u(I,this.h&C.h)},t.or=function(C){const x=Math.max(this.g.length,C.g.length),I=[];for(let M=0;M<x;M++)I[M]=this.i(M)|C.i(M);return new u(I,this.h|C.h)},t.xor=function(C){const x=Math.max(this.g.length,C.g.length),I=[];for(let M=0;M<x;M++)I[M]=this.i(M)^C.i(M);return new u(I,this.h^C.h)};function ce(C){const x=C.g.length+1,I=[];for(let M=0;M<x;M++)I[M]=C.i(M)<<1|C.i(M-1)>>>31;return new u(I,C.h)}function me(C,x){const I=x>>5;x%=32;const M=C.g.length-I,V=[];for(let U=0;U<M;U++)V[U]=x>0?C.i(U+I)>>>x|C.i(U+I+1)<<32-x:C.i(U+I);return new u(V,C.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,WA=s,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=y,u.fromString=_,Qr=u}).apply(typeof j0<"u"?j0:typeof self<"u"?self:typeof window<"u"?window:{});var Xh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ZA,jc,JA,fd,cg,ew,tw,nw;(function(){var t,e=Object.defineProperty;function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Xh=="object"&&Xh];for(var v=0;v<h.length;++v){var E=h[v];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var s=n(this);function o(h,v){if(v)e:{var E=s;h=h.split(".");for(var R=0;R<h.length-1;R++){var z=h[R];if(!(z in E))break e;E=E[z]}h=h[h.length-1],R=E[h],v=v(R),v!=R&&v!=null&&e(E,h,{configurable:!0,writable:!0,value:v})}}o("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(h){return h||function(v){var E=[],R;for(R in v)Object.prototype.hasOwnProperty.call(v,R)&&E.push([R,v[R]]);return E}});var c=c||{},u=this||self;function f(h){var v=typeof h;return v=="object"&&h!=null||v=="function"}function g(h,v,E){return h.call.apply(h.bind,arguments)}function y(h,v,E){return y=g,y.apply(null,arguments)}function _(h,v){var E=Array.prototype.slice.call(arguments,1);return function(){var R=E.slice();return R.push.apply(R,arguments),h.apply(this,R)}}function b(h,v){function E(){}E.prototype=v.prototype,h.Z=v.prototype,h.prototype=new E,h.prototype.constructor=h,h.Ob=function(R,z,X){for(var he=Array(arguments.length-2),Pe=2;Pe<arguments.length;Pe++)he[Pe-2]=arguments[Pe];return v.prototype[z].apply(R,he)}}var S=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function N(h){const v=h.length;if(v>0){const E=Array(v);for(let R=0;R<v;R++)E[R]=h[R];return E}return[]}function k(h,v){for(let R=1;R<arguments.length;R++){const z=arguments[R];var E=typeof z;if(E=E!="object"?E:z?Array.isArray(z)?"array":E:"null",E=="array"||E=="object"&&typeof z.length=="number"){E=h.length||0;const X=z.length||0;h.length=E+X;for(let he=0;he<X;he++)h[E+he]=z[he]}else h.push(z)}}class G{constructor(v,E){this.i=v,this.j=E,this.h=0,this.g=null}get(){let v;return this.h>0?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function L(h){u.setTimeout(()=>{throw h},0)}function H(){var h=C;let v=null;return h.g&&(v=h.g,h.g=h.g.next,h.g||(h.h=null),v.next=null),v}class Q{constructor(){this.h=this.g=null}add(v,E){const R=J.get();R.set(v,E),this.h?this.h.next=R:this.g=R,this.h=R}}var J=new G(()=>new ae,h=>h.reset());class ae{constructor(){this.next=this.g=this.h=null}set(v,E){this.h=v,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let ce,me=!1,C=new Q,x=()=>{const h=Promise.resolve(void 0);ce=()=>{h.then(I)}};function I(){for(var h;h=H();){try{h.h.call(h.g)}catch(E){L(E)}var v=J;v.j(h),v.h<100&&(v.h++,h.next=v.g,v.g=h)}me=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function V(h,v){this.type=h,this.g=this.target=v,this.defaultPrevented=!1}V.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var h=!1,v=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const E=()=>{};u.addEventListener("test",E,v),u.removeEventListener("test",E,v)}catch{}return h})();function D(h){return/^[\s\xa0]*$/.test(h)}function st(h,v){V.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,v)}b(st,V),st.prototype.init=function(h,v){const E=this.type=h.type,R=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=v,v=h.relatedTarget,v||(E=="mouseover"?v=h.fromElement:E=="mouseout"&&(v=h.toElement)),this.relatedTarget=v,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&st.Z.h.call(this)},st.prototype.h=function(){st.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var vt="closure_listenable_"+(Math.random()*1e6|0),W=0;function le(h,v,E,R,z){this.listener=h,this.proxy=null,this.src=v,this.type=E,this.capture=!!R,this.ha=z,this.key=++W,this.da=this.fa=!1}function ge(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Ve(h,v,E){for(const R in h)v.call(E,h[R],R,h)}function Me(h,v){for(const E in h)v.call(void 0,h[E],E,h)}function P(h){const v={};for(const E in h)v[E]=h[E];return v}const te="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function fe(h,v){let E,R;for(let z=1;z<arguments.length;z++){R=arguments[z];for(E in R)h[E]=R[E];for(let X=0;X<te.length;X++)E=te[X],Object.prototype.hasOwnProperty.call(R,E)&&(h[E]=R[E])}}function de(h){this.src=h,this.g={},this.h=0}de.prototype.add=function(h,v,E,R,z){const X=h.toString();h=this.g[X],h||(h=this.g[X]=[],this.h++);const he=Ie(h,v,R,z);return he>-1?(v=h[he],E||(v.fa=!1)):(v=new le(v,this.src,X,!!R,z),v.fa=E,h.push(v)),v};function Ae(h,v){const E=v.type;if(E in h.g){var R=h.g[E],z=Array.prototype.indexOf.call(R,v,void 0),X;(X=z>=0)&&Array.prototype.splice.call(R,z,1),X&&(ge(v),h.g[E].length==0&&(delete h.g[E],h.h--))}}function Ie(h,v,E,R){for(let z=0;z<h.length;++z){const X=h[z];if(!X.da&&X.listener==v&&X.capture==!!E&&X.ha==R)return z}return-1}var Be="closure_lm_"+(Math.random()*1e6|0),nt={};function Ze(h,v,E,R,z){if(Array.isArray(v)){for(let X=0;X<v.length;X++)Ze(h,v[X],E,R,z);return null}return E=ha(E),h&&h[vt]?h.J(v,E,f(R)?!!R.capture:!1,z):Ue(h,v,E,!1,R,z)}function Ue(h,v,E,R,z,X){if(!v)throw Error("Invalid event type");const he=f(z)?!!z.capture:!!z;let Pe=Es(h);if(Pe||(h[Be]=Pe=new de(h)),E=Pe.add(v,E,R,he,X),E.proxy)return E;if(R=Dn(),E.proxy=R,R.src=h,R.listener=E,h.addEventListener)U||(z=he),z===void 0&&(z=!1),h.addEventListener(v.toString(),R,z);else if(h.attachEvent)h.attachEvent(On(v.toString()),R);else if(h.addListener&&h.removeListener)h.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Dn(){function h(E){return v.call(h.src,h.listener,E)}const v=tr;return h}function Ts(h,v,E,R,z){if(Array.isArray(v))for(var X=0;X<v.length;X++)Ts(h,v[X],E,R,z);else R=f(R)?!!R.capture:!!R,E=ha(E),h&&h[vt]?(h=h.i,X=String(v).toString(),X in h.g&&(v=h.g[X],E=Ie(v,E,R,z),E>-1&&(ge(v[E]),Array.prototype.splice.call(v,E,1),v.length==0&&(delete h.g[X],h.h--)))):h&&(h=Es(h))&&(v=h.g[v.toString()],h=-1,v&&(h=Ie(v,E,R,z)),(E=h>-1?v[h]:null)&&Yn(E))}function Yn(h){if(typeof h!="number"&&h&&!h.da){var v=h.src;if(v&&v[vt])Ae(v.i,h);else{var E=h.type,R=h.proxy;v.removeEventListener?v.removeEventListener(E,R,h.capture):v.detachEvent?v.detachEvent(On(E),R):v.addListener&&v.removeListener&&v.removeListener(R),(E=Es(v))?(Ae(E,h),E.h==0&&(E.src=null,v[Be]=null)):ge(h)}}}function On(h){return h in nt?nt[h]:nt[h]="on"+h}function tr(h,v){if(h.da)h=!0;else{v=new st(v,this);const E=h.listener,R=h.ha||h.src;h.fa&&Yn(h),h=E.call(R,v)}return h}function Es(h){return h=h[Be],h instanceof de?h:null}var bs="__closure_events_fn_"+(Math.random()*1e9>>>0);function ha(h){return typeof h=="function"?h:(h[bs]||(h[bs]=function(v){return h.handleEvent(v)}),h[bs])}function Se(){M.call(this),this.i=new de(this),this.M=this,this.G=null}b(Se,M),Se.prototype[vt]=!0,Se.prototype.removeEventListener=function(h,v,E,R){Ts(this,h,v,E,R)};function Je(h,v){var E,R=h.G;if(R)for(E=[];R;R=R.G)E.push(R);if(h=h.M,R=v.type||v,typeof v=="string")v=new V(v,h);else if(v instanceof V)v.target=v.target||h;else{var z=v;v=new V(R,h),fe(v,z)}z=!0;let X,he;if(E)for(he=E.length-1;he>=0;he--)X=v.g=E[he],z=ke(X,R,!0,v)&&z;if(X=v.g=h,z=ke(X,R,!0,v)&&z,z=ke(X,R,!1,v)&&z,E)for(he=0;he<E.length;he++)X=v.g=E[he],z=ke(X,R,!1,v)&&z}Se.prototype.N=function(){if(Se.Z.N.call(this),this.i){var h=this.i;for(const v in h.g){const E=h.g[v];for(let R=0;R<E.length;R++)ge(E[R]);delete h.g[v],h.h--}}this.G=null},Se.prototype.J=function(h,v,E,R){return this.i.add(String(h),v,!1,E,R)},Se.prototype.K=function(h,v,E,R){return this.i.add(String(h),v,!0,E,R)};function ke(h,v,E,R){if(v=h.i.g[String(v)],!v)return!0;v=v.concat();let z=!0;for(let X=0;X<v.length;++X){const he=v[X];if(he&&!he.da&&he.capture==E){const Pe=he.listener,Pt=he.ha||he.src;he.fa&&Ae(h.i,he),z=Pe.call(Pt,R)!==!1&&z}}return z&&!R.defaultPrevented}function Vl(h,v){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=y(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(v)>2147483647?-1:u.setTimeout(h,v||0)}function uo(h){h.g=Vl(()=>{h.g=null,h.i&&(h.i=!1,uo(h))},h.l);const v=h.h;h.h=null,h.m.apply(null,v)}class ln extends M{constructor(v,E){super(),this.m=v,this.l=E,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:uo(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ss(h){M.call(this),this.h=h,this.g={}}b(Ss,M);var da=[];function fa(h){Ve(h.g,function(v,E){this.g.hasOwnProperty(E)&&Yn(v)},h),h.g={}}Ss.prototype.N=function(){Ss.Z.N.call(this),fa(this)},Ss.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Hi=u.JSON.stringify,nr=u.JSON.parse,Ci=class{stringify(h){return u.JSON.stringify(h,void 0)}parse(h){return u.JSON.parse(h,void 0)}};function ho(){}function fo(){}var Vn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Wt(){V.call(this,"d")}b(Wt,V);function Mn(){V.call(this,"c")}b(Mn,V);var At={},As=null;function oi(){return As=As||new Se}At.Ia="serverreachability";function Gi(h){V.call(this,At.Ia,h)}b(Gi,V);function Ut(h){const v=oi();Je(v,new Gi(v))}At.STAT_EVENT="statevent";function ws(h,v){V.call(this,At.STAT_EVENT,h),this.stat=v}b(ws,V);function _t(h){const v=oi();Je(v,new ws(v,h))}At.Ja="timingevent";function li(h,v){V.call(this,At.Ja,h),this.size=v}b(li,V);function Qn(h,v){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){h()},v)}function nn(){this.g=!0}nn.prototype.ua=function(){this.g=!1};function ir(h,v,E,R,z,X){h.info(function(){if(h.g)if(X){var he="",Pe=X.split("&");for(let et=0;et<Pe.length;et++){var Pt=Pe[et].split("=");if(Pt.length>1){const Et=Pt[0];Pt=Pt[1];const mi=Et.split("_");he=mi.length>=2&&mi[1]=="type"?he+(Et+"="+Pt+"&"):he+(Et+"=redacted&")}}}else he=null;else he=X;return"XMLHTTP REQ ("+R+") [attempt "+z+"]: "+v+`
`+E+`
`+he})}function ma(h,v,E,R,z,X,he){h.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+z+"]: "+v+`
`+E+`
`+X+" "+he})}function ci(h,v,E,R){h.info(function(){return"XMLHTTP TEXT ("+v+"): "+_n(h,E)+(R?" "+R:"")})}function Ki(h,v){h.info(function(){return"TIMEOUT: "+v})}nn.prototype.info=function(){};function _n(h,v){if(!h.g)return v;if(!v)return null;try{const X=JSON.parse(v);if(X){for(h=0;h<X.length;h++)if(Array.isArray(X[h])){var E=X[h];if(!(E.length<2)){var R=E[1];if(Array.isArray(R)&&!(R.length<1)){var z=R[0];if(z!="noop"&&z!="stop"&&z!="close")for(let he=1;he<R.length;he++)R[he]=""}}}}return Hi(X)}catch{return v}}var Pn={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},sr={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Yi;function Qi(){}b(Qi,ho),Qi.prototype.g=function(){return new XMLHttpRequest},Yi=new Qi;function jn(h){return encodeURIComponent(String(h))}function pa(h){var v=1;h=h.split(":");const E=[];for(;v>0&&h.length;)E.push(h.shift()),v--;return h.length&&E.push(h.join(":")),E}function Bt(h,v,E,R){this.j=h,this.i=v,this.l=E,this.S=R||1,this.V=new Ss(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Xn}function Xn(){this.i=null,this.g="",this.h=!1}var wt={},Tt={};function Ii(h,v,E){h.M=1,h.A=_a(qt(v)),h.u=E,h.R=!0,ga(h,null)}function ga(h,v){h.F=Date.now(),Tn(h),h.B=qt(h.A);var E=h.B,R=h.S;Array.isArray(R)||(R=[String(R)]),go(E.i,"t",R),h.C=0,E=h.j.L,h.h=new Xn,h.g=zu(h.j,E?v:null,!h.u),h.P>0&&(h.O=new ln(y(h.Y,h,h.g),h.P)),v=h.V,E=h.g,R=h.ba;var z="readystatechange";Array.isArray(z)||(z&&(da[0]=z.toString()),z=da);for(let X=0;X<z.length;X++){const he=Ze(E,z[X],R||v.handleEvent,!1,v.h||v);if(!he)break;v.g[he.key]=he}v=h.J?P(h.J):{},h.u?(h.v||(h.v="POST"),v["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,v)):(h.v="GET",h.g.ea(h.B,h.v,null,v)),Ut(),ir(h.i,h.v,h.B,h.l,h.S,h.u)}Bt.prototype.ba=function(h){h=h.target;const v=this.O;v&&Oi(h)==3?v.j():this.Y(h)},Bt.prototype.Y=function(h){try{if(h==this.g)e:{const Pe=Oi(this.g),Pt=this.g.ya(),et=this.g.ca();if(!(Pe<3)&&(Pe!=3||this.g&&(this.h.h||this.g.la()||un(this.g)))){this.K||Pe!=4||Pt==7||(Pt==8||et<=0?Ut(3):Ut(2)),w(this);var v=this.g.ca();this.X=v;var E=ui(this);if(this.o=v==200,ma(this.i,this.v,this.B,this.l,this.S,Pe,v),this.o){if(this.U&&!this.L){t:{if(this.g){var R,z=this.g;if((R=z.g?z.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(R)){var X=R;break t}}X=null}if(h=X)ci(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,pe(this,h);else{this.o=!1,this.m=3,_t(12),oe(this),K(this);break e}}if(this.R){h=!0;let Et;for(;!this.K&&this.C<E.length;)if(Et=zt(this,E),Et==Tt){Pe==4&&(this.m=4,_t(14),h=!1),ci(this.i,this.l,null,"[Incomplete Response]");break}else if(Et==wt){this.m=4,_t(15),ci(this.i,this.l,E,"[Invalid Chunk]"),h=!1;break}else ci(this.i,this.l,Et,null),pe(this,Et);if(ya(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Pe!=4||E.length!=0||this.h.h||(this.m=1,_t(16),h=!1),this.o=this.o&&h,!h)ci(this.i,this.l,E,"[Invalid Chunked Response]"),oe(this),K(this);else if(E.length>0&&!this.W){this.W=!0;var he=this.j;he.g==this&&he.aa&&!he.P&&(he.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),Gl(he),he.P=!0,_t(11))}}else ci(this.i,this.l,E,null),pe(this,E);Pe==4&&oe(this),this.o&&!this.K&&(Pe==4?ku(this.j,this):(this.o=!1,Tn(this)))}else xs(this.g),v==400&&E.indexOf("Unknown SID")>0?(this.m=3,_t(12)):(this.m=0,_t(13)),oe(this),K(this)}}}catch{}};function ui(h){if(!ya(h))return h.g.la();const v=un(h.g);if(v==="")return"";let E="";const R=v.length,z=Oi(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return oe(h),K(h),"";h.h.i=new u.TextDecoder}for(let X=0;X<R;X++)h.h.h=!0,E+=h.h.i.decode(v[X],{stream:!(z&&X==R-1)});return v.length=0,h.h.g+=E,h.C=0,h.h.g}function ya(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function zt(h,v){var E=h.C,R=v.indexOf(`
`,E);return R==-1?Tt:(E=Number(v.substring(E,R)),isNaN(E)?wt:(R+=1,R+E>v.length?Tt:(v=v.slice(R,R+E),h.C=R+E,v)))}Bt.prototype.cancel=function(){this.K=!0,oe(this)};function Tn(h){h.T=Date.now()+h.H,rr(h,h.H)}function rr(h,v){if(h.D!=null)throw Error("WatchDog timer not null");h.D=Qn(y(h.aa,h),v)}function w(h){h.D&&(u.clearTimeout(h.D),h.D=null)}Bt.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(Ki(this.i,this.B),this.M!=2&&(Ut(),_t(17)),oe(this),this.m=2,K(this)):rr(this,this.T-h)};function K(h){h.j.I==0||h.K||ku(h.j,h)}function oe(h){w(h);var v=h.O;v&&typeof v.dispose=="function"&&v.dispose(),h.O=null,fa(h.V),h.g&&(v=h.g,h.g=null,v.abort(),v.dispose())}function pe(h,v){try{var E=h.j;if(E.I!=0&&(E.g==h||Ct(E.h,h))){if(!h.L&&Ct(E.h,h)&&E.I==3){try{var R=E.Ba.g.parse(v)}catch{R=null}if(Array.isArray(R)&&R.length==3){var z=R;if(z[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<h.F)Eo(E),fr(E);else break e;Ra(E),_t(18)}}else E.xa=z[1],0<E.xa-E.K&&z[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=Qn(y(E.Va,E),6e3));cn(E.h)<=1&&E.ta&&(E.ta=void 0)}else es(E,11)}else if((h.L||E.g==h)&&Eo(E),!D(v))for(z=E.Ba.g.parse(v),v=0;v<z.length;v++){let et=z[v];const Et=et[0];if(!(Et<=E.K))if(E.K=Et,et=et[1],E.I==2)if(et[0]=="c"){E.M=et[1],E.ba=et[2];const mi=et[3];mi!=null&&(E.ka=mi,E.j.info("VER="+E.ka));const ts=et[4];ts!=null&&(E.za=ts,E.j.info("SVER="+E.za));const Vi=et[5];Vi!=null&&typeof Vi=="number"&&Vi>0&&(R=1.5*Vi,E.O=R,E.j.info("backChannelRequestTimeoutMs_="+R)),R=E;const Mi=h.g;if(Mi){const xa=Mi.g?Mi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(xa){var X=R.h;X.g||xa.indexOf("spdy")==-1&&xa.indexOf("quic")==-1&&xa.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(va(X,X.h),X.h=null))}if(R.G){const bo=Mi.g?Mi.g.getResponseHeader("X-HTTP-Session-Id"):null;bo&&(R.wa=bo,rt(R.J,R.G,bo))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-h.F,E.j.info("Handshake RTT: "+E.T+"ms")),R=E;var he=h;if(R.na=Bu(R,R.L?R.ba:null,R.W),he.L){Ml(R.h,he);var Pe=he,Pt=R.O;Pt&&(Pe.H=Pt),Pe.D&&(w(Pe),Tn(Pe)),R.g=he}else Pu(R);E.i.length>0&&Ji(E)}else et[0]!="stop"&&et[0]!="close"||es(E,7);else E.I==3&&(et[0]=="stop"||et[0]=="close"?et[0]=="stop"?es(E,7):Fl(E):et[0]!="noop"&&E.l&&E.l.qa(et),E.A=0)}}Ut(4)}catch{}}var ue=class{constructor(h,v){this.g=h,this.map=v}};function ft(h){this.l=h||10,u.PerformanceNavigationTiming?(h=u.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function hi(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function cn(h){return h.h?1:h.g?h.g.size:0}function Ct(h,v){return h.h?h.h==v:h.g?h.g.has(v):!1}function va(h,v){h.g?h.g.add(v):h.h=v}function Ml(h,v){h.h&&h.h==v?h.h=null:h.g&&h.g.has(v)&&h.g.delete(v)}ft.prototype.cancel=function(){if(this.i=Pl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Pl(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let v=h.i;for(const E of h.g.values())v=v.concat(E.G);return v}return N(h.i)}var Iu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function mo(h,v){if(h){h=h.split("&");for(let E=0;E<h.length;E++){const R=h[E].indexOf("=");let z,X=null;R>=0?(z=h[E].substring(0,R),X=h[E].substring(R+1)):z=h[E],v(z,X?decodeURIComponent(X.replace(/\+/g," ")):"")}}}function $n(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let v;h instanceof $n?(this.l=h.l,sn(this,h.j),this.o=h.o,this.g=h.g,ar(this,h.u),this.h=h.h,jl(this,Vu(h.i)),this.m=h.m):h&&(v=String(h).match(Iu))?(this.l=!1,sn(this,v[1]||"",!0),this.o=Xi(v[2]||""),this.g=Xi(v[3]||"",!0),ar(this,v[4]),this.h=Xi(v[5]||"",!0),jl(this,v[6]||"",!0),this.m=Xi(v[7]||"")):(this.l=!1,this.i=new lr(null,this.l))}$n.prototype.toString=function(){const h=[];var v=this.j;v&&h.push(Ta(v,po,!0),":");var E=this.g;return(E||v=="file")&&(h.push("//"),(v=this.o)&&h.push(Ta(v,po,!0),"@"),h.push(jn(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&h.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&h.push("/"),h.push(Ta(E,E.charAt(0)=="/"?kl:Nu,!0))),(E=this.i.toString())&&h.push("?",E),(E=this.m)&&h.push("#",Ta(E,Du)),h.join("")},$n.prototype.resolve=function(h){const v=qt(this);let E=!!h.j;E?sn(v,h.j):E=!!h.o,E?v.o=h.o:E=!!h.g,E?v.g=h.g:E=h.u!=null;var R=h.h;if(E)ar(v,h.u);else if(E=!!h.h){if(R.charAt(0)!="/")if(this.g&&!this.h)R="/"+R;else{var z=v.h.lastIndexOf("/");z!=-1&&(R=v.h.slice(0,z+1)+R)}if(z=R,z==".."||z==".")R="";else if(z.indexOf("./")!=-1||z.indexOf("/.")!=-1){R=z.lastIndexOf("/",0)==0,z=z.split("/");const X=[];for(let he=0;he<z.length;){const Pe=z[he++];Pe=="."?R&&he==z.length&&X.push(""):Pe==".."?((X.length>1||X.length==1&&X[0]!="")&&X.pop(),R&&he==z.length&&X.push("")):(X.push(Pe),R=!0)}R=X.join("/")}else R=z}return E?v.h=R:E=h.i.toString()!=="",E?jl(v,Vu(h.i)):E=!!h.m,E&&(v.m=h.m),v};function qt(h){return new $n(h)}function sn(h,v,E){h.j=E?Xi(v,!0):v,h.j&&(h.j=h.j.replace(/:$/,""))}function ar(h,v){if(v){if(v=Number(v),isNaN(v)||v<0)throw Error("Bad port number "+v);h.u=v}else h.u=null}function jl(h,v,E){v instanceof lr?(h.i=v,yo(h.i,h.l)):(E||(v=Ta(v,or)),h.i=new lr(v,h.l))}function rt(h,v,E){h.i.set(v,E)}function _a(h){return rt(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function Xi(h,v){return h?v?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Ta(h,v,E){return typeof h=="string"?(h=encodeURI(h).replace(v,kn),E&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function kn(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var po=/[#\/\?@]/g,Nu=/[#\?:]/g,kl=/[#\?]/g,or=/[#\?@]/g,Du=/#/g;function lr(h,v){this.h=this.g=null,this.i=h||null,this.j=!!v}function Ln(h){h.g||(h.g=new Map,h.h=0,h.i&&mo(h.i,function(v,E){h.add(decodeURIComponent(v.replace(/\+/g," ")),E)}))}t=lr.prototype,t.add=function(h,v){Ln(this),this.i=null,h=cr(this,h);let E=this.g.get(h);return E||this.g.set(h,E=[]),E.push(v),this.h+=1,this};function Ou(h,v){Ln(h),v=cr(h,v),h.g.has(v)&&(h.i=null,h.h-=h.g.get(v).length,h.g.delete(v))}function Ll(h,v){return Ln(h),v=cr(h,v),h.g.has(v)}t.forEach=function(h,v){Ln(this),this.g.forEach(function(E,R){E.forEach(function(z){h.call(v,z,R,this)},this)},this)};function Ul(h,v){Ln(h);let E=[];if(typeof v=="string")Ll(h,v)&&(E=E.concat(h.g.get(cr(h,v))));else for(h=Array.from(h.g.values()),v=0;v<h.length;v++)E=E.concat(h[v]);return E}t.set=function(h,v){return Ln(this),this.i=null,h=cr(this,h),Ll(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[v]),this.h+=1,this},t.get=function(h,v){return h?(h=Ul(this,h),h.length>0?String(h[0]):v):v};function go(h,v,E){Ou(h,v),E.length>0&&(h.i=null,h.g.set(cr(h,v),N(E)),h.h+=E.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],v=Array.from(this.g.keys());for(let R=0;R<v.length;R++){var E=v[R];const z=jn(E);E=Ul(this,E);for(let X=0;X<E.length;X++){let he=z;E[X]!==""&&(he+="="+jn(E[X])),h.push(he)}}return this.i=h.join("&")};function Vu(h){const v=new lr;return v.i=h.i,h.g&&(v.g=new Map(h.g),v.h=h.h),v}function cr(h,v){return v=String(v),h.j&&(v=v.toLowerCase()),v}function yo(h,v){v&&!h.j&&(Ln(h),h.i=null,h.g.forEach(function(E,R){const z=R.toLowerCase();R!=z&&(Ou(this,R),go(this,z,E))},h)),h.j=v}function Ni(h,v){const E=new nn;if(u.Image){const R=new Image;R.onload=_(di,E,"TestLoadImage: loaded",!0,v,R),R.onerror=_(di,E,"TestLoadImage: error",!1,v,R),R.onabort=_(di,E,"TestLoadImage: abort",!1,v,R),R.ontimeout=_(di,E,"TestLoadImage: timeout",!1,v,R),u.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=h}else v(!1)}function Bl(h,v){const E=new nn,R=new AbortController,z=setTimeout(()=>{R.abort(),di(E,"TestPingServer: timeout",!1,v)},1e4);fetch(h,{signal:R.signal}).then(X=>{clearTimeout(z),X.ok?di(E,"TestPingServer: ok",!0,v):di(E,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(z),di(E,"TestPingServer: error",!1,v)})}function di(h,v,E,R,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),R(E)}catch{}}function ur(){this.g=new Ci}function $i(h){this.i=h.Sb||null,this.h=h.ab||!1}b($i,ho),$i.prototype.g=function(){return new Ea(this.i,this.h)};function Ea(h,v){Se.call(this),this.H=h,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(Ea,Se),t=Ea.prototype,t.open=function(h,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=v,this.readyState=1,Di(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const v={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(v.body=h),(this.H||u).fetch(new Request(this.D,v)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,hr(this)),this.readyState=0},t.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Di(this)),this.g&&(this.readyState=3,Di(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;vo(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function vo(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}t.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var v=h.value?h.value:new Uint8Array(0);(v=this.B.decode(v,{stream:!h.done}))&&(this.response=this.responseText+=v)}h.done?hr(this):Di(this),this.readyState==3&&vo(this)}},t.Oa=function(h){this.g&&(this.response=this.responseText=h,hr(this))},t.Na=function(h){this.g&&(this.response=h,hr(this))},t.ga=function(){this.g&&hr(this)};function hr(h){h.readyState=4,h.l=null,h.j=null,h.B=null,Di(h)}t.setRequestHeader=function(h,v){this.A.append(h,v)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],v=this.h.entries();for(var E=v.next();!E.done;)E=E.value,h.push(E[0]+": "+E[1]),E=v.next();return h.join(`\r
`)};function Di(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Ea.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function fi(h){let v="";return Ve(h,function(E,R){v+=R,v+=":",v+=E,v+=`\r
`}),v}function ba(h,v,E){e:{for(R in E){var R=!1;break e}R=!0}R||(E=fi(E),typeof h=="string"?E!=null&&jn(E):rt(h,v,E))}function lt(h){Se.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(lt,Se);var Wi=/^https?$/i,zl=["POST","PUT"];t=lt.prototype,t.Fa=function(h){this.H=h},t.ea=function(h,v,E,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);v=v?v.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Yi.g(),this.g.onreadystatechange=S(y(this.Ca,this));try{this.B=!0,this.g.open(v,String(h),!0),this.B=!1}catch(X){Sa(this,X);return}if(h=E||"",E=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var z in R)E.set(z,R[z]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const X of R.keys())E.set(X,R.get(X));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(E.keys()).find(X=>X.toLowerCase()=="content-type"),z=u.FormData&&h instanceof u.FormData,!(Array.prototype.indexOf.call(zl,v,void 0)>=0)||R||z||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,he]of E)this.g.setRequestHeader(X,he);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(X){Sa(this,X)}};function Sa(h,v){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=v,h.o=5,ql(h),Rs(h)}function ql(h){h.A||(h.A=!0,Je(h,"complete"),Je(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,Je(this,"complete"),Je(this,"abort"),Rs(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Rs(this,!0)),lt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Aa(this):this.Xa())},t.Xa=function(){Aa(this)};function Aa(h){if(h.h&&typeof c<"u"){if(h.v&&Oi(h)==4)setTimeout(h.Ca.bind(h),0);else if(Je(h,"readystatechange"),Oi(h)==4){h.h=!1;try{const X=h.ca();e:switch(X){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var E;if(!(E=v)){var R;if(R=X===0){let he=String(h.D).match(Iu)[1]||null;!he&&u.self&&u.self.location&&(he=u.self.location.protocol.slice(0,-1)),R=!Wi.test(he?he.toLowerCase():"")}E=R}if(E)Je(h,"complete"),Je(h,"success");else{h.o=6;try{var z=Oi(h)>2?h.g.statusText:""}catch{z=""}h.l=z+" ["+h.ca()+"]",ql(h)}}finally{Rs(h)}}}}function Rs(h,v){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const E=h.g;h.g=null,v||Je(h,"ready");try{E.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Oi(h){return h.g?h.g.readyState:0}t.ca=function(){try{return Oi(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(h){if(this.g){var v=this.g.responseText;return h&&v.indexOf(h)==0&&(v=v.substring(h.length)),nr(v)}};function un(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function xs(h){const v={};h=(h.g&&Oi(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<h.length;R++){if(D(h[R]))continue;var E=pa(h[R]);const z=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const X=v[z]||[];v[z]=X,X.push(E)}Me(v,function(R){return R.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Zi(h,v,E){return E&&E.internalChannelParams&&E.internalChannelParams[h]||v}function dr(h){this.za=0,this.i=[],this.j=new nn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Zi("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Zi("baseRetryDelayMs",5e3,h),this.Za=Zi("retryDelaySeedMs",1e4,h),this.Ta=Zi("forwardChannelMaxRetries",2,h),this.va=Zi("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new ft(h&&h.concurrentRequestLimit),this.Ba=new ur,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=dr.prototype,t.ka=8,t.I=1,t.connect=function(h,v,E,R){_t(0),this.W=h,this.H=v||{},E&&R!==void 0&&(this.H.OSID=E,this.H.OAID=R),this.F=this.X,this.J=Bu(this,null,this.W),Ji(this)};function Fl(h){if(_o(h),h.I==3){var v=h.V++,E=qt(h.J);if(rt(E,"SID",h.M),rt(E,"RID",v),rt(E,"TYPE","terminate"),wa(h,E),v=new Bt(h,h.j,v),v.M=2,v.A=_a(qt(E)),E=!1,u.navigator&&u.navigator.sendBeacon)try{E=u.navigator.sendBeacon(v.A.toString(),"")}catch{}!E&&u.Image&&(new Image().src=v.A,E=!0),E||(v.g=zu(v.j,null),v.g.ea(v.A)),v.F=Date.now(),Tn(v)}Uu(h)}function fr(h){h.g&&(Gl(h),h.g.cancel(),h.g=null)}function _o(h){fr(h),h.v&&(u.clearTimeout(h.v),h.v=null),Eo(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&u.clearTimeout(h.m),h.m=null)}function Ji(h){if(!hi(h.h)&&!h.m){h.m=!0;var v=h.Ea;ce||x(),me||(ce(),me=!0),C.add(v,h),h.D=0}}function To(h,v){return cn(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=v.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=Qn(y(h.Ea,h,v),Lu(h,h.D)),h.D++,!0)}t.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const z=new Bt(this,this.j,h);let X=this.o;if(this.U&&(X?(X=P(X),fe(X,this.U)):X=this.U),this.u!==null||this.R||(z.J=X,X=null),this.S)e:{for(var v=0,E=0;E<this.i.length;E++){t:{var R=this.i[E];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(v+=R,v>4096){v=E;break e}if(v===4096||E===this.i.length-1){v=E+1;break e}}v=1e3}else v=1e3;v=Mu(this,z,v),E=qt(this.J),rt(E,"RID",h),rt(E,"CVER",22),this.G&&rt(E,"X-HTTP-Session-Id",this.G),wa(this,E),X&&(this.R?v="headers="+jn(fi(X))+"&"+v:this.u&&ba(E,this.u,X)),va(this.h,z),this.Ra&&rt(E,"TYPE","init"),this.S?(rt(E,"$req",v),rt(E,"SID","null"),z.U=!0,Ii(z,E,null)):Ii(z,E,v),this.I=2}}else this.I==3&&(h?Hl(this,h):this.i.length==0||hi(this.h)||Hl(this))};function Hl(h,v){var E;v?E=v.l:E=h.V++;const R=qt(h.J);rt(R,"SID",h.M),rt(R,"RID",E),rt(R,"AID",h.K),wa(h,R),h.u&&h.o&&ba(R,h.u,h.o),E=new Bt(h,h.j,E,h.D+1),h.u===null&&(E.J=h.o),v&&(h.i=v.G.concat(h.i)),v=Mu(h,E,1e3),E.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),va(h.h,E),Ii(E,R,v)}function wa(h,v){h.H&&Ve(h.H,function(E,R){rt(v,R,E)}),h.l&&Ve({},function(E,R){rt(v,R,E)})}function Mu(h,v,E){E=Math.min(h.i.length,E);const R=h.l?y(h.l.Ka,h.l,h):null;e:{var z=h.i;let Pe=-1;for(;;){const Pt=["count="+E];Pe==-1?E>0?(Pe=z[0].g,Pt.push("ofs="+Pe)):Pe=0:Pt.push("ofs="+Pe);let et=!0;for(let Et=0;Et<E;Et++){var X=z[Et].g;const mi=z[Et].map;if(X-=Pe,X<0)Pe=Math.max(0,z[Et].g-100),et=!1;else try{X="req"+X+"_"||"";try{var he=mi instanceof Map?mi:Object.entries(mi);for(const[ts,Vi]of he){let Mi=Vi;f(Vi)&&(Mi=Hi(Vi)),Pt.push(X+ts+"="+encodeURIComponent(Mi))}}catch(ts){throw Pt.push(X+"type="+encodeURIComponent("_badmap")),ts}}catch{R&&R(mi)}}if(et){he=Pt.join("&");break e}}he=void 0}return h=h.i.splice(0,E),v.G=h,he}function Pu(h){if(!h.g&&!h.v){h.Y=1;var v=h.Da;ce||x(),me||(ce(),me=!0),C.add(v,h),h.A=0}}function Ra(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=Qn(y(h.Da,h),Lu(h,h.A)),h.A++,!0)}t.Da=function(){if(this.v=null,ju(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=Qn(y(this.Wa,this),h)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,_t(10),fr(this),ju(this))};function Gl(h){h.B!=null&&(u.clearTimeout(h.B),h.B=null)}function ju(h){h.g=new Bt(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var v=qt(h.na);rt(v,"RID","rpc"),rt(v,"SID",h.M),rt(v,"AID",h.K),rt(v,"CI",h.F?"0":"1"),!h.F&&h.ia&&rt(v,"TO",h.ia),rt(v,"TYPE","xmlhttp"),wa(h,v),h.u&&h.o&&ba(v,h.u,h.o),h.O&&(h.g.H=h.O);var E=h.g;h=h.ba,E.M=1,E.A=_a(qt(v)),E.u=null,E.R=!0,ga(E,h)}t.Va=function(){this.C!=null&&(this.C=null,fr(this),Ra(this),_t(19))};function Eo(h){h.C!=null&&(u.clearTimeout(h.C),h.C=null)}function ku(h,v){var E=null;if(h.g==v){Eo(h),Gl(h),h.g=null;var R=2}else if(Ct(h.h,v))E=v.G,Ml(h.h,v),R=1;else return;if(h.I!=0){if(v.o)if(R==1){E=v.u?v.u.length:0,v=Date.now()-v.F;var z=h.D;R=oi(),Je(R,new li(R,E)),Ji(h)}else Pu(h);else if(z=v.m,z==3||z==0&&v.X>0||!(R==1&&To(h,v)||R==2&&Ra(h)))switch(E&&E.length>0&&(v=h.h,v.i=v.i.concat(E)),z){case 1:es(h,5);break;case 4:es(h,10);break;case 3:es(h,6);break;default:es(h,2)}}}function Lu(h,v){let E=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(E*=2),E*v}function es(h,v){if(h.j.info("Error code "+v),v==2){var E=y(h.bb,h),R=h.Ua;const z=!R;R=new $n(R||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||sn(R,"https"),_a(R),z?Ni(R.toString(),E):Bl(R.toString(),E)}else _t(2);h.I=0,h.l&&h.l.pa(v),Uu(h),_o(h)}t.bb=function(h){h?(this.j.info("Successfully pinged google.com"),_t(2)):(this.j.info("Failed to ping google.com"),_t(1))};function Uu(h){if(h.I=0,h.ja=[],h.l){const v=Pl(h.h);(v.length!=0||h.i.length!=0)&&(k(h.ja,v),k(h.ja,h.i),h.h.i.length=0,N(h.i),h.i.length=0),h.l.oa()}}function Bu(h,v,E){var R=E instanceof $n?qt(E):new $n(E);if(R.g!="")v&&(R.g=v+"."+R.g),ar(R,R.u);else{var z=u.location;R=z.protocol,v=v?v+"."+z.hostname:z.hostname,z=+z.port;const X=new $n(null);R&&sn(X,R),v&&(X.g=v),z&&ar(X,z),E&&(X.h=E),R=X}return E=h.G,v=h.wa,E&&v&&rt(R,E,v),rt(R,"VER",h.ka),wa(h,R),R}function zu(h,v,E){if(v&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return v=h.Aa&&!h.ma?new lt(new $i({ab:E})):new lt(h.ma),v.Fa(h.L),v}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function qu(){}t=qu.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function mr(){}mr.prototype.g=function(h,v){return new xn(h,v)};function xn(h,v){Se.call(this),this.g=new dr(v),this.l=h,this.h=v&&v.messageUrlParams||null,h=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(h?h["X-WebChannel-Content-Type"]=v.messageContentType:h={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.sa&&(h?h["X-WebChannel-Client-Profile"]=v.sa:h={"X-WebChannel-Client-Profile":v.sa}),this.g.U=h,(h=v&&v.Qb)&&!D(h)&&(this.g.u=h),this.A=v&&v.supportsCrossDomainXhr||!1,this.v=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!D(v)&&(this.g.G=v,h=this.h,h!==null&&v in h&&(h=this.h,v in h&&delete h[v])),this.j=new Cs(this)}b(xn,Se),xn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},xn.prototype.close=function(){Fl(this.g)},xn.prototype.o=function(h){var v=this.g;if(typeof h=="string"){var E={};E.__data__=h,h=E}else this.v&&(E={},E.__data__=Hi(h),h=E);v.i.push(new ue(v.Ya++,h)),v.I==3&&Ji(v)},xn.prototype.N=function(){this.g.l=null,delete this.j,Fl(this.g),delete this.g,xn.Z.N.call(this)};function Fu(h){Wt.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var v=h.__sm__;if(v){e:{for(const E in v){h=E;break e}h=void 0}(this.i=h)&&(h=this.i,v=v!==null&&h in v?v[h]:void 0),this.data=v}else this.data=h}b(Fu,Wt);function Hu(){Mn.call(this),this.status=1}b(Hu,Mn);function Cs(h){this.g=h}b(Cs,qu),Cs.prototype.ra=function(){Je(this.g,"a")},Cs.prototype.qa=function(h){Je(this.g,new Fu(h))},Cs.prototype.pa=function(h){Je(this.g,new Hu)},Cs.prototype.oa=function(){Je(this.g,"b")},mr.prototype.createWebChannel=mr.prototype.g,xn.prototype.send=xn.prototype.o,xn.prototype.open=xn.prototype.m,xn.prototype.close=xn.prototype.close,nw=function(){return new mr},tw=function(){return oi()},ew=At,cg={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Pn.NO_ERROR=0,Pn.TIMEOUT=8,Pn.HTTP_ERROR=6,fd=Pn,sr.COMPLETE="complete",JA=sr,fo.EventType=Vn,Vn.OPEN="a",Vn.CLOSE="b",Vn.ERROR="c",Vn.MESSAGE="d",Se.prototype.listen=Se.prototype.J,jc=fo,lt.prototype.listenOnce=lt.prototype.K,lt.prototype.getLastError=lt.prototype.Ha,lt.prototype.getLastErrorCode=lt.prototype.ya,lt.prototype.getStatus=lt.prototype.ca,lt.prototype.getResponseJson=lt.prototype.La,lt.prototype.getResponseText=lt.prototype.la,lt.prototype.send=lt.prototype.ea,lt.prototype.setWithCredentials=lt.prototype.Fa,ZA=lt}).apply(typeof Xh<"u"?Xh:typeof self<"u"?self:typeof window<"u"?window:{});const k0="@firebase/firestore",L0="4.9.3";class Sn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Sn.UNAUTHENTICATED=new Sn(null),Sn.GOOGLE_CREDENTIALS=new Sn("google-credentials-uid"),Sn.FIRST_PARTY=new Sn("first-party-uid"),Sn.MOCK_USER=new Sn("mock-user");let wl="12.7.0";const io=new Jg("@firebase/firestore");function Jo(){return io.logLevel}function ve(t,...e){if(io.logLevel<=Ge.DEBUG){const n=e.map(uy);io.debug(`Firestore (${wl}): ${t}`,...n)}}function Xs(t,...e){if(io.logLevel<=Ge.ERROR){const n=e.map(uy);io.error(`Firestore (${wl}): ${t}`,...n)}}function gl(t,...e){if(io.logLevel<=Ge.WARN){const n=e.map(uy);io.warn(`Firestore (${wl}): ${t}`,...n)}}function uy(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function xe(t,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,iw(t,s,n)}function iw(t,e,n){let s=`FIRESTORE (${wl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Xs(s),new Error(s)}function it(t,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,t||iw(e,o,s)}function Oe(t,e){return t}const ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ye extends _s{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Xr{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class sw{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class aO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Sn.UNAUTHENTICATED)))}shutdown(){}}class oO{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class lO{constructor(e){this.t=e,this.currentUser=Sn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){it(this.o===void 0,42304);let s=this.i;const o=g=>this.i!==s?(s=this.i,n(g)):Promise.resolve();let c=new Xr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Xr,e.enqueueRetryable((()=>o(this.currentUser)))};const u=()=>{const g=c;e.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},f=g=>{ve("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((g=>f(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?f(g):(ve("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Xr)}}),0),u()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(ve("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(it(typeof s.accessToken=="string",31837,{l:s}),new sw(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return it(e===null||typeof e=="string",2055,{h:e}),new Sn(e)}}class cO{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=Sn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class uO{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new cO(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Sn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class U0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class hO{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,si(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){it(this.o===void 0,3512);const s=c=>{c.error!=null&&ve("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const u=c.token!==this.m;return this.m=c.token,ve("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>s(c)))};const o=c=>{ve("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):ve("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new U0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(it(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new U0(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function dO(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<t;s++)n[s]=Math.floor(256*Math.random());return n}class hy{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=dO(40);for(let c=0;c<o.length;++c)s.length<20&&o[c]<n&&(s+=e.charAt(o[c]%62))}return s}}function Ke(t,e){return t<e?-1:t>e?1:0}function ug(t,e){const n=Math.min(t.length,e.length);for(let s=0;s<n;s++){const o=t.charAt(s),c=e.charAt(s);if(o!==c)return Ip(o)===Ip(c)?Ke(o,c):Ip(o)?1:-1}return Ke(t.length,e.length)}const fO=55296,mO=57343;function Ip(t){const e=t.charCodeAt(0);return e>=fO&&e<=mO}function yl(t,e,n){return t.length===e.length&&t.every(((s,o)=>n(s,e[o])))}const B0="__name__";class os{constructor(e,n,s){n===void 0?n=0:n>e.length&&xe(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&xe(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return os.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof os?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const c=os.compareSegments(e.get(o),n.get(o));if(c!==0)return c}return Ke(e.length,n.length)}static compareSegments(e,n){const s=os.isNumericId(e),o=os.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?os.extractNumericId(e).compare(os.extractNumericId(n)):ug(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Qr.fromString(e.substring(4,e.length-2))}}class mt extends os{construct(e,n,s){return new mt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new ye(ie.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new mt(n)}static emptyPath(){return new mt([])}}const pO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class yn extends os{construct(e,n,s){return new yn(e,n,s)}static isValidIdentifier(e){return pO.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),yn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===B0}static keyField(){return new yn([B0])}static fromServerFormat(e){const n=[];let s="",o=0;const c=()=>{if(s.length===0)throw new ye(ie.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let u=!1;for(;o<e.length;){const f=e[o];if(f==="\\"){if(o+1===e.length)throw new ye(ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new ye(ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=g,o+=2}else f==="`"?(u=!u,o++):f!=="."||u?(s+=f,o++):(c(),o++)}if(c(),u)throw new ye(ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new yn(n)}static emptyPath(){return new yn([])}}class be{constructor(e){this.path=e}static fromPath(e){return new be(mt.fromString(e))}static fromName(e){return new be(mt.fromString(e).popFirst(5))}static empty(){return new be(mt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&mt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return mt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new be(new mt(e.slice()))}}function rw(t,e,n){if(!n)throw new ye(ie.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function gO(t,e,n,s){if(e===!0&&s===!0)throw new ye(ie.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function z0(t){if(!be.isDocumentKey(t))throw new ye(ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function q0(t){if(be.isDocumentKey(t))throw new ye(ie.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function aw(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function tf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":xe(12329,{type:typeof t})}function so(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ye(ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=tf(t);throw new ye(ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function $t(t,e){const n={typeString:t};return e&&(n.value=e),n}function yu(t,e){if(!aw(t))throw new ye(ie.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,c="value"in e[s]?{value:e[s].value}:void 0;if(!(s in t)){n=`JSON missing required field: '${s}'`;break}const u=t[s];if(o&&typeof u!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(c!==void 0&&u!==c.value){n=`Expected '${s}' field to equal '${c.value}'`;break}}if(n)throw new ye(ie.INVALID_ARGUMENT,n);return!0}const F0=-62135596800,H0=1e6;class yt{static now(){return yt.fromMillis(Date.now())}static fromDate(e){return yt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*H0);return new yt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ye(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ye(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<F0)throw new ye(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ye(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/H0}_compareTo(e){return this.seconds===e.seconds?Ke(this.nanoseconds,e.nanoseconds):Ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:yt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(yu(e,yt._jsonSchema))return new yt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-F0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}yt._jsonSchemaVersion="firestore/timestamp/1.0",yt._jsonSchema={type:$t("string",yt._jsonSchemaVersion),seconds:$t("number"),nanoseconds:$t("number")};class Ne{static fromTimestamp(e){return new Ne(e)}static min(){return new Ne(new yt(0,0))}static max(){return new Ne(new yt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const eu=-1;function yO(t,e){const n=t.toTimestamp().seconds,s=t.toTimestamp().nanoseconds+1,o=Ne.fromTimestamp(s===1e9?new yt(n+1,0):new yt(n,s));return new Zr(o,be.empty(),e)}function vO(t){return new Zr(t.readTime,t.key,eu)}class Zr{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Zr(Ne.min(),be.empty(),eu)}static max(){return new Zr(Ne.max(),be.empty(),eu)}}function _O(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=be.comparator(t.documentKey,e.documentKey),n!==0?n:Ke(t.largestBatchId,e.largestBatchId))}const TO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class EO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Rl(t){if(t.code!==ie.FAILED_PRECONDITION||t.message!==TO)throw t;ve("LocalStore","Unexpectedly lost primary lease")}class se{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&xe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new se(((s,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,o)},this.catchCallback=c=>{this.wrapFailure(n,c).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof se?n:se.resolve(n)}catch(n){return se.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):se.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):se.reject(n)}static resolve(e){return new se(((n,s)=>{n(e)}))}static reject(e){return new se(((n,s)=>{s(e)}))}static waitFor(e){return new se(((n,s)=>{let o=0,c=0,u=!1;e.forEach((f=>{++o,f.next((()=>{++c,u&&c===o&&n()}),(g=>s(g)))})),u=!0,c===o&&n()}))}static or(e){let n=se.resolve(!1);for(const s of e)n=n.next((o=>o?se.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,c)=>{s.push(n.call(this,o,c))})),this.waitFor(s)}static mapArray(e,n){return new se(((s,o)=>{const c=e.length,u=new Array(c);let f=0;for(let g=0;g<c;g++){const y=g;n(e[y]).next((_=>{u[y]=_,++f,f===c&&s(u)}),(_=>o(_)))}}))}static doWhile(e,n){return new se(((s,o)=>{const c=()=>{e()===!0?n().next((()=>{c()}),o):s()};c()}))}}function bO(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function xl(t){return t.name==="IndexedDbTransactionError"}class nf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}nf.ce=-1;const dy=-1;function sf(t){return t==null}function Od(t){return t===0&&1/t==-1/0}function SO(t){return typeof t=="number"&&Number.isInteger(t)&&!Od(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const ow="";function AO(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=G0(e)),e=wO(t.get(n),e);return G0(e)}function wO(t,e){let n=e;const s=t.length;for(let o=0;o<s;o++){const c=t.charAt(o);switch(c){case"\0":n+="";break;case ow:n+="";break;default:n+=c}}return n}function G0(t){return t+ow+""}function K0(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function la(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function lw(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class xt{constructor(e,n){this.comparator=e,this.root=n||gn.EMPTY}insert(e,n){return new xt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,gn.BLACK,null,null))}remove(e){return new xt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,gn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new $h(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new $h(this.root,e,this.comparator,!1)}getReverseIterator(){return new $h(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new $h(this.root,e,this.comparator,!0)}}class $h{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=n?s(e.key,n):1,n&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class gn{constructor(e,n,s,o,c){this.key=e,this.value=n,this.color=s??gn.RED,this.left=o??gn.EMPTY,this.right=c??gn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,c){return new gn(e??this.key,n??this.value,s??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const c=s(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,n,s),null):c===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return gn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return gn.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,gn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,gn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw xe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw xe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw xe(27949);return e+(this.isRed()?0:1)}}gn.EMPTY=null,gn.RED=!0,gn.BLACK=!1;gn.EMPTY=new class{constructor(){this.size=0}get key(){throw xe(57766)}get value(){throw xe(16141)}get color(){throw xe(16727)}get left(){throw xe(29726)}get right(){throw xe(36894)}copy(e,n,s,o,c){return this}insert(e,n,s){return new gn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class tn{constructor(e){this.comparator=e,this.data=new xt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Y0(this.data.getIterator())}getIteratorFrom(e){return new Y0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof tn)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,c=s.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new tn(this.comparator);return n.data=e,n}}class Y0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ri{constructor(e){this.fields=e,e.sort(yn.comparator)}static empty(){return new ri([])}unionWith(e){let n=new tn(yn.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new ri(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return yl(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}class cw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class vn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new cw("Invalid base64 string: "+c):c}})(e);return new vn(n)}static fromUint8Array(e){const n=(function(o){let c="";for(let u=0;u<o.length;++u)c+=String.fromCharCode(o[u]);return c})(e);return new vn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}vn.EMPTY_BYTE_STRING=new vn("");const RO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Jr(t){if(it(!!t,39018),typeof t=="string"){let e=0;const n=RO.exec(t);if(it(!!n,46558,{timestamp:t}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(t);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Lt(t.seconds),nanos:Lt(t.nanos)}}function Lt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ea(t){return typeof t=="string"?vn.fromBase64String(t):vn.fromUint8Array(t)}const uw="server_timestamp",hw="__type__",dw="__previous_value__",fw="__local_write_time__";function fy(t){return(t?.mapValue?.fields||{})[hw]?.stringValue===uw}function rf(t){const e=t.mapValue.fields[dw];return fy(e)?rf(e):e}function tu(t){const e=Jr(t.mapValue.fields[fw].timestampValue);return new yt(e.seconds,e.nanos)}class xO{constructor(e,n,s,o,c,u,f,g,y,_){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=c,this.forceLongPolling=u,this.autoDetectLongPolling=f,this.longPollingOptions=g,this.useFetchStreams=y,this.isUsingEmulator=_}}const Vd="(default)";class nu{constructor(e,n){this.projectId=e,this.database=n||Vd}static empty(){return new nu("","")}get isDefaultDatabase(){return this.database===Vd}isEqual(e){return e instanceof nu&&e.projectId===this.projectId&&e.database===this.database}}const mw="__type__",CO="__max__",Wh={mapValue:{}},pw="__vector__",Md="value";function ta(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?fy(t)?4:NO(t)?9007199254740991:IO(t)?10:11:xe(28295,{value:t})}function vs(t,e){if(t===e)return!0;const n=ta(t);if(n!==ta(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return tu(t).isEqual(tu(e));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const u=Jr(o.timestampValue),f=Jr(c.timestampValue);return u.seconds===f.seconds&&u.nanos===f.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(o,c){return ea(o.bytesValue).isEqual(ea(c.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(o,c){return Lt(o.geoPointValue.latitude)===Lt(c.geoPointValue.latitude)&&Lt(o.geoPointValue.longitude)===Lt(c.geoPointValue.longitude)})(t,e);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return Lt(o.integerValue)===Lt(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const u=Lt(o.doubleValue),f=Lt(c.doubleValue);return u===f?Od(u)===Od(f):isNaN(u)&&isNaN(f)}return!1})(t,e);case 9:return yl(t.arrayValue.values||[],e.arrayValue.values||[],vs);case 10:case 11:return(function(o,c){const u=o.mapValue.fields||{},f=c.mapValue.fields||{};if(K0(u)!==K0(f))return!1;for(const g in u)if(u.hasOwnProperty(g)&&(f[g]===void 0||!vs(u[g],f[g])))return!1;return!0})(t,e);default:return xe(52216,{left:t})}}function iu(t,e){return(t.values||[]).find((n=>vs(n,e)))!==void 0}function vl(t,e){if(t===e)return 0;const n=ta(t),s=ta(e);if(n!==s)return Ke(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ke(t.booleanValue,e.booleanValue);case 2:return(function(c,u){const f=Lt(c.integerValue||c.doubleValue),g=Lt(u.integerValue||u.doubleValue);return f<g?-1:f>g?1:f===g?0:isNaN(f)?isNaN(g)?0:-1:1})(t,e);case 3:return Q0(t.timestampValue,e.timestampValue);case 4:return Q0(tu(t),tu(e));case 5:return ug(t.stringValue,e.stringValue);case 6:return(function(c,u){const f=ea(c),g=ea(u);return f.compareTo(g)})(t.bytesValue,e.bytesValue);case 7:return(function(c,u){const f=c.split("/"),g=u.split("/");for(let y=0;y<f.length&&y<g.length;y++){const _=Ke(f[y],g[y]);if(_!==0)return _}return Ke(f.length,g.length)})(t.referenceValue,e.referenceValue);case 8:return(function(c,u){const f=Ke(Lt(c.latitude),Lt(u.latitude));return f!==0?f:Ke(Lt(c.longitude),Lt(u.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return X0(t.arrayValue,e.arrayValue);case 10:return(function(c,u){const f=c.fields||{},g=u.fields||{},y=f[Md]?.arrayValue,_=g[Md]?.arrayValue,b=Ke(y?.values?.length||0,_?.values?.length||0);return b!==0?b:X0(y,_)})(t.mapValue,e.mapValue);case 11:return(function(c,u){if(c===Wh.mapValue&&u===Wh.mapValue)return 0;if(c===Wh.mapValue)return 1;if(u===Wh.mapValue)return-1;const f=c.fields||{},g=Object.keys(f),y=u.fields||{},_=Object.keys(y);g.sort(),_.sort();for(let b=0;b<g.length&&b<_.length;++b){const S=ug(g[b],_[b]);if(S!==0)return S;const N=vl(f[g[b]],y[_[b]]);if(N!==0)return N}return Ke(g.length,_.length)})(t.mapValue,e.mapValue);default:throw xe(23264,{he:n})}}function Q0(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ke(t,e);const n=Jr(t),s=Jr(e),o=Ke(n.seconds,s.seconds);return o!==0?o:Ke(n.nanos,s.nanos)}function X0(t,e){const n=t.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const c=vl(n[o],s[o]);if(c)return c}return Ke(n.length,s.length)}function _l(t){return hg(t)}function hg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const s=Jr(n);return`time(${s.seconds},${s.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return ea(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return be.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let s="[",o=!0;for(const c of n.values||[])o?o=!1:s+=",",s+=hg(c);return s+"]"})(t.arrayValue):"mapValue"in t?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",c=!0;for(const u of s)c?c=!1:o+=",",o+=`${u}:${hg(n.fields[u])}`;return o+"}"})(t.mapValue):xe(61005,{value:t})}function md(t){switch(ta(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=rf(t);return e?16+md(e):16;case 5:return 2*t.stringValue.length;case 6:return ea(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,c)=>o+md(c)),0)})(t.arrayValue);case 10:case 11:return(function(s){let o=0;return la(s.fields,((c,u)=>{o+=c.length+md(u)})),o})(t.mapValue);default:throw xe(13486,{value:t})}}function $0(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function dg(t){return!!t&&"integerValue"in t}function my(t){return!!t&&"arrayValue"in t}function W0(t){return!!t&&"nullValue"in t}function Z0(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function pd(t){return!!t&&"mapValue"in t}function IO(t){return(t?.mapValue?.fields||{})[mw]?.stringValue===pw}function qc(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return la(t.mapValue.fields,((n,s)=>e.mapValue.fields[n]=qc(s))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=qc(t.arrayValue.values[n]);return e}return{...t}}function NO(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===CO}class Gn{constructor(e){this.value=e}static empty(){return new Gn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!pd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=qc(n)}setAll(e){let n=yn.emptyPath(),s={},o=[];e.forEach(((u,f)=>{if(!n.isImmediateParentOf(f)){const g=this.getFieldsMap(n);this.applyChanges(g,s,o),s={},o=[],n=f.popLast()}u?s[f.lastSegment()]=qc(u):o.push(f.lastSegment())}));const c=this.getFieldsMap(n);this.applyChanges(c,s,o)}delete(e){const n=this.field(e.popLast());pd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return vs(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];pd(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){la(n,((o,c)=>e[o]=c));for(const o of s)delete e[o]}clone(){return new Gn(qc(this.value))}}function gw(t){const e=[];return la(t.fields,((n,s)=>{const o=new yn([n]);if(pd(s)){const c=gw(s.mapValue).fields;if(c.length===0)e.push(o);else for(const u of c)e.push(o.child(u))}else e.push(o)})),new ri(e)}class An{constructor(e,n,s,o,c,u,f){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=c,this.data=u,this.documentState=f}static newInvalidDocument(e){return new An(e,0,Ne.min(),Ne.min(),Ne.min(),Gn.empty(),0)}static newFoundDocument(e,n,s,o){return new An(e,1,n,Ne.min(),s,o,0)}static newNoDocument(e,n){return new An(e,2,n,Ne.min(),Ne.min(),Gn.empty(),0)}static newUnknownDocument(e,n){return new An(e,3,n,Ne.min(),Ne.min(),Gn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ne.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Gn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Gn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ne.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof An&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new An(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Pd{constructor(e,n){this.position=e,this.inclusive=n}}function J0(t,e,n){let s=0;for(let o=0;o<t.position.length;o++){const c=e[o],u=t.position[o];if(c.field.isKeyField()?s=be.comparator(be.fromName(u.referenceValue),n.key):s=vl(u,n.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function eb(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!vs(t.position[n],e.position[n]))return!1;return!0}class jd{constructor(e,n="asc"){this.field=e,this.dir=n}}function DO(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class yw{}class Xt extends yw{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new VO(e,n,s):n==="array-contains"?new jO(e,s):n==="in"?new kO(e,s):n==="not-in"?new LO(e,s):n==="array-contains-any"?new UO(e,s):new Xt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new MO(e,s):new PO(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(vl(n,this.value)):n!==null&&ta(this.value)===ta(n)&&this.matchesComparison(vl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return xe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Fi extends yw{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Fi(e,n)}matches(e){return vw(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function vw(t){return t.op==="and"}function _w(t){return OO(t)&&vw(t)}function OO(t){for(const e of t.filters)if(e instanceof Fi)return!1;return!0}function fg(t){if(t instanceof Xt)return t.field.canonicalString()+t.op.toString()+_l(t.value);if(_w(t))return t.filters.map((e=>fg(e))).join(",");{const e=t.filters.map((n=>fg(n))).join(",");return`${t.op}(${e})`}}function Tw(t,e){return t instanceof Xt?(function(s,o){return o instanceof Xt&&s.op===o.op&&s.field.isEqual(o.field)&&vs(s.value,o.value)})(t,e):t instanceof Fi?(function(s,o){return o instanceof Fi&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((c,u,f)=>c&&Tw(u,o.filters[f])),!0):!1})(t,e):void xe(19439)}function Ew(t){return t instanceof Xt?(function(n){return`${n.field.canonicalString()} ${n.op} ${_l(n.value)}`})(t):t instanceof Fi?(function(n){return n.op.toString()+" {"+n.getFilters().map(Ew).join(" ,")+"}"})(t):"Filter"}class VO extends Xt{constructor(e,n,s){super(e,n,s),this.key=be.fromName(s.referenceValue)}matches(e){const n=be.comparator(e.key,this.key);return this.matchesComparison(n)}}class MO extends Xt{constructor(e,n){super(e,"in",n),this.keys=bw("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class PO extends Xt{constructor(e,n){super(e,"not-in",n),this.keys=bw("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function bw(t,e){return(e.arrayValue?.values||[]).map((n=>be.fromName(n.referenceValue)))}class jO extends Xt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return my(n)&&iu(n.arrayValue,this.value)}}class kO extends Xt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&iu(this.value.arrayValue,n)}}class LO extends Xt{constructor(e,n){super(e,"not-in",n)}matches(e){if(iu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!iu(this.value.arrayValue,n)}}class UO extends Xt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!my(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>iu(this.value.arrayValue,s)))}}class BO{constructor(e,n=null,s=[],o=[],c=null,u=null,f=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=c,this.startAt=u,this.endAt=f,this.Te=null}}function tb(t,e=null,n=[],s=[],o=null,c=null,u=null){return new BO(t,e,n,s,o,c,u)}function py(t){const e=Oe(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>fg(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(c){return c.field.canonicalString()+c.dir})(s))).join(","),sf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>_l(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>_l(s))).join(",")),e.Te=n}return e.Te}function gy(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!DO(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Tw(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!eb(t.startAt,e.startAt)&&eb(t.endAt,e.endAt)}function mg(t){return be.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class vu{constructor(e,n=null,s=[],o=[],c=null,u="F",f=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=c,this.limitType=u,this.startAt=f,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function zO(t,e,n,s,o,c,u,f){return new vu(t,e,n,s,o,c,u,f)}function Sw(t){return new vu(t)}function nb(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Aw(t){return t.collectionGroup!==null}function Fc(t){const e=Oe(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),n.add(c.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let f=new tn(yn.comparator);return u.filters.forEach((g=>{g.getFlattenedFilters().forEach((y=>{y.isInequality()&&(f=f.add(y.field))}))})),f})(e).forEach((c=>{n.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new jd(c,s))})),n.has(yn.keyField().canonicalString())||e.Ie.push(new jd(yn.keyField(),s))}return e.Ie}function ds(t){const e=Oe(t);return e.Ee||(e.Ee=qO(e,Fc(t))),e.Ee}function qO(t,e){if(t.limitType==="F")return tb(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new jd(o.field,c)}));const n=t.endAt?new Pd(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new Pd(t.startAt.position,t.startAt.inclusive):null;return tb(t.path,t.collectionGroup,e,t.filters,t.limit,n,s)}}function pg(t,e){const n=t.filters.concat([e]);return new vu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function gg(t,e,n){return new vu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function af(t,e){return gy(ds(t),ds(e))&&t.limitType===e.limitType}function ww(t){return`${py(ds(t))}|lt:${t.limitType}`}function el(t){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>Ew(o))).join(", ")}]`),sf(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>_l(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>_l(o))).join(",")),`Target(${s})`})(ds(t))}; limitType=${t.limitType})`}function of(t,e){return e.isFoundDocument()&&(function(s,o){const c=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):be.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)})(t,e)&&(function(s,o){for(const c of Fc(s))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(t,e)&&(function(s,o){for(const c of s.filters)if(!c.matches(o))return!1;return!0})(t,e)&&(function(s,o){return!(s.startAt&&!(function(u,f,g){const y=J0(u,f,g);return u.inclusive?y<=0:y<0})(s.startAt,Fc(s),o)||s.endAt&&!(function(u,f,g){const y=J0(u,f,g);return u.inclusive?y>=0:y>0})(s.endAt,Fc(s),o))})(t,e)}function FO(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Rw(t){return(e,n)=>{let s=!1;for(const o of Fc(t)){const c=HO(o,e,n);if(c!==0)return c;s=s||o.field.isKeyField()}return 0}}function HO(t,e,n){const s=t.field.isKeyField()?be.comparator(e.key,n.key):(function(c,u,f){const g=u.data.field(c),y=f.data.field(c);return g!==null&&y!==null?vl(g,y):xe(42886)})(t.field,e,n);switch(t.dir){case"asc":return s;case"desc":return-1*s;default:return xe(19790,{direction:t.dir})}}class lo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,c]of s)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){la(this.inner,((n,s)=>{for(const[o,c]of s)e(o,c)}))}isEmpty(){return lw(this.inner)}size(){return this.innerSize}}const GO=new xt(be.comparator);function $s(){return GO}const xw=new xt(be.comparator);function kc(...t){let e=xw;for(const n of t)e=e.insert(n.key,n);return e}function Cw(t){let e=xw;return t.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function Ya(){return Hc()}function Iw(){return Hc()}function Hc(){return new lo((t=>t.toString()),((t,e)=>t.isEqual(e)))}const KO=new xt(be.comparator),YO=new tn(be.comparator);function Ye(...t){let e=YO;for(const n of t)e=e.add(n);return e}const QO=new tn(Ke);function XO(){return QO}function yy(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Od(e)?"-0":e}}function Nw(t){return{integerValue:""+t}}function $O(t,e){return SO(e)?Nw(e):yy(t,e)}class lf{constructor(){this._=void 0}}function WO(t,e,n){return t instanceof kd?(function(o,c){const u={fields:{[hw]:{stringValue:uw},[fw]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&fy(c)&&(c=rf(c)),c&&(u.fields[dw]=c),{mapValue:u}})(n,e):t instanceof su?Ow(t,e):t instanceof ru?Vw(t,e):(function(o,c){const u=Dw(o,c),f=ib(u)+ib(o.Ae);return dg(u)&&dg(o.Ae)?Nw(f):yy(o.serializer,f)})(t,e)}function ZO(t,e,n){return t instanceof su?Ow(t,e):t instanceof ru?Vw(t,e):n}function Dw(t,e){return t instanceof Ld?(function(s){return dg(s)||(function(c){return!!c&&"doubleValue"in c})(s)})(e)?e:{integerValue:0}:null}class kd extends lf{}class su extends lf{constructor(e){super(),this.elements=e}}function Ow(t,e){const n=Mw(e);for(const s of t.elements)n.some((o=>vs(o,s)))||n.push(s);return{arrayValue:{values:n}}}class ru extends lf{constructor(e){super(),this.elements=e}}function Vw(t,e){let n=Mw(e);for(const s of t.elements)n=n.filter((o=>!vs(o,s)));return{arrayValue:{values:n}}}class Ld extends lf{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function ib(t){return Lt(t.integerValue||t.doubleValue)}function Mw(t){return my(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function JO(t,e){return t.field.isEqual(e.field)&&(function(s,o){return s instanceof su&&o instanceof su||s instanceof ru&&o instanceof ru?yl(s.elements,o.elements,vs):s instanceof Ld&&o instanceof Ld?vs(s.Ae,o.Ae):s instanceof kd&&o instanceof kd})(t.transform,e.transform)}class eV{constructor(e,n){this.version=e,this.transformResults=n}}class zi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new zi}static exists(e){return new zi(void 0,e)}static updateTime(e){return new zi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function gd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class cf{}function Pw(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new vy(t.key,zi.none()):new _u(t.key,t.data,zi.none());{const n=t.data,s=Gn.empty();let o=new tn(yn.comparator);for(let c of e.fields)if(!o.has(c)){let u=n.field(c);u===null&&c.length>1&&(c=c.popLast(),u=n.field(c)),u===null?s.delete(c):s.set(c,u),o=o.add(c)}return new ca(t.key,s,new ri(o.toArray()),zi.none())}}function tV(t,e,n){t instanceof _u?(function(o,c,u){const f=o.value.clone(),g=rb(o.fieldTransforms,c,u.transformResults);f.setAll(g),c.convertToFoundDocument(u.version,f).setHasCommittedMutations()})(t,e,n):t instanceof ca?(function(o,c,u){if(!gd(o.precondition,c))return void c.convertToUnknownDocument(u.version);const f=rb(o.fieldTransforms,c,u.transformResults),g=c.data;g.setAll(jw(o)),g.setAll(f),c.convertToFoundDocument(u.version,g).setHasCommittedMutations()})(t,e,n):(function(o,c,u){c.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,n)}function Gc(t,e,n,s){return t instanceof _u?(function(c,u,f,g){if(!gd(c.precondition,u))return f;const y=c.value.clone(),_=ab(c.fieldTransforms,g,u);return y.setAll(_),u.convertToFoundDocument(u.version,y).setHasLocalMutations(),null})(t,e,n,s):t instanceof ca?(function(c,u,f,g){if(!gd(c.precondition,u))return f;const y=ab(c.fieldTransforms,g,u),_=u.data;return _.setAll(jw(c)),_.setAll(y),u.convertToFoundDocument(u.version,_).setHasLocalMutations(),f===null?null:f.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((b=>b.field)))})(t,e,n,s):(function(c,u,f){return gd(c.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):f})(t,e,n)}function nV(t,e){let n=null;for(const s of t.fieldTransforms){const o=e.data.field(s.field),c=Dw(s.transform,o||null);c!=null&&(n===null&&(n=Gn.empty()),n.set(s.field,c))}return n||null}function sb(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&yl(s,o,((c,u)=>JO(c,u)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class _u extends cf{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ca extends cf{constructor(e,n,s,o,c=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function jw(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=t.data.field(n);e.set(n,s)}})),e}function rb(t,e,n){const s=new Map;it(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let o=0;o<n.length;o++){const c=t[o],u=c.transform,f=e.data.field(c.field);s.set(c.field,ZO(u,f,n[o]))}return s}function ab(t,e,n){const s=new Map;for(const o of t){const c=o.transform,u=n.data.field(o.field);s.set(o.field,WO(c,u,e))}return s}class vy extends cf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class iV extends cf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class sV{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&tV(c,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Gc(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Gc(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=Iw();return this.mutations.forEach((o=>{const c=e.get(o.key),u=c.overlayedDocument;let f=this.applyToLocalView(u,c.mutatedFields);f=n.has(o.key)?null:f;const g=Pw(u,f);g!==null&&s.set(o.key,g),u.isValidDocument()||u.convertToNoDocument(Ne.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Ye())}isEqual(e){return this.batchId===e.batchId&&yl(this.mutations,e.mutations,((n,s)=>sb(n,s)))&&yl(this.baseMutations,e.baseMutations,((n,s)=>sb(n,s)))}}class _y{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){it(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return KO})();const c=e.mutations;for(let u=0;u<c.length;u++)o=o.insert(c[u].key,s[u].version);return new _y(e,n,s,o)}}class rV{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class aV{constructor(e,n){this.count=e,this.unchangedNames=n}}var Yt,Xe;function oV(t){switch(t){case ie.OK:return xe(64938);case ie.CANCELLED:case ie.UNKNOWN:case ie.DEADLINE_EXCEEDED:case ie.RESOURCE_EXHAUSTED:case ie.INTERNAL:case ie.UNAVAILABLE:case ie.UNAUTHENTICATED:return!1;case ie.INVALID_ARGUMENT:case ie.NOT_FOUND:case ie.ALREADY_EXISTS:case ie.PERMISSION_DENIED:case ie.FAILED_PRECONDITION:case ie.ABORTED:case ie.OUT_OF_RANGE:case ie.UNIMPLEMENTED:case ie.DATA_LOSS:return!0;default:return xe(15467,{code:t})}}function kw(t){if(t===void 0)return Xs("GRPC error has no .code"),ie.UNKNOWN;switch(t){case Yt.OK:return ie.OK;case Yt.CANCELLED:return ie.CANCELLED;case Yt.UNKNOWN:return ie.UNKNOWN;case Yt.DEADLINE_EXCEEDED:return ie.DEADLINE_EXCEEDED;case Yt.RESOURCE_EXHAUSTED:return ie.RESOURCE_EXHAUSTED;case Yt.INTERNAL:return ie.INTERNAL;case Yt.UNAVAILABLE:return ie.UNAVAILABLE;case Yt.UNAUTHENTICATED:return ie.UNAUTHENTICATED;case Yt.INVALID_ARGUMENT:return ie.INVALID_ARGUMENT;case Yt.NOT_FOUND:return ie.NOT_FOUND;case Yt.ALREADY_EXISTS:return ie.ALREADY_EXISTS;case Yt.PERMISSION_DENIED:return ie.PERMISSION_DENIED;case Yt.FAILED_PRECONDITION:return ie.FAILED_PRECONDITION;case Yt.ABORTED:return ie.ABORTED;case Yt.OUT_OF_RANGE:return ie.OUT_OF_RANGE;case Yt.UNIMPLEMENTED:return ie.UNIMPLEMENTED;case Yt.DATA_LOSS:return ie.DATA_LOSS;default:return xe(39323,{code:t})}}(Xe=Yt||(Yt={}))[Xe.OK=0]="OK",Xe[Xe.CANCELLED=1]="CANCELLED",Xe[Xe.UNKNOWN=2]="UNKNOWN",Xe[Xe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Xe[Xe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Xe[Xe.NOT_FOUND=5]="NOT_FOUND",Xe[Xe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Xe[Xe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Xe[Xe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Xe[Xe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Xe[Xe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Xe[Xe.ABORTED=10]="ABORTED",Xe[Xe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Xe[Xe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Xe[Xe.INTERNAL=13]="INTERNAL",Xe[Xe.UNAVAILABLE=14]="UNAVAILABLE",Xe[Xe.DATA_LOSS=15]="DATA_LOSS";function lV(){return new TextEncoder}const cV=new Qr([4294967295,4294967295],0);function ob(t){const e=lV().encode(t),n=new WA;return n.update(e),new Uint8Array(n.digest())}function lb(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Qr([n,s],0),new Qr([o,c],0)]}class Ty{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Lc(`Invalid padding: ${n}`);if(s<0)throw new Lc(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Lc(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Lc(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Qr.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(Qr.fromNumber(s)));return o.compare(cV)===1&&(o=new Qr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=ob(e),[s,o]=lb(n);for(let c=0;c<this.hashCount;c++){const u=this.ye(s,o,c);if(!this.we(u))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),u=new Ty(c,o,n);return s.forEach((f=>u.insert(f))),u}insert(e){if(this.ge===0)return;const n=ob(e),[s,o]=lb(n);for(let c=0;c<this.hashCount;c++){const u=this.ye(s,o,c);this.Se(u)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Lc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class uf{constructor(e,n,s,o,c){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,Tu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new uf(Ne.min(),o,new xt(Ke),$s(),Ye())}}class Tu{constructor(e,n,s,o,c){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Tu(s,n,Ye(),Ye(),Ye())}}class yd{constructor(e,n,s,o){this.be=e,this.removedTargetIds=n,this.key=s,this.De=o}}class Lw{constructor(e,n){this.targetId=e,this.Ce=n}}class Uw{constructor(e,n,s=vn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class cb{constructor(){this.ve=0,this.Fe=ub(),this.Me=vn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ye(),n=Ye(),s=Ye();return this.Fe.forEach(((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:xe(38017,{changeType:c})}})),new Tu(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=ub()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,it(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class uV{constructor(e){this.Ge=e,this.ze=new Map,this.je=$s(),this.Je=Zh(),this.He=Zh(),this.Ye=new xt(Ke)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:xe(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const c=o.target;if(mg(c))if(s===0){const u=new be(c.path);this.et(n,u,An.newNoDocument(u,Ne.min()))}else it(s===1,20013,{expectedCount:s});else{const u=this._t(n);if(u!==s){const f=this.ut(e),g=f?this.ct(f,e,u):1;if(g!==0){this.it(n);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,y)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:c=0}=n;let u,f;try{u=ea(s).toUint8Array()}catch(g){if(g instanceof cw)return gl("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{f=new Ty(u,o,c)}catch(g){return gl(g instanceof Lc?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return f.ge===0?null:f}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((c=>{const u=this.Ge.ht(),f=`projects/${u.projectId}/databases/${u.database}/documents/${c.path.canonicalString()}`;e.mightContain(f)||(this.et(n,c,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((c,u)=>{const f=this.ot(u);if(f){if(c.current&&mg(f.target)){const g=new be(f.target.path);this.It(g).has(u)||this.Et(u,g)||this.et(u,g,An.newNoDocument(g,e))}c.Be&&(n.set(u,c.ke()),c.qe())}}));let s=Ye();this.He.forEach(((c,u)=>{let f=!0;u.forEachWhile((g=>{const y=this.ot(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)})),f&&(s=s.add(c))})),this.je.forEach(((c,u)=>u.setReadTime(e)));const o=new uf(e,n,this.Ye,this.je,s);return this.je=$s(),this.Je=Zh(),this.He=Zh(),this.Ye=new xt(Ke),o}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new cb,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new tn(Ke),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new tn(Ke),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ve("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new cb),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Zh(){return new xt(be.comparator)}function ub(){return new xt(be.comparator)}const hV={asc:"ASCENDING",desc:"DESCENDING"},dV={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},fV={and:"AND",or:"OR"};class mV{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function yg(t,e){return t.useProto3Json||sf(e)?e:{value:e}}function Ud(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Bw(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function pV(t,e){return Ud(t,e.toTimestamp())}function fs(t){return it(!!t,49232),Ne.fromTimestamp((function(n){const s=Jr(n);return new yt(s.seconds,s.nanos)})(t))}function Ey(t,e){return vg(t,e).canonicalString()}function vg(t,e){const n=(function(o){return new mt(["projects",o.projectId,"databases",o.database])})(t).child("documents");return e===void 0?n:n.child(e)}function zw(t){const e=mt.fromString(t);return it(Kw(e),10190,{key:e.toString()}),e}function _g(t,e){return Ey(t.databaseId,e.path)}function Np(t,e){const n=zw(e);if(n.get(1)!==t.databaseId.projectId)throw new ye(ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ye(ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new be(Fw(n))}function qw(t,e){return Ey(t.databaseId,e)}function gV(t){const e=zw(t);return e.length===4?mt.emptyPath():Fw(e)}function Tg(t){return new mt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Fw(t){return it(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function hb(t,e,n){return{name:_g(t,e),fields:n.value.mapValue.fields}}function yV(t,e){let n;if("targetChange"in e){e.targetChange;const s=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:xe(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=(function(y,_){return y.useProto3Json?(it(_===void 0||typeof _=="string",58123),vn.fromBase64String(_||"")):(it(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),vn.fromUint8Array(_||new Uint8Array))})(t,e.targetChange.resumeToken),u=e.targetChange.cause,f=u&&(function(y){const _=y.code===void 0?ie.UNKNOWN:kw(y.code);return new ye(_,y.message||"")})(u);n=new Uw(s,o,c,f||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Np(t,s.document.name),c=fs(s.document.updateTime),u=s.document.createTime?fs(s.document.createTime):Ne.min(),f=new Gn({mapValue:{fields:s.document.fields}}),g=An.newFoundDocument(o,c,u,f),y=s.targetIds||[],_=s.removedTargetIds||[];n=new yd(y,_,g.key,g)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Np(t,s.document),c=s.readTime?fs(s.readTime):Ne.min(),u=An.newNoDocument(o,c),f=s.removedTargetIds||[];n=new yd([],f,u.key,u)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Np(t,s.document),c=s.removedTargetIds||[];n=new yd([],c,o,null)}else{if(!("filter"in e))return xe(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:c}=s,u=new aV(o,c),f=s.targetId;n=new Lw(f,u)}}return n}function vV(t,e){let n;if(e instanceof _u)n={update:hb(t,e.key,e.value)};else if(e instanceof vy)n={delete:_g(t,e.key)};else if(e instanceof ca)n={update:hb(t,e.key,e.data),updateMask:xV(e.fieldMask)};else{if(!(e instanceof iV))return xe(16599,{Vt:e.type});n={verify:_g(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(c,u){const f=u.transform;if(f instanceof kd)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof su)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof ru)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof Ld)return{fieldPath:u.field.canonicalString(),increment:f.Ae};throw xe(20930,{transform:u.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:pV(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:xe(27497)})(t,e.precondition)),n}function _V(t,e){return t&&t.length>0?(it(e!==void 0,14353),t.map((n=>(function(o,c){let u=o.updateTime?fs(o.updateTime):fs(c);return u.isEqual(Ne.min())&&(u=fs(c)),new eV(u,o.transformResults||[])})(n,e)))):[]}function TV(t,e){return{documents:[qw(t,e.path)]}}function EV(t,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=qw(t,o);const c=(function(y){if(y.length!==0)return Gw(Fi.create(y,"and"))})(e.filters);c&&(n.structuredQuery.where=c);const u=(function(y){if(y.length!==0)return y.map((_=>(function(S){return{field:tl(S.field),direction:AV(S.dir)}})(_)))})(e.orderBy);u&&(n.structuredQuery.orderBy=u);const f=yg(t,e.limit);return f!==null&&(n.structuredQuery.limit=f),e.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:n,parent:o}}function bV(t){let e=gV(t.parent);const n=t.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){it(s===1,65062);const _=n.from[0];_.allDescendants?o=_.collectionId:e=e.child(_.collectionId)}let c=[];n.where&&(c=(function(b){const S=Hw(b);return S instanceof Fi&&_w(S)?S.getFilters():[S]})(n.where));let u=[];n.orderBy&&(u=(function(b){return b.map((S=>(function(k){return new jd(nl(k.field),(function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(k.direction))})(S)))})(n.orderBy));let f=null;n.limit&&(f=(function(b){let S;return S=typeof b=="object"?b.value:b,sf(S)?null:S})(n.limit));let g=null;n.startAt&&(g=(function(b){const S=!!b.before,N=b.values||[];return new Pd(N,S)})(n.startAt));let y=null;return n.endAt&&(y=(function(b){const S=!b.before,N=b.values||[];return new Pd(N,S)})(n.endAt)),zO(e,o,u,c,f,"F",g,y)}function SV(t,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return xe(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Hw(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=nl(n.unaryFilter.field);return Xt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=nl(n.unaryFilter.field);return Xt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=nl(n.unaryFilter.field);return Xt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=nl(n.unaryFilter.field);return Xt.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return xe(61313);default:return xe(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Xt.create(nl(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return xe(58110);default:return xe(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Fi.create(n.compositeFilter.filters.map((s=>Hw(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return xe(1026)}})(n.compositeFilter.op))})(t):xe(30097,{filter:t})}function AV(t){return hV[t]}function wV(t){return dV[t]}function RV(t){return fV[t]}function tl(t){return{fieldPath:t.canonicalString()}}function nl(t){return yn.fromServerFormat(t.fieldPath)}function Gw(t){return t instanceof Xt?(function(n){if(n.op==="=="){if(Z0(n.value))return{unaryFilter:{field:tl(n.field),op:"IS_NAN"}};if(W0(n.value))return{unaryFilter:{field:tl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Z0(n.value))return{unaryFilter:{field:tl(n.field),op:"IS_NOT_NAN"}};if(W0(n.value))return{unaryFilter:{field:tl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:tl(n.field),op:wV(n.op),value:n.value}}})(t):t instanceof Fi?(function(n){const s=n.getFilters().map((o=>Gw(o)));return s.length===1?s[0]:{compositeFilter:{op:RV(n.op),filters:s}}})(t):xe(54877,{filter:t})}function xV(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function Kw(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}class Gr{constructor(e,n,s,o,c=Ne.min(),u=Ne.min(),f=vn.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=f,this.expectedCount=g}withSequenceNumber(e){return new Gr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Gr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Gr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Gr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class CV{constructor(e){this.yt=e}}function IV(t){const e=bV({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?gg(e,e.limit,"L"):e}class NV{constructor(){this.Cn=new DV}addToCollectionParentIndex(e,n){return this.Cn.add(n),se.resolve()}getCollectionParents(e,n){return se.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return se.resolve()}deleteFieldIndex(e,n){return se.resolve()}deleteAllFieldIndexes(e){return se.resolve()}createTargetIndexes(e,n){return se.resolve()}getDocumentsMatchingTarget(e,n){return se.resolve(null)}getIndexType(e,n){return se.resolve(0)}getFieldIndexes(e,n){return se.resolve([])}getNextCollectionGroupToUpdate(e){return se.resolve(null)}getMinOffset(e,n){return se.resolve(Zr.min())}getMinOffsetFromCollectionGroup(e,n){return se.resolve(Zr.min())}updateCollectionGroup(e,n,s){return se.resolve()}updateIndexEntries(e,n){return se.resolve()}}class DV{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new tn(mt.comparator),c=!o.has(s);return this.index[n]=o.add(s),c}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new tn(mt.comparator)).toArray()}}const db={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Yw=41943040;class Hn{static withCacheSize(e){return new Hn(e,Hn.DEFAULT_COLLECTION_PERCENTILE,Hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}Hn.DEFAULT_COLLECTION_PERCENTILE=10,Hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Hn.DEFAULT=new Hn(Yw,Hn.DEFAULT_COLLECTION_PERCENTILE,Hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Hn.DISABLED=new Hn(-1,0,0);class Tl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Tl(0)}static cr(){return new Tl(-1)}}const fb="LruGarbageCollector",OV=1048576;function mb([t,e],[n,s]){const o=Ke(t,n);return o===0?Ke(e,s):o}class VV{constructor(e){this.Ir=e,this.buffer=new tn(mb),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();mb(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class MV{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ve(fb,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){xl(n)?ve(fb,"Ignoring IndexedDB error during garbage collection: ",n):await Rl(n)}await this.Vr(3e5)}))}}class PV{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return se.resolve(nf.ce);const s=new VV(n);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ve("LruGarbageCollector","Garbage collection skipped; disabled"),se.resolve(db)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(ve("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),db):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,o,c,u,f,g,y;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(ve("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,u=Date.now(),this.nthSequenceNumber(e,o)))).next((b=>(s=b,f=Date.now(),this.removeTargets(e,s,n)))).next((b=>(c=b,g=Date.now(),this.removeOrphanedDocuments(e,s)))).next((b=>(y=Date.now(),Jo()<=Ge.DEBUG&&ve("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-_}ms
	Determined least recently used ${o} in `+(f-u)+`ms
	Removed ${c} targets in `+(g-f)+`ms
	Removed ${b} documents in `+(y-g)+`ms
Total Duration: ${y-_}ms`),se.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:b}))))}}function jV(t,e){return new PV(t,e)}class kV{constructor(){this.changes=new lo((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,An.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?se.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class LV{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class UV{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&Gc(s.mutation,o,ri.empty(),yt.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,Ye()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=Ye()){const o=Ya();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((c=>{let u=kc();return c.forEach(((f,g)=>{u=u.insert(f,g.overlayedDocument)})),u}))))}getOverlayedDocuments(e,n){const s=Ya();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,Ye())))}populateOverlays(e,n,s){const o=[];return s.forEach((c=>{n.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(e,o).next((c=>{c.forEach(((u,f)=>{n.set(u,f)}))}))}computeViews(e,n,s,o){let c=$s();const u=Hc(),f=(function(){return Hc()})();return n.forEach(((g,y)=>{const _=s.get(y.key);o.has(y.key)&&(_===void 0||_.mutation instanceof ca)?c=c.insert(y.key,y):_!==void 0?(u.set(y.key,_.mutation.getFieldMask()),Gc(_.mutation,y,_.mutation.getFieldMask(),yt.now())):u.set(y.key,ri.empty())})),this.recalculateAndSaveOverlays(e,c).next((g=>(g.forEach(((y,_)=>u.set(y,_))),n.forEach(((y,_)=>f.set(y,new LV(_,u.get(y)??null)))),f)))}recalculateAndSaveOverlays(e,n){const s=Hc();let o=new xt(((u,f)=>u-f)),c=Ye();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((u=>{for(const f of u)f.keys().forEach((g=>{const y=n.get(g);if(y===null)return;let _=s.get(g)||ri.empty();_=f.applyToLocalView(y,_),s.set(g,_);const b=(o.get(f.batchId)||Ye()).add(g);o=o.insert(f.batchId,b)}))})).next((()=>{const u=[],f=o.getReverseIterator();for(;f.hasNext();){const g=f.getNext(),y=g.key,_=g.value,b=Iw();_.forEach((S=>{if(!c.has(S)){const N=Pw(n.get(S),s.get(S));N!==null&&b.set(S,N),c=c.add(S)}})),u.push(this.documentOverlayCache.saveOverlays(e,y,b))}return se.waitFor(u)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return(function(u){return be.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Aw(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((c=>{const u=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-c.size):se.resolve(Ya());let f=eu,g=c;return u.next((y=>se.forEach(y,((_,b)=>(f<b.largestBatchId&&(f=b.largestBatchId),c.get(_)?se.resolve():this.remoteDocumentCache.getEntry(e,_).next((S=>{g=g.insert(_,S)}))))).next((()=>this.populateOverlays(e,y,c))).next((()=>this.computeViews(e,g,y,Ye()))).next((_=>({batchId:f,changes:Cw(_)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new be(n)).next((s=>{let o=kc();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const c=n.collectionGroup;let u=kc();return this.indexManager.getCollectionParents(e,c).next((f=>se.forEach(f,(g=>{const y=(function(b,S){return new vu(S,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(n,g.child(c));return this.getDocumentsMatchingCollectionQuery(e,y,s,o).next((_=>{_.forEach(((b,S)=>{u=u.insert(b,S)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((u=>(c=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,c,o)))).next((u=>{c.forEach(((g,y)=>{const _=y.getKey();u.get(_)===null&&(u=u.insert(_,An.newInvalidDocument(_)))}));let f=kc();return u.forEach(((g,y)=>{const _=c.get(g);_!==void 0&&Gc(_.mutation,y,ri.empty(),yt.now()),of(n,y)&&(f=f.insert(g,y))})),f}))}}class BV{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return se.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:fs(o.createTime)}})(n)),se.resolve()}getNamedQuery(e,n){return se.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:IV(o.bundledQuery),readTime:fs(o.readTime)}})(n)),se.resolve()}}class zV{constructor(){this.overlays=new xt(be.comparator),this.qr=new Map}getOverlay(e,n){return se.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Ya();return se.forEach(n,(o=>this.getOverlay(e,o).next((c=>{c!==null&&s.set(o,c)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,c)=>{this.St(e,n,c)})),se.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(s)),se.resolve()}getOverlaysForCollection(e,n,s){const o=Ya(),c=n.length+1,u=new be(n.child("")),f=this.overlays.getIteratorFrom(u);for(;f.hasNext();){const g=f.getNext().value,y=g.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===c&&g.largestBatchId>s&&o.set(g.getKey(),g)}return se.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let c=new xt(((y,_)=>y-_));const u=this.overlays.getIterator();for(;u.hasNext();){const y=u.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>s){let _=c.get(y.largestBatchId);_===null&&(_=Ya(),c=c.insert(y.largestBatchId,_)),_.set(y.getKey(),y)}}const f=Ya(),g=c.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((y,_)=>f.set(y,_))),!(f.size()>=o)););return se.resolve(f)}St(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const u=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,u)}this.overlays=this.overlays.insert(s.key,new rV(n,s));let c=this.qr.get(n);c===void 0&&(c=Ye(),this.qr.set(n,c)),this.qr.set(n,c.add(s.key))}}class qV{constructor(){this.sessionToken=vn.EMPTY_BYTE_STRING}getSessionToken(e){return se.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,se.resolve()}}class by{constructor(){this.Qr=new tn(on.$r),this.Ur=new tn(on.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new on(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new on(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new be(new mt([])),s=new on(n,e),o=new on(n,e+1),c=[];return this.Ur.forEachInRange([s,o],(u=>{this.Gr(u),c.push(u.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new be(new mt([])),s=new on(n,e),o=new on(n,e+1);let c=Ye();return this.Ur.forEachInRange([s,o],(u=>{c=c.add(u.key)})),c}containsKey(e){const n=new on(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class on{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return be.comparator(e.key,n.key)||Ke(e.Yr,n.Yr)}static Kr(e,n){return Ke(e.Yr,n.Yr)||be.comparator(e.key,n.key)}}class FV{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new tn(on.$r)}checkEmpty(e){return se.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new sV(c,n,s,o);this.mutationQueue.push(u);for(const f of o)this.Zr=this.Zr.add(new on(f.key,c)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return se.resolve(u)}lookupMutationBatch(e,n){return se.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.ei(s),c=o<0?0:o;return se.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return se.resolve(this.mutationQueue.length===0?dy:this.tr-1)}getAllMutationBatches(e){return se.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new on(n,0),o=new on(n,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([s,o],(u=>{const f=this.Xr(u.Yr);c.push(f)})),se.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new tn(Ke);return n.forEach((o=>{const c=new on(o,0),u=new on(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,u],(f=>{s=s.add(f.Yr)}))})),se.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let c=s;be.isDocumentKey(c)||(c=c.child(""));const u=new on(new be(c),0);let f=new tn(Ke);return this.Zr.forEachWhile((g=>{const y=g.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(f=f.add(g.Yr)),!0)}),u),se.resolve(this.ti(f))}ti(e){const n=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){it(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return se.forEach(n.mutations,(o=>{const c=new on(o.key,n.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new on(n,0),o=this.Zr.firstAfterOrEqual(s);return se.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,se.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class HV{constructor(e){this.ri=e,this.docs=(function(){return new xt(be.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),c=o?o.size:0,u=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:u}),this.size+=u-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return se.resolve(s?s.document.mutableCopy():An.newInvalidDocument(n))}getEntries(e,n){let s=$s();return n.forEach((o=>{const c=this.docs.get(o);s=s.insert(o,c?c.document.mutableCopy():An.newInvalidDocument(o))})),se.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let c=$s();const u=n.path,f=new be(u.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(f);for(;g.hasNext();){const{key:y,value:{document:_}}=g.getNext();if(!u.isPrefixOf(y.path))break;y.path.length>u.length+1||_O(vO(_),s)<=0||(o.has(_.key)||of(n,_))&&(c=c.insert(_.key,_.mutableCopy()))}return se.resolve(c)}getAllFromCollectionGroup(e,n,s,o){xe(9500)}ii(e,n){return se.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new GV(this)}getSize(e){return se.resolve(this.size)}}class GV extends kV{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),se.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class KV{constructor(e){this.persistence=e,this.si=new lo((n=>py(n)),gy),this.lastRemoteSnapshotVersion=Ne.min(),this.highestTargetId=0,this.oi=0,this._i=new by,this.targetCount=0,this.ai=Tl.ur()}forEachTarget(e,n){return this.si.forEach(((s,o)=>n(o))),se.resolve()}getLastRemoteSnapshotVersion(e){return se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return se.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),se.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),se.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Tl(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,se.resolve()}updateTargetData(e,n){return this.Pr(n),se.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,se.resolve()}removeTargets(e,n,s){let o=0;const c=[];return this.si.forEach(((u,f)=>{f.sequenceNumber<=n&&s.get(f.targetId)===null&&(this.si.delete(u),c.push(this.removeMatchingKeysForTargetId(e,f.targetId)),o++)})),se.waitFor(c).next((()=>o))}getTargetCount(e){return se.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return se.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),se.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,c=[];return o&&n.forEach((u=>{c.push(o.markPotentiallyOrphaned(e,u))})),se.waitFor(c)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),se.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return se.resolve(s)}containsKey(e,n){return se.resolve(this._i.containsKey(n))}}class Qw{constructor(e,n){this.ui={},this.overlays={},this.ci=new nf(0),this.li=!1,this.li=!0,this.hi=new qV,this.referenceDelegate=e(this),this.Pi=new KV(this),this.indexManager=new NV,this.remoteDocumentCache=(function(o){return new HV(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new CV(n),this.Ii=new BV(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new zV,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new FV(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){ve("MemoryPersistence","Starting transaction:",e);const o=new YV(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((c=>this.referenceDelegate.di(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ai(e,n){return se.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class YV extends EO{constructor(e){super(),this.currentSequenceNumber=e}}class Sy{constructor(e){this.persistence=e,this.Ri=new by,this.Vi=null}static mi(e){return new Sy(e)}get fi(){if(this.Vi)return this.Vi;throw xe(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),se.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),se.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),se.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((c=>this.fi.add(c.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return se.forEach(this.fi,(s=>{const o=be.fromPath(s);return this.gi(e,o).next((c=>{c||n.removeEntry(o,Ne.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return se.or([()=>se.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Bd{constructor(e,n){this.persistence=e,this.pi=new lo((s=>AO(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=jV(this,n)}static mi(e,n){return new Bd(e,n)}Ei(){}di(e){return se.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return se.forEach(this.pi,((s,o)=>this.br(e,s,o).next((c=>c?se.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ii(e,(u=>this.br(e,u,n).next((f=>{f||(s++,c.removeEntry(u,Ne.min()))})))).next((()=>c.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),se.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),se.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),se.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),se.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=md(e.data.value)),n}br(e,n,s){return se.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return se.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Ay{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=o}static As(e,n){let s=Ye(),o=Ye();for(const c of n.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new Ay(e,n.fromCache,s,o)}}class QV{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class XV{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return SI()?8:bO(Rn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const c={result:null};return this.ys(e,n).next((u=>{c.result=u})).next((()=>{if(!c.result)return this.ws(e,n,o,s).next((u=>{c.result=u}))})).next((()=>{if(c.result)return;const u=new QV;return this.Ss(e,n,u).next((f=>{if(c.result=f,this.Vs)return this.bs(e,n,u,f.size)}))})).next((()=>c.result))}bs(e,n,s,o){return s.documentReadCount<this.fs?(Jo()<=Ge.DEBUG&&ve("QueryEngine","SDK will not create cache indexes for query:",el(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),se.resolve()):(Jo()<=Ge.DEBUG&&ve("QueryEngine","Query:",el(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(Jo()<=Ge.DEBUG&&ve("QueryEngine","The SDK decides to create cache indexes for query:",el(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ds(n))):se.resolve())}ys(e,n){if(nb(n))return se.resolve(null);let s=ds(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=gg(n,null,"F"),s=ds(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((c=>{const u=Ye(...c);return this.ps.getDocuments(e,u).next((f=>this.indexManager.getMinOffset(e,s).next((g=>{const y=this.Ds(n,f);return this.Cs(n,y,u,g.readTime)?this.ys(e,gg(n,null,"F")):this.vs(e,y,n,g)}))))})))))}ws(e,n,s,o){return nb(n)||o.isEqual(Ne.min())?se.resolve(null):this.ps.getDocuments(e,s).next((c=>{const u=this.Ds(n,c);return this.Cs(n,u,s,o)?se.resolve(null):(Jo()<=Ge.DEBUG&&ve("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),el(n)),this.vs(e,u,n,yO(o,eu)).next((f=>f)))}))}Ds(e,n){let s=new tn(Rw(e));return n.forEach(((o,c)=>{of(e,c)&&(s=s.add(c))})),s}Cs(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const c=e.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Ss(e,n,s){return Jo()<=Ge.DEBUG&&ve("QueryEngine","Using full collection scan to execute query:",el(n)),this.ps.getDocumentsMatchingQuery(e,n,Zr.min(),s)}vs(e,n,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((c=>(n.forEach((u=>{c=c.insert(u.key,u)})),c)))}}const wy="LocalStore",$V=3e8;class WV{constructor(e,n,s,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new xt(Ke),this.xs=new lo((c=>py(c)),gy),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new UV(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function ZV(t,e,n,s){return new WV(t,e,n,s)}async function Xw(t,e){const n=Oe(t);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((c=>(o=c,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((c=>{const u=[],f=[];let g=Ye();for(const y of o){u.push(y.batchId);for(const _ of y.mutations)g=g.add(_.key)}for(const y of c){f.push(y.batchId);for(const _ of y.mutations)g=g.add(_.key)}return n.localDocuments.getDocuments(s,g).next((y=>({Ls:y,removedBatchIds:u,addedBatchIds:f})))}))}))}function JV(t,e){const n=Oe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),c=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(f,g,y,_){const b=y.batch,S=b.keys();let N=se.resolve();return S.forEach((k=>{N=N.next((()=>_.getEntry(g,k))).next((G=>{const L=y.docVersions.get(k);it(L!==null,48541),G.version.compareTo(L)<0&&(b.applyToRemoteDocument(G,y),G.isValidDocument()&&(G.setReadTime(y.commitVersion),_.addEntry(G)))}))})),N.next((()=>f.mutationQueue.removeMutationBatch(g,b)))})(n,s,e,c).next((()=>c.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(f){let g=Ye();for(let y=0;y<f.mutationResults.length;++y)f.mutationResults[y].transformResults.length>0&&(g=g.add(f.batch.mutations[y].key));return g})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function $w(t){const e=Oe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function eM(t,e){const n=Oe(t),s=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const u=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const f=[];e.targetChanges.forEach(((_,b)=>{const S=o.get(b);if(!S)return;f.push(n.Pi.removeMatchingKeys(c,_.removedDocuments,b).next((()=>n.Pi.addMatchingKeys(c,_.addedDocuments,b))));let N=S.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(b)!==null?N=N.withResumeToken(vn.EMPTY_BYTE_STRING,Ne.min()).withLastLimboFreeSnapshotVersion(Ne.min()):_.resumeToken.approximateByteSize()>0&&(N=N.withResumeToken(_.resumeToken,s)),o=o.insert(b,N),(function(G,L,H){return G.resumeToken.approximateByteSize()===0||L.snapshotVersion.toMicroseconds()-G.snapshotVersion.toMicroseconds()>=$V?!0:H.addedDocuments.size+H.modifiedDocuments.size+H.removedDocuments.size>0})(S,N,_)&&f.push(n.Pi.updateTargetData(c,N))}));let g=$s(),y=Ye();if(e.documentUpdates.forEach((_=>{e.resolvedLimboDocuments.has(_)&&f.push(n.persistence.referenceDelegate.updateLimboDocument(c,_))})),f.push(tM(c,u,e.documentUpdates).next((_=>{g=_.ks,y=_.qs}))),!s.isEqual(Ne.min())){const _=n.Pi.getLastRemoteSnapshotVersion(c).next((b=>n.Pi.setTargetsMetadata(c,c.currentSequenceNumber,s)));f.push(_)}return se.waitFor(f).next((()=>u.apply(c))).next((()=>n.localDocuments.getLocalViewOfDocuments(c,g,y))).next((()=>g))})).then((c=>(n.Ms=o,c)))}function tM(t,e,n){let s=Ye(),o=Ye();return n.forEach((c=>s=s.add(c))),e.getEntries(t,s).next((c=>{let u=$s();return n.forEach(((f,g)=>{const y=c.get(f);g.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(f)),g.isNoDocument()&&g.version.isEqual(Ne.min())?(e.removeEntry(f,g.readTime),u=u.insert(f,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(g),u=u.insert(f,g)):ve(wy,"Ignoring outdated watch update for ",f,". Current version:",y.version," Watch version:",g.version)})),{ks:u,qs:o}}))}function nM(t,e){const n=Oe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=dy),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function iM(t,e){const n=Oe(t);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.Pi.getTargetData(s,e).next((c=>c?(o=c,se.resolve(o)):n.Pi.allocateTargetId(s).next((u=>(o=new Gr(e,u,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function Eg(t,e,n){const s=Oe(t),o=s.Ms.get(e),c=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",c,(u=>s.persistence.referenceDelegate.removeTarget(u,o)))}catch(u){if(!xl(u))throw u;ve(wy,`Failed to update sequence numbers for target ${e}: ${u}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function pb(t,e,n){const s=Oe(t);let o=Ne.min(),c=Ye();return s.persistence.runTransaction("Execute query","readwrite",(u=>(function(g,y,_){const b=Oe(g),S=b.xs.get(_);return S!==void 0?se.resolve(b.Ms.get(S)):b.Pi.getTargetData(y,_)})(s,u,ds(e)).next((f=>{if(f)return o=f.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(u,f.targetId).next((g=>{c=g}))})).next((()=>s.Fs.getDocumentsMatchingQuery(u,e,n?o:Ne.min(),n?c:Ye()))).next((f=>(sM(s,FO(e),f),{documents:f,Qs:c})))))}function sM(t,e,n){let s=t.Os.get(e)||Ne.min();n.forEach(((o,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)})),t.Os.set(e,s)}class gb{constructor(){this.activeTargetIds=XO()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class rM{constructor(){this.Mo=new gb,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new gb,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class aM{Oo(e){}shutdown(){}}const yb="ConnectivityMonitor";class vb{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ve(yb,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ve(yb,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Jh=null;function bg(){return Jh===null?Jh=(function(){return 268435456+Math.round(2147483648*Math.random())})():Jh++,"0x"+Jh.toString(16)}const Dp="RestConnection",oM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class lM{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===Vd?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,n,s,o,c){const u=bg(),f=this.zo(e,n.toUriEncodedString());ve(Dp,`Sending RPC '${e}' ${u}:`,f,s);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,o,c);const{host:y}=new URL(f),_=aa(y);return this.Jo(e,f,g,s,_).then((b=>(ve(Dp,`Received RPC '${e}' ${u}: `,b),b)),(b=>{throw gl(Dp,`RPC '${e}' ${u} failed with error: `,b,"url: ",f,"request:",s),b}))}Ho(e,n,s,o,c,u){return this.Go(e,n,s,o,c)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+wl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,c)=>e[c]=o)),s&&s.headers.forEach(((o,c)=>e[c]=o))}zo(e,n){const s=oM[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}class cM{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const bn="WebChannelConnection";class uM extends lM{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,o,c){const u=bg();return new Promise(((f,g)=>{const y=new ZA;y.setWithCredentials(!0),y.listenOnce(JA.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case fd.NO_ERROR:const b=y.getResponseJson();ve(bn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(b)),f(b);break;case fd.TIMEOUT:ve(bn,`RPC '${e}' ${u} timed out`),g(new ye(ie.DEADLINE_EXCEEDED,"Request time out"));break;case fd.HTTP_ERROR:const S=y.getStatus();if(ve(bn,`RPC '${e}' ${u} failed with status:`,S,"response text:",y.getResponseText()),S>0){let N=y.getResponseJson();Array.isArray(N)&&(N=N[0]);const k=N?.error;if(k&&k.status&&k.message){const G=(function(H){const Q=H.toLowerCase().replace(/_/g,"-");return Object.values(ie).indexOf(Q)>=0?Q:ie.UNKNOWN})(k.status);g(new ye(G,k.message))}else g(new ye(ie.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new ye(ie.UNAVAILABLE,"Connection failed."));break;default:xe(9055,{l_:e,streamId:u,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{ve(bn,`RPC '${e}' ${u} completed.`)}}));const _=JSON.stringify(o);ve(bn,`RPC '${e}' ${u} sending request:`,o),y.send(n,"POST",_,s,15)}))}T_(e,n,s){const o=bg(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=nw(),f=tw(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(g.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,n,s),g.encodeInitMessageHeaders=!0;const _=c.join("");ve(bn,`Creating RPC '${e}' stream ${o}: ${_}`,g);const b=u.createWebChannel(_,g);this.I_(b);let S=!1,N=!1;const k=new cM({Yo:L=>{N?ve(bn,`Not sending because RPC '${e}' stream ${o} is closed:`,L):(S||(ve(bn,`Opening RPC '${e}' stream ${o} transport.`),b.open(),S=!0),ve(bn,`RPC '${e}' stream ${o} sending:`,L),b.send(L))},Zo:()=>b.close()}),G=(L,H,Q)=>{L.listen(H,(J=>{try{Q(J)}catch(ae){setTimeout((()=>{throw ae}),0)}}))};return G(b,jc.EventType.OPEN,(()=>{N||(ve(bn,`RPC '${e}' stream ${o} transport opened.`),k.o_())})),G(b,jc.EventType.CLOSE,(()=>{N||(N=!0,ve(bn,`RPC '${e}' stream ${o} transport closed`),k.a_(),this.E_(b))})),G(b,jc.EventType.ERROR,(L=>{N||(N=!0,gl(bn,`RPC '${e}' stream ${o} transport errored. Name:`,L.name,"Message:",L.message),k.a_(new ye(ie.UNAVAILABLE,"The operation could not be completed")))})),G(b,jc.EventType.MESSAGE,(L=>{if(!N){const H=L.data[0];it(!!H,16349);const Q=H,J=Q?.error||Q[0]?.error;if(J){ve(bn,`RPC '${e}' stream ${o} received error:`,J);const ae=J.status;let ce=(function(x){const I=Yt[x];if(I!==void 0)return kw(I)})(ae),me=J.message;ce===void 0&&(ce=ie.INTERNAL,me="Unknown error status: "+ae+" with message "+J.message),N=!0,k.a_(new ye(ce,me)),b.close()}else ve(bn,`RPC '${e}' stream ${o} received:`,H),k.u_(H)}})),G(f,ew.STAT_EVENT,(L=>{L.stat===cg.PROXY?ve(bn,`RPC '${e}' stream ${o} detected buffering proxy`):L.stat===cg.NOPROXY&&ve(bn,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{k.__()}),0),k}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Op(){return typeof document<"u"?document:null}function hf(t){return new mV(t,!0)}class Ww{constructor(e,n,s=1e3,o=1.5,c=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=o,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&ve("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const _b="PersistentStream";class Zw{constructor(e,n,s,o,c,u,f,g){this.Mi=e,this.S_=s,this.b_=o,this.connection=c,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=f,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Ww(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ie.RESOURCE_EXHAUSTED?(Xs(n.toString()),Xs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ie.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{e((()=>{const o=new ye(ie.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ve(_b,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(ve(_b,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class hM extends Zw{constructor(e,n,s,o,c,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,u),this.serializer=c}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=yV(this.serializer,e),s=(function(c){if(!("targetChange"in c))return Ne.min();const u=c.targetChange;return u.targetIds&&u.targetIds.length?Ne.min():u.readTime?fs(u.readTime):Ne.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=Tg(this.serializer),n.addTarget=(function(c,u){let f;const g=u.target;if(f=mg(g)?{documents:TV(c,g)}:{query:EV(c,g).ft},f.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){f.resumeToken=Bw(c,u.resumeToken);const y=yg(c,u.expectedCount);y!==null&&(f.expectedCount=y)}else if(u.snapshotVersion.compareTo(Ne.min())>0){f.readTime=Ud(c,u.snapshotVersion.toTimestamp());const y=yg(c,u.expectedCount);y!==null&&(f.expectedCount=y)}return f})(this.serializer,e);const s=SV(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=Tg(this.serializer),n.removeTarget=e,this.q_(n)}}class dM extends Zw{constructor(e,n,s,o,c,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,u),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return it(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,it(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){it(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=_V(e.writeResults,e.commitTime),s=fs(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=Tg(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>vV(this.serializer,s)))};this.q_(n)}}class fM{}class mM extends fM{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ye(ie.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,u])=>this.connection.Go(e,vg(n,s),o,c,u))).catch((c=>{throw c.name==="FirebaseError"?(c.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ye(ie.UNKNOWN,c.toString())}))}Ho(e,n,s,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Ho(e,vg(n,s),o,u,f,c))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ye(ie.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class pM{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Xs(n),this.aa=!1):ve("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ro="RemoteStore";class gM{constructor(e,n,s,o,c){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((u=>{s.enqueueAndForget((async()=>{co(this)&&(ve(ro,"Restarting streams for network reachability change."),await(async function(g){const y=Oe(g);y.Ea.add(4),await Eu(y),y.Ra.set("Unknown"),y.Ea.delete(4),await df(y)})(this))}))})),this.Ra=new pM(s,o)}}async function df(t){if(co(t))for(const e of t.da)await e(!0)}async function Eu(t){for(const e of t.da)await e(!1)}function Jw(t,e){const n=Oe(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Iy(n)?Cy(n):Cl(n).O_()&&xy(n,e))}function Ry(t,e){const n=Oe(t),s=Cl(n);n.Ia.delete(e),s.O_()&&e1(n,e),n.Ia.size===0&&(s.O_()?s.L_():co(n)&&n.Ra.set("Unknown"))}function xy(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ne.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Cl(t).Y_(e)}function e1(t,e){t.Va.Ue(e),Cl(t).Z_(e)}function Cy(t){t.Va=new uV({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Cl(t).start(),t.Ra.ua()}function Iy(t){return co(t)&&!Cl(t).x_()&&t.Ia.size>0}function co(t){return Oe(t).Ea.size===0}function t1(t){t.Va=void 0}async function yM(t){t.Ra.set("Online")}async function vM(t){t.Ia.forEach(((e,n)=>{xy(t,e)}))}async function _M(t,e){t1(t),Iy(t)?(t.Ra.ha(e),Cy(t)):t.Ra.set("Unknown")}async function TM(t,e,n){if(t.Ra.set("Online"),e instanceof Uw&&e.state===2&&e.cause)try{await(async function(o,c){const u=c.cause;for(const f of c.targetIds)o.Ia.has(f)&&(await o.remoteSyncer.rejectListen(f,u),o.Ia.delete(f),o.Va.removeTarget(f))})(t,e)}catch(s){ve(ro,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await zd(t,s)}else if(e instanceof yd?t.Va.Ze(e):e instanceof Lw?t.Va.st(e):t.Va.tt(e),!n.isEqual(Ne.min()))try{const s=await $w(t.localStore);n.compareTo(s)>=0&&await(function(c,u){const f=c.Va.Tt(u);return f.targetChanges.forEach(((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const _=c.Ia.get(y);_&&c.Ia.set(y,_.withResumeToken(g.resumeToken,u))}})),f.targetMismatches.forEach(((g,y)=>{const _=c.Ia.get(g);if(!_)return;c.Ia.set(g,_.withResumeToken(vn.EMPTY_BYTE_STRING,_.snapshotVersion)),e1(c,g);const b=new Gr(_.target,g,y,_.sequenceNumber);xy(c,b)})),c.remoteSyncer.applyRemoteEvent(f)})(t,n)}catch(s){ve(ro,"Failed to raise snapshot:",s),await zd(t,s)}}async function zd(t,e,n){if(!xl(e))throw e;t.Ea.add(1),await Eu(t),t.Ra.set("Offline"),n||(n=()=>$w(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{ve(ro,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await df(t)}))}function n1(t,e){return e().catch((n=>zd(t,n,e)))}async function ff(t){const e=Oe(t),n=na(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:dy;for(;EM(e);)try{const o=await nM(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,bM(e,o)}catch(o){await zd(e,o)}i1(e)&&s1(e)}function EM(t){return co(t)&&t.Ta.length<10}function bM(t,e){t.Ta.push(e);const n=na(t);n.O_()&&n.X_&&n.ea(e.mutations)}function i1(t){return co(t)&&!na(t).x_()&&t.Ta.length>0}function s1(t){na(t).start()}async function SM(t){na(t).ra()}async function AM(t){const e=na(t);for(const n of t.Ta)e.ea(n.mutations)}async function wM(t,e,n){const s=t.Ta.shift(),o=_y.from(s,e,n);await n1(t,(()=>t.remoteSyncer.applySuccessfulWrite(o))),await ff(t)}async function RM(t,e){e&&na(t).X_&&await(async function(s,o){if((function(u){return oV(u)&&u!==ie.ABORTED})(o.code)){const c=s.Ta.shift();na(s).B_(),await n1(s,(()=>s.remoteSyncer.rejectFailedWrite(c.batchId,o))),await ff(s)}})(t,e),i1(t)&&s1(t)}async function Tb(t,e){const n=Oe(t);n.asyncQueue.verifyOperationInProgress(),ve(ro,"RemoteStore received new credentials");const s=co(n);n.Ea.add(3),await Eu(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await df(n)}async function xM(t,e){const n=Oe(t);e?(n.Ea.delete(2),await df(n)):e||(n.Ea.add(2),await Eu(n),n.Ra.set("Unknown"))}function Cl(t){return t.ma||(t.ma=(function(n,s,o){const c=Oe(n);return c.sa(),new hM(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(t.datastore,t.asyncQueue,{Xo:yM.bind(null,t),t_:vM.bind(null,t),r_:_M.bind(null,t),H_:TM.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),Iy(t)?Cy(t):t.Ra.set("Unknown")):(await t.ma.stop(),t1(t))}))),t.ma}function na(t){return t.fa||(t.fa=(function(n,s,o){const c=Oe(n);return c.sa(),new dM(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:SM.bind(null,t),r_:RM.bind(null,t),ta:AM.bind(null,t),na:wM.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await ff(t)):(await t.fa.stop(),t.Ta.length>0&&(ve(ro,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}class Ny{constructor(e,n,s,o,c){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=c,this.deferred=new Xr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,c){const u=Date.now()+s,f=new Ny(e,n,u,o,c);return f.start(s),f}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ye(ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Dy(t,e){if(Xs("AsyncQueue",`${e}: ${t}`),xl(t))return new ye(ie.UNAVAILABLE,`${e}: ${t}`);throw t}class dl{static emptySet(e){return new dl(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||be.comparator(n.key,s.key):(n,s)=>be.comparator(n.key,s.key),this.keyedMap=kc(),this.sortedSet=new xt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof dl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,c=s.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new dl;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class Eb{constructor(){this.ga=new xt(be.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):xe(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class El{constructor(e,n,s,o,c,u,f,g,y){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=c,this.fromCache=u,this.syncStateChanged=f,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(e,n,s,o,c){const u=[];return n.forEach((f=>{u.push({type:0,doc:f})})),new El(e,n,dl.emptySet(n),u,s,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&af(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}class CM{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class IM{constructor(){this.queries=bb(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=Oe(n),c=o.queries;o.queries=bb(),c.forEach(((u,f)=>{for(const g of f.Sa)g.onError(s)}))})(this,new ye(ie.ABORTED,"Firestore shutting down"))}}function bb(){return new lo((t=>ww(t)),af)}async function NM(t,e){const n=Oe(t);let s=3;const o=e.query;let c=n.queries.get(o);c?!c.ba()&&e.Da()&&(s=2):(c=new CM,s=e.Da()?0:1);try{switch(s){case 0:c.wa=await n.onListen(o,!0);break;case 1:c.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(u){const f=Dy(u,`Initialization of query '${el(e.query)}' failed`);return void e.onError(f)}n.queries.set(o,c),c.Sa.push(e),e.va(n.onlineState),c.wa&&e.Fa(c.wa)&&Oy(n)}async function DM(t,e){const n=Oe(t),s=e.query;let o=3;const c=n.queries.get(s);if(c){const u=c.Sa.indexOf(e);u>=0&&(c.Sa.splice(u,1),c.Sa.length===0?o=e.Da()?0:1:!c.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function OM(t,e){const n=Oe(t);let s=!1;for(const o of e){const c=o.query,u=n.queries.get(c);if(u){for(const f of u.Sa)f.Fa(o)&&(s=!0);u.wa=o}}s&&Oy(n)}function VM(t,e,n){const s=Oe(t),o=s.queries.get(e);if(o)for(const c of o.Sa)c.onError(n);s.queries.delete(e)}function Oy(t){t.Ca.forEach((e=>{e.next()}))}var Sg,Sb;(Sb=Sg||(Sg={})).Ma="default",Sb.Cache="cache";class MM{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new El(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=El.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Sg.Cache}}class r1{constructor(e){this.key=e}}class a1{constructor(e){this.key=e}}class PM{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ye(),this.mutatedKeys=Ye(),this.eu=Rw(e),this.tu=new dl(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new Eb,o=n?n.tu:this.tu;let c=n?n.mutatedKeys:this.mutatedKeys,u=o,f=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((_,b)=>{const S=o.get(_),N=of(this.query,b)?b:null,k=!!S&&this.mutatedKeys.has(S.key),G=!!N&&(N.hasLocalMutations||this.mutatedKeys.has(N.key)&&N.hasCommittedMutations);let L=!1;S&&N?S.data.isEqual(N.data)?k!==G&&(s.track({type:3,doc:N}),L=!0):this.su(S,N)||(s.track({type:2,doc:N}),L=!0,(g&&this.eu(N,g)>0||y&&this.eu(N,y)<0)&&(f=!0)):!S&&N?(s.track({type:0,doc:N}),L=!0):S&&!N&&(s.track({type:1,doc:S}),L=!0,(g||y)&&(f=!0)),L&&(N?(u=u.add(N),c=G?c.add(_):c.delete(_)):(u=u.delete(_),c=c.delete(_)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const _=this.query.limitType==="F"?u.last():u.first();u=u.delete(_.key),c=c.delete(_.key),s.track({type:1,doc:_})}return{tu:u,iu:s,Cs:f,mutatedKeys:c}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((_,b)=>(function(N,k){const G=L=>{switch(L){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xe(20277,{Rt:L})}};return G(N)-G(k)})(_.type,b.type)||this.eu(_.doc,b.doc))),this.ou(s),o=o??!1;const f=n&&!o?this._u():[],g=this.Xa.size===0&&this.current&&!o?1:0,y=g!==this.Za;return this.Za=g,u.length!==0||y?{snapshot:new El(this.query,e.tu,c,u,e.mutatedKeys,g===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:f}:{au:f}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Eb,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ye(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new a1(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new r1(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=Ye();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return El.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Vy="SyncEngine";class jM{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class kM{constructor(e){this.key=e,this.hu=!1}}class LM{constructor(e,n,s,o,c,u){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new lo((f=>ww(f)),af),this.Iu=new Map,this.Eu=new Set,this.du=new xt(be.comparator),this.Au=new Map,this.Ru=new by,this.Vu={},this.mu=new Map,this.fu=Tl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function UM(t,e,n=!0){const s=d1(t);let o;const c=s.Tu.get(e);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await o1(s,e,n,!0),o}async function BM(t,e){const n=d1(t);await o1(n,e,!0,!1)}async function o1(t,e,n,s){const o=await iM(t.localStore,ds(e)),c=o.targetId,u=t.sharedClientState.addLocalQueryTarget(c,n);let f;return s&&(f=await zM(t,e,c,u==="current",o.resumeToken)),t.isPrimaryClient&&n&&Jw(t.remoteStore,o),f}async function zM(t,e,n,s,o){t.pu=(b,S,N)=>(async function(G,L,H,Q){let J=L.view.ru(H);J.Cs&&(J=await pb(G.localStore,L.query,!1).then((({documents:C})=>L.view.ru(C,J))));const ae=Q&&Q.targetChanges.get(L.targetId),ce=Q&&Q.targetMismatches.get(L.targetId)!=null,me=L.view.applyChanges(J,G.isPrimaryClient,ae,ce);return wb(G,L.targetId,me.au),me.snapshot})(t,b,S,N);const c=await pb(t.localStore,e,!0),u=new PM(e,c.Qs),f=u.ru(c.documents),g=Tu.createSynthesizedTargetChangeForCurrentChange(n,s&&t.onlineState!=="Offline",o),y=u.applyChanges(f,t.isPrimaryClient,g);wb(t,n,y.au);const _=new jM(e,n,u);return t.Tu.set(e,_),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),y.snapshot}async function qM(t,e,n){const s=Oe(t),o=s.Tu.get(e),c=s.Iu.get(o.targetId);if(c.length>1)return s.Iu.set(o.targetId,c.filter((u=>!af(u,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Eg(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Ry(s.remoteStore,o.targetId),Ag(s,o.targetId)})).catch(Rl)):(Ag(s,o.targetId),await Eg(s.localStore,o.targetId,!0))}async function FM(t,e){const n=Oe(t),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Ry(n.remoteStore,s.targetId))}async function HM(t,e,n){const s=WM(t);try{const o=await(function(u,f){const g=Oe(u),y=yt.now(),_=f.reduce(((N,k)=>N.add(k.key)),Ye());let b,S;return g.persistence.runTransaction("Locally write mutations","readwrite",(N=>{let k=$s(),G=Ye();return g.Ns.getEntries(N,_).next((L=>{k=L,k.forEach(((H,Q)=>{Q.isValidDocument()||(G=G.add(H))}))})).next((()=>g.localDocuments.getOverlayedDocuments(N,k))).next((L=>{b=L;const H=[];for(const Q of f){const J=nV(Q,b.get(Q.key).overlayedDocument);J!=null&&H.push(new ca(Q.key,J,gw(J.value.mapValue),zi.exists(!0)))}return g.mutationQueue.addMutationBatch(N,y,H,f)})).next((L=>{S=L;const H=L.applyToLocalDocumentSet(b,G);return g.documentOverlayCache.saveOverlays(N,L.batchId,H)}))})).then((()=>({batchId:S.batchId,changes:Cw(b)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(u,f,g){let y=u.Vu[u.currentUser.toKey()];y||(y=new xt(Ke)),y=y.insert(f,g),u.Vu[u.currentUser.toKey()]=y})(s,o.batchId,n),await bu(s,o.changes),await ff(s.remoteStore)}catch(o){const c=Dy(o,"Failed to persist write");n.reject(c)}}async function l1(t,e){const n=Oe(t);try{const s=await eM(n.localStore,e);e.targetChanges.forEach(((o,c)=>{const u=n.Au.get(c);u&&(it(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?u.hu=!0:o.modifiedDocuments.size>0?it(u.hu,14607):o.removedDocuments.size>0&&(it(u.hu,42227),u.hu=!1))})),await bu(n,s,e)}catch(s){await Rl(s)}}function Ab(t,e,n){const s=Oe(t);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((c,u)=>{const f=u.view.va(e);f.snapshot&&o.push(f.snapshot)})),(function(u,f){const g=Oe(u);g.onlineState=f;let y=!1;g.queries.forEach(((_,b)=>{for(const S of b.Sa)S.va(f)&&(y=!0)})),y&&Oy(g)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function GM(t,e,n){const s=Oe(t);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),c=o&&o.key;if(c){let u=new xt(be.comparator);u=u.insert(c,An.newNoDocument(c,Ne.min()));const f=Ye().add(c),g=new uf(Ne.min(),new Map,new xt(Ke),u,f);await l1(s,g),s.du=s.du.remove(c),s.Au.delete(e),My(s)}else await Eg(s.localStore,e,!1).then((()=>Ag(s,e,n))).catch(Rl)}async function KM(t,e){const n=Oe(t),s=e.batch.batchId;try{const o=await JV(n.localStore,e);u1(n,s,null),c1(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await bu(n,o)}catch(o){await Rl(o)}}async function YM(t,e,n){const s=Oe(t);try{const o=await(function(u,f){const g=Oe(u);return g.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let _;return g.mutationQueue.lookupMutationBatch(y,f).next((b=>(it(b!==null,37113),_=b.keys(),g.mutationQueue.removeMutationBatch(y,b)))).next((()=>g.mutationQueue.performConsistencyCheck(y))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(y,_,f))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,_))).next((()=>g.localDocuments.getDocuments(y,_)))}))})(s.localStore,e);u1(s,e,n),c1(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await bu(s,o)}catch(o){await Rl(o)}}function c1(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function u1(t,e,n){const s=Oe(t);let o=s.Vu[s.currentUser.toKey()];if(o){const c=o.get(e);c&&(n?c.reject(n):c.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function Ag(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const s of t.Iu.get(e))t.Tu.delete(s),n&&t.Pu.yu(s,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((s=>{t.Ru.containsKey(s)||h1(t,s)}))}function h1(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Ry(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),My(t))}function wb(t,e,n){for(const s of n)s instanceof r1?(t.Ru.addReference(s.key,e),QM(t,s)):s instanceof a1?(ve(Vy,"Document no longer in limbo: "+s.key),t.Ru.removeReference(s.key,e),t.Ru.containsKey(s.key)||h1(t,s.key)):xe(19791,{wu:s})}function QM(t,e){const n=e.key,s=n.path.canonicalString();t.du.get(n)||t.Eu.has(s)||(ve(Vy,"New document in limbo: "+n),t.Eu.add(s),My(t))}function My(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new be(mt.fromString(e)),s=t.fu.next();t.Au.set(s,new kM(n)),t.du=t.du.insert(n,s),Jw(t.remoteStore,new Gr(ds(Sw(n.path)),s,"TargetPurposeLimboResolution",nf.ce))}}async function bu(t,e,n){const s=Oe(t),o=[],c=[],u=[];s.Tu.isEmpty()||(s.Tu.forEach(((f,g)=>{u.push(s.pu(g,e,n).then((y=>{if((y||n)&&s.isPrimaryClient){const _=y?!y.fromCache:n?.targetChanges.get(g.targetId)?.current;s.sharedClientState.updateQueryState(g.targetId,_?"current":"not-current")}if(y){o.push(y);const _=Ay.As(g.targetId,y);c.push(_)}})))})),await Promise.all(u),s.Pu.H_(o),await(async function(g,y){const _=Oe(g);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>se.forEach(y,(S=>se.forEach(S.Es,(N=>_.persistence.referenceDelegate.addReference(b,S.targetId,N))).next((()=>se.forEach(S.ds,(N=>_.persistence.referenceDelegate.removeReference(b,S.targetId,N)))))))))}catch(b){if(!xl(b))throw b;ve(wy,"Failed to update sequence numbers: "+b)}for(const b of y){const S=b.targetId;if(!b.fromCache){const N=_.Ms.get(S),k=N.snapshotVersion,G=N.withLastLimboFreeSnapshotVersion(k);_.Ms=_.Ms.insert(S,G)}}})(s.localStore,c))}async function XM(t,e){const n=Oe(t);if(!n.currentUser.isEqual(e)){ve(Vy,"User change. New user:",e.toKey());const s=await Xw(n.localStore,e);n.currentUser=e,(function(c,u){c.mu.forEach((f=>{f.forEach((g=>{g.reject(new ye(ie.CANCELLED,u))}))})),c.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await bu(n,s.Ls)}}function $M(t,e){const n=Oe(t),s=n.Au.get(e);if(s&&s.hu)return Ye().add(s.key);{let o=Ye();const c=n.Iu.get(e);if(!c)return o;for(const u of c){const f=n.Tu.get(u);o=o.unionWith(f.view.nu)}return o}}function d1(t){const e=Oe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=l1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=$M.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=GM.bind(null,e),e.Pu.H_=OM.bind(null,e.eventManager),e.Pu.yu=VM.bind(null,e.eventManager),e}function WM(t){const e=Oe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=KM.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=YM.bind(null,e),e}class qd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=hf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return ZV(this.persistence,new XV,e.initialUser,this.serializer)}Cu(e){return new Qw(Sy.mi,this.serializer)}Du(e){return new rM}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}qd.provider={build:()=>new qd};class ZM extends qd{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){it(this.persistence.referenceDelegate instanceof Bd,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new MV(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Hn.withCacheSize(this.cacheSizeBytes):Hn.DEFAULT;return new Qw((s=>Bd.mi(s,n)),this.serializer)}}class wg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Ab(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=XM.bind(null,this.syncEngine),await xM(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new IM})()}createDatastore(e){const n=hf(e.databaseInfo.databaseId),s=(function(c){return new uM(c)})(e.databaseInfo);return(function(c,u,f,g){return new mM(c,u,f,g)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,c,u,f){return new gM(s,o,c,u,f)})(this.localStore,this.datastore,e.asyncQueue,(n=>Ab(this.syncEngine,n,0)),(function(){return vb.v()?new vb:new aM})())}createSyncEngine(e,n){return(function(o,c,u,f,g,y,_){const b=new LM(o,c,u,f,g,y);return _&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Oe(n);ve(ro,"RemoteStore shutting down."),s.Ea.add(5),await Eu(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}wg.provider={build:()=>new wg};class JM{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Xs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const ia="FirestoreClient";class eP{constructor(e,n,s,o,c){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=Sn.UNAUTHENTICATED,this.clientId=hy.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,(async u=>{ve(ia,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(s,(u=>(ve(ia,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Xr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Dy(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Vp(t,e){t.asyncQueue.verifyOperationInProgress(),ve(ia,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let s=n.initialUser;t.setCredentialChangeListener((async o=>{s.isEqual(o)||(await Xw(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function Rb(t,e){t.asyncQueue.verifyOperationInProgress();const n=await tP(t);ve(ia,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((s=>Tb(e.remoteStore,s))),t.setAppCheckTokenChangeListener(((s,o)=>Tb(e.remoteStore,o))),t._onlineComponents=e}async function tP(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ve(ia,"Using user provided OfflineComponentProvider");try{await Vp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===ie.FAILED_PRECONDITION||o.code===ie.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;gl("Error using user provided cache. Falling back to memory cache: "+n),await Vp(t,new qd)}}else ve(ia,"Using default OfflineComponentProvider"),await Vp(t,new ZM(void 0));return t._offlineComponents}async function f1(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ve(ia,"Using user provided OnlineComponentProvider"),await Rb(t,t._uninitializedComponentsProvider._online)):(ve(ia,"Using default OnlineComponentProvider"),await Rb(t,new wg))),t._onlineComponents}function nP(t){return f1(t).then((e=>e.syncEngine))}async function iP(t){const e=await f1(t),n=e.eventManager;return n.onListen=UM.bind(null,e.syncEngine),n.onUnlisten=qM.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=BM.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=FM.bind(null,e.syncEngine),n}function sP(t,e,n={}){const s=new Xr;return t.asyncQueue.enqueueAndForget((async()=>(function(c,u,f,g,y){const _=new JM({next:S=>{_.Nu(),u.enqueueAndForget((()=>DM(c,b))),S.fromCache&&g.source==="server"?y.reject(new ye(ie.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(S)},error:S=>y.reject(S)}),b=new MM(f,_,{includeMetadataChanges:!0,qa:!0});return NM(c,b)})(await iP(t),t.asyncQueue,e,n,s))),s.promise}function m1(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const xb=new Map;const p1="firestore.googleapis.com",Cb=!0;class Ib{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ye(ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=p1,this.ssl=Cb}else this.host=e.host,this.ssl=e.ssl??Cb;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Yw;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<OV)throw new ye(ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}gO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=m1(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ye(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ye(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ye(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class mf{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ib({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ye(ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ye(ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ib(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new aO;switch(s.type){case"firstParty":return new uO(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ye(ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=xb.get(n);s&&(ve("ComponentProvider","Removing Datastore"),xb.delete(n),s.terminate())})(this),Promise.resolve()}}function rP(t,e,n,s={}){t=so(t,mf);const o=aa(e),c=t._getSettings(),u={...c,emulatorOptions:t._getEmulatorOptions()},f=`${e}:${n}`;o&&(Wg(`https://${f}`),Zg("Firestore",!0)),c.host!==p1&&c.host!==f&&gl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...c,host:f,ssl:o,emulatorOptions:s};if(!Ja(g,u)&&(t._setSettings(g),s.mockUserToken)){let y,_;if(typeof s.mockUserToken=="string")y=s.mockUserToken,_=Sn.MOCK_USER;else{y=hA(s.mockUserToken,t._app?.options.projectId);const b=s.mockUserToken.sub||s.mockUserToken.user_id;if(!b)throw new ye(ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new Sn(b)}t._authCredentials=new oO(new sw(y,_))}}class Il{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Il(this.firestore,e,this._query)}}class en{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new $r(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new en(this.firestore,e,this._key)}toJSON(){return{type:en._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(yu(n,en._jsonSchema))return new en(e,s||null,new be(mt.fromString(n.referencePath)))}}en._jsonSchemaVersion="firestore/documentReference/1.0",en._jsonSchema={type:$t("string",en._jsonSchemaVersion),referencePath:$t("string")};class $r extends Il{constructor(e,n,s){super(e,n,Sw(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new en(this.firestore,null,new be(e))}withConverter(e){return new $r(this.firestore,e,this._path)}}function Si(t,e,...n){if(t=Ot(t),rw("collection","path",e),t instanceof mf){const s=mt.fromString(e,...n);return q0(s),new $r(t,null,s)}{if(!(t instanceof en||t instanceof $r))throw new ye(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(mt.fromString(e,...n));return q0(s),new $r(t.firestore,null,s)}}function Ga(t,e,...n){if(t=Ot(t),arguments.length===1&&(e=hy.newId()),rw("doc","path",e),t instanceof mf){const s=mt.fromString(e,...n);return z0(s),new en(t,null,new be(s))}{if(!(t instanceof en||t instanceof $r))throw new ye(ie.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(mt.fromString(e,...n));return z0(s),new en(t.firestore,t instanceof $r?t.converter:null,new be(s))}}const Nb="AsyncQueue";class Db{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Ww(this,"async_queue_retry"),this._c=()=>{const s=Op();s&&ve(Nb,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=Op();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Op();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Xr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!xl(e))throw e;ve(Nb,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Xs("INTERNAL UNHANDLED ERROR: ",Ob(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=Ny.createAndSchedule(this,e,n,s,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&xe(47125,{Pc:Ob(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function Ob(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Su extends mf{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new Db,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Db(e),this._firestoreClient=void 0,await e}}}function aP(t,e){const n=typeof t=="object"?t:ty(),s=typeof t=="string"?t:Vd,o=Wd(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const c=lA("firestore");c&&rP(o,...c)}return o}function g1(t){if(t._terminated)throw new ye(ie.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||oP(t),t._firestoreClient}function oP(t){const e=t._freezeSettings(),n=(function(o,c,u,f){return new xO(o,c,u,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,m1(f.experimentalLongPollingOptions),f.useFetchStreams,f.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new eP(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(t._componentsProvider))}class wi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new wi(vn.fromBase64String(e))}catch(n){throw new ye(ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new wi(vn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:wi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(yu(e,wi._jsonSchema))return wi.fromBase64String(e.bytes)}}wi._jsonSchemaVersion="firestore/bytes/1.0",wi._jsonSchema={type:$t("string",wi._jsonSchemaVersion),bytes:$t("string")};class pf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ye(ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new yn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Py{constructor(e){this._methodName=e}}class ms{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ye(ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ye(ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ke(this._lat,e._lat)||Ke(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ms._jsonSchemaVersion}}static fromJSON(e){if(yu(e,ms._jsonSchema))return new ms(e.latitude,e.longitude)}}ms._jsonSchemaVersion="firestore/geoPoint/1.0",ms._jsonSchema={type:$t("string",ms._jsonSchemaVersion),latitude:$t("number"),longitude:$t("number")};class ps{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==o[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ps._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(yu(e,ps._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new ps(e.vectorValues);throw new ye(ie.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ps._jsonSchemaVersion="firestore/vectorValue/1.0",ps._jsonSchema={type:$t("string",ps._jsonSchemaVersion),vectorValues:$t("object")};const lP=/^__.*__$/;class cP{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new ca(e,this.data,this.fieldMask,n,this.fieldTransforms):new _u(e,this.data,n,this.fieldTransforms)}}class y1{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new ca(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function v1(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xe(40011,{Ac:t})}}class jy{constructor(e,n,s,o,c,u){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new jy({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Fd(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(v1(this.Ac)&&lP.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class uP{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||hf(e)}Cc(e,n,s,o=!1){return new jy({Ac:e,methodName:n,Dc:s,path:yn.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ky(t){const e=t._freezeSettings(),n=hf(t._databaseId);return new uP(t._databaseId,!!e.ignoreUndefinedProperties,n)}function hP(t,e,n,s,o,c={}){const u=t.Cc(c.merge||c.mergeFields?2:0,e,n,o);Ly("Data must be an object, but it was:",u,s);const f=_1(s,u);let g,y;if(c.merge)g=new ri(u.fieldMask),y=u.fieldTransforms;else if(c.mergeFields){const _=[];for(const b of c.mergeFields){const S=Rg(e,b,n);if(!u.contains(S))throw new ye(ie.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);E1(_,S)||_.push(S)}g=new ri(_),y=u.fieldTransforms.filter((b=>g.covers(b.field)))}else g=null,y=u.fieldTransforms;return new cP(new Gn(f),g,y)}class gf extends Py{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof gf}}function dP(t,e,n,s){const o=t.Cc(1,e,n);Ly("Data must be an object, but it was:",o,s);const c=[],u=Gn.empty();la(s,((g,y)=>{const _=Uy(e,g,n);y=Ot(y);const b=o.yc(_);if(y instanceof gf)c.push(_);else{const S=Au(y,b);S!=null&&(c.push(_),u.set(_,S))}}));const f=new ri(c);return new y1(u,f,o.fieldTransforms)}function fP(t,e,n,s,o,c){const u=t.Cc(1,e,n),f=[Rg(e,s,n)],g=[o];if(c.length%2!=0)throw new ye(ie.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<c.length;S+=2)f.push(Rg(e,c[S])),g.push(c[S+1]);const y=[],_=Gn.empty();for(let S=f.length-1;S>=0;--S)if(!E1(y,f[S])){const N=f[S];let k=g[S];k=Ot(k);const G=u.yc(N);if(k instanceof gf)y.push(N);else{const L=Au(k,G);L!=null&&(y.push(N),_.set(N,L))}}const b=new ri(y);return new y1(_,b,u.fieldTransforms)}function mP(t,e,n,s=!1){return Au(n,t.Cc(s?4:3,e))}function Au(t,e){if(T1(t=Ot(t)))return Ly("Unsupported field value:",e,t),_1(t,e);if(t instanceof Py)return(function(s,o){if(!v1(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const c=[];let u=0;for(const f of s){let g=Au(f,o.wc(u));g==null&&(g={nullValue:"NULL_VALUE"}),c.push(g),u++}return{arrayValue:{values:c}}})(t,e)}return(function(s,o){if((s=Ot(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return $O(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=yt.fromDate(s);return{timestampValue:Ud(o.serializer,c)}}if(s instanceof yt){const c=new yt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Ud(o.serializer,c)}}if(s instanceof ms)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof wi)return{bytesValue:Bw(o.serializer,s._byteString)};if(s instanceof en){const c=o.databaseId,u=s.firestore._databaseId;if(!u.isEqual(c))throw o.Sc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Ey(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof ps)return(function(u,f){return{mapValue:{fields:{[mw]:{stringValue:pw},[Md]:{arrayValue:{values:u.toArray().map((y=>{if(typeof y!="number")throw f.Sc("VectorValues must only contain numeric values.");return yy(f.serializer,y)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${tf(s)}`)})(t,e)}function _1(t,e){const n={};return lw(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):la(t,((s,o)=>{const c=Au(o,e.mc(s));c!=null&&(n[s]=c)})),{mapValue:{fields:n}}}function T1(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof yt||t instanceof ms||t instanceof wi||t instanceof en||t instanceof Py||t instanceof ps)}function Ly(t,e,n){if(!T1(n)||!aw(n)){const s=tf(n);throw s==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+s)}}function Rg(t,e,n){if((e=Ot(e))instanceof pf)return e._internalPath;if(typeof e=="string")return Uy(t,e);throw Fd("Field path arguments must be of type string or ",t,!1,void 0,n)}const pP=new RegExp("[~\\*/\\[\\]]");function Uy(t,e,n){if(e.search(pP)>=0)throw Fd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new pf(...e.split("."))._internalPath}catch{throw Fd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Fd(t,e,n,s,o){const c=s&&!s.isEmpty(),u=o!==void 0;let f=`Function ${e}() called with invalid data`;n&&(f+=" (via `toFirestore()`)"),f+=". ";let g="";return(c||u)&&(g+=" (found",c&&(g+=` in field ${s}`),u&&(g+=` in document ${o}`),g+=")"),new ye(ie.INVALID_ARGUMENT,f+t+g)}function E1(t,e){return t.some((n=>n.isEqual(e)))}class b1{constructor(e,n,s,o,c){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new en(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new gP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(By("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class gP extends b1{data(){return super.data()}}function By(t,e){return typeof e=="string"?Uy(t,e):e instanceof pf?e._internalPath:e._delegate._internalPath}function yP(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ye(ie.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class zy{}class vP extends zy{}function Vb(t,e,...n){let s=[];e instanceof zy&&s.push(e),s=s.concat(n),(function(c){const u=c.filter((g=>g instanceof qy)).length,f=c.filter((g=>g instanceof yf)).length;if(u>1||u>0&&f>0)throw new ye(ie.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)t=o._apply(t);return t}class yf extends vP{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new yf(e,n,s)}_apply(e){const n=this._parse(e);return S1(e._query,n),new Il(e.firestore,e.converter,pg(e._query,n))}_parse(e){const n=ky(e.firestore);return(function(c,u,f,g,y,_,b){let S;if(y.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new ye(ie.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){jb(b,_);const k=[];for(const G of b)k.push(Pb(g,c,G));S={arrayValue:{values:k}}}else S=Pb(g,c,b)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||jb(b,_),S=mP(f,u,b,_==="in"||_==="not-in");return Xt.create(y,_,S)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Mb(t,e,n){const s=e,o=By("where",t);return yf._create(o,s,n)}class qy extends zy{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new qy(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:Fi.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,c){let u=o;const f=c.getFlattenedFilters();for(const g of f)S1(u,g),u=pg(u,g)})(e._query,n),new Il(e.firestore,e.converter,pg(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Pb(t,e,n){if(typeof(n=Ot(n))=="string"){if(n==="")throw new ye(ie.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Aw(e)&&n.indexOf("/")!==-1)throw new ye(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(mt.fromString(n));if(!be.isDocumentKey(s))throw new ye(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return $0(t,new be(s))}if(n instanceof en)return $0(t,n._key);throw new ye(ie.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${tf(n)}.`)}function jb(t,e){if(!Array.isArray(t)||t.length===0)throw new ye(ie.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function S1(t,e){const n=(function(o,c){for(const u of o)for(const f of u.getFlattenedFilters())if(c.indexOf(f.op)>=0)return f.op;return null})(t.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new ye(ie.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ye(ie.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class _P{convertValue(e,n="none"){switch(ta(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Lt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ea(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw xe(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return la(e,((o,c)=>{s[o]=this.convertValue(c,n)})),s}convertVectorValue(e){const n=e.fields?.[Md].arrayValue?.values?.map((s=>Lt(s.doubleValue)));return new ps(n)}convertGeoPoint(e){return new ms(Lt(e.latitude),Lt(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=rf(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(tu(e));default:return null}}convertTimestamp(e){const n=Jr(e);return new yt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=mt.fromString(e);it(Kw(s),9688,{name:e});const o=new nu(s.get(1),s.get(3)),c=new be(s.popFirst(5));return o.isEqual(n)||Xs(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}function TP(t,e,n){let s;return s=t?t.toFirestore(e):e,s}class ed{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class fl extends b1{constructor(e,n,s,o,c,u){super(e,n,s,o,u),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new vd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(By("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ye(ie.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=fl._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}fl._jsonSchemaVersion="firestore/documentSnapshot/1.0",fl._jsonSchema={type:$t("string",fl._jsonSchemaVersion),bundleSource:$t("string","DocumentSnapshot"),bundleName:$t("string"),bundle:$t("string")};class vd extends fl{data(e={}){return super.data(e)}}class ml{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new ed(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new vd(this._firestore,this._userDataWriter,s.key,s,new ed(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ye(ie.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let u=0;return o._snapshot.docChanges.map((f=>{const g=new vd(o._firestore,o._userDataWriter,f.doc.key,f.doc,new ed(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);return f.doc,{type:"added",doc:g,oldIndex:-1,newIndex:u++}}))}{let u=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((f=>c||f.type!==3)).map((f=>{const g=new vd(o._firestore,o._userDataWriter,f.doc.key,f.doc,new ed(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,_=-1;return f.type!==0&&(y=u.indexOf(f.doc.key),u=u.delete(f.doc.key)),f.type!==1&&(u=u.add(f.doc),_=u.indexOf(f.doc.key)),{type:EP(f.type),doc:g,oldIndex:y,newIndex:_}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ye(ie.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ml._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=hy.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(n.push(c._document),s.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function EP(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xe(61501,{type:t})}}ml._jsonSchemaVersion="firestore/querySnapshot/1.0",ml._jsonSchema={type:$t("string",ml._jsonSchemaVersion),bundleSource:$t("string","QuerySnapshot"),bundleName:$t("string"),bundle:$t("string")};class bP extends _P{constructor(e){super(),this.firestore=e}convertBytes(e){return new wi(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new en(this.firestore,null,n)}}function Lr(t){t=so(t,Il);const e=so(t.firestore,Su),n=g1(e),s=new bP(e);return yP(t._query),sP(n,t._query).then((o=>new ml(e,s,t,o)))}function td(t,e,n,...s){t=so(t,en);const o=so(t.firestore,Su),c=ky(o);let u;return u=typeof(e=Ot(e))=="string"||e instanceof pf?fP(c,"updateDoc",t._key,e,n,s):dP(c,"updateDoc",t._key,e),Fy(o,[u.toMutation(t._key,zi.exists(!0))])}function kb(t){return Fy(so(t.firestore,Su),[new vy(t._key,zi.none())])}function nd(t,e){const n=so(t.firestore,Su),s=Ga(t),o=TP(t.converter,e);return Fy(n,[hP(ky(t.firestore),"addDoc",s._key,o,t.converter!==null,{}).toMutation(s._key,zi.exists(!1))]).then((()=>s))}function Fy(t,e){return(function(s,o){const c=new Xr;return s.asyncQueue.enqueueAndForget((async()=>HM(await nP(s),o,c))),c.promise})(g1(t),e)}(function(e,n=!0){(function(o){wl=o})(oo),eo(new Wr("firestore",((s,{instanceIdentifier:o,options:c})=>{const u=s.getProvider("app").getImmediate(),f=new Su(new lO(s.getProvider("auth-internal")),new hO(u,s.getProvider("app-check-internal")),(function(y,_){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ye(ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new nu(y.options.projectId,_)})(u,o),u);return c={useFetchStreams:n,...c},f._setSettings(c),f}),"PUBLIC").setMultipleInstances(!0)),cs(k0,L0,e),cs(k0,L0,"esm2020")})();const A1="firebasestorage.googleapis.com",w1="storageBucket",SP=120*1e3,AP=600*1e3;class Mt extends _s{constructor(e,n,s=0){super(Mp(e),`Firebase Storage: ${n} (${Mp(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Mt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Mp(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Vt;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Vt||(Vt={}));function Mp(t){return"storage/"+t}function Hy(){const t="An unknown error occurred, please check the error payload for server response.";return new Mt(Vt.UNKNOWN,t)}function wP(t){return new Mt(Vt.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function RP(t){return new Mt(Vt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function xP(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Mt(Vt.UNAUTHENTICATED,t)}function CP(){return new Mt(Vt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function IP(t){return new Mt(Vt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function NP(){return new Mt(Vt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function DP(){return new Mt(Vt.CANCELED,"User canceled the upload/download.")}function OP(t){return new Mt(Vt.INVALID_URL,"Invalid URL '"+t+"'.")}function VP(t){return new Mt(Vt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function MP(){return new Mt(Vt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+w1+"' property when initializing the app?")}function PP(){return new Mt(Vt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function jP(){return new Mt(Vt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function kP(t){return new Mt(Vt.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function xg(t){return new Mt(Vt.INVALID_ARGUMENT,t)}function R1(){return new Mt(Vt.APP_DELETED,"The Firebase app was deleted.")}function LP(t){return new Mt(Vt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Kc(t,e){return new Mt(Vt.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Nc(t){throw new Mt(Vt.INTERNAL_ERROR,"Internal error: "+t)}class ai{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let s;try{s=ai.makeFromUrl(e,n)}catch{return new ai(e,"")}if(s.path==="")return s;throw VP(e)}static makeFromUrl(e,n){let s=null;const o="([A-Za-z0-9.\\-_]+)";function c(ae){ae.path.charAt(ae.path.length-1)==="/"&&(ae.path_=ae.path_.slice(0,-1))}const u="(/(.*))?$",f=new RegExp("^gs://"+o+u,"i"),g={bucket:1,path:3};function y(ae){ae.path_=decodeURIComponent(ae.path)}const _="v[A-Za-z0-9_]+",b=n.replace(/[.]/g,"\\."),S="(/([^?#]*).*)?$",N=new RegExp(`^https?://${b}/${_}/b/${o}/o${S}`,"i"),k={bucket:1,path:3},G=n===A1?"(?:storage.googleapis.com|storage.cloud.google.com)":n,L="([^?#]*)",H=new RegExp(`^https?://${G}/${o}/${L}`,"i"),J=[{regex:f,indices:g,postModify:c},{regex:N,indices:k,postModify:y},{regex:H,indices:{bucket:1,path:2},postModify:y}];for(let ae=0;ae<J.length;ae++){const ce=J[ae],me=ce.regex.exec(e);if(me){const C=me[ce.indices.bucket];let x=me[ce.indices.path];x||(x=""),s=new ai(C,x),ce.postModify(s);break}}if(s==null)throw OP(e);return s}}class UP{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function BP(t,e,n){let s=1,o=null,c=null,u=!1,f=0;function g(){return f===2}let y=!1;function _(...L){y||(y=!0,e.apply(null,L))}function b(L){o=setTimeout(()=>{o=null,t(N,g())},L)}function S(){c&&clearTimeout(c)}function N(L,...H){if(y){S();return}if(L){S(),_.call(null,L,...H);return}if(g()||u){S(),_.call(null,L,...H);return}s<64&&(s*=2);let J;f===1?(f=2,J=0):J=(s+Math.random())*1e3,b(J)}let k=!1;function G(L){k||(k=!0,S(),!y&&(o!==null?(L||(f=2),clearTimeout(o),b(0)):L||(f=1)))}return b(0),c=setTimeout(()=>{u=!0,G(!0)},n),G}function zP(t){t(!1)}function qP(t){return t!==void 0}function FP(t){return typeof t=="object"&&!Array.isArray(t)}function Gy(t){return typeof t=="string"||t instanceof String}function Lb(t){return Ky()&&t instanceof Blob}function Ky(){return typeof Blob<"u"}function Ub(t,e,n,s){if(s<e)throw xg(`Invalid value for '${t}'. Expected ${e} or greater.`);if(s>n)throw xg(`Invalid value for '${t}'. Expected ${n} or less.`)}function vf(t,e,n){let s=e;return n==null&&(s=`https://${e}`),`${n}://${s}/v0${t}`}function x1(t){const e=encodeURIComponent;let n="?";for(const s in t)if(t.hasOwnProperty(s)){const o=e(s)+"="+e(t[s]);n=n+o+"&"}return n=n.slice(0,-1),n}var $a;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})($a||($a={}));function HP(t,e){const n=t>=500&&t<600,o=[408,429].indexOf(t)!==-1,c=e.indexOf(t)!==-1;return n||o||c}class GP{constructor(e,n,s,o,c,u,f,g,y,_,b,S=!0,N=!1){this.url_=e,this.method_=n,this.headers_=s,this.body_=o,this.successCodes_=c,this.additionalRetryCodes_=u,this.callback_=f,this.errorCallback_=g,this.timeout_=y,this.progressCallback_=_,this.connectionFactory_=b,this.retry=S,this.isUsingEmulator=N,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((k,G)=>{this.resolve_=k,this.reject_=G,this.start_()})}start_(){const e=(s,o)=>{if(o){s(!1,new id(!1,null,!0));return}const c=this.connectionFactory_();this.pendingConnection_=c;const u=f=>{const g=f.loaded,y=f.lengthComputable?f.total:-1;this.progressCallback_!==null&&this.progressCallback_(g,y)};this.progressCallback_!==null&&c.addUploadProgressListener(u),c.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&c.removeUploadProgressListener(u),this.pendingConnection_=null;const f=c.getErrorCode()===$a.NO_ERROR,g=c.getStatus();if(!f||HP(g,this.additionalRetryCodes_)&&this.retry){const _=c.getErrorCode()===$a.ABORT;s(!1,new id(!1,null,_));return}const y=this.successCodes_.indexOf(g)!==-1;s(!0,new id(y,c))})},n=(s,o)=>{const c=this.resolve_,u=this.reject_,f=o.connection;if(o.wasSuccessCode)try{const g=this.callback_(f,f.getResponse());qP(g)?c(g):c()}catch(g){u(g)}else if(f!==null){const g=Hy();g.serverResponse=f.getErrorText(),this.errorCallback_?u(this.errorCallback_(f,g)):u(g)}else if(o.canceled){const g=this.appDelete_?R1():DP();u(g)}else{const g=NP();u(g)}};this.canceled_?n(!1,new id(!1,null,!0)):this.backoffId_=BP(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&zP(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class id{constructor(e,n,s){this.wasSuccessCode=e,this.connection=n,this.canceled=!!s}}function KP(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function YP(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function QP(t,e){e&&(t["X-Firebase-GMPID"]=e)}function XP(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function $P(t,e,n,s,o,c,u=!0,f=!1){const g=x1(t.urlParams),y=t.url+g,_=Object.assign({},t.headers);return QP(_,e),KP(_,n),YP(_,c),XP(_,s),new GP(y,t.method,_,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,o,u,f)}function WP(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function ZP(...t){const e=WP();if(e!==void 0){const n=new e;for(let s=0;s<t.length;s++)n.append(t[s]);return n.getBlob()}else{if(Ky())return new Blob(t);throw new Mt(Vt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function JP(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}function ej(t){if(typeof atob>"u")throw kP("base-64");return atob(t)}const ls={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Pp{constructor(e,n){this.data=e,this.contentType=n||null}}function tj(t,e){switch(t){case ls.RAW:return new Pp(C1(e));case ls.BASE64:case ls.BASE64URL:return new Pp(I1(t,e));case ls.DATA_URL:return new Pp(ij(e),sj(e))}throw Hy()}function C1(t){const e=[];for(let n=0;n<t.length;n++){let s=t.charCodeAt(n);if(s<=127)e.push(s);else if(s<=2047)e.push(192|s>>6,128|s&63);else if((s&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const c=s,u=t.charCodeAt(++n);s=65536|(c&1023)<<10|u&1023,e.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|s&63)}else(s&64512)===56320?e.push(239,191,189):e.push(224|s>>12,128|s>>6&63,128|s&63)}return new Uint8Array(e)}function nj(t){let e;try{e=decodeURIComponent(t)}catch{throw Kc(ls.DATA_URL,"Malformed data URL.")}return C1(e)}function I1(t,e){switch(t){case ls.BASE64:{const o=e.indexOf("-")!==-1,c=e.indexOf("_")!==-1;if(o||c)throw Kc(t,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case ls.BASE64URL:{const o=e.indexOf("+")!==-1,c=e.indexOf("/")!==-1;if(o||c)throw Kc(t,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=ej(e)}catch(o){throw o.message.includes("polyfill")?o:Kc(t,"Invalid character found")}const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}class N1{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Kc(ls.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const s=n[1]||null;s!=null&&(this.base64=rj(s,";base64"),this.contentType=this.base64?s.substring(0,s.length-7):s),this.rest=e.substring(e.indexOf(",")+1)}}function ij(t){const e=new N1(t);return e.base64?I1(ls.BASE64,e.rest):nj(e.rest)}function sj(t){return new N1(t).contentType}function rj(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}class Hr{constructor(e,n){let s=0,o="";Lb(e)?(this.data_=e,s=e.size,o=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),s=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),s=e.length),this.size_=s,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,n){if(Lb(this.data_)){const s=this.data_,o=JP(s,e,n);return o===null?null:new Hr(o)}else{const s=new Uint8Array(this.data_.buffer,e,n-e);return new Hr(s,!0)}}static getBlob(...e){if(Ky()){const n=e.map(s=>s instanceof Hr?s.data_:s);return new Hr(ZP.apply(null,n))}else{const n=e.map(u=>Gy(u)?tj(ls.RAW,u).data:u.data_);let s=0;n.forEach(u=>{s+=u.byteLength});const o=new Uint8Array(s);let c=0;return n.forEach(u=>{for(let f=0;f<u.length;f++)o[c++]=u[f]}),new Hr(o,!0)}}uploadData(){return this.data_}}function D1(t){let e;try{e=JSON.parse(t)}catch{return null}return FP(e)?e:null}function aj(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function oj(t,e){const n=e.split("/").filter(s=>s.length>0).join("/");return t.length===0?n:t+"/"+n}function O1(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}function lj(t,e){return e}class In{constructor(e,n,s,o){this.server=e,this.local=n||e,this.writable=!!s,this.xform=o||lj}}let sd=null;function cj(t){return!Gy(t)||t.length<2?t:O1(t)}function V1(){if(sd)return sd;const t=[];t.push(new In("bucket")),t.push(new In("generation")),t.push(new In("metageneration")),t.push(new In("name","fullPath",!0));function e(c,u){return cj(u)}const n=new In("name");n.xform=e,t.push(n);function s(c,u){return u!==void 0?Number(u):u}const o=new In("size");return o.xform=s,t.push(o),t.push(new In("timeCreated")),t.push(new In("updated")),t.push(new In("md5Hash",null,!0)),t.push(new In("cacheControl",null,!0)),t.push(new In("contentDisposition",null,!0)),t.push(new In("contentEncoding",null,!0)),t.push(new In("contentLanguage",null,!0)),t.push(new In("contentType",null,!0)),t.push(new In("metadata","customMetadata",!0)),sd=t,sd}function uj(t,e){function n(){const s=t.bucket,o=t.fullPath,c=new ai(s,o);return e._makeStorageReference(c)}Object.defineProperty(t,"ref",{get:n})}function hj(t,e,n){const s={};s.type="file";const o=n.length;for(let c=0;c<o;c++){const u=n[c];s[u.local]=u.xform(s,e[u.server])}return uj(s,t),s}function M1(t,e,n){const s=D1(e);return s===null?null:hj(t,s,n)}function dj(t,e,n,s){const o=D1(e);if(o===null||!Gy(o.downloadTokens))return null;const c=o.downloadTokens;if(c.length===0)return null;const u=encodeURIComponent;return c.split(",").map(y=>{const _=t.bucket,b=t.fullPath,S="/b/"+u(_)+"/o/"+u(b),N=vf(S,n,s),k=x1({alt:"media",token:y});return N+k})[0]}function fj(t,e){const n={},s=e.length;for(let o=0;o<s;o++){const c=e[o];c.writable&&(n[c.server]=t[c.local])}return JSON.stringify(n)}class Yy{constructor(e,n,s,o){this.url=e,this.method=n,this.handler=s,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function P1(t){if(!t)throw Hy()}function mj(t,e){function n(s,o){const c=M1(t,o,e);return P1(c!==null),c}return n}function pj(t,e){function n(s,o){const c=M1(t,o,e);return P1(c!==null),dj(c,o,t.host,t._protocol)}return n}function j1(t){function e(n,s){let o;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?o=CP():o=xP():n.getStatus()===402?o=RP(t.bucket):n.getStatus()===403?o=IP(t.path):o=s,o.status=n.getStatus(),o.serverResponse=s.serverResponse,o}return e}function k1(t){const e=j1(t);function n(s,o){let c=e(s,o);return s.getStatus()===404&&(c=wP(t.path)),c.serverResponse=o.serverResponse,c}return n}function gj(t,e,n){const s=e.fullServerUrl(),o=vf(s,t.host,t._protocol),c="GET",u=t.maxOperationRetryTime,f=new Yy(o,c,pj(t,n),u);return f.errorHandler=k1(e),f}function yj(t,e){const n=e.fullServerUrl(),s=vf(n,t.host,t._protocol),o="DELETE",c=t.maxOperationRetryTime;function u(g,y){}const f=new Yy(s,o,u,c);return f.successCodes=[200,204],f.errorHandler=k1(e),f}function vj(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function _j(t,e,n){const s=Object.assign({},n);return s.fullPath=t.path,s.size=e.size(),s.contentType||(s.contentType=vj(null,e)),s}function Tj(t,e,n,s,o){const c=e.bucketOnlyServerUrl(),u={"X-Goog-Upload-Protocol":"multipart"};function f(){let J="";for(let ae=0;ae<2;ae++)J=J+Math.random().toString().slice(2);return J}const g=f();u["Content-Type"]="multipart/related; boundary="+g;const y=_j(e,s,o),_=fj(y,n),b="--"+g+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+_+`\r
--`+g+`\r
Content-Type: `+y.contentType+`\r
\r
`,S=`\r
--`+g+"--",N=Hr.getBlob(b,s,S);if(N===null)throw PP();const k={name:y.fullPath},G=vf(c,t.host,t._protocol),L="POST",H=t.maxUploadRetryTime,Q=new Yy(G,L,mj(t,n),H);return Q.urlParams=k,Q.headers=u,Q.body=N.uploadData(),Q.errorHandler=j1(e),Q}class Ej{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=$a.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=$a.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=$a.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,s,o,c){if(this.sent_)throw Nc("cannot .send() more than once");if(aa(e)&&s&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),c!==void 0)for(const u in c)c.hasOwnProperty(u)&&this.xhr_.setRequestHeader(u,c[u].toString());return o!==void 0?this.xhr_.send(o):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Nc("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Nc("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Nc("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Nc("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class bj extends Ej{initXhr(){this.xhr_.responseType="text"}}function Qy(){return new bj}class ao{constructor(e,n){this._service=e,n instanceof ai?this._location=n:this._location=ai.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new ao(e,n)}get root(){const e=new ai(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return O1(this._location.path)}get storage(){return this._service}get parent(){const e=aj(this._location.path);if(e===null)return null;const n=new ai(this._location.bucket,e);return new ao(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw LP(e)}}function Sj(t,e,n){t._throwIfRoot("uploadBytes");const s=Tj(t.storage,t._location,V1(),new Hr(e,!0),n);return t.storage.makeRequestWithTokens(s,Qy).then(o=>({metadata:o,ref:t}))}function Aj(t){t._throwIfRoot("getDownloadURL");const e=gj(t.storage,t._location,V1());return t.storage.makeRequestWithTokens(e,Qy).then(n=>{if(n===null)throw jP();return n})}function wj(t){t._throwIfRoot("deleteObject");const e=yj(t.storage,t._location);return t.storage.makeRequestWithTokens(e,Qy)}function Rj(t,e){const n=oj(t._location.path,e),s=new ai(t._location.bucket,n);return new ao(t.storage,s)}function xj(t){return/^[A-Za-z]+:\/\//.test(t)}function Cj(t,e){return new ao(t,e)}function L1(t,e){if(t instanceof Xy){const n=t;if(n._bucket==null)throw MP();const s=new ao(n,n._bucket);return e!=null?L1(s,e):s}else return e!==void 0?Rj(t,e):t}function Ij(t,e){if(e&&xj(e)){if(t instanceof Xy)return Cj(t,e);throw xg("To use ref(service, url), the first argument must be a Storage instance.")}else return L1(t,e)}function Bb(t,e){const n=e?.[w1];return n==null?null:ai.makeFromBucketSpec(n,t)}function Nj(t,e,n,s={}){t.host=`${e}:${n}`;const o=aa(e);o&&(Wg(`https://${t.host}/b`),Zg("Storage",!0)),t._isUsingEmulator=!0,t._protocol=o?"https":"http";const{mockUserToken:c}=s;c&&(t._overrideAuthToken=typeof c=="string"?c:hA(c,t.app.options.projectId))}class Xy{constructor(e,n,s,o,c,u=!1){this.app=e,this._authProvider=n,this._appCheckProvider=s,this._url=o,this._firebaseVersion=c,this._isUsingEmulator=u,this._bucket=null,this._host=A1,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=SP,this._maxUploadRetryTime=AP,this._requests=new Set,o!=null?this._bucket=ai.makeFromBucketSpec(o,this._host):this._bucket=Bb(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ai.makeFromBucketSpec(this._url,e):this._bucket=Bb(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Ub("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Ub("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(si(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ao(this,e)}_makeRequest(e,n,s,o,c=!0){if(this._deleted)return new UP(R1());{const u=$P(e,this._appId,s,o,n,this._firebaseVersion,c,this._isUsingEmulator);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(e,n){const[s,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,s,o).getPromise()}}const zb="@firebase/storage",qb="0.14.0";const U1="storage";function jp(t,e,n){return t=Ot(t),Sj(t,e,n)}function kp(t){return t=Ot(t),Aj(t)}function Fb(t){return t=Ot(t),wj(t)}function Dc(t,e){return t=Ot(t),Ij(t,e)}function Dj(t=ty(),e){t=Ot(t);const s=Wd(t,U1).getImmediate({identifier:e}),o=lA("storage");return o&&Oj(s,...o),s}function Oj(t,e,n,s={}){Nj(t,e,n,s)}function Vj(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),s=t.getProvider("auth-internal"),o=t.getProvider("app-check-internal");return new Xy(n,s,o,e,oo)}function Mj(){eo(new Wr(U1,Vj,"PUBLIC").setMultipleInstances(!0)),cs(zb,qb,""),cs(zb,qb,"esm2020")}Mj();const $y=re.createContext({});function Wy(t){const e=re.useRef(null);return e.current===null&&(e.current=t()),e.current}const Zy=typeof window<"u",B1=Zy?re.useLayoutEffect:re.useEffect,_f=re.createContext(null);function Jy(t,e){t.indexOf(e)===-1&&t.push(e)}function ev(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Ws=(t,e,n)=>n>e?e:n<t?t:n;let tv=()=>{};const Zs={},z1=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function q1(t){return typeof t=="object"&&t!==null}const F1=t=>/^0[^.\s]+$/u.test(t);function nv(t){let e;return()=>(e===void 0&&(e=t()),e)}const xi=t=>t,Pj=(t,e)=>n=>e(t(n)),wu=(...t)=>t.reduce(Pj),au=(t,e,n)=>{const s=e-t;return s===0?1:(n-t)/s};class iv{constructor(){this.subscriptions=[]}add(e){return Jy(this.subscriptions,e),()=>ev(this.subscriptions,e)}notify(e,n,s){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](e,n,s);else for(let c=0;c<o;c++){const u=this.subscriptions[c];u&&u(e,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const gs=t=>t*1e3,Ri=t=>t/1e3;function H1(t,e){return e?t*(1e3/e):0}const G1=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,jj=1e-7,kj=12;function Lj(t,e,n,s,o){let c,u,f=0;do u=e+(n-e)/2,c=G1(u,s,o)-t,c>0?n=u:e=u;while(Math.abs(c)>jj&&++f<kj);return u}function Ru(t,e,n,s){if(t===e&&n===s)return xi;const o=c=>Lj(c,0,1,t,n);return c=>c===0||c===1?c:G1(o(c),e,s)}const K1=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,Y1=t=>e=>1-t(1-e),Q1=Ru(.33,1.53,.69,.99),sv=Y1(Q1),X1=K1(sv),$1=t=>(t*=2)<1?.5*sv(t):.5*(2-Math.pow(2,-10*(t-1))),rv=t=>1-Math.sin(Math.acos(t)),W1=Y1(rv),Z1=K1(rv),Uj=Ru(.42,0,1,1),Bj=Ru(0,0,.58,1),J1=Ru(.42,0,.58,1),zj=t=>Array.isArray(t)&&typeof t[0]!="number",eR=t=>Array.isArray(t)&&typeof t[0]=="number",qj={linear:xi,easeIn:Uj,easeInOut:J1,easeOut:Bj,circIn:rv,circInOut:Z1,circOut:W1,backIn:sv,backInOut:X1,backOut:Q1,anticipate:$1},Fj=t=>typeof t=="string",Hb=t=>{if(eR(t)){tv(t.length===4);const[e,n,s,o]=t;return Ru(e,n,s,o)}else if(Fj(t))return qj[t];return t},rd=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function Hj(t,e){let n=new Set,s=new Set,o=!1,c=!1;const u=new WeakSet;let f={delta:0,timestamp:0,isProcessing:!1};function g(_){u.has(_)&&(y.schedule(_),t()),_(f)}const y={schedule:(_,b=!1,S=!1)=>{const k=S&&o?n:s;return b&&u.add(_),k.has(_)||k.add(_),_},cancel:_=>{s.delete(_),u.delete(_)},process:_=>{if(f=_,o){c=!0;return}o=!0,[n,s]=[s,n],n.forEach(g),n.clear(),o=!1,c&&(c=!1,y.process(_))}};return y}const Gj=40;function tR(t,e){let n=!1,s=!0;const o={delta:0,timestamp:0,isProcessing:!1},c=()=>n=!0,u=rd.reduce((J,ae)=>(J[ae]=Hj(c),J),{}),{setup:f,read:g,resolveKeyframes:y,preUpdate:_,update:b,preRender:S,render:N,postRender:k}=u,G=()=>{const J=Zs.useManualTiming?o.timestamp:performance.now();n=!1,Zs.useManualTiming||(o.delta=s?1e3/60:Math.max(Math.min(J-o.timestamp,Gj),1)),o.timestamp=J,o.isProcessing=!0,f.process(o),g.process(o),y.process(o),_.process(o),b.process(o),S.process(o),N.process(o),k.process(o),o.isProcessing=!1,n&&e&&(s=!1,t(G))},L=()=>{n=!0,s=!0,o.isProcessing||t(G)};return{schedule:rd.reduce((J,ae)=>{const ce=u[ae];return J[ae]=(me,C=!1,x=!1)=>(n||L(),ce.schedule(me,C,x)),J},{}),cancel:J=>{for(let ae=0;ae<rd.length;ae++)u[rd[ae]].cancel(J)},state:o,steps:u}}const{schedule:St,cancel:sa,state:pn,steps:Lp}=tR(typeof requestAnimationFrame<"u"?requestAnimationFrame:xi,!0);let _d;function Kj(){_d=void 0}const Kn={now:()=>(_d===void 0&&Kn.set(pn.isProcessing||Zs.useManualTiming?pn.timestamp:performance.now()),_d),set:t=>{_d=t,queueMicrotask(Kj)}},nR=t=>e=>typeof e=="string"&&e.startsWith(t),iR=nR("--"),Yj=nR("var(--"),av=t=>Yj(t)?Qj.test(t.split("/*")[0].trim()):!1,Qj=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Nl={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},ou={...Nl,transform:t=>Ws(0,1,t)},ad={...Nl,default:1},Yc=t=>Math.round(t*1e5)/1e5,ov=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Xj(t){return t==null}const $j=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,lv=(t,e)=>n=>!!(typeof n=="string"&&$j.test(n)&&n.startsWith(t)||e&&!Xj(n)&&Object.prototype.hasOwnProperty.call(n,e)),sR=(t,e,n)=>s=>{if(typeof s!="string")return s;const[o,c,u,f]=s.match(ov);return{[t]:parseFloat(o),[e]:parseFloat(c),[n]:parseFloat(u),alpha:f!==void 0?parseFloat(f):1}},Wj=t=>Ws(0,255,t),Up={...Nl,transform:t=>Math.round(Wj(t))},Qa={test:lv("rgb","red"),parse:sR("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:s=1})=>"rgba("+Up.transform(t)+", "+Up.transform(e)+", "+Up.transform(n)+", "+Yc(ou.transform(s))+")"};function Zj(t){let e="",n="",s="",o="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),s=t.substring(5,7),o=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),s=t.substring(3,4),o=t.substring(4,5),e+=e,n+=n,s+=s,o+=o),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:o?parseInt(o,16)/255:1}}const Cg={test:lv("#"),parse:Zj,transform:Qa.transform},xu=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Ur=xu("deg"),ys=xu("%"),Ce=xu("px"),Jj=xu("vh"),ek=xu("vw"),Gb={...ys,parse:t=>ys.parse(t)/100,transform:t=>ys.transform(t*100)},sl={test:lv("hsl","hue"),parse:sR("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:s=1})=>"hsla("+Math.round(t)+", "+ys.transform(Yc(e))+", "+ys.transform(Yc(n))+", "+Yc(ou.transform(s))+")"},Qt={test:t=>Qa.test(t)||Cg.test(t)||sl.test(t),parse:t=>Qa.test(t)?Qa.parse(t):sl.test(t)?sl.parse(t):Cg.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Qa.transform(t):sl.transform(t),getAnimatableNone:t=>{const e=Qt.parse(t);return e.alpha=0,Qt.transform(e)}},tk=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function nk(t){return isNaN(t)&&typeof t=="string"&&(t.match(ov)?.length||0)+(t.match(tk)?.length||0)>0}const rR="number",aR="color",ik="var",sk="var(",Kb="${}",rk=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function lu(t){const e=t.toString(),n=[],s={color:[],number:[],var:[]},o=[];let c=0;const f=e.replace(rk,g=>(Qt.test(g)?(s.color.push(c),o.push(aR),n.push(Qt.parse(g))):g.startsWith(sk)?(s.var.push(c),o.push(ik),n.push(g)):(s.number.push(c),o.push(rR),n.push(parseFloat(g))),++c,Kb)).split(Kb);return{values:n,split:f,indexes:s,types:o}}function oR(t){return lu(t).values}function lR(t){const{split:e,types:n}=lu(t),s=e.length;return o=>{let c="";for(let u=0;u<s;u++)if(c+=e[u],o[u]!==void 0){const f=n[u];f===rR?c+=Yc(o[u]):f===aR?c+=Qt.transform(o[u]):c+=o[u]}return c}}const ak=t=>typeof t=="number"?0:Qt.test(t)?Qt.getAnimatableNone(t):t;function ok(t){const e=oR(t);return lR(t)(e.map(ak))}const ra={test:nk,parse:oR,createTransformer:lR,getAnimatableNone:ok};function Bp(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function lk({hue:t,saturation:e,lightness:n,alpha:s}){t/=360,e/=100,n/=100;let o=0,c=0,u=0;if(!e)o=c=u=n;else{const f=n<.5?n*(1+e):n+e-n*e,g=2*n-f;o=Bp(g,f,t+1/3),c=Bp(g,f,t),u=Bp(g,f,t-1/3)}return{red:Math.round(o*255),green:Math.round(c*255),blue:Math.round(u*255),alpha:s}}function Hd(t,e){return n=>n>0?e:t}const Rt=(t,e,n)=>t+(e-t)*n,zp=(t,e,n)=>{const s=t*t,o=n*(e*e-s)+s;return o<0?0:Math.sqrt(o)},ck=[Cg,Qa,sl],uk=t=>ck.find(e=>e.test(t));function Yb(t){const e=uk(t);if(!e)return!1;let n=e.parse(t);return e===sl&&(n=lk(n)),n}const Qb=(t,e)=>{const n=Yb(t),s=Yb(e);if(!n||!s)return Hd(t,e);const o={...n};return c=>(o.red=zp(n.red,s.red,c),o.green=zp(n.green,s.green,c),o.blue=zp(n.blue,s.blue,c),o.alpha=Rt(n.alpha,s.alpha,c),Qa.transform(o))},Ig=new Set(["none","hidden"]);function hk(t,e){return Ig.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function dk(t,e){return n=>Rt(t,e,n)}function cv(t){return typeof t=="number"?dk:typeof t=="string"?av(t)?Hd:Qt.test(t)?Qb:pk:Array.isArray(t)?cR:typeof t=="object"?Qt.test(t)?Qb:fk:Hd}function cR(t,e){const n=[...t],s=n.length,o=t.map((c,u)=>cv(c)(c,e[u]));return c=>{for(let u=0;u<s;u++)n[u]=o[u](c);return n}}function fk(t,e){const n={...t,...e},s={};for(const o in n)t[o]!==void 0&&e[o]!==void 0&&(s[o]=cv(t[o])(t[o],e[o]));return o=>{for(const c in s)n[c]=s[c](o);return n}}function mk(t,e){const n=[],s={color:0,var:0,number:0};for(let o=0;o<e.values.length;o++){const c=e.types[o],u=t.indexes[c][s[c]],f=t.values[u]??0;n[o]=f,s[c]++}return n}const pk=(t,e)=>{const n=ra.createTransformer(e),s=lu(t),o=lu(e);return s.indexes.var.length===o.indexes.var.length&&s.indexes.color.length===o.indexes.color.length&&s.indexes.number.length>=o.indexes.number.length?Ig.has(t)&&!o.values.length||Ig.has(e)&&!s.values.length?hk(t,e):wu(cR(mk(s,o),o.values),n):Hd(t,e)};function uR(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Rt(t,e,n):cv(t)(t,e)}const gk=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>St.update(e,n),stop:()=>sa(e),now:()=>pn.isProcessing?pn.timestamp:Kn.now()}},hR=(t,e,n=10)=>{let s="";const o=Math.max(Math.round(e/n),2);for(let c=0;c<o;c++)s+=Math.round(t(c/(o-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},Gd=2e4;function uv(t){let e=0;const n=50;let s=t.next(e);for(;!s.done&&e<Gd;)e+=n,s=t.next(e);return e>=Gd?1/0:e}function yk(t,e=100,n){const s=n({...t,keyframes:[0,e]}),o=Math.min(uv(s),Gd);return{type:"keyframes",ease:c=>s.next(o*c).value/e,duration:Ri(o)}}const vk=5;function dR(t,e,n){const s=Math.max(e-vk,0);return H1(n-t(s),e-s)}const Dt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},qp=.001;function _k({duration:t=Dt.duration,bounce:e=Dt.bounce,velocity:n=Dt.velocity,mass:s=Dt.mass}){let o,c,u=1-e;u=Ws(Dt.minDamping,Dt.maxDamping,u),t=Ws(Dt.minDuration,Dt.maxDuration,Ri(t)),u<1?(o=y=>{const _=y*u,b=_*t,S=_-n,N=Ng(y,u),k=Math.exp(-b);return qp-S/N*k},c=y=>{const b=y*u*t,S=b*n+n,N=Math.pow(u,2)*Math.pow(y,2)*t,k=Math.exp(-b),G=Ng(Math.pow(y,2),u);return(-o(y)+qp>0?-1:1)*((S-N)*k)/G}):(o=y=>{const _=Math.exp(-y*t),b=(y-n)*t+1;return-qp+_*b},c=y=>{const _=Math.exp(-y*t),b=(n-y)*(t*t);return _*b});const f=5/t,g=Ek(o,c,f);if(t=gs(t),isNaN(g))return{stiffness:Dt.stiffness,damping:Dt.damping,duration:t};{const y=Math.pow(g,2)*s;return{stiffness:y,damping:u*2*Math.sqrt(s*y),duration:t}}}const Tk=12;function Ek(t,e,n){let s=n;for(let o=1;o<Tk;o++)s=s-t(s)/e(s);return s}function Ng(t,e){return t*Math.sqrt(1-e*e)}const bk=["duration","bounce"],Sk=["stiffness","damping","mass"];function Xb(t,e){return e.some(n=>t[n]!==void 0)}function Ak(t){let e={velocity:Dt.velocity,stiffness:Dt.stiffness,damping:Dt.damping,mass:Dt.mass,isResolvedFromDuration:!1,...t};if(!Xb(t,Sk)&&Xb(t,bk))if(t.visualDuration){const n=t.visualDuration,s=2*Math.PI/(n*1.2),o=s*s,c=2*Ws(.05,1,1-(t.bounce||0))*Math.sqrt(o);e={...e,mass:Dt.mass,stiffness:o,damping:c}}else{const n=_k(t);e={...e,...n,mass:Dt.mass},e.isResolvedFromDuration=!0}return e}function Kd(t=Dt.visualDuration,e=Dt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:s,restDelta:o}=n;const c=n.keyframes[0],u=n.keyframes[n.keyframes.length-1],f={done:!1,value:c},{stiffness:g,damping:y,mass:_,duration:b,velocity:S,isResolvedFromDuration:N}=Ak({...n,velocity:-Ri(n.velocity||0)}),k=S||0,G=y/(2*Math.sqrt(g*_)),L=u-c,H=Ri(Math.sqrt(g/_)),Q=Math.abs(L)<5;s||(s=Q?Dt.restSpeed.granular:Dt.restSpeed.default),o||(o=Q?Dt.restDelta.granular:Dt.restDelta.default);let J;if(G<1){const ce=Ng(H,G);J=me=>{const C=Math.exp(-G*H*me);return u-C*((k+G*H*L)/ce*Math.sin(ce*me)+L*Math.cos(ce*me))}}else if(G===1)J=ce=>u-Math.exp(-H*ce)*(L+(k+H*L)*ce);else{const ce=H*Math.sqrt(G*G-1);J=me=>{const C=Math.exp(-G*H*me),x=Math.min(ce*me,300);return u-C*((k+G*H*L)*Math.sinh(x)+ce*L*Math.cosh(x))/ce}}const ae={calculatedDuration:N&&b||null,next:ce=>{const me=J(ce);if(N)f.done=ce>=b;else{let C=ce===0?k:0;G<1&&(C=ce===0?gs(k):dR(J,ce,me));const x=Math.abs(C)<=s,I=Math.abs(u-me)<=o;f.done=x&&I}return f.value=f.done?u:me,f},toString:()=>{const ce=Math.min(uv(ae),Gd),me=hR(C=>ae.next(ce*C).value,ce,30);return ce+"ms "+me},toTransition:()=>{}};return ae}Kd.applyToOptions=t=>{const e=yk(t,100,Kd);return t.ease=e.ease,t.duration=gs(e.duration),t.type="keyframes",t};function Dg({keyframes:t,velocity:e=0,power:n=.8,timeConstant:s=325,bounceDamping:o=10,bounceStiffness:c=500,modifyTarget:u,min:f,max:g,restDelta:y=.5,restSpeed:_}){const b=t[0],S={done:!1,value:b},N=x=>f!==void 0&&x<f||g!==void 0&&x>g,k=x=>f===void 0?g:g===void 0||Math.abs(f-x)<Math.abs(g-x)?f:g;let G=n*e;const L=b+G,H=u===void 0?L:u(L);H!==L&&(G=H-b);const Q=x=>-G*Math.exp(-x/s),J=x=>H+Q(x),ae=x=>{const I=Q(x),M=J(x);S.done=Math.abs(I)<=y,S.value=S.done?H:M};let ce,me;const C=x=>{N(S.value)&&(ce=x,me=Kd({keyframes:[S.value,k(S.value)],velocity:dR(J,x,S.value),damping:o,stiffness:c,restDelta:y,restSpeed:_}))};return C(0),{calculatedDuration:null,next:x=>{let I=!1;return!me&&ce===void 0&&(I=!0,ae(x),C(x)),ce!==void 0&&x>=ce?me.next(x-ce):(!I&&ae(x),S)}}}function wk(t,e,n){const s=[],o=n||Zs.mix||uR,c=t.length-1;for(let u=0;u<c;u++){let f=o(t[u],t[u+1]);if(e){const g=Array.isArray(e)?e[u]||xi:e;f=wu(g,f)}s.push(f)}return s}function Rk(t,e,{clamp:n=!0,ease:s,mixer:o}={}){const c=t.length;if(tv(c===e.length),c===1)return()=>e[0];if(c===2&&e[0]===e[1])return()=>e[1];const u=t[0]===t[1];t[0]>t[c-1]&&(t=[...t].reverse(),e=[...e].reverse());const f=wk(e,s,o),g=f.length,y=_=>{if(u&&_<t[0])return e[0];let b=0;if(g>1)for(;b<t.length-2&&!(_<t[b+1]);b++);const S=au(t[b],t[b+1],_);return f[b](S)};return n?_=>y(Ws(t[0],t[c-1],_)):y}function xk(t,e){const n=t[t.length-1];for(let s=1;s<=e;s++){const o=au(0,e,s);t.push(Rt(n,1,o))}}function Ck(t){const e=[0];return xk(e,t.length-1),e}function Ik(t,e){return t.map(n=>n*e)}function Nk(t,e){return t.map(()=>e||J1).splice(0,t.length-1)}function Qc({duration:t=300,keyframes:e,times:n,ease:s="easeInOut"}){const o=zj(s)?s.map(Hb):Hb(s),c={done:!1,value:e[0]},u=Ik(n&&n.length===e.length?n:Ck(e),t),f=Rk(u,e,{ease:Array.isArray(o)?o:Nk(e,o)});return{calculatedDuration:t,next:g=>(c.value=f(g),c.done=g>=t,c)}}const Dk=t=>t!==null;function hv(t,{repeat:e,repeatType:n="loop"},s,o=1){const c=t.filter(Dk),f=o<0||e&&n!=="loop"&&e%2===1?0:c.length-1;return!f||s===void 0?c[f]:s}const Ok={decay:Dg,inertia:Dg,tween:Qc,keyframes:Qc,spring:Kd};function fR(t){typeof t.type=="string"&&(t.type=Ok[t.type])}class dv{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const Vk=t=>t/100;class fv extends dv{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==Kn.now()&&this.tick(Kn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;fR(e);const{type:n=Qc,repeat:s=0,repeatDelay:o=0,repeatType:c,velocity:u=0}=e;let{keyframes:f}=e;const g=n||Qc;g!==Qc&&typeof f[0]!="number"&&(this.mixKeyframes=wu(Vk,uR(f[0],f[1])),f=[0,100]);const y=g({...e,keyframes:f});c==="mirror"&&(this.mirroredGenerator=g({...e,keyframes:[...f].reverse(),velocity:-u})),y.calculatedDuration===null&&(y.calculatedDuration=uv(y));const{calculatedDuration:_}=y;this.calculatedDuration=_,this.resolvedDuration=_+o,this.totalDuration=this.resolvedDuration*(s+1)-o,this.generator=y}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:s,totalDuration:o,mixKeyframes:c,mirroredGenerator:u,resolvedDuration:f,calculatedDuration:g}=this;if(this.startTime===null)return s.next(0);const{delay:y=0,keyframes:_,repeat:b,repeatType:S,repeatDelay:N,type:k,onUpdate:G,finalKeyframe:L}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-o/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const H=this.currentTime-y*(this.playbackSpeed>=0?1:-1),Q=this.playbackSpeed>=0?H<0:H>o;this.currentTime=Math.max(H,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let J=this.currentTime,ae=s;if(b){const x=Math.min(this.currentTime,o)/f;let I=Math.floor(x),M=x%1;!M&&x>=1&&(M=1),M===1&&I--,I=Math.min(I,b+1),I%2&&(S==="reverse"?(M=1-M,N&&(M-=N/f)):S==="mirror"&&(ae=u)),J=Ws(0,1,M)*f}const ce=Q?{done:!1,value:_[0]}:ae.next(J);c&&(ce.value=c(ce.value));let{done:me}=ce;!Q&&g!==null&&(me=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const C=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&me);return C&&k!==Dg&&(ce.value=hv(_,this.options,L,this.speed)),G&&G(ce.value),C&&this.finish(),ce}then(e,n){return this.finished.then(e,n)}get duration(){return Ri(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Ri(e)}get time(){return Ri(this.currentTime)}set time(e){e=gs(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Kn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Ri(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=gk,startTime:n}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),this.options.onPlay?.();const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Kn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function Mk(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Xa=t=>t*180/Math.PI,Og=t=>{const e=Xa(Math.atan2(t[1],t[0]));return Vg(e)},Pk={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Og,rotateZ:Og,skewX:t=>Xa(Math.atan(t[1])),skewY:t=>Xa(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Vg=t=>(t=t%360,t<0&&(t+=360),t),$b=Og,Wb=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),Zb=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),jk={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Wb,scaleY:Zb,scale:t=>(Wb(t)+Zb(t))/2,rotateX:t=>Vg(Xa(Math.atan2(t[6],t[5]))),rotateY:t=>Vg(Xa(Math.atan2(-t[2],t[0]))),rotateZ:$b,rotate:$b,skewX:t=>Xa(Math.atan(t[4])),skewY:t=>Xa(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Mg(t){return t.includes("scale")?1:0}function Pg(t,e){if(!t||t==="none")return Mg(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,o;if(n)s=jk,o=n;else{const f=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=Pk,o=f}if(!o)return Mg(e);const c=s[e],u=o[1].split(",").map(Lk);return typeof c=="function"?c(u):u[c]}const kk=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return Pg(n,e)};function Lk(t){return parseFloat(t.trim())}const Dl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ol=new Set(Dl),Jb=t=>t===Nl||t===Ce,Uk=new Set(["x","y","z"]),Bk=Dl.filter(t=>!Uk.has(t));function zk(t){const e=[];return Bk.forEach(n=>{const s=t.getValue(n);s!==void 0&&(e.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),e}const Wa={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Pg(e,"x"),y:(t,{transform:e})=>Pg(e,"y")};Wa.translateX=Wa.x;Wa.translateY=Wa.y;const Za=new Set;let jg=!1,kg=!1,Lg=!1;function mR(){if(kg){const t=Array.from(Za).filter(s=>s.needsMeasurement),e=new Set(t.map(s=>s.element)),n=new Map;e.forEach(s=>{const o=zk(s);o.length&&(n.set(s,o),s.render())}),t.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const o=n.get(s);o&&o.forEach(([c,u])=>{s.getValue(c)?.set(u)})}),t.forEach(s=>s.measureEndState()),t.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}kg=!1,jg=!1,Za.forEach(t=>t.complete(Lg)),Za.clear()}function pR(){Za.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(kg=!0)})}function qk(){Lg=!0,pR(),mR(),Lg=!1}class mv{constructor(e,n,s,o,c,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=s,this.motionValue=o,this.element=c,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(Za.add(this),jg||(jg=!0,St.read(pR),St.resolveKeyframes(mR))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:s,motionValue:o}=this;if(e[0]===null){const c=o?.get(),u=e[e.length-1];if(c!==void 0)e[0]=c;else if(s&&n){const f=s.readValue(n,u);f!=null&&(e[0]=f)}e[0]===void 0&&(e[0]=u),o&&c===void 0&&o.set(e[0])}Mk(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Za.delete(this)}cancel(){this.state==="scheduled"&&(Za.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Fk=t=>t.startsWith("--");function Hk(t,e,n){Fk(e)?t.style.setProperty(e,n):t.style[e]=n}const Gk=nv(()=>window.ScrollTimeline!==void 0),Kk={};function Yk(t,e){const n=nv(t);return()=>Kk[e]??n()}const gR=Yk(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Uc=([t,e,n,s])=>`cubic-bezier(${t}, ${e}, ${n}, ${s})`,eS={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Uc([0,.65,.55,1]),circOut:Uc([.55,0,1,.45]),backIn:Uc([.31,.01,.66,-.59]),backOut:Uc([.33,1.53,.69,.99])};function yR(t,e){if(t)return typeof t=="function"?gR()?hR(t,e):"ease-out":eR(t)?Uc(t):Array.isArray(t)?t.map(n=>yR(n,e)||eS.easeOut):eS[t]}function Qk(t,e,n,{delay:s=0,duration:o=300,repeat:c=0,repeatType:u="loop",ease:f="easeOut",times:g}={},y=void 0){const _={[e]:n};g&&(_.offset=g);const b=yR(f,o);Array.isArray(b)&&(_.easing=b);const S={delay:s,duration:o,easing:Array.isArray(b)?"linear":b,fill:"both",iterations:c+1,direction:u==="reverse"?"alternate":"normal"};return y&&(S.pseudoElement=y),t.animate(_,S)}function vR(t){return typeof t=="function"&&"applyToOptions"in t}function Xk({type:t,...e}){return vR(t)&&gR()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class $k extends dv{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:s,keyframes:o,pseudoElement:c,allowFlatten:u=!1,finalKeyframe:f,onComplete:g}=e;this.isPseudoElement=!!c,this.allowFlatten=u,this.options=e,tv(typeof e.type!="string");const y=Xk(e);this.animation=Qk(n,s,o,y,c),y.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!c){const _=hv(o,this.options,f,this.speed);this.updateMotionValue?this.updateMotionValue(_):Hk(n,s,_),this.animation.cancel()}g?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return Ri(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Ri(e)}get time(){return Ri(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=gs(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&Gk()?(this.animation.timeline=e,xi):n(this)}}const _R={anticipate:$1,backInOut:X1,circInOut:Z1};function Wk(t){return t in _R}function Zk(t){typeof t.ease=="string"&&Wk(t.ease)&&(t.ease=_R[t.ease])}const tS=10;class Jk extends $k{constructor(e){Zk(e),fR(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:s,onComplete:o,element:c,...u}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const f=new fv({...u,autoplay:!1}),g=gs(this.finishedTime??this.time);n.setWithVelocity(f.sample(g-tS).value,f.sample(g).value,tS),f.stop()}}const nS=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(ra.test(t)||t==="0")&&!t.startsWith("url("));function eL(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function tL(t,e,n,s){const o=t[0];if(o===null)return!1;if(e==="display"||e==="visibility")return!0;const c=t[t.length-1],u=nS(o,e),f=nS(c,e);return!u||!f?!1:eL(t)||(n==="spring"||vR(n))&&s}function Ug(t){t.duration=0,t.type="keyframes"}const nL=new Set(["opacity","clipPath","filter","transform"]),iL=nv(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function sL(t){const{motionValue:e,name:n,repeatDelay:s,repeatType:o,damping:c,type:u}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:g,transformTemplate:y}=e.owner.getProps();return iL()&&n&&nL.has(n)&&(n!=="transform"||!y)&&!g&&!s&&o!=="mirror"&&c!==0&&u!=="inertia"}const rL=40;class aL extends dv{constructor({autoplay:e=!0,delay:n=0,type:s="keyframes",repeat:o=0,repeatDelay:c=0,repeatType:u="loop",keyframes:f,name:g,motionValue:y,element:_,...b}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Kn.now();const S={autoplay:e,delay:n,type:s,repeat:o,repeatDelay:c,repeatType:u,name:g,motionValue:y,element:_,...b},N=_?.KeyframeResolver||mv;this.keyframeResolver=new N(f,(k,G,L)=>this.onKeyframesResolved(k,G,S,!L),g,y,_),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,s,o){this.keyframeResolver=void 0;const{name:c,type:u,velocity:f,delay:g,isHandoff:y,onUpdate:_}=s;this.resolvedAt=Kn.now(),tL(e,c,u,f)||((Zs.instantAnimations||!g)&&_?.(hv(e,s,n)),e[0]=e[e.length-1],Ug(s),s.repeat=0);const S={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>rL?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:e},N=!y&&sL(S)?new Jk({...S,element:S.motionValue.owner.current}):new fv(S);N.finished.then(()=>this.notifyFinished()).catch(xi),this.pendingTimeline&&(this.stopTimeline=N.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=N}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),qk()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const oL=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function lL(t){const e=oL.exec(t);if(!e)return[,];const[,n,s,o]=e;return[`--${n??s}`,o]}function TR(t,e,n=1){const[s,o]=lL(t);if(!s)return;const c=window.getComputedStyle(e).getPropertyValue(s);if(c){const u=c.trim();return z1(u)?parseFloat(u):u}return av(o)?TR(o,e,n+1):o}function pv(t,e){return t?.[e]??t?.default??t}const ER=new Set(["width","height","top","left","right","bottom",...Dl]),cL={test:t=>t==="auto",parse:t=>t},bR=t=>e=>e.test(t),SR=[Nl,Ce,ys,Ur,ek,Jj,cL],iS=t=>SR.find(bR(t));function uL(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||F1(t):!0}const hL=new Set(["brightness","contrast","saturate","opacity"]);function dL(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=n.match(ov)||[];if(!s)return t;const o=n.replace(s,"");let c=hL.has(e)?1:0;return s!==n&&(c*=100),e+"("+c+o+")"}const fL=/\b([a-z-]*)\(.*?\)/gu,Bg={...ra,getAnimatableNone:t=>{const e=t.match(fL);return e?e.map(dL).join(" "):t}},sS={...Nl,transform:Math.round},mL={rotate:Ur,rotateX:Ur,rotateY:Ur,rotateZ:Ur,scale:ad,scaleX:ad,scaleY:ad,scaleZ:ad,skew:Ur,skewX:Ur,skewY:Ur,distance:Ce,translateX:Ce,translateY:Ce,translateZ:Ce,x:Ce,y:Ce,z:Ce,perspective:Ce,transformPerspective:Ce,opacity:ou,originX:Gb,originY:Gb,originZ:Ce},gv={borderWidth:Ce,borderTopWidth:Ce,borderRightWidth:Ce,borderBottomWidth:Ce,borderLeftWidth:Ce,borderRadius:Ce,radius:Ce,borderTopLeftRadius:Ce,borderTopRightRadius:Ce,borderBottomRightRadius:Ce,borderBottomLeftRadius:Ce,width:Ce,maxWidth:Ce,height:Ce,maxHeight:Ce,top:Ce,right:Ce,bottom:Ce,left:Ce,padding:Ce,paddingTop:Ce,paddingRight:Ce,paddingBottom:Ce,paddingLeft:Ce,margin:Ce,marginTop:Ce,marginRight:Ce,marginBottom:Ce,marginLeft:Ce,backgroundPositionX:Ce,backgroundPositionY:Ce,...mL,zIndex:sS,fillOpacity:ou,strokeOpacity:ou,numOctaves:sS},pL={...gv,color:Qt,backgroundColor:Qt,outlineColor:Qt,fill:Qt,stroke:Qt,borderColor:Qt,borderTopColor:Qt,borderRightColor:Qt,borderBottomColor:Qt,borderLeftColor:Qt,filter:Bg,WebkitFilter:Bg},AR=t=>pL[t];function wR(t,e){let n=AR(t);return n!==Bg&&(n=ra),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const gL=new Set(["auto","none","0"]);function yL(t,e,n){let s=0,o;for(;s<t.length&&!o;){const c=t[s];typeof c=="string"&&!gL.has(c)&&lu(c).values.length&&(o=t[s]),s++}if(o&&n)for(const c of e)t[c]=wR(n,o)}class vL extends mv{constructor(e,n,s,o,c){super(e,n,s,o,c,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let g=0;g<e.length;g++){let y=e[g];if(typeof y=="string"&&(y=y.trim(),av(y))){const _=TR(y,n.current);_!==void 0&&(e[g]=_),g===e.length-1&&(this.finalKeyframe=y)}}if(this.resolveNoneKeyframes(),!ER.has(s)||e.length!==2)return;const[o,c]=e,u=iS(o),f=iS(c);if(u!==f)if(Jb(u)&&Jb(f))for(let g=0;g<e.length;g++){const y=e[g];typeof y=="string"&&(e[g]=parseFloat(y))}else Wa[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,s=[];for(let o=0;o<e.length;o++)(e[o]===null||uL(e[o]))&&s.push(o);s.length&&yL(e,s,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Wa[s](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const o=n[n.length-1];o!==void 0&&e.getValue(s,o).jump(o,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:s}=this;if(!e||!e.current)return;const o=e.getValue(n);o&&o.jump(this.measuredOrigin,!1);const c=s.length-1,u=s[c];s[c]=Wa[n](e.measureViewportBox(),window.getComputedStyle(e.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),this.removedTransforms?.length&&this.removedTransforms.forEach(([f,g])=>{e.getValue(f).set(g)}),this.resolveNoneKeyframes()}}function _L(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let s=document;const o=n?.[t]??s.querySelectorAll(t);return o?Array.from(o):[]}return Array.from(t)}const RR=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function xR(t){return q1(t)&&"offsetHeight"in t}const rS=30,TL=t=>!isNaN(parseFloat(t));class EL{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{const o=Kn.now();if(this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const c of this.dependents)c.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Kn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=TL(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new iv);const s=this.events[e].add(n);return e==="change"?()=>{s(),St.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Kn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>rS)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,rS);return H1(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function bl(t,e){return new EL(t,e)}const{schedule:yv}=tR(queueMicrotask,!1),Ui={x:!1,y:!1};function CR(){return Ui.x||Ui.y}function bL(t){return t==="x"||t==="y"?Ui[t]?null:(Ui[t]=!0,()=>{Ui[t]=!1}):Ui.x||Ui.y?null:(Ui.x=Ui.y=!0,()=>{Ui.x=Ui.y=!1})}function IR(t,e){const n=_L(t),s=new AbortController,o={passive:!0,...e,signal:s.signal};return[n,o,()=>s.abort()]}function aS(t){return!(t.pointerType==="touch"||CR())}function SL(t,e,n={}){const[s,o,c]=IR(t,n),u=f=>{if(!aS(f))return;const{target:g}=f,y=e(g,f);if(typeof y!="function"||!g)return;const _=b=>{aS(b)&&(y(b),g.removeEventListener("pointerleave",_))};g.addEventListener("pointerleave",_,o)};return s.forEach(f=>{f.addEventListener("pointerenter",u,o)}),c}const NR=(t,e)=>e?t===e?!0:NR(t,e.parentElement):!1,vv=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,AL=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function wL(t){return AL.has(t.tagName)||t.tabIndex!==-1}const Td=new WeakSet;function oS(t){return e=>{e.key==="Enter"&&t(e)}}function Fp(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const RL=(t,e)=>{const n=t.currentTarget;if(!n)return;const s=oS(()=>{if(Td.has(n))return;Fp(n,"down");const o=oS(()=>{Fp(n,"up")}),c=()=>Fp(n,"cancel");n.addEventListener("keyup",o,e),n.addEventListener("blur",c,e)});n.addEventListener("keydown",s,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),e)};function lS(t){return vv(t)&&!CR()}function xL(t,e,n={}){const[s,o,c]=IR(t,n),u=f=>{const g=f.currentTarget;if(!lS(f))return;Td.add(g);const y=e(g,f),_=(N,k)=>{window.removeEventListener("pointerup",b),window.removeEventListener("pointercancel",S),Td.has(g)&&Td.delete(g),lS(N)&&typeof y=="function"&&y(N,{success:k})},b=N=>{_(N,g===window||g===document||n.useGlobalTarget||NR(g,N.target))},S=N=>{_(N,!1)};window.addEventListener("pointerup",b,o),window.addEventListener("pointercancel",S,o)};return s.forEach(f=>{(n.useGlobalTarget?window:f).addEventListener("pointerdown",u,o),xR(f)&&(f.addEventListener("focus",y=>RL(y,o)),!wL(f)&&!f.hasAttribute("tabindex")&&(f.tabIndex=0))}),c}function DR(t){return q1(t)&&"ownerSVGElement"in t}function CL(t){return DR(t)&&t.tagName==="svg"}const wn=t=>!!(t&&t.getVelocity),IL=[...SR,Qt,ra],NL=t=>IL.find(bR(t)),_v=re.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function cS(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function DL(...t){return e=>{let n=!1;const s=t.map(o=>{const c=cS(o,e);return!n&&typeof c=="function"&&(n=!0),c});if(n)return()=>{for(let o=0;o<s.length;o++){const c=s[o];typeof c=="function"?c():cS(t[o],null)}}}}function OL(...t){return re.useCallback(DL(...t),t)}class VL extends re.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const s=n.offsetParent,o=xR(s)&&s.offsetWidth||0,c=this.props.sizeRef.current;c.height=n.offsetHeight||0,c.width=n.offsetWidth||0,c.top=n.offsetTop,c.left=n.offsetLeft,c.right=o-c.width-c.left}return null}componentDidUpdate(){}render(){return this.props.children}}function ML({children:t,isPresent:e,anchorX:n,root:s}){const o=re.useId(),c=re.useRef(null),u=re.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:f}=re.useContext(_v),g=OL(c,t?.ref);return re.useInsertionEffect(()=>{const{width:y,height:_,top:b,left:S,right:N}=u.current;if(e||!c.current||!y||!_)return;const k=n==="left"?`left: ${S}`:`right: ${N}`;c.current.dataset.motionPopId=o;const G=document.createElement("style");f&&(G.nonce=f);const L=s??document.head;return L.appendChild(G),G.sheet&&G.sheet.insertRule(`
          [data-motion-pop-id="${o}"] {
            position: absolute !important;
            width: ${y}px !important;
            height: ${_}px !important;
            ${k}px !important;
            top: ${b}px !important;
          }
        `),()=>{L.contains(G)&&L.removeChild(G)}},[e]),p.jsx(VL,{isPresent:e,childRef:c,sizeRef:u,children:re.cloneElement(t,{ref:g})})}const PL=({children:t,initial:e,isPresent:n,onExitComplete:s,custom:o,presenceAffectsLayout:c,mode:u,anchorX:f,root:g})=>{const y=Wy(jL),_=re.useId();let b=!0,S=re.useMemo(()=>(b=!1,{id:_,initial:e,isPresent:n,custom:o,onExitComplete:N=>{y.set(N,!0);for(const k of y.values())if(!k)return;s&&s()},register:N=>(y.set(N,!1),()=>y.delete(N))}),[n,y,s]);return c&&b&&(S={...S}),re.useMemo(()=>{y.forEach((N,k)=>y.set(k,!1))},[n]),re.useEffect(()=>{!n&&!y.size&&s&&s()},[n]),u==="popLayout"&&(t=p.jsx(ML,{isPresent:n,anchorX:f,root:g,children:t})),p.jsx(_f.Provider,{value:S,children:t})};function jL(){return new Map}function OR(t=!0){const e=re.useContext(_f);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:o}=e,c=re.useId();re.useEffect(()=>{if(t)return o(c)},[t]);const u=re.useCallback(()=>t&&s&&s(c),[c,s,t]);return!n&&s?[!1,u]:[!0]}const od=t=>t.key||"";function uS(t){const e=[];return re.Children.forEach(t,n=>{re.isValidElement(n)&&e.push(n)}),e}const VR=({children:t,custom:e,initial:n=!0,onExitComplete:s,presenceAffectsLayout:o=!0,mode:c="sync",propagate:u=!1,anchorX:f="left",root:g})=>{const[y,_]=OR(u),b=re.useMemo(()=>uS(t),[t]),S=u&&!y?[]:b.map(od),N=re.useRef(!0),k=re.useRef(b),G=Wy(()=>new Map),[L,H]=re.useState(b),[Q,J]=re.useState(b);B1(()=>{N.current=!1,k.current=b;for(let me=0;me<Q.length;me++){const C=od(Q[me]);S.includes(C)?G.delete(C):G.get(C)!==!0&&G.set(C,!1)}},[Q,S.length,S.join("-")]);const ae=[];if(b!==L){let me=[...b];for(let C=0;C<Q.length;C++){const x=Q[C],I=od(x);S.includes(I)||(me.splice(C,0,x),ae.push(x))}return c==="wait"&&ae.length&&(me=ae),J(uS(me)),H(b),null}const{forceRender:ce}=re.useContext($y);return p.jsx(p.Fragment,{children:Q.map(me=>{const C=od(me),x=u&&!y?!1:b===Q||S.includes(C),I=()=>{if(G.has(C))G.set(C,!0);else return;let M=!0;G.forEach(V=>{V||(M=!1)}),M&&(ce?.(),J(k.current),u&&_?.(),s&&s())};return p.jsx(PL,{isPresent:x,initial:!N.current||n?void 0:!1,custom:e,presenceAffectsLayout:o,mode:c,root:g,onExitComplete:x?void 0:I,anchorX:f,children:me},C)})})},MR=re.createContext({strict:!1}),hS={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Sl={};for(const t in hS)Sl[t]={isEnabled:e=>hS[t].some(n=>!!e[n])};function kL(t){for(const e in t)Sl[e]={...Sl[e],...t[e]}}const LL=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Yd(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||LL.has(t)}let PR=t=>!Yd(t);function UL(t){typeof t=="function"&&(PR=e=>e.startsWith("on")?!Yd(e):t(e))}try{UL(require("@emotion/is-prop-valid").default)}catch{}function BL(t,e,n){const s={};for(const o in t)o==="values"&&typeof t.values=="object"||(PR(o)||n===!0&&Yd(o)||!e&&!Yd(o)||t.draggable&&o.startsWith("onDrag"))&&(s[o]=t[o]);return s}const Tf=re.createContext({});function Ef(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function cu(t){return typeof t=="string"||Array.isArray(t)}const Tv=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Ev=["initial",...Tv];function bf(t){return Ef(t.animate)||Ev.some(e=>cu(t[e]))}function jR(t){return!!(bf(t)||t.variants)}function zL(t,e){if(bf(t)){const{initial:n,animate:s}=t;return{initial:n===!1||cu(n)?n:void 0,animate:cu(s)?s:void 0}}return t.inherit!==!1?e:{}}function qL(t){const{initial:e,animate:n}=zL(t,re.useContext(Tf));return re.useMemo(()=>({initial:e,animate:n}),[dS(e),dS(n)])}function dS(t){return Array.isArray(t)?t.join(" "):t}function fS(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Oc={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Ce.test(t))t=parseFloat(t);else return t;const n=fS(t,e.target.x),s=fS(t,e.target.y);return`${n}% ${s}%`}},FL={correct:(t,{treeScale:e,projectionDelta:n})=>{const s=t,o=ra.parse(t);if(o.length>5)return s;const c=ra.createTransformer(t),u=typeof o[0]!="number"?1:0,f=n.x.scale*e.x,g=n.y.scale*e.y;o[0+u]/=f,o[1+u]/=g;const y=Rt(f,g,.5);return typeof o[2+u]=="number"&&(o[2+u]/=y),typeof o[3+u]=="number"&&(o[3+u]/=y),c(o)}},zg={borderRadius:{...Oc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Oc,borderTopRightRadius:Oc,borderBottomLeftRadius:Oc,borderBottomRightRadius:Oc,boxShadow:FL};function kR(t,{layout:e,layoutId:n}){return Ol.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!zg[t]||t==="opacity")}const HL={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},GL=Dl.length;function KL(t,e,n){let s="",o=!0;for(let c=0;c<GL;c++){const u=Dl[c],f=t[u];if(f===void 0)continue;let g=!0;if(typeof f=="number"?g=f===(u.startsWith("scale")?1:0):g=parseFloat(f)===0,!g||n){const y=RR(f,gv[u]);if(!g){o=!1;const _=HL[u]||u;s+=`${_}(${y}) `}n&&(e[u]=y)}}return s=s.trim(),n?s=n(e,o?"":s):o&&(s="none"),s}function bv(t,e,n){const{style:s,vars:o,transformOrigin:c}=t;let u=!1,f=!1;for(const g in e){const y=e[g];if(Ol.has(g)){u=!0;continue}else if(iR(g)){o[g]=y;continue}else{const _=RR(y,gv[g]);g.startsWith("origin")?(f=!0,c[g]=_):s[g]=_}}if(e.transform||(u||n?s.transform=KL(e,t.transform,n):s.transform&&(s.transform="none")),f){const{originX:g="50%",originY:y="50%",originZ:_=0}=c;s.transformOrigin=`${g} ${y} ${_}`}}const Sv=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function LR(t,e,n){for(const s in e)!wn(e[s])&&!kR(s,n)&&(t[s]=e[s])}function YL({transformTemplate:t},e){return re.useMemo(()=>{const n=Sv();return bv(n,e,t),Object.assign({},n.vars,n.style)},[e])}function QL(t,e){const n=t.style||{},s={};return LR(s,n,t),Object.assign(s,YL(t,e)),s}function XL(t,e){const n={},s=QL(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=s,n}const $L={offset:"stroke-dashoffset",array:"stroke-dasharray"},WL={offset:"strokeDashoffset",array:"strokeDasharray"};function ZL(t,e,n=1,s=0,o=!0){t.pathLength=1;const c=o?$L:WL;t[c.offset]=Ce.transform(-s);const u=Ce.transform(e),f=Ce.transform(n);t[c.array]=`${u} ${f}`}function UR(t,{attrX:e,attrY:n,attrScale:s,pathLength:o,pathSpacing:c=1,pathOffset:u=0,...f},g,y,_){if(bv(t,f,y),g){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:b,style:S}=t;b.transform&&(S.transform=b.transform,delete b.transform),(S.transform||b.transformOrigin)&&(S.transformOrigin=b.transformOrigin??"50% 50%",delete b.transformOrigin),S.transform&&(S.transformBox=_?.transformBox??"fill-box",delete b.transformBox),e!==void 0&&(b.x=e),n!==void 0&&(b.y=n),s!==void 0&&(b.scale=s),o!==void 0&&ZL(b,o,c,u,!1)}const BR=()=>({...Sv(),attrs:{}}),zR=t=>typeof t=="string"&&t.toLowerCase()==="svg";function JL(t,e,n,s){const o=re.useMemo(()=>{const c=BR();return UR(c,e,zR(s),t.transformTemplate,t.style),{...c.attrs,style:{...c.style}}},[e]);if(t.style){const c={};LR(c,t.style,t),o.style={...c,...o.style}}return o}const e4=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Av(t){return typeof t!="string"||t.includes("-")?!1:!!(e4.indexOf(t)>-1||/[A-Z]/u.test(t))}function t4(t,e,n,{latestValues:s},o,c=!1){const f=(Av(t)?JL:XL)(e,s,o,t),g=BL(e,typeof t=="string",c),y=t!==re.Fragment?{...g,...f,ref:n}:{},{children:_}=e,b=re.useMemo(()=>wn(_)?_.get():_,[_]);return re.createElement(t,{...y,children:b})}function mS(t){const e=[{},{}];return t?.values.forEach((n,s)=>{e[0][s]=n.get(),e[1][s]=n.getVelocity()}),e}function wv(t,e,n,s){if(typeof e=="function"){const[o,c]=mS(s);e=e(n!==void 0?n:t.custom,o,c)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[o,c]=mS(s);e=e(n!==void 0?n:t.custom,o,c)}return e}function Ed(t){return wn(t)?t.get():t}function n4({scrapeMotionValuesFromProps:t,createRenderState:e},n,s,o){return{latestValues:i4(n,s,o,t),renderState:e()}}function i4(t,e,n,s){const o={},c=s(t,{});for(const S in c)o[S]=Ed(c[S]);let{initial:u,animate:f}=t;const g=bf(t),y=jR(t);e&&y&&!g&&t.inherit!==!1&&(u===void 0&&(u=e.initial),f===void 0&&(f=e.animate));let _=n?n.initial===!1:!1;_=_||u===!1;const b=_?f:u;if(b&&typeof b!="boolean"&&!Ef(b)){const S=Array.isArray(b)?b:[b];for(let N=0;N<S.length;N++){const k=wv(t,S[N]);if(k){const{transitionEnd:G,transition:L,...H}=k;for(const Q in H){let J=H[Q];if(Array.isArray(J)){const ae=_?J.length-1:0;J=J[ae]}J!==null&&(o[Q]=J)}for(const Q in G)o[Q]=G[Q]}}}return o}const qR=t=>(e,n)=>{const s=re.useContext(Tf),o=re.useContext(_f),c=()=>n4(t,e,s,o);return n?c():Wy(c)};function Rv(t,e,n){const{style:s}=t,o={};for(const c in s)(wn(s[c])||e.style&&wn(e.style[c])||kR(c,t)||n?.getValue(c)?.liveStyle!==void 0)&&(o[c]=s[c]);return o}const s4=qR({scrapeMotionValuesFromProps:Rv,createRenderState:Sv});function FR(t,e,n){const s=Rv(t,e,n);for(const o in t)if(wn(t[o])||wn(e[o])){const c=Dl.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;s[c]=t[o]}return s}const r4=qR({scrapeMotionValuesFromProps:FR,createRenderState:BR}),a4=Symbol.for("motionComponentSymbol");function rl(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function o4(t,e,n){return re.useCallback(s=>{s&&t.onMount&&t.onMount(s),e&&(s?e.mount(s):e.unmount()),n&&(typeof n=="function"?n(s):rl(n)&&(n.current=s))},[e])}const xv=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),l4="framerAppearId",HR="data-"+xv(l4),GR=re.createContext({});function c4(t,e,n,s,o){const{visualElement:c}=re.useContext(Tf),u=re.useContext(MR),f=re.useContext(_f),g=re.useContext(_v).reducedMotion,y=re.useRef(null);s=s||u.renderer,!y.current&&s&&(y.current=s(t,{visualState:e,parent:c,props:n,presenceContext:f,blockInitialAnimation:f?f.initial===!1:!1,reducedMotionConfig:g}));const _=y.current,b=re.useContext(GR);_&&!_.projection&&o&&(_.type==="html"||_.type==="svg")&&u4(y.current,n,o,b);const S=re.useRef(!1);re.useInsertionEffect(()=>{_&&S.current&&_.update(n,f)});const N=n[HR],k=re.useRef(!!N&&!window.MotionHandoffIsComplete?.(N)&&window.MotionHasOptimisedAnimation?.(N));return B1(()=>{_&&(S.current=!0,window.MotionIsMounted=!0,_.updateFeatures(),_.scheduleRenderMicrotask(),k.current&&_.animationState&&_.animationState.animateChanges())}),re.useEffect(()=>{_&&(!k.current&&_.animationState&&_.animationState.animateChanges(),k.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(N)}),k.current=!1),_.enteringChildren=void 0)}),_}function u4(t,e,n,s){const{layoutId:o,layout:c,drag:u,dragConstraints:f,layoutScroll:g,layoutRoot:y,layoutCrossfade:_}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:KR(t.parent)),t.projection.setOptions({layoutId:o,layout:c,alwaysMeasureLayout:!!u||f&&rl(f),visualElement:t,animationType:typeof c=="string"?c:"both",initialPromotionConfig:s,crossfade:_,layoutScroll:g,layoutRoot:y})}function KR(t){if(t)return t.options.allowProjection!==!1?t.projection:KR(t.parent)}function Hp(t,{forwardMotionProps:e=!1}={},n,s){n&&kL(n);const o=Av(t)?r4:s4;function c(f,g){let y;const _={...re.useContext(_v),...f,layoutId:h4(f)},{isStatic:b}=_,S=qL(f),N=o(f,b);if(!b&&Zy){d4();const k=f4(_);y=k.MeasureLayout,S.visualElement=c4(t,N,_,s,k.ProjectionNode)}return p.jsxs(Tf.Provider,{value:S,children:[y&&S.visualElement?p.jsx(y,{visualElement:S.visualElement,..._}):null,t4(t,f,o4(N,S.visualElement,g),N,b,e)]})}c.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const u=re.forwardRef(c);return u[a4]=t,u}function h4({layoutId:t}){const e=re.useContext($y).id;return e&&t!==void 0?e+"-"+t:t}function d4(t,e){re.useContext(MR).strict}function f4(t){const{drag:e,layout:n}=Sl;if(!e&&!n)return{};const s={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function m4(t,e){if(typeof Proxy>"u")return Hp;const n=new Map,s=(c,u)=>Hp(c,u,t,e),o=(c,u)=>s(c,u);return new Proxy(o,{get:(c,u)=>u==="create"?s:(n.has(u)||n.set(u,Hp(u,void 0,t,e)),n.get(u))})}function YR({top:t,left:e,right:n,bottom:s}){return{x:{min:e,max:n},y:{min:t,max:s}}}function p4({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function g4(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function Gp(t){return t===void 0||t===1}function qg({scale:t,scaleX:e,scaleY:n}){return!Gp(t)||!Gp(e)||!Gp(n)}function Ka(t){return qg(t)||QR(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function QR(t){return pS(t.x)||pS(t.y)}function pS(t){return t&&t!=="0%"}function Qd(t,e,n){const s=t-n,o=e*s;return n+o}function gS(t,e,n,s,o){return o!==void 0&&(t=Qd(t,o,s)),Qd(t,n,s)+e}function Fg(t,e=0,n=1,s,o){t.min=gS(t.min,e,n,s,o),t.max=gS(t.max,e,n,s,o)}function XR(t,{x:e,y:n}){Fg(t.x,e.translate,e.scale,e.originPoint),Fg(t.y,n.translate,n.scale,n.originPoint)}const yS=.999999999999,vS=1.0000000000001;function y4(t,e,n,s=!1){const o=n.length;if(!o)return;e.x=e.y=1;let c,u;for(let f=0;f<o;f++){c=n[f],u=c.projectionDelta;const{visualElement:g}=c.options;g&&g.props.style&&g.props.style.display==="contents"||(s&&c.options.layoutScroll&&c.scroll&&c!==c.root&&ol(t,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,XR(t,u)),s&&Ka(c.latestValues)&&ol(t,c.latestValues))}e.x<vS&&e.x>yS&&(e.x=1),e.y<vS&&e.y>yS&&(e.y=1)}function al(t,e){t.min=t.min+e,t.max=t.max+e}function _S(t,e,n,s,o=.5){const c=Rt(t.min,t.max,o);Fg(t,e,n,c,s)}function ol(t,e){_S(t.x,e.x,e.scaleX,e.scale,e.originX),_S(t.y,e.y,e.scaleY,e.scale,e.originY)}function $R(t,e){return YR(g4(t.getBoundingClientRect(),e))}function v4(t,e,n){const s=$R(t,n),{scroll:o}=e;return o&&(al(s.x,o.offset.x),al(s.y,o.offset.y)),s}const TS=()=>({translate:0,scale:1,origin:0,originPoint:0}),ll=()=>({x:TS(),y:TS()}),ES=()=>({min:0,max:0}),Jt=()=>({x:ES(),y:ES()}),Hg={current:null},WR={current:!1};function _4(){if(WR.current=!0,!!Zy)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Hg.current=t.matches;t.addEventListener("change",e),e()}else Hg.current=!1}const T4=new WeakMap;function E4(t,e,n){for(const s in e){const o=e[s],c=n[s];if(wn(o))t.addValue(s,o);else if(wn(c))t.addValue(s,bl(o,{owner:t}));else if(c!==o)if(t.hasValue(s)){const u=t.getValue(s);u.liveStyle===!0?u.jump(o):u.hasAnimated||u.set(o)}else{const u=t.getStaticValue(s);t.addValue(s,bl(u!==void 0?u:o,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const bS=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class b4{scrapeMotionValuesFromProps(e,n,s){return{}}constructor({parent:e,props:n,presenceContext:s,reducedMotionConfig:o,blockInitialAnimation:c,visualState:u},f={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=mv,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const S=Kn.now();this.renderScheduledAt<S&&(this.renderScheduledAt=S,St.render(this.render,!1,!0))};const{latestValues:g,renderState:y}=u;this.latestValues=g,this.baseTarget={...g},this.initialValues=n.initial?{...g}:{},this.renderState=y,this.parent=e,this.props=n,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=o,this.options=f,this.blockInitialAnimation=!!c,this.isControllingVariants=bf(n),this.isVariantNode=jR(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:_,...b}=this.scrapeMotionValuesFromProps(n,{},this);for(const S in b){const N=b[S];g[S]!==void 0&&wn(N)&&N.set(g[S])}}mount(e){this.current=e,T4.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),WR.current||_4(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Hg.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),sa(this.notifyUpdate),sa(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=Ol.has(e);s&&this.onBindTransform&&this.onBindTransform();const o=n.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&St.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let c;window.MotionCheckAppearSync&&(c=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{o(),c&&c(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Sl){const n=Sl[e];if(!n)continue;const{isEnabled:s,Feature:o}=n;if(!this.features[e]&&o&&s(this.props)&&(this.features[e]=new o(this)),this.features[e]){const c=this.features[e];c.isMounted?c.update():(c.mount(),c.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Jt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<bS.length;s++){const o=bS[s];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const c="on"+o,u=e[c];u&&(this.propEventSubscriptions[o]=this.on(o,u))}this.prevMotionValues=E4(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const s=this.values.get(e);n!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&n!==void 0&&(s=bl(n===null?void 0:n,{owner:this}),this.addValue(e,s)),s}readValue(e,n){let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(z1(s)||F1(s))?s=parseFloat(s):!NL(s)&&ra.test(n)&&(s=wR(e,n)),this.setBaseTarget(e,wn(s)?s.get():s)),wn(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const c=wv(this.props,n,this.presenceContext?.custom);c&&(s=c[e])}if(n&&s!==void 0)return s;const o=this.getBaseTargetFromProps(this.props,e);return o!==void 0&&!wn(o)?o:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new iv),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){yv.render(this.render)}}class ZR extends b4{constructor(){super(...arguments),this.KeyframeResolver=vL}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:s}){delete n[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;wn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function JR(t,{style:e,vars:n},s,o){const c=t.style;let u;for(u in e)c[u]=e[u];o?.applyProjectionStyles(c,s);for(u in n)c.setProperty(u,n[u])}function S4(t){return window.getComputedStyle(t)}class A4 extends ZR{constructor(){super(...arguments),this.type="html",this.renderInstance=JR}readValueFromInstance(e,n){if(Ol.has(n))return this.projection?.isProjecting?Mg(n):kk(e,n);{const s=S4(e),o=(iR(n)?s.getPropertyValue(n):s[n])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(e,{transformPagePoint:n}){return $R(e,n)}build(e,n,s){bv(e,n,s.transformTemplate)}scrapeMotionValuesFromProps(e,n,s){return Rv(e,n,s)}}const ex=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function w4(t,e,n,s){JR(t,e,void 0,s);for(const o in e.attrs)t.setAttribute(ex.has(o)?o:xv(o),e.attrs[o])}class R4 extends ZR{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Jt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Ol.has(n)){const s=AR(n);return s&&s.default||0}return n=ex.has(n)?n:xv(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,s){return FR(e,n,s)}build(e,n,s){UR(e,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(e,n,s,o){w4(e,n,s,o)}mount(e){this.isSVGTag=zR(e.tagName),super.mount(e)}}const x4=(t,e)=>Av(t)?new R4(e):new A4(e,{allowProjection:t!==re.Fragment});function pl(t,e,n){const s=t.getProps();return wv(s,e,n!==void 0?n:s.custom,t)}const Gg=t=>Array.isArray(t);function C4(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,bl(n))}function I4(t){return Gg(t)?t[t.length-1]||0:t}function N4(t,e){const n=pl(t,e);let{transitionEnd:s={},transition:o={},...c}=n||{};c={...c,...s};for(const u in c){const f=I4(c[u]);C4(t,u,f)}}function D4(t){return!!(wn(t)&&t.add)}function Kg(t,e){const n=t.getValue("willChange");if(D4(n))return n.add(e);if(!n&&Zs.WillChange){const s=new Zs.WillChange("auto");t.addValue("willChange",s),s.add(e)}}function tx(t){return t.props[HR]}const O4=t=>t!==null;function V4(t,{repeat:e,repeatType:n="loop"},s){const o=t.filter(O4),c=e&&n!=="loop"&&e%2===1?0:o.length-1;return o[c]}const M4={type:"spring",stiffness:500,damping:25,restSpeed:10},P4=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),j4={type:"keyframes",duration:.8},k4={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},L4=(t,{keyframes:e})=>e.length>2?j4:Ol.has(t)?t.startsWith("scale")?P4(e[1]):M4:k4;function U4({when:t,delay:e,delayChildren:n,staggerChildren:s,staggerDirection:o,repeat:c,repeatType:u,repeatDelay:f,from:g,elapsed:y,..._}){return!!Object.keys(_).length}const Cv=(t,e,n,s={},o,c)=>u=>{const f=pv(s,t)||{},g=f.delay||s.delay||0;let{elapsed:y=0}=s;y=y-gs(g);const _={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...f,delay:-y,onUpdate:S=>{e.set(S),f.onUpdate&&f.onUpdate(S)},onComplete:()=>{u(),f.onComplete&&f.onComplete()},name:t,motionValue:e,element:c?void 0:o};U4(f)||Object.assign(_,L4(t,_)),_.duration&&(_.duration=gs(_.duration)),_.repeatDelay&&(_.repeatDelay=gs(_.repeatDelay)),_.from!==void 0&&(_.keyframes[0]=_.from);let b=!1;if((_.type===!1||_.duration===0&&!_.repeatDelay)&&(Ug(_),_.delay===0&&(b=!0)),(Zs.instantAnimations||Zs.skipAnimations)&&(b=!0,Ug(_),_.delay=0),_.allowFlatten=!f.type&&!f.ease,b&&!c&&e.get()!==void 0){const S=V4(_.keyframes,f);if(S!==void 0){St.update(()=>{_.onUpdate(S),_.onComplete()});return}}return f.isSync?new fv(_):new aL(_)};function B4({protectedKeys:t,needsAnimating:e},n){const s=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,s}function nx(t,e,{delay:n=0,transitionOverride:s,type:o}={}){let{transition:c=t.getDefaultTransition(),transitionEnd:u,...f}=e;s&&(c=s);const g=[],y=o&&t.animationState&&t.animationState.getState()[o];for(const _ in f){const b=t.getValue(_,t.latestValues[_]??null),S=f[_];if(S===void 0||y&&B4(y,_))continue;const N={delay:n,...pv(c||{},_)},k=b.get();if(k!==void 0&&!b.isAnimating&&!Array.isArray(S)&&S===k&&!N.velocity)continue;let G=!1;if(window.MotionHandoffAnimation){const H=tx(t);if(H){const Q=window.MotionHandoffAnimation(H,_,St);Q!==null&&(N.startTime=Q,G=!0)}}Kg(t,_),b.start(Cv(_,b,S,t.shouldReduceMotion&&ER.has(_)?{type:!1}:N,t,G));const L=b.animation;L&&g.push(L)}return u&&Promise.all(g).then(()=>{St.update(()=>{u&&N4(t,u)})}),g}function ix(t,e,n,s=0,o=1){const c=Array.from(t).sort((y,_)=>y.sortNodePosition(_)).indexOf(e),u=t.size,f=(u-1)*s;return typeof n=="function"?n(c,u):o===1?c*s:f-c*s}function Yg(t,e,n={}){const s=pl(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:o=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(o=n.transitionOverride);const c=s?()=>Promise.all(nx(t,s,n)):()=>Promise.resolve(),u=t.variantChildren&&t.variantChildren.size?(g=0)=>{const{delayChildren:y=0,staggerChildren:_,staggerDirection:b}=o;return z4(t,e,g,y,_,b,n)}:()=>Promise.resolve(),{when:f}=o;if(f){const[g,y]=f==="beforeChildren"?[c,u]:[u,c];return g().then(()=>y())}else return Promise.all([c(),u(n.delay)])}function z4(t,e,n=0,s=0,o=0,c=1,u){const f=[];for(const g of t.variantChildren)g.notify("AnimationStart",e),f.push(Yg(g,e,{...u,delay:n+(typeof s=="function"?0:s)+ix(t.variantChildren,g,s,o,c)}).then(()=>g.notify("AnimationComplete",e)));return Promise.all(f)}function q4(t,e,n={}){t.notify("AnimationStart",e);let s;if(Array.isArray(e)){const o=e.map(c=>Yg(t,c,n));s=Promise.all(o)}else if(typeof e=="string")s=Yg(t,e,n);else{const o=typeof e=="function"?pl(t,e,n.custom):e;s=Promise.all(nx(t,o,n))}return s.then(()=>{t.notify("AnimationComplete",e)})}function sx(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let s=0;s<n;s++)if(e[s]!==t[s])return!1;return!0}const F4=Ev.length;function rx(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?rx(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<F4;n++){const s=Ev[n],o=t.props[s];(cu(o)||o===!1)&&(e[s]=o)}return e}const H4=[...Tv].reverse(),G4=Tv.length;function K4(t){return e=>Promise.all(e.map(({animation:n,options:s})=>q4(t,n,s)))}function Y4(t){let e=K4(t),n=SS(),s=!0;const o=g=>(y,_)=>{const b=pl(t,_,g==="exit"?t.presenceContext?.custom:void 0);if(b){const{transition:S,transitionEnd:N,...k}=b;y={...y,...k,...N}}return y};function c(g){e=g(t)}function u(g){const{props:y}=t,_=rx(t.parent)||{},b=[],S=new Set;let N={},k=1/0;for(let L=0;L<G4;L++){const H=H4[L],Q=n[H],J=y[H]!==void 0?y[H]:_[H],ae=cu(J),ce=H===g?Q.isActive:null;ce===!1&&(k=L);let me=J===_[H]&&J!==y[H]&&ae;if(me&&s&&t.manuallyAnimateOnMount&&(me=!1),Q.protectedKeys={...N},!Q.isActive&&ce===null||!J&&!Q.prevProp||Ef(J)||typeof J=="boolean")continue;const C=Q4(Q.prevProp,J);let x=C||H===g&&Q.isActive&&!me&&ae||L>k&&ae,I=!1;const M=Array.isArray(J)?J:[J];let V=M.reduce(o(H),{});ce===!1&&(V={});const{prevResolvedValues:U={}}=Q,D={...U,...V},st=le=>{x=!0,S.has(le)&&(I=!0,S.delete(le)),Q.needsAnimating[le]=!0;const ge=t.getValue(le);ge&&(ge.liveStyle=!1)};for(const le in D){const ge=V[le],Ve=U[le];if(N.hasOwnProperty(le))continue;let Me=!1;Gg(ge)&&Gg(Ve)?Me=!sx(ge,Ve):Me=ge!==Ve,Me?ge!=null?st(le):S.add(le):ge!==void 0&&S.has(le)?st(le):Q.protectedKeys[le]=!0}Q.prevProp=J,Q.prevResolvedValues=V,Q.isActive&&(N={...N,...V}),s&&t.blockInitialAnimation&&(x=!1);const vt=me&&C;x&&(!vt||I)&&b.push(...M.map(le=>{const ge={type:H};if(typeof le=="string"&&s&&!vt&&t.manuallyAnimateOnMount&&t.parent){const{parent:Ve}=t,Me=pl(Ve,le);if(Ve.enteringChildren&&Me){const{delayChildren:P}=Me.transition||{};ge.delay=ix(Ve.enteringChildren,t,P)}}return{animation:le,options:ge}}))}if(S.size){const L={};if(typeof y.initial!="boolean"){const H=pl(t,Array.isArray(y.initial)?y.initial[0]:y.initial);H&&H.transition&&(L.transition=H.transition)}S.forEach(H=>{const Q=t.getBaseTarget(H),J=t.getValue(H);J&&(J.liveStyle=!0),L[H]=Q??null}),b.push({animation:L})}let G=!!b.length;return s&&(y.initial===!1||y.initial===y.animate)&&!t.manuallyAnimateOnMount&&(G=!1),s=!1,G?e(b):Promise.resolve()}function f(g,y){if(n[g].isActive===y)return Promise.resolve();t.variantChildren?.forEach(b=>b.animationState?.setActive(g,y)),n[g].isActive=y;const _=u(g);for(const b in n)n[b].protectedKeys={};return _}return{animateChanges:u,setActive:f,setAnimateFunction:c,getState:()=>n,reset:()=>{n=SS()}}}function Q4(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!sx(e,t):!1}function Fa(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function SS(){return{animate:Fa(!0),whileInView:Fa(),whileHover:Fa(),whileTap:Fa(),whileDrag:Fa(),whileFocus:Fa(),exit:Fa()}}class ua{constructor(e){this.isMounted=!1,this.node=e}update(){}}class X4 extends ua{constructor(e){super(e),e.animationState||(e.animationState=Y4(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Ef(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let $4=0;class W4 extends ua{constructor(){super(...arguments),this.id=$4++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const o=this.node.animationState.setActive("exit",!e);n&&!e&&o.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const Z4={animation:{Feature:X4},exit:{Feature:W4}};function uu(t,e,n,s={passive:!0}){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n)}function Cu(t){return{point:{x:t.pageX,y:t.pageY}}}const J4=t=>e=>vv(e)&&t(e,Cu(e));function Xc(t,e,n,s){return uu(t,e,J4(n),s)}const ax=1e-4,eU=1-ax,tU=1+ax,ox=.01,nU=0-ox,iU=0+ox;function Nn(t){return t.max-t.min}function sU(t,e,n){return Math.abs(t-e)<=n}function AS(t,e,n,s=.5){t.origin=s,t.originPoint=Rt(e.min,e.max,t.origin),t.scale=Nn(n)/Nn(e),t.translate=Rt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=eU&&t.scale<=tU||isNaN(t.scale))&&(t.scale=1),(t.translate>=nU&&t.translate<=iU||isNaN(t.translate))&&(t.translate=0)}function $c(t,e,n,s){AS(t.x,e.x,n.x,s?s.originX:void 0),AS(t.y,e.y,n.y,s?s.originY:void 0)}function wS(t,e,n){t.min=n.min+e.min,t.max=t.min+Nn(e)}function rU(t,e,n){wS(t.x,e.x,n.x),wS(t.y,e.y,n.y)}function RS(t,e,n){t.min=e.min-n.min,t.max=t.min+Nn(e)}function Xd(t,e,n){RS(t.x,e.x,n.x),RS(t.y,e.y,n.y)}function Ai(t){return[t("x"),t("y")]}const lx=({current:t})=>t?t.ownerDocument.defaultView:null,xS=(t,e)=>Math.abs(t-e);function aU(t,e){const n=xS(t.x,e.x),s=xS(t.y,e.y);return Math.sqrt(n**2+s**2)}class cx{constructor(e,n,{transformPagePoint:s,contextWindow:o=window,dragSnapToOrigin:c=!1,distanceThreshold:u=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const S=Yp(this.lastMoveEventInfo,this.history),N=this.startEvent!==null,k=aU(S.offset,{x:0,y:0})>=this.distanceThreshold;if(!N&&!k)return;const{point:G}=S,{timestamp:L}=pn;this.history.push({...G,timestamp:L});const{onStart:H,onMove:Q}=this.handlers;N||(H&&H(this.lastMoveEvent,S),this.startEvent=this.lastMoveEvent),Q&&Q(this.lastMoveEvent,S)},this.handlePointerMove=(S,N)=>{this.lastMoveEvent=S,this.lastMoveEventInfo=Kp(N,this.transformPagePoint),St.update(this.updatePoint,!0)},this.handlePointerUp=(S,N)=>{this.end();const{onEnd:k,onSessionEnd:G,resumeAnimation:L}=this.handlers;if(this.dragSnapToOrigin&&L&&L(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const H=Yp(S.type==="pointercancel"?this.lastMoveEventInfo:Kp(N,this.transformPagePoint),this.history);this.startEvent&&k&&k(S,H),G&&G(S,H)},!vv(e))return;this.dragSnapToOrigin=c,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=u,this.contextWindow=o||window;const f=Cu(e),g=Kp(f,this.transformPagePoint),{point:y}=g,{timestamp:_}=pn;this.history=[{...y,timestamp:_}];const{onSessionStart:b}=n;b&&b(e,Yp(g,this.history)),this.removeListeners=wu(Xc(this.contextWindow,"pointermove",this.handlePointerMove),Xc(this.contextWindow,"pointerup",this.handlePointerUp),Xc(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),sa(this.updatePoint)}}function Kp(t,e){return e?{point:e(t.point)}:t}function CS(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Yp({point:t},e){return{point:t,delta:CS(t,ux(e)),offset:CS(t,oU(e)),velocity:lU(e,.1)}}function oU(t){return t[0]}function ux(t){return t[t.length-1]}function lU(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,s=null;const o=ux(t);for(;n>=0&&(s=t[n],!(o.timestamp-s.timestamp>gs(e)));)n--;if(!s)return{x:0,y:0};const c=Ri(o.timestamp-s.timestamp);if(c===0)return{x:0,y:0};const u={x:(o.x-s.x)/c,y:(o.y-s.y)/c};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function cU(t,{min:e,max:n},s){return e!==void 0&&t<e?t=s?Rt(e,t,s.min):Math.max(t,e):n!==void 0&&t>n&&(t=s?Rt(n,t,s.max):Math.min(t,n)),t}function IS(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function uU(t,{top:e,left:n,bottom:s,right:o}){return{x:IS(t.x,n,o),y:IS(t.y,e,s)}}function NS(t,e){let n=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,s]=[s,n]),{min:n,max:s}}function hU(t,e){return{x:NS(t.x,e.x),y:NS(t.y,e.y)}}function dU(t,e){let n=.5;const s=Nn(t),o=Nn(e);return o>s?n=au(e.min,e.max-s,t.min):s>o&&(n=au(t.min,t.max-o,e.min)),Ws(0,1,n)}function fU(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Qg=.35;function mU(t=Qg){return t===!1?t=0:t===!0&&(t=Qg),{x:DS(t,"left","right"),y:DS(t,"top","bottom")}}function DS(t,e,n){return{min:OS(t,e),max:OS(t,n)}}function OS(t,e){return typeof t=="number"?t:t[e]||0}const pU=new WeakMap;class gU{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Jt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const c=b=>{const{dragSnapToOrigin:S}=this.getProps();S?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Cu(b).point)},u=(b,S)=>{const{drag:N,dragPropagation:k,onDragStart:G}=this.getProps();if(N&&!k&&(this.openDragLock&&this.openDragLock(),this.openDragLock=bL(N),!this.openDragLock))return;this.latestPointerEvent=b,this.latestPanInfo=S,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ai(H=>{let Q=this.getAxisMotionValue(H).get()||0;if(ys.test(Q)){const{projection:J}=this.visualElement;if(J&&J.layout){const ae=J.layout.layoutBox[H];ae&&(Q=Nn(ae)*(parseFloat(Q)/100))}}this.originPoint[H]=Q}),G&&St.postRender(()=>G(b,S)),Kg(this.visualElement,"transform");const{animationState:L}=this.visualElement;L&&L.setActive("whileDrag",!0)},f=(b,S)=>{this.latestPointerEvent=b,this.latestPanInfo=S;const{dragPropagation:N,dragDirectionLock:k,onDirectionLock:G,onDrag:L}=this.getProps();if(!N&&!this.openDragLock)return;const{offset:H}=S;if(k&&this.currentDirection===null){this.currentDirection=yU(H),this.currentDirection!==null&&G&&G(this.currentDirection);return}this.updateAxis("x",S.point,H),this.updateAxis("y",S.point,H),this.visualElement.render(),L&&L(b,S)},g=(b,S)=>{this.latestPointerEvent=b,this.latestPanInfo=S,this.stop(b,S),this.latestPointerEvent=null,this.latestPanInfo=null},y=()=>Ai(b=>this.getAnimationState(b)==="paused"&&this.getAxisMotionValue(b).animation?.play()),{dragSnapToOrigin:_}=this.getProps();this.panSession=new cx(e,{onSessionStart:c,onStart:u,onMove:f,onSessionEnd:g,resumeAnimation:y},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:_,distanceThreshold:s,contextWindow:lx(this.visualElement)})}stop(e,n){const s=e||this.latestPointerEvent,o=n||this.latestPanInfo,c=this.isDragging;if(this.cancel(),!c||!o||!s)return;const{velocity:u}=o;this.startAnimation(u);const{onDragEnd:f}=this.getProps();f&&St.postRender(()=>f(s,o))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,s){const{drag:o}=this.getProps();if(!s||!ld(e,o,this.currentDirection))return;const c=this.getAxisMotionValue(e);let u=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(u=cU(u,this.constraints[e],this.elastic[e])),c.set(u)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,o=this.constraints;e&&rl(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&s?this.constraints=uU(s.layoutBox,e):this.constraints=!1,this.elastic=mU(n),o!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Ai(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=fU(s.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!rl(e))return!1;const s=e.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const c=v4(s,o.root,this.visualElement.getTransformPagePoint());let u=hU(o.layout.layoutBox,c);if(n){const f=n(p4(u));this.hasMutatedConstraints=!!f,f&&(u=YR(f))}return u}startAnimation(e){const{drag:n,dragMomentum:s,dragElastic:o,dragTransition:c,dragSnapToOrigin:u,onDragTransitionEnd:f}=this.getProps(),g=this.constraints||{},y=Ai(_=>{if(!ld(_,n,this.currentDirection))return;let b=g&&g[_]||{};u&&(b={min:0,max:0});const S=o?200:1e6,N=o?40:1e7,k={type:"inertia",velocity:s?e[_]:0,bounceStiffness:S,bounceDamping:N,timeConstant:750,restDelta:1,restSpeed:10,...c,...b};return this.startAxisValueAnimation(_,k)});return Promise.all(y).then(f)}startAxisValueAnimation(e,n){const s=this.getAxisMotionValue(e);return Kg(this.visualElement,e),s.start(Cv(e,s,0,n,this.visualElement,!1))}stopAnimation(){Ai(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Ai(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),o=s[n];return o||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){Ai(n=>{const{drag:s}=this.getProps();if(!ld(n,s,this.currentDirection))return;const{projection:o}=this.visualElement,c=this.getAxisMotionValue(n);if(o&&o.layout){const{min:u,max:f}=o.layout.layoutBox[n];c.set(e[n]-Rt(u,f,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!rl(n)||!s||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};Ai(u=>{const f=this.getAxisMotionValue(u);if(f&&this.constraints!==!1){const g=f.get();o[u]=dU({min:g,max:g},this.constraints[u])}});const{transformTemplate:c}=this.visualElement.getProps();this.visualElement.current.style.transform=c?c({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),Ai(u=>{if(!ld(u,e,null))return;const f=this.getAxisMotionValue(u),{min:g,max:y}=this.constraints[u];f.set(Rt(g,y,o[u]))})}addListeners(){if(!this.visualElement.current)return;pU.set(this.visualElement,this);const e=this.visualElement.current,n=Xc(e,"pointerdown",g=>{const{drag:y,dragListener:_=!0}=this.getProps();y&&_&&this.start(g)}),s=()=>{const{dragConstraints:g}=this.getProps();rl(g)&&g.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,c=o.addEventListener("measure",s);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),St.read(s);const u=uu(window,"resize",()=>this.scalePositionWithinConstraints()),f=o.addEventListener("didUpdate",(({delta:g,hasLayoutChanged:y})=>{this.isDragging&&y&&(Ai(_=>{const b=this.getAxisMotionValue(_);b&&(this.originPoint[_]+=g[_].translate,b.set(b.get()+g[_].translate))}),this.visualElement.render())}));return()=>{u(),n(),c(),f&&f()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:o=!1,dragConstraints:c=!1,dragElastic:u=Qg,dragMomentum:f=!0}=e;return{...e,drag:n,dragDirectionLock:s,dragPropagation:o,dragConstraints:c,dragElastic:u,dragMomentum:f}}}function ld(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function yU(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class vU extends ua{constructor(e){super(e),this.removeGroupControls=xi,this.removeListeners=xi,this.controls=new gU(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||xi}unmount(){this.removeGroupControls(),this.removeListeners()}}const VS=t=>(e,n)=>{t&&St.postRender(()=>t(e,n))};class _U extends ua{constructor(){super(...arguments),this.removePointerDownListener=xi}onPointerDown(e){this.session=new cx(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:lx(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:s,onPanEnd:o}=this.node.getProps();return{onSessionStart:VS(e),onStart:VS(n),onMove:s,onEnd:(c,u)=>{delete this.session,o&&St.postRender(()=>o(c,u))}}}mount(){this.removePointerDownListener=Xc(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const bd={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let Qp=!1;class TU extends re.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s,layoutId:o}=this.props,{projection:c}=e;c&&(n.group&&n.group.add(c),s&&s.register&&o&&s.register(c),Qp&&c.root.didUpdate(),c.addEventListener("animationComplete",()=>{this.safeToRemove()}),c.setOptions({...c.options,onExitComplete:()=>this.safeToRemove()})),bd.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:s,drag:o,isPresent:c}=this.props,{projection:u}=s;return u&&(u.isPresent=c,Qp=!0,o||e.layoutDependency!==n||n===void 0||e.isPresent!==c?u.willUpdate():this.safeToRemove(),e.isPresent!==c&&(c?u.promote():u.relegate()||St.postRender(()=>{const f=u.getStack();(!f||!f.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),yv.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:o}=e;Qp=!0,o&&(o.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(o),s&&s.deregister&&s.deregister(o))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function hx(t){const[e,n]=OR(),s=re.useContext($y);return p.jsx(TU,{...t,layoutGroup:s,switchLayoutGroup:re.useContext(GR),isPresent:e,safeToRemove:n})}function EU(t,e,n){const s=wn(t)?t:bl(t);return s.start(Cv("",s,e,n)),s.animation}const bU=(t,e)=>t.depth-e.depth;class SU{constructor(){this.children=[],this.isDirty=!1}add(e){Jy(this.children,e),this.isDirty=!0}remove(e){ev(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(bU),this.isDirty=!1,this.children.forEach(e)}}function AU(t,e){const n=Kn.now(),s=({timestamp:o})=>{const c=o-n;c>=e&&(sa(s),t(c-e))};return St.setup(s,!0),()=>sa(s)}const dx=["TopLeft","TopRight","BottomLeft","BottomRight"],wU=dx.length,MS=t=>typeof t=="string"?parseFloat(t):t,PS=t=>typeof t=="number"||Ce.test(t);function RU(t,e,n,s,o,c){o?(t.opacity=Rt(0,n.opacity??1,xU(s)),t.opacityExit=Rt(e.opacity??1,0,CU(s))):c&&(t.opacity=Rt(e.opacity??1,n.opacity??1,s));for(let u=0;u<wU;u++){const f=`border${dx[u]}Radius`;let g=jS(e,f),y=jS(n,f);if(g===void 0&&y===void 0)continue;g||(g=0),y||(y=0),g===0||y===0||PS(g)===PS(y)?(t[f]=Math.max(Rt(MS(g),MS(y),s),0),(ys.test(y)||ys.test(g))&&(t[f]+="%")):t[f]=y}(e.rotate||n.rotate)&&(t.rotate=Rt(e.rotate||0,n.rotate||0,s))}function jS(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const xU=fx(0,.5,W1),CU=fx(.5,.95,xi);function fx(t,e,n){return s=>s<t?0:s>e?1:n(au(t,e,s))}function kS(t,e){t.min=e.min,t.max=e.max}function Li(t,e){kS(t.x,e.x),kS(t.y,e.y)}function LS(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function US(t,e,n,s,o){return t-=e,t=Qd(t,1/n,s),o!==void 0&&(t=Qd(t,1/o,s)),t}function IU(t,e=0,n=1,s=.5,o,c=t,u=t){if(ys.test(e)&&(e=parseFloat(e),e=Rt(u.min,u.max,e/100)-u.min),typeof e!="number")return;let f=Rt(c.min,c.max,s);t===c&&(f-=e),t.min=US(t.min,e,n,f,o),t.max=US(t.max,e,n,f,o)}function BS(t,e,[n,s,o],c,u){IU(t,e[n],e[s],e[o],e.scale,c,u)}const NU=["x","scaleX","originX"],DU=["y","scaleY","originY"];function zS(t,e,n,s){BS(t.x,e,NU,n?n.x:void 0,s?s.x:void 0),BS(t.y,e,DU,n?n.y:void 0,s?s.y:void 0)}function qS(t){return t.translate===0&&t.scale===1}function mx(t){return qS(t.x)&&qS(t.y)}function FS(t,e){return t.min===e.min&&t.max===e.max}function OU(t,e){return FS(t.x,e.x)&&FS(t.y,e.y)}function HS(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function px(t,e){return HS(t.x,e.x)&&HS(t.y,e.y)}function GS(t){return Nn(t.x)/Nn(t.y)}function KS(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class VU{constructor(){this.members=[]}add(e){Jy(this.members,e),e.scheduleRender()}remove(e){if(ev(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(o=>e===o);if(n===0)return!1;let s;for(let o=n;o>=0;o--){const c=this.members[o];if(c.isPresent!==!1){s=c;break}}return s?(this.promote(s),!0):!1}promote(e,n){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,n&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:o}=e.options;o===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:s}=e;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function MU(t,e,n){let s="";const o=t.x.translate/e.x,c=t.y.translate/e.y,u=n?.z||0;if((o||c||u)&&(s=`translate3d(${o}px, ${c}px, ${u}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:y,rotate:_,rotateX:b,rotateY:S,skewX:N,skewY:k}=n;y&&(s=`perspective(${y}px) ${s}`),_&&(s+=`rotate(${_}deg) `),b&&(s+=`rotateX(${b}deg) `),S&&(s+=`rotateY(${S}deg) `),N&&(s+=`skewX(${N}deg) `),k&&(s+=`skewY(${k}deg) `)}const f=t.x.scale*e.x,g=t.y.scale*e.y;return(f!==1||g!==1)&&(s+=`scale(${f}, ${g})`),s||"none"}const Xp=["","X","Y","Z"],PU=1e3;let jU=0;function $p(t,e,n,s){const{latestValues:o}=e;o[t]&&(n[t]=o[t],e.setStaticValue(t,0),s&&(s[t]=0))}function gx(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=tx(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:o,layoutId:c}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",St,!(o||c))}const{parent:s}=t;s&&!s.hasCheckedOptimisedAppear&&gx(s)}function yx({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:s,resetTransform:o}){return class{constructor(u={},f=e?.()){this.id=jU++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(UU),this.nodes.forEach(FU),this.nodes.forEach(HU),this.nodes.forEach(BU)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=f?f.root||f:this,this.path=f?[...f.path,f]:[],this.parent=f,this.depth=f?f.depth+1:0;for(let g=0;g<this.path.length;g++)this.path[g].shouldResetTransform=!0;this.root===this&&(this.nodes=new SU)}addEventListener(u,f){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new iv),this.eventHandlers.get(u).add(f)}notifyListeners(u,...f){const g=this.eventHandlers.get(u);g&&g.notify(...f)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=DR(u)&&!CL(u),this.instance=u;const{layoutId:f,layout:g,visualElement:y}=this.options;if(y&&!y.current&&y.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(g||f)&&(this.isLayoutDirty=!0),t){let _,b=0;const S=()=>this.root.updateBlockedByResize=!1;St.read(()=>{b=window.innerWidth}),t(u,()=>{const N=window.innerWidth;N!==b&&(b=N,this.root.updateBlockedByResize=!0,_&&_(),_=AU(S,250),bd.hasAnimatedSinceResize&&(bd.hasAnimatedSinceResize=!1,this.nodes.forEach(XS)))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&y&&(f||g)&&this.addEventListener("didUpdate",({delta:_,hasLayoutChanged:b,hasRelativeLayoutChanged:S,layout:N})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const k=this.options.transition||y.getDefaultTransition()||XU,{onLayoutAnimationStart:G,onLayoutAnimationComplete:L}=y.getProps(),H=!this.targetLayout||!px(this.targetLayout,N),Q=!b&&S;if(this.options.layoutRoot||this.resumeFrom||Q||b&&(H||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const J={...pv(k,"layout"),onPlay:G,onComplete:L};(y.shouldReduceMotion||this.options.layoutRoot)&&(J.delay=0,J.type=!1),this.startAnimation(J),this.setAnimationOrigin(_,Q)}else b||XS(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=N})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),sa(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(GU),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&gx(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let _=0;_<this.path.length;_++){const b=this.path[_];b.shouldResetTransform=!0,b.updateScroll("snapshot"),b.options.layoutRoot&&b.willUpdate(!1)}const{layoutId:f,layout:g}=this.options;if(f===void 0&&!g)return;const y=this.getTransformTemplate();this.prevTransformTemplateValue=y?y(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(YS);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(QS);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(qU),this.nodes.forEach(kU),this.nodes.forEach(LU)):this.nodes.forEach(QS),this.clearAllSnapshots();const f=Kn.now();pn.delta=Ws(0,1e3/60,f-pn.timestamp),pn.timestamp=f,pn.isProcessing=!0,Lp.update.process(pn),Lp.preRender.process(pn),Lp.render.process(pn),pn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,yv.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(zU),this.sharedNodes.forEach(KU)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,St.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){St.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Nn(this.snapshot.measuredBox.x)&&!Nn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let g=0;g<this.path.length;g++)this.path[g].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Jt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:f}=this.options;f&&f.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let f=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(f=!1),f&&this.instance){const g=s(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:g,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:g}}}resetTransform(){if(!o)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,f=this.projectionDelta&&!mx(this.projectionDelta),g=this.getTransformTemplate(),y=g?g(this.latestValues,""):void 0,_=y!==this.prevTransformTemplateValue;u&&this.instance&&(f||Ka(this.latestValues)||_)&&(o(this.instance,y),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const f=this.measurePageBox();let g=this.removeElementScroll(f);return u&&(g=this.removeTransform(g)),$U(g),{animationId:this.root.animationId,measuredBox:f,layoutBox:g,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:u}=this.options;if(!u)return Jt();const f=u.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(WU))){const{scroll:y}=this.root;y&&(al(f.x,y.offset.x),al(f.y,y.offset.y))}return f}removeElementScroll(u){const f=Jt();if(Li(f,u),this.scroll?.wasRoot)return f;for(let g=0;g<this.path.length;g++){const y=this.path[g],{scroll:_,options:b}=y;y!==this.root&&_&&b.layoutScroll&&(_.wasRoot&&Li(f,u),al(f.x,_.offset.x),al(f.y,_.offset.y))}return f}applyTransform(u,f=!1){const g=Jt();Li(g,u);for(let y=0;y<this.path.length;y++){const _=this.path[y];!f&&_.options.layoutScroll&&_.scroll&&_!==_.root&&ol(g,{x:-_.scroll.offset.x,y:-_.scroll.offset.y}),Ka(_.latestValues)&&ol(g,_.latestValues)}return Ka(this.latestValues)&&ol(g,this.latestValues),g}removeTransform(u){const f=Jt();Li(f,u);for(let g=0;g<this.path.length;g++){const y=this.path[g];if(!y.instance||!Ka(y.latestValues))continue;qg(y.latestValues)&&y.updateSnapshot();const _=Jt(),b=y.measurePageBox();Li(_,b),zS(f,y.latestValues,y.snapshot?y.snapshot.layoutBox:void 0,_)}return Ka(this.latestValues)&&zS(f,this.latestValues),f}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==pn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const g=!!this.resumingFrom||this!==f;if(!(u||g&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:_,layoutId:b}=this.options;if(!this.layout||!(_||b))return;this.resolvedRelativeTargetAt=pn.timestamp;const S=this.getClosestProjectingParent();S&&this.linkedParentVersion!==S.layoutVersion&&!S.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(S&&S.layout?this.createRelativeTarget(S,this.layout.layoutBox,S.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Jt(),this.targetWithTransforms=Jt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),rU(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Li(this.target,this.layout.layoutBox),XR(this.target,this.targetDelta)):Li(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,S&&!!S.resumingFrom==!!this.resumingFrom&&!S.options.layoutScroll&&S.target&&this.animationProgress!==1?this.createRelativeTarget(S,this.target,S.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||qg(this.parent.latestValues)||QR(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(u,f,g){this.relativeParent=u,this.linkedParentVersion=u.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Jt(),this.relativeTargetOrigin=Jt(),Xd(this.relativeTargetOrigin,f,g),Li(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const u=this.getLead(),f=!!this.resumingFrom||this!==u;let g=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(g=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(g=!1),this.resolvedRelativeTargetAt===pn.timestamp&&(g=!1),g)return;const{layout:y,layoutId:_}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(y||_))return;Li(this.layoutCorrected,this.layout.layoutBox);const b=this.treeScale.x,S=this.treeScale.y;y4(this.layoutCorrected,this.treeScale,this.path,f),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=Jt());const{target:N}=u;if(!N){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(LS(this.prevProjectionDelta.x,this.projectionDelta.x),LS(this.prevProjectionDelta.y,this.projectionDelta.y)),$c(this.projectionDelta,this.layoutCorrected,N,this.latestValues),(this.treeScale.x!==b||this.treeScale.y!==S||!KS(this.projectionDelta.x,this.prevProjectionDelta.x)||!KS(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",N))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){if(this.options.visualElement?.scheduleRender(),u){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ll(),this.projectionDelta=ll(),this.projectionDeltaWithTransform=ll()}setAnimationOrigin(u,f=!1){const g=this.snapshot,y=g?g.latestValues:{},_={...this.latestValues},b=ll();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!f;const S=Jt(),N=g?g.source:void 0,k=this.layout?this.layout.source:void 0,G=N!==k,L=this.getStack(),H=!L||L.members.length<=1,Q=!!(G&&!H&&this.options.crossfade===!0&&!this.path.some(QU));this.animationProgress=0;let J;this.mixTargetDelta=ae=>{const ce=ae/1e3;$S(b.x,u.x,ce),$S(b.y,u.y,ce),this.setTargetDelta(b),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Xd(S,this.layout.layoutBox,this.relativeParent.layout.layoutBox),YU(this.relativeTarget,this.relativeTargetOrigin,S,ce),J&&OU(this.relativeTarget,J)&&(this.isProjectionDirty=!1),J||(J=Jt()),Li(J,this.relativeTarget)),G&&(this.animationValues=_,RU(_,y,this.latestValues,ce,Q,H)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=ce},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(sa(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=St.update(()=>{bd.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=bl(0)),this.currentAnimation=EU(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:f=>{this.mixTargetDelta(f),u.onUpdate&&u.onUpdate(f)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(PU),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:f,target:g,layout:y,latestValues:_}=u;if(!(!f||!g||!y)){if(this!==u&&this.layout&&y&&vx(this.options.animationType,this.layout.layoutBox,y.layoutBox)){g=this.target||Jt();const b=Nn(this.layout.layoutBox.x);g.x.min=u.target.x.min,g.x.max=g.x.min+b;const S=Nn(this.layout.layoutBox.y);g.y.min=u.target.y.min,g.y.max=g.y.min+S}Li(f,g),ol(f,_),$c(this.projectionDeltaWithTransform,this.layoutCorrected,f,_)}}registerSharedNode(u,f){this.sharedNodes.has(u)||this.sharedNodes.set(u,new VU),this.sharedNodes.get(u).add(f);const y=f.options.initialPromotionConfig;f.promote({transition:y?y.transition:void 0,preserveFollowOpacity:y&&y.shouldPreserveFollowOpacity?y.shouldPreserveFollowOpacity(f):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){const{layoutId:u}=this.options;return u?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:u}=this.options;return u?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:f,preserveFollowOpacity:g}={}){const y=this.getStack();y&&y.promote(this,g),u&&(this.projectionDelta=void 0,this.needsReset=!0),f&&this.setOptions({transition:f})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let f=!1;const{latestValues:g}=u;if((g.z||g.rotate||g.rotateX||g.rotateY||g.rotateZ||g.skewX||g.skewY)&&(f=!0),!f)return;const y={};g.z&&$p("z",u,y,this.animationValues);for(let _=0;_<Xp.length;_++)$p(`rotate${Xp[_]}`,u,y,this.animationValues),$p(`skew${Xp[_]}`,u,y,this.animationValues);u.render();for(const _ in y)u.setStaticValue(_,y[_]),this.animationValues&&(this.animationValues[_]=y[_]);u.scheduleRender()}applyProjectionStyles(u,f){if(!this.instance||this.isSVG)return;if(!this.isVisible){u.visibility="hidden";return}const g=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,u.visibility="",u.opacity="",u.pointerEvents=Ed(f?.pointerEvents)||"",u.transform=g?g(this.latestValues,""):"none";return}const y=this.getLead();if(!this.projectionDelta||!this.layout||!y.target){this.options.layoutId&&(u.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,u.pointerEvents=Ed(f?.pointerEvents)||""),this.hasProjected&&!Ka(this.latestValues)&&(u.transform=g?g({},""):"none",this.hasProjected=!1);return}u.visibility="";const _=y.animationValues||y.latestValues;this.applyTransformsToTarget();let b=MU(this.projectionDeltaWithTransform,this.treeScale,_);g&&(b=g(_,b)),u.transform=b;const{x:S,y:N}=this.projectionDelta;u.transformOrigin=`${S.origin*100}% ${N.origin*100}% 0`,y.animationValues?u.opacity=y===this?_.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:_.opacityExit:u.opacity=y===this?_.opacity!==void 0?_.opacity:"":_.opacityExit!==void 0?_.opacityExit:0;for(const k in zg){if(_[k]===void 0)continue;const{correct:G,applyTo:L,isCSSVariable:H}=zg[k],Q=b==="none"?_[k]:G(_[k],y);if(L){const J=L.length;for(let ae=0;ae<J;ae++)u[L[ae]]=Q}else H?this.options.visualElement.renderState.vars[k]=Q:u[k]=Q}this.options.layoutId&&(u.pointerEvents=y===this?Ed(f?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>u.currentAnimation?.stop()),this.root.nodes.forEach(YS),this.root.sharedNodes.clear()}}}function kU(t){t.updateLayout()}function LU(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=t.layout,{animationType:o}=t.options,c=e.source!==t.layout.source;o==="size"?Ai(_=>{const b=c?e.measuredBox[_]:e.layoutBox[_],S=Nn(b);b.min=n[_].min,b.max=b.min+S}):vx(o,e.layoutBox,n)&&Ai(_=>{const b=c?e.measuredBox[_]:e.layoutBox[_],S=Nn(n[_]);b.max=b.min+S,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[_].max=t.relativeTarget[_].min+S)});const u=ll();$c(u,n,e.layoutBox);const f=ll();c?$c(f,t.applyTransform(s,!0),e.measuredBox):$c(f,n,e.layoutBox);const g=!mx(u);let y=!1;if(!t.resumeFrom){const _=t.getClosestProjectingParent();if(_&&!_.resumeFrom){const{snapshot:b,layout:S}=_;if(b&&S){const N=Jt();Xd(N,e.layoutBox,b.layoutBox);const k=Jt();Xd(k,n,S.layoutBox),px(N,k)||(y=!0),_.options.layoutRoot&&(t.relativeTarget=k,t.relativeTargetOrigin=N,t.relativeParent=_)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:f,layoutDelta:u,hasLayoutChanged:g,hasRelativeLayoutChanged:y})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function UU(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function BU(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function zU(t){t.clearSnapshot()}function YS(t){t.clearMeasurements()}function QS(t){t.isLayoutDirty=!1}function qU(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function XS(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function FU(t){t.resolveTargetDelta()}function HU(t){t.calcProjection()}function GU(t){t.resetSkewAndRotation()}function KU(t){t.removeLeadSnapshot()}function $S(t,e,n){t.translate=Rt(e.translate,0,n),t.scale=Rt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function WS(t,e,n,s){t.min=Rt(e.min,n.min,s),t.max=Rt(e.max,n.max,s)}function YU(t,e,n,s){WS(t.x,e.x,n.x,s),WS(t.y,e.y,n.y,s)}function QU(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const XU={duration:.45,ease:[.4,0,.1,1]},ZS=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),JS=ZS("applewebkit/")&&!ZS("chrome/")?Math.round:xi;function eA(t){t.min=JS(t.min),t.max=JS(t.max)}function $U(t){eA(t.x),eA(t.y)}function vx(t,e,n){return t==="position"||t==="preserve-aspect"&&!sU(GS(e),GS(n),.2)}function WU(t){return t!==t.root&&t.scroll?.wasRoot}const ZU=yx({attachResizeListener:(t,e)=>uu(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Wp={current:void 0},_x=yx({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Wp.current){const t=new ZU({});t.mount(window),t.setOptions({layoutScroll:!0}),Wp.current=t}return Wp.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),JU={pan:{Feature:_U},drag:{Feature:vU,ProjectionNode:_x,MeasureLayout:hx}};function tA(t,e,n){const{props:s}=t;t.animationState&&s.whileHover&&t.animationState.setActive("whileHover",n==="Start");const o="onHover"+n,c=s[o];c&&St.postRender(()=>c(e,Cu(e)))}class e3 extends ua{mount(){const{current:e}=this.node;e&&(this.unmount=SL(e,(n,s)=>(tA(this.node,s,"Start"),o=>tA(this.node,o,"End"))))}unmount(){}}class t3 extends ua{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=wu(uu(this.node.current,"focus",()=>this.onFocus()),uu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function nA(t,e,n){const{props:s}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&s.whileTap&&t.animationState.setActive("whileTap",n==="Start");const o="onTap"+(n==="End"?"":n),c=s[o];c&&St.postRender(()=>c(e,Cu(e)))}class n3 extends ua{mount(){const{current:e}=this.node;e&&(this.unmount=xL(e,(n,s)=>(nA(this.node,s,"Start"),(o,{success:c})=>nA(this.node,o,c?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Xg=new WeakMap,Zp=new WeakMap,i3=t=>{const e=Xg.get(t.target);e&&e(t)},s3=t=>{t.forEach(i3)};function r3({root:t,...e}){const n=t||document;Zp.has(n)||Zp.set(n,{});const s=Zp.get(n),o=JSON.stringify(e);return s[o]||(s[o]=new IntersectionObserver(s3,{root:t,...e})),s[o]}function a3(t,e,n){const s=r3(e);return Xg.set(t,n),s.observe(t),()=>{Xg.delete(t),s.unobserve(t)}}const o3={some:0,all:1};class l3 extends ua{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:s,amount:o="some",once:c}=e,u={root:n?n.current:void 0,rootMargin:s,threshold:typeof o=="number"?o:o3[o]},f=g=>{const{isIntersecting:y}=g;if(this.isInView===y||(this.isInView=y,c&&!y&&this.hasEnteredView))return;y&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",y);const{onViewportEnter:_,onViewportLeave:b}=this.node.getProps(),S=y?_:b;S&&S(g)};return a3(this.node.current,u,f)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(c3(e,n))&&this.startObserver()}unmount(){}}function c3({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const u3={inView:{Feature:l3},tap:{Feature:n3},focus:{Feature:t3},hover:{Feature:e3}},h3={layout:{ProjectionNode:_x,MeasureLayout:hx}},d3={...Z4,...u3,...JU,...h3},as=m4(d3,x4),f3={key_id:"rzp_live_S6Z9kdM5Pj2eBE",key_secret:"maHd54ZIYfpeBiZf0h06B9LJ"},Jp={email:"deliqufoods@gmail.com",password:"DeliQuFoods@122333",channel_id:"9652723"},iA="/images/1.png",m3={apiKey:"AIzaSyBvmR8c5X6HCGZPRnzVQl-rnd8eKeoRxDY",authDomain:"deliqu-foods.firebaseapp.com",projectId:"deliqu-foods",storageBucket:"deliqu-foods.firebasestorage.app",messagingSenderId:"363906701154",appId:"1:363906701154:web:15c966baebb9b2bf693e3b",measurementId:"G-4CCTG5M1S3"},Iv=mA(m3),Zo=sO(Iv),an=aP(Iv),Vc=Dj(Iv);function eg({p:t,idx:e,navigate:n,getItemQty:s,formatPrice:o,setSelectedProduct:c,setView:u,updateCartQty:f,addToCart:g}){const[y,_]=re.useState(0),b=s(t.id),S=t.images&&t.images.length>0?t.images:[t.img];return p.jsxs(as.div,{layout:!0,initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{delay:e*.05},className:"product-card",children:[p.jsxs("div",{className:"img-container",children:[t.isBest&&p.jsx("div",{className:"best-seller-badge",children:" Best Product"}),p.jsx("div",{className:"img-slider",style:{transform:`translateX(-${y*100}%)`},children:S.map((N,k)=>p.jsx("img",{src:N,alt:t.name,className:"slider-img"},k))}),p.jsx(VR,{children:b>0&&p.jsx(as.div,{initial:{scale:0},animate:{scale:1},exit:{scale:0},className:"card-qty-badge",children:b})}),S.length>1&&p.jsxs(p.Fragment,{children:[p.jsx("button",{className:"slider-btn prev",onClick:N=>{N.stopPropagation(),_(k=>k>0?k-1:S.length-1)},children:""}),p.jsx("button",{className:"slider-btn next",onClick:N=>{N.stopPropagation(),_(k=>k<S.length-1?k+1:0)},children:""}),p.jsx("div",{className:"slider-dots",children:S.map((N,k)=>p.jsx("div",{className:`dot ${y===k?"active":""}`},k))})]})]}),p.jsxs("div",{className:"card-info",children:[p.jsxs("div",{className:"card-header-flex",children:[p.jsx("h3",{children:t.name}),p.jsx("div",{className:"price-container",children:t.discount&&t.discount>0?p.jsxs(p.Fragment,{children:[p.jsx("span",{className:"original-price",children:o(t.price)}),p.jsx("span",{className:"discounted-price",children:o(getDiscountedPrice(t.price,t.discount))})]}):p.jsx("span",{className:"price",children:o(t.price)})})]}),p.jsxs("div",{className:"card-btns",children:[p.jsx("button",{className:"btn-outline",onClick:()=>n("details",t),children:"Details"}),p.jsxs("div",{className:"counter-control",children:[b>0&&p.jsx("button",{className:"btn-minus",onClick:()=>f(t.id,-1),children:""}),p.jsx("button",{className:"btn-red-sq",onClick:()=>g(t),children:"+"})]})]})]})]})}function p3(){const[t,e]=re.useState({USD:1,INR:1}),[n,s]=re.useState([]);re.useEffect(()=>{fetch("https://open.er-api.com/v6/latest/INR").then(w=>w.json()).then(w=>e(w.rates)).catch(w=>console.error("Currency fetch failed:",w))},[]);const o=(w,K)=>Number(w)-Number(K),c=w=>{const K=u(Number(w));return`${f[bs]} ${K}`},u=w=>{const K=t[bs]||1;return(w*K).toFixed(2)},f={INR:"",USD:"$",EUR:"",GBP:""},[g,y]=re.useState([]),[_,b]=re.useState([]),[S,N]=re.useState([]),[k,G]=re.useState(0),[L,H]=re.useState("home"),[Q,J]=re.useState(null),[ae,ce]=re.useState({name:"",price:"",category:"breakfast",img:"",images:[],description:"",ingredients:"",discount:""}),[me,C]=re.useState(!1),x=async w=>{const K=Array.from(w.target.files);if(K.length){C(!0);try{const oe=K.map(async ue=>{const ft=Dc(Vc,`products/${Date.now()}_${ue.name}`);return await jp(ft,ue),kp(ft)}),pe=await Promise.all(oe);ce(ue=>({...ue,images:[...ue.images||[],...pe]})),alert("Images uploaded successfully!")}catch(oe){console.error(oe),alert("Upload failed: "+oe.message)}finally{C(!1)}try{const oe=await Promise.all(uploadPromises);ce(pe=>({...pe,images:[...pe.images||[],...oe]})),alert("Images uploaded successfully!")}catch(oe){alert("Upload failed: "+oe.message)}finally{C(!1)}}},I=_.reduce((w,K)=>w+(Number(K.total)||0),0),M=_.length,V=M>0?(I/M).toFixed(2):0,U=Q&&Q.email==="digigrowindia.in@gmail.com",D=async()=>{if(!U)return;const K=(await Lr(Si(an,"orders"))).docs.map(oe=>({id:oe.id,...oe.data()}));b(K)},st=async()=>{if(U)try{const K=(await Lr(Si(an,"orders"))).docs.map(oe=>({id:oe.id,...oe.data()})).sort((oe,pe)=>new Date(pe.date)-new Date(oe.date));ya(K)}catch(w){console.error("Error fetching admin orders:",w)}};re.useEffect(()=>{L==="admin"&&U&&(D(),st())},[L,U]);const vt=async w=>{if(w.preventDefault(),!ae.name||!ae.price){alert("Please fill all required fields");return}try{await nd(Si(an,"products"),{name:ae.name,price:Number(ae.price),discount:Number(ae.discount)||0,category:ae.category,img:ae.img||ae.images?.[0]||"",images:ae.images||[],description:ae.description,ingredients:ae.ingredients||"",isBest:!1,createdAt:new Date}),alert("Product added successfully!"),ce({name:"",price:"",category:"breakfast",img:"",images:[],description:"",ingredients:"",discount:""})}catch(K){alert(K.message)}},[W,le]=re.useState(""),[ge,Ve]=re.useState(""),[Me,P]=re.useState(!1),[te,fe]=re.useState(!1),[de,Ae]=re.useState([]),[Ie,Be]=re.useState("all"),[nt,Ze]=re.useState(""),[Ue,Dn]=re.useState(null),Ts=g.filter(w=>w.isBest===!0),[Yn,On]=re.useState(0),[tr,Es]=re.useState(0),[bs,ha]=re.useState("INR"),[Se,Je]=re.useState(null),ke=(w,K=null)=>{window.history.pushState({view:w,product:K},"",`#${w}`),K&&Dn(K),H(w)};re.useEffect(()=>{const w=K=>{K.state?.view?H(K.state.view):H("home")};return window.addEventListener("popstate",w),()=>{window.removeEventListener("popstate",w)}},[]),re.useEffect(()=>{const w=window.location.hash.replace("#","");w?H(w):window.history.replaceState({view:"home"},"","#home")},[]);const Vl=()=>{U?(ke("admin"),fe(!1)):alert("Access Denied: You do not have permission to view the Management Panel.")},uo=async w=>{if(window.confirm("Delete this product?"))try{await kb(Ga(an,"products",w)),y(g.filter(K=>K.id!==w))}catch(K){alert(K.message)}};re.useEffect(()=>{(async()=>{const oe=(await Lr(Si(an,"products"))).docs.map(pe=>({id:pe.id,...pe.data(),description:pe.data().desc||pe.data().description||"",ingredients:pe.data().ingredients||pe.data.ing||"",discount:pe.data().discount||0,isBest:pe.data().isBest===!0}));y(oe)})()},[]),re.useEffect(()=>{(async()=>{const oe=(await Lr(Si(an,"sliderImages"))).docs.map(pe=>({id:pe.id,...pe.data()}));N(oe)})()},[]),re.useEffect(()=>{if(S.length===0)return;const w=setInterval(()=>{G(K=>(K+1)%S.length)},5e3);return()=>clearInterval(w)},[S.length]);const ln=()=>{G(w=>(w+1)%S.length)},Ss=()=>{G(w=>w===0?S.length-1:w-1)},da=w=>{G(w)};re.useEffect(()=>{const w=YD(Zo,K=>J(K));return()=>w()},[]),re.useEffect(()=>{if(L==="home"&&g.length>0){const w=setInterval(()=>{Es(K=>K===g.length-1?0:K+1)},4e3);return()=>clearInterval(w)}},[L]);const fa=async w=>{w.preventDefault();try{Me?await FD(Zo,W,ge):await HD(Zo,W,ge),H("home")}catch(K){alert(K.message)}},Hi=async()=>{if(!W)return alert("Enter email first.");try{await qD(Zo,W),alert("Reset email sent!")}catch(w){alert(w.message)}},nr=w=>{const K=de.find(oe=>oe.id===w.id);Ae(K?de.map(oe=>oe.id===w.id?{...oe,qty:oe.qty+1}:oe):[...de,{...w,qty:1}])},Ci=(w,K)=>{Ae(de.map(oe=>oe.id===w?{...oe,qty:Math.max(0,oe.qty+K)}:oe).filter(oe=>oe.qty>0))},ho=async()=>{if(!Q)return;const w=Vb(Si(an,"orders"),Mb("userId","==",Q.uid)),oe=(await Lr(w)).docs.map(pe=>({id:pe.id,...pe.data()}));b(oe.sort((pe,ue)=>new Date(ue.date)-new Date(pe.date))),H("history"),fe(!1)},fo=async(w,K)=>{try{const oe=Ga(an,"orders",w);await td(oe,{rating:K}),b(_.map(pe=>pe.id===w?{...pe,rating:K}:pe))}catch(oe){alert(oe.message)}},Vn=async(w,K)=>{try{const oe=Ga(an,"orders",w);await td(oe,{orderStatus:K}),ya(ui.map(pe=>pe.id===w?{...pe,orderStatus:K}:pe)),alert(`Order status updated to ${K}`)}catch(oe){console.error("Error updating order status:",oe),alert("Failed to update order status")}},Wt=async()=>{if(!Q)return H("login");if(de.length===0)return alert("Your cart is empty");Tt(!0);try{const w=Math.round(Gi*100),K={amount:w,currency:"INR",receipt:`receipt_${Date.now()}`,notes:{userId:Q.uid,userEmail:Q.email,items:JSON.stringify(de.map(ue=>({id:ue.id,name:ue.name,quantity:ue.qty,price:o(ue.price,ue.discount)||ue.price})))}},oe={key:f3.key_id,amount:w,currency:"INR",name:"Deliqu Foods",description:"Premium Organic Ready Meals",image:"/images/1.png",handler:async function(ue){await Mn(ue,K)},prefill:{name:Q.displayName||Q.email.split("@")[0],email:Q.email,contact:Q.phoneNumber||""},notes:{address:"Order for premium organic meals"},theme:{color:"#102C57"},modal:{ondismiss:function(){Tt(!1),alert("Payment cancelled")}}};new window.Razorpay(oe).open()}catch(w){console.error("Payment initialization failed:",w),alert("Payment initialization failed. Please try again."),Tt(!1)}},Mn=async(w,K)=>{try{const oe={userId:Q.uid,userEmail:Q.email,items:de.map(ue=>({id:ue.id,name:ue.name,qty:ue.qty,price:o(ue.price,ue.discount)||ue.price,image:ue.images?.[0]||ue.img})),total:Gi,razorpay_payment_id:w.razorpay_payment_id,razorpay_order_id:w.razorpay_order_id,razorpay_signature:w.razorpay_signature,paymentStatus:"paid",orderStatus:"confirmed",date:new Date().toLocaleString(),rating:0},pe=await nd(Si(an,"orders"),oe);await At(pe.id,oe),Xn({orderId:pe.id,...oe}),Ae([]),H("order-confirmation"),Tt(!1)}catch(oe){console.error("Order processing failed:",oe),alert("Order processing failed. Please contact support."),Tt(!1)}},At=async(w,K)=>{try{const oe={email:Jp.email,password:Jp.password},pe=await fetch("https://apiv2.shiprocket.in/v1/external/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(oe)});if(!pe.ok)throw new Error("Shiprocket authentication failed");const ft=(await pe.json()).token,hi={order_id:w,order_date:new Date().toISOString().split("T")[0],pickup_location:"Deliqu Foods Warehouse",channel_id:Jp.channel_id,comment:"Order from Deliqu Foods website",billing_customer_name:Q.displayName||Q.email.split("@")[0],billing_last_name:"",billing_address:"Customer Address",billing_address_2:"",billing_city:"Surat",billing_pincode:"395007",billing_state:"Gujarat",billing_country:"India",billing_email:Q.email,billing_phone:Q.phoneNumber||"9512720820",shipping_is_billing:!0,shipping_customer_name:Q.displayName||Q.email.split("@")[0],shipping_last_name:"",shipping_address:"Customer Address",shipping_address_2:"",shipping_city:"Surat",shipping_pincode:"395007",shipping_state:"Gujarat",shipping_country:"India",shipping_email:Q.email,shipping_phone:Q.phoneNumber||"9512720820",order_items:K.items.map(Ct=>({name:Ct.name,sku:Ct.id,units:Ct.qty,selling_price:Ct.price,discount:0,tax:0,hsn:21069099})),payment_method:"Prepaid",shipping_charges:0,giftwrap_charges:0,transaction_charges:0,total_discount:0,sub_total:K.total,length:10,breadth:10,height:10,weight:.5},cn=await fetch("https://apiv2.shiprocket.in/v1/external/orders/create/adhoc",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${ft}`},body:JSON.stringify(hi)});if(cn.ok){const Ct=await cn.json();console.log("Shiprocket order created:",Ct);const va=Ga(an,"orders",w);await td(va,{shiprocket_order_id:Ct.order_id,shiprocket_shipment_id:Ct.shipment_id,awb_code:Ct.awb_code})}else{const Ct=await cn.json();console.error("Shiprocket order creation failed:",Ct)}}catch(oe){console.error("Shiprocket integration failed:",oe)}},As=w=>{const K=de.find(oe=>oe.id===w);return K?K.qty:0},oi=g.filter(w=>{const K=Ie==="all"||w.category===Ie,oe=w.name.toLowerCase().includes(nt.toLowerCase());return K&&oe}),Gi=de.reduce((w,K)=>w+(o(K.price,K.discount)||K.price)*K.qty,0),Ut=de.reduce((w,K)=>w+K.qty,0);g[tr]?.images?.[0]||g[tr]?.img;const ws=async w=>{try{const oe=decodeURIComponent(w).split("/o/")[1].split("?")[0],pe=Dc(Vc,oe);await Fb(pe),console.log("Image deleted from Firebase Storage")}catch(K){console.error("Failed to delete image:",K)}},_t=w=>{H(w),setTimeout(()=>{const K=document.getElementById(w);K&&K.scrollIntoView({behavior:"smooth",block:"start"})},100)};re.useEffect(()=>{window.scrollTo({top:0,left:0,behavior:"instant"})},[L]);const li=["privacy","shipping","refund","terms","support"].includes(L),[Qn,nn]=re.useState(!1),[ir,ma]=re.useState(JSON.parse(localStorage.getItem("recentSearches"))||[]),ci=(w,K)=>{if(!K)return w;const oe=new RegExp(`(${K})`,"gi");return w.replace(oe,"<mark>$1</mark>")},[Ki,_n]=re.useState(!1),[Pn,sr]=re.useState([]),[Yi,Qi]=re.useState(0),[jn,pa]=re.useState(""),[Bt,Xn]=re.useState(null),[wt,Tt]=re.useState(!1),[Ii,ga]=re.useState({address:"",city:"",state:"",pincode:"",phone:""}),[ui,ya]=re.useState([]),[zt,Tn]=re.useState(null);re.useEffect(()=>{if(!Ue)return;(async()=>{const K=Vb(Si(an,"reviews"),Mb("productId","==",Ue.id)),oe=await Lr(K);sr(oe.docs.map(pe=>({id:pe.id,...pe.data()})))})()},[Ue]);const rr=async()=>{if(!Q){alert("Please login to submit a review");return}if(Yi===0||!jn.trim()){alert("Please add rating and comment");return}await nd(Si(an,"reviews"),{productId:Ue.id,userId:Q.uid,userEmail:Q.email,rating:Yi,comment:jn,createdAt:new Date}),Qi(0),pa(""),sr(w=>[{rating:Yi,comment:jn,userEmail:Q.email,createdAt:new Date},...w])};return re.useEffect(()=>{const w=K=>{K.state?.view?(H(K.state.view),Dn(K.state.product||null)):(H("home"),Dn(null))};return window.addEventListener("popstate",w),()=>window.removeEventListener("popstate",w)},[]),re.useEffect(()=>{window.history.replaceState({view:"home"},"","")},[]),p.jsxs("div",{className:"site-wrapper",children:[p.jsx("div",{className:"info-ticker",children:p.jsxs("div",{className:"ticker-track",children:[p.jsxs("div",{className:"ticker-item two-line",children:[p.jsx("span",{className:"ticker-title",children:" Premium Organic Indian Kitchen"}),p.jsx("span",{className:"ticker-sub",children:"100% Natural Ingredients & ZERO Preservatives!"})]}),p.jsxs("div",{className:"ticker-item two-line",children:[p.jsx("span",{className:"ticker-title",children:" Premium Organic Indian Kitchen"}),p.jsx("span",{className:"ticker-sub",children:"100% Natural Ingredients & ZERO Preservatives!"})]}),p.jsxs("div",{className:"ticker-item two-line",children:[p.jsx("span",{className:"ticker-title",children:" Premium Organic Indian Kitchen"}),p.jsx("span",{className:"ticker-sub",children:"100% Natural Ingredients & ZERO Preservatives!"})]}),p.jsxs("div",{className:"ticker-item two-line",children:[p.jsx("span",{className:"ticker-title",children:" Premium Organic Indian Kitchen"}),p.jsx("span",{className:"ticker-sub",children:"100% Natural Ingredients & ZERO Preservatives!"})]})]})}),p.jsxs("div",{className:"mobile-header",children:[p.jsxs("button",{className:`burger ${Ki?"active":""}`,onClick:()=>{nn(!1),_n(w=>!w)},"aria-label":"Menu",children:[p.jsx("span",{}),p.jsx("span",{}),p.jsx("span",{})]}),p.jsxs("button",{className:`search-icon-ui ${Qn?"active":""}`,onClick:()=>{_n(!1),nn(w=>!w)},"aria-label":"Search",children:[p.jsx("div",{className:"search-circle"}),p.jsx("div",{className:"search-handle"})]}),p.jsx("div",{className:"mobile-logo",onClick:()=>H("home"),children:p.jsx("img",{src:iA,alt:"Logo"})}),p.jsxs("button",{className:"user-icon-ui",onClick:()=>{Q?_n(!0):H("login")},"aria-label":"User",children:[p.jsx("div",{className:"user-head"}),p.jsx("div",{className:"user-body"})]}),p.jsxs("button",{className:"mob-cart-btn-large",onClick:()=>H("cart"),"aria-label":"Cart",children:[p.jsx("div",{className:"mob-cart-basket-main"}),Ut>0&&p.jsx("span",{className:"mob-cart-badge-large",children:Ut})]})]}),Qn&&p.jsx("div",{className:"search-overlay",onClick:()=>nn(!1),children:p.jsxs("div",{className:"search-panel",onClick:w=>w.stopPropagation(),children:[p.jsx("input",{autoFocus:!0,type:"text",placeholder:"Search products...",value:nt,onChange:w=>Ze(w.target.value),onKeyDown:w=>{if(w.key==="Enter"&&(w.preventDefault(),oi.length>0)){const K=oi[0];ke("details",K),nn(!1),Ze("");const oe=[nt,...ir.filter(pe=>pe!==nt)].slice(0,5);ma(oe),localStorage.setItem("recentSearches",JSON.stringify(oe))}}}),!nt&&ir.length>0&&p.jsxs("div",{className:"recent-searches",children:[p.jsx("h4",{children:"Recent Searches"}),ir.map((w,K)=>p.jsxs("div",{className:"recent-item",onClick:()=>Ze(w),children:[" ",w]},K))]}),nt&&p.jsx("div",{className:"search-results",children:oi.length>0?oi.map(w=>p.jsxs("div",{className:"search-item",onClick:()=>{Dn(w),ke("details"),nn(!1);const K=[nt,...ir.filter(oe=>oe!==nt)].slice(0,5);ma(K),localStorage.setItem("recentSearches",JSON.stringify(K)),Ze(""),window.scrollTo(0,0)},children:[p.jsx("img",{src:w.images?.[0]||w.img,alt:w.name}),p.jsxs("div",{className:"search-info",children:[p.jsx("span",{dangerouslySetInnerHTML:{__html:ci(w.name,nt)}}),p.jsx("small",{children:c(w.price)})]})]},w.id)):p.jsx("div",{className:"no-results",children:"No products found"})})]})}),Ki&&p.jsx("div",{className:"drawer-overlay",onClick:()=>_n(!1),children:p.jsxs("div",{className:"drawer",onClick:w=>w.stopPropagation(),children:[Q&&p.jsx("div",{className:"drawer-profile",children:p.jsxs("div",{className:"profile-info",children:[p.jsx("div",{className:"profile-avatar",children:Q.email[0].toUpperCase()}),p.jsx("div",{className:"profile-email",children:Q.email})]})}),p.jsx("div",{className:"drawer-header",children:p.jsx("button",{onClick:()=>_n(!1),children:""})}),p.jsxs("div",{className:"drawer-links",children:[p.jsx("button",{onClick:()=>{H("home"),_n(!1)},children:"Home"}),p.jsx("button",{onClick:()=>{ke("menu"),_n(!1)},children:"Menu"}),p.jsxs("button",{onClick:()=>{H("cart"),_n(!1)},children:["Cart",Ut>0&&p.jsx("span",{className:"drawer-badge",children:Ut})]}),p.jsx("button",{onClick:()=>{H("support"),_n(!1)},children:"Contact Us"})]}),p.jsx("div",{className:"drawer-auth",children:Q?p.jsx("button",{onClick:()=>{Zo.signOut(),H("home"),_n(!1)},children:" Logout"}):p.jsxs(p.Fragment,{children:[p.jsx("button",{onClick:()=>{ke("login"),_n(!1)},children:" Sign In"}),p.jsx("button",{onClick:()=>{H("login"),P(!0),_n(!1)},children:" Create Account"})]})})]})}),p.jsx("header",{className:"main-header",children:p.jsxs("div",{className:"header-content",children:[p.jsx("div",{className:"logo-wrapper",onClick:()=>H("home"),children:p.jsx("img",{src:iA,alt:"Deliqu Foods",className:"company-logo",onError:w=>w.target.style.display="none"})}),p.jsx("div",{className:"search-bar-container",children:p.jsx("input",{type:"text",placeholder:"Search...",value:nt,onChange:w=>Ze(w.target.value),className:"live-search-input",onFocus:()=>nn(!0),readOnly:!0})}),p.jsx("div",{className:"header-controls",children:p.jsxs("select",{className:"currency-dropdown-nav",value:bs,onChange:w=>ha(w.target.value),children:[p.jsx("option",{value:"INR",children:" INR"}),p.jsx("option",{value:"USD",children:"$ USD"}),p.jsx("option",{value:"EUR",children:" EUR"}),p.jsx("option",{value:"GBP",children:" GBP"})]})}),p.jsxs("nav",{children:[p.jsx("button",{onClick:()=>{Be("all"),Ze(""),ke("menu")},children:"Menu"}),p.jsxs("button",{className:`nav-btn cart-btn ${L==="cart"?"active":""}`,onClick:()=>ke("cart"),children:["",p.jsx("span",{className:"cart-text",children:"Cart"}),Ut>0&&p.jsx("span",{className:"cart-badge",children:Ut})]}),p.jsx("div",{className:"profile-section",children:Q?p.jsxs("div",{className:"user-icon",onClick:()=>fe(!te),children:[Q.email[0].toUpperCase(),te&&p.jsxs("div",{className:"dropdown",children:[p.jsx("p",{children:Q.email}),U&&p.jsx("button",{onClick:Vl,className:"admin-link",children:"Management Panel"}),p.jsx("button",{onClick:ho,children:"My Orders"}),p.jsx("button",{onClick:()=>{Zo.signOut(),H("home")},children:"Logout"})]})]}):p.jsx("button",{className:"login-btn",onClick:()=>H("login"),children:"Login"})})]})]})}),p.jsxs(VR,{mode:"wait",children:[!li&&p.jsxs(p.Fragment,{children:[L==="home"&&p.jsxs(as.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[S.length>0&&p.jsx("section",{className:"slideshow-section",children:p.jsxs("div",{className:"slideshow-container",children:[p.jsx("div",{className:"slideshow-track",style:{transform:`translateX(-${k*100}%)`},children:S.map((w,K)=>p.jsx("div",{className:"slideshow-slide",children:p.jsx("img",{src:w.slider_image1,alt:`Slide ${K+1}`})},K))}),p.jsx("button",{className:"slide-nav prev",onClick:Ss,"aria-label":"Previous slide",children:""}),p.jsx("button",{className:"slide-nav next",onClick:ln,"aria-label":"Next slide",children:""}),p.jsx("div",{className:"slide-dots",children:S.map((w,K)=>p.jsx("button",{className:`dot ${K===k?"active":""}`,onClick:()=>da(K),"aria-label":`Go to slide ${K+1}`},K))})]})}),Ts.length>0&&p.jsx("section",{className:"best-products-section",children:p.jsxs("div",{className:"main-container",children:[p.jsxs("div",{className:"section-header",children:[p.jsx("h2",{children:"Our Best Products"}),p.jsx("p",{children:"Customer favorites & top picks"})]}),p.jsx("div",{className:"product-grid",children:Ts.map((w,K)=>p.jsx(eg,{p:w,idx:K,navigate:ke,getItemQty:As,formatPrice:c,setSelectedProduct:Dn,setView:H,updateCartQty:Ci,addToCart:nr},w.id))}),p.jsx("div",{style:{textAlign:"center",marginTop:"30px"},children:p.jsx("button",{className:"btn-outline-large",onClick:()=>{Be("all"),ke("menu")},children:"Explore More Products"})})]})})]},"home"),L==="menu"&&p.jsxs(as.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"main-container",children:[p.jsx("button",{className:"back-btn",onClick:()=>ke("home"),children:" Back to Home"}),p.jsx("div",{className:"filter-bar",children:["all","breakfast","deserts","main course"].map(w=>p.jsx("button",{onClick:()=>Be(w),className:Ie===w?"active":"",children:w},w))}),p.jsx("div",{className:"product-grid",children:oi.map((w,K)=>p.jsx(eg,{p:w,idx:K,navigate:ke,getItemQty:As,formatPrice:c,setSelectedProduct:Dn,setView:H,updateCartQty:Ci,addToCart:nr},w.id))})]},"menu"),L==="details"&&Ue&&(()=>{const w=Ue.images&&Ue.images.length>0?Ue.images:[Ue.img],K=Array.isArray(Ue.ingredients)?Ue.ingredients:typeof Ue.ingredients=="string"?Ue.ingredients.split(",").map(ue=>ue.trim()).filter(Boolean):[],oe=As(Ue.id);let pe=g.filter(ue=>ue.category?.toLowerCase().trim()===Ue.category?.toLowerCase().trim()&&ue.id!==Ue.id);return pe.length===0&&(pe=g.filter(ue=>ue.id!==Ue.id)),pe=pe.slice(0,4),p.jsxs(as.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},exit:{opacity:0},className:"main-container",children:[p.jsxs("div",{className:"details-card-modern",children:[p.jsxs("div",{className:"details-image-section",children:[p.jsxs("div",{className:"main-image-container",children:[p.jsx("div",{className:"details-slider-track",style:{transform:`translateX(-${Yn*100}%)`},children:w.map((ue,ft)=>p.jsx("img",{src:ue,alt:Ue.name,className:"main-detail-image"},ft))}),w.length>1&&p.jsxs(p.Fragment,{children:[p.jsx("button",{className:"slider-arrow left",onClick:()=>On(Yn===0?w.length-1:Yn-1),children:""}),p.jsx("button",{className:"slider-arrow right",onClick:()=>On(Yn===w.length-1?0:Yn+1),children:""})]})]}),w.length>1&&p.jsx("div",{className:"thumbnail-strip",children:w.map((ue,ft)=>p.jsx("img",{src:ue,alt:`Thumb ${ft+1}`,className:`thumbnail-img ${Yn===ft?"thumbnail-active":""}`,onClick:()=>On(ft)},ft))}),p.jsxs("div",{className:"image-qty-controls",children:[p.jsx("button",{className:"qty-btn-small minus",onClick:()=>Ci(Ue.id,-1),disabled:oe===0,children:""}),p.jsx("span",{className:"qty-number",children:oe||0}),p.jsx("button",{className:"qty-btn-small plus",onClick:()=>nr(Ue),children:"+"})]})]}),p.jsxs("div",{className:"details-info-section",children:[p.jsxs("div",{className:"product-header",children:[p.jsx("h1",{className:"product-title",children:Ue.name}),p.jsx("div",{className:"price-container",children:Ue.discount&&Ue.discount>0?p.jsxs(p.Fragment,{children:[p.jsxs("span",{className:"mrp-price",children:["",Ue.price]}),p.jsx("span",{className:"current-price",children:c(o(Ue.price,Ue.discount))}),p.jsxs("span",{className:"discount-badge",children:["Save ",Ue.discount]})]}):p.jsxs(p.Fragment,{children:[p.jsxs("span",{className:"mrp-price",children:["",Ue.price]}),p.jsx("span",{className:"current-price",children:c(Ue.price)})]})})]}),K.length>0&&p.jsxs("div",{className:"ingredients-section",children:[p.jsx("h3",{children:"Ingredients"}),p.jsx("div",{className:"ingredients-grid",children:K.map((ue,ft)=>p.jsx("span",{className:"ingredient-tag",children:ue},ft))})]}),Ue.description&&p.jsxs("div",{className:"description-section",children:[p.jsx("h3",{children:"About"}),p.jsx("p",{children:Ue.description})]}),p.jsxs("section",{className:"reviews-section",children:[p.jsx("h3",{children:"Customer Reviews"}),Pn.length>0&&p.jsxs("div",{className:"avg-rating",children:[" ",(Pn.reduce((ue,ft)=>ue+ft.rating,0)/Pn.length).toFixed(1)," / 5 (",Pn.length," reviews)"]}),Q&&p.jsxs("div",{className:"review-form",children:[p.jsx("div",{className:"rating-stars",children:[1,2,3,4,5].map(ue=>p.jsx("span",{className:ue<=Yi?"star active":"star",onClick:()=>Qi(ue),children:""},ue))}),p.jsx("textarea",{placeholder:"Write your review...",value:jn,onChange:ue=>pa(ue.target.value)}),p.jsx("button",{className:"btn-red",onClick:rr,children:"Submit Review"})]}),p.jsx("div",{className:"reviews-list",children:Pn.length===0?p.jsx("p",{children:"No reviews yet"}):Pn.map(ue=>p.jsxs("div",{className:"review-card",children:[p.jsxs("div",{className:"review-header",children:[p.jsx("strong",{children:ue.userEmail.split("@")[0]}),p.jsx("span",{children:"".repeat(ue.rating)})]}),p.jsx("p",{children:ue.comment})]},ue.id))})]}),p.jsxs("div",{className:"details-actions",children:[p.jsxs("button",{className:"btn-add-to-cart-large",onClick:()=>ke("cart"),disabled:oe===0,children:["Go to Bag (",c(Ue.price*oe),")"]}),p.jsx("button",{className:"btn-outline-large",onClick:()=>ke("home"),children:"Back to Menu"})]})]})]}),pe.length>0&&p.jsxs("section",{className:"similar-products",children:[p.jsx("h3",{children:"You may also like"}),p.jsx("div",{className:"product-grid",children:pe.map((ue,ft)=>p.jsx(eg,{p:ue,idx:ft,navigate:ke,getItemQty:As,formatPrice:c,setSelectedProduct:Dn,setView:H,updateCartQty:Ci,addToCart:nr,onClick:()=>ke("details",ue)},ue.id))})]})]},"details")})(),L==="cart"&&p.jsx(as.div,{initial:{opacity:0},animate:{opacity:1},className:"main-container",children:p.jsxs("div",{className:"cart-page-modern",children:[p.jsxs("div",{className:"cart-header",children:[p.jsxs("h1",{children:[de.length," Items in Cart"]}),p.jsx("button",{className:"btn-outline",onClick:()=>ke("home"),children:"Continue Shopping"})]}),p.jsx("div",{className:"cart-items-modern",children:de.length===0?p.jsxs("div",{className:"empty-cart-modern",children:[p.jsx("div",{className:"empty-icon",children:""}),p.jsx("h3",{children:"Your cart is empty"}),p.jsx("p",{children:"Add some delicious items to get started"}),p.jsx("button",{className:"btn-red-large",onClick:()=>ke("home"),children:"Start Shopping"})]}):p.jsx(p.Fragment,{children:de.map(w=>p.jsxs("div",{className:"cart-item-modern",children:[p.jsx("img",{src:w.images?.[0]||w.img,alt:w.name,className:"cart-item-image"}),p.jsxs("div",{className:"cart-item-details",children:[p.jsxs("div",{className:"item-name-price",children:[p.jsx("h3",{children:w.name}),p.jsx("div",{className:"cart-price-container",children:w.discount&&w.discount>0?p.jsxs(p.Fragment,{children:[p.jsx("span",{className:"cart-original-price",children:c(w.price)}),p.jsx("span",{className:"cart-discounted-price",children:c(o(w.price,w.discount))})]}):p.jsx("span",{className:"item-price",children:c(w.price)})})]}),p.jsxs("div",{className:"item-quantity",children:[p.jsx("button",{onClick:()=>Ci(w.id,-1),className:"qty-btn",children:"-"}),p.jsx("span",{className:"qty-display",children:w.qty}),p.jsx("button",{onClick:()=>Ci(w.id,1),className:"qty-btn",children:"+"})]}),p.jsx("span",{className:"item-total",children:c((o(w.price,w.discount)||w.price)*w.qty)})]})]},w.id))})}),p.jsxs("div",{className:"cart-summary-modern",children:[p.jsx("h2",{children:"Order Summary"}),p.jsxs("div",{className:"summary-row",children:[p.jsxs("span",{children:["Subtotal (",Ut," items)"]}),p.jsx("span",{children:c(Gi)})]}),p.jsxs("div",{className:"summary-total",children:[p.jsx("span",{children:"Total"}),p.jsx("span",{className:"total-price",children:c(Gi)})]}),p.jsx("button",{className:"btn-checkout-large",onClick:Wt,disabled:!Q||wt,children:wt?"Processing Payment...":Q?"Proceed to Payment":"Login to Checkout"}),!Q&&p.jsx("button",{className:"btn-outline-large",onClick:()=>ke("login"),children:"Login"})]})]})},"cart"),L==="history"&&p.jsx(as.div,{initial:{opacity:0},animate:{opacity:1},className:"main-container",children:p.jsxs("div",{className:"history-container",children:[p.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"30px"},children:[p.jsx("h2",{style:{margin:0},children:"My Orders"}),p.jsx("button",{onClick:()=>ke("home"),className:"btn-outline",children:"Back to Menu"})]}),_.length===0?p.jsx("p",{children:"No orders yet."}):_.map(w=>p.jsxs("div",{className:"order-card",children:[p.jsxs("div",{className:"order-header",children:[p.jsxs("div",{className:"order-info",children:[p.jsxs("h4",{children:["Order #",w.id.slice(0,6)]}),p.jsxs("span",{children:["Placed on ",w.date]})]}),p.jsx("div",{className:"order-total-price",children:c(w.total)})]}),p.jsx("div",{className:"order-items-preview",children:w.items?.map((K,oe)=>p.jsx("img",{src:K.img,className:"history-item-img",alt:K.name,title:K.name},oe))}),p.jsxs("div",{className:"order-footer",children:[p.jsx("div",{className:"h-stars",children:[1,2,3,4,5].map(K=>p.jsx("span",{style:{color:w.rating>=K?"#d63031":"#ccc",cursor:"pointer",fontSize:"1.2rem"},onClick:()=>fo(w.id,K),children:""},K))}),p.jsx("button",{className:"btn-receipt",onClick:()=>window.print(),children:"Print Receipt"})]})]},w.id))]})},"history"),L==="order-confirmation"&&Bt&&p.jsx(as.div,{initial:{opacity:0},animate:{opacity:1},className:"main-container",children:p.jsxs("div",{className:"order-confirmation-page",children:[p.jsxs("div",{className:"confirmation-header",children:[p.jsx("div",{className:"success-icon",children:""}),p.jsx("h1",{children:"Order Confirmed!"}),p.jsx("p",{children:"Your order has been successfully placed and payment received."})]}),p.jsxs("div",{className:"order-details-card",children:[p.jsxs("div",{className:"order-info",children:[p.jsx("h2",{children:"Order Details"}),p.jsxs("div",{className:"order-meta",children:[p.jsxs("div",{className:"meta-item",children:[p.jsx("span",{className:"meta-label",children:"Order ID:"}),p.jsx("span",{className:"meta-value",children:Bt.orderId.slice(0,8).toUpperCase()})]}),p.jsxs("div",{className:"meta-item",children:[p.jsx("span",{className:"meta-label",children:"Order Date:"}),p.jsx("span",{className:"meta-value",children:Bt.date})]}),p.jsxs("div",{className:"meta-item",children:[p.jsx("span",{className:"meta-label",children:"Payment ID:"}),p.jsx("span",{className:"meta-value",children:Bt.razorpay_payment_id})]}),p.jsxs("div",{className:"meta-item",children:[p.jsx("span",{className:"meta-label",children:"Status:"}),p.jsx("span",{className:"meta-value status-paid",children:Bt.paymentStatus})]})]})]}),p.jsxs("div",{className:"order-items",children:[p.jsx("h3",{children:"Order Items"}),Bt.items.map((w,K)=>p.jsxs("div",{className:"confirmation-item",children:[p.jsx("div",{className:"item-image",children:p.jsx("img",{src:w.image,alt:w.name})}),p.jsxs("div",{className:"item-details",children:[p.jsx("h4",{children:w.name}),p.jsxs("div",{className:"item-meta",children:[p.jsxs("span",{children:["Quantity: ",w.qty]}),p.jsxs("span",{children:["Price: ",c(w.price)]})]})]}),p.jsx("div",{className:"item-total",children:c(w.price*w.qty)})]},K))]}),p.jsxs("div",{className:"order-summary",children:[p.jsxs("div",{className:"summary-row",children:[p.jsx("span",{children:"Subtotal:"}),p.jsx("span",{children:c(Bt.total)})]}),p.jsxs("div",{className:"summary-row",children:[p.jsx("span",{children:"Shipping:"}),p.jsx("span",{children:"Free"})]}),p.jsxs("div",{className:"summary-row total",children:[p.jsx("span",{children:"Total Paid:"}),p.jsx("span",{children:c(Bt.total)})]})]}),p.jsxs("div",{className:"delivery-info",children:[p.jsx("h3",{children:"Delivery Information"}),p.jsx("p",{children:"Your order will be processed and shipped within 24-48 hours."}),p.jsx("p",{children:"You will receive tracking information via email once your order is shipped."}),p.jsxs("p",{children:["For any queries, contact us at ",p.jsx("strong",{children:"deliqufoods@gmail.com"})," or call ",p.jsx("strong",{children:"+91 95127 20820"})]})]})]}),p.jsxs("div",{className:"confirmation-actions",children:[p.jsx("button",{className:"btn-outline-large",onClick:()=>ke("home"),children:"Continue Shopping"}),p.jsx("button",{className:"btn-red-large",onClick:()=>ke("history"),children:"View My Orders"}),p.jsx("button",{className:"btn-outline",onClick:()=>window.print(),children:"Print Receipt"})]})]})},"order-confirmation"),L==="login"&&p.jsx(as.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"full-screen-center",children:p.jsxs("div",{className:"auth-card",children:[p.jsxs("div",{className:"auth-header",children:[p.jsx("div",{className:"logo-placeholder",children:""}),p.jsx("h2",{className:"auth-title",children:Me?"Join Deliqu Foods":"Welcome Back"}),p.jsx("p",{className:"auth-subtitle",children:"Please enter your details to continue"})]}),p.jsxs("form",{className:"auth-form",onSubmit:fa,children:[p.jsx("div",{className:"form-group",children:p.jsx("input",{type:"email",className:"form-input",placeholder:"Enter your email",value:W,onChange:w=>le(w.target.value),required:!0})}),p.jsx("div",{className:"form-group",children:p.jsx("input",{type:"password",className:"form-input",placeholder:"Enter your password",value:ge,onChange:w=>Ve(w.target.value),required:!0})}),p.jsx("button",{type:"submit",className:"auth-submit",children:Me?"Create Account":"Sign In"})]}),!Me&&p.jsx("div",{className:"forgot-password",children:p.jsx("a",{href:"#",className:"forgot-link",onClick:Hi,children:"Forgot Password?"})}),p.jsx("div",{className:"toggle-section",children:p.jsx("span",{className:"toggle-link",onClick:()=>P(!Me),children:Me?"Already have an account? Sign In":"Don't have an account? Sign Up"})})]})},"login"),L==="admin"&&U&&p.jsxs("div",{className:"admin-dashboard",children:[p.jsxs("aside",{className:"admin-sidebar",children:[p.jsx("div",{className:"logo-wrapper",children:p.jsx("img",{src:"/images/1.png",alt:"Logo",className:"company-logo1"})}),p.jsxs("nav",{children:[p.jsx("button",{className:L==="admin"?"active":"",onClick:()=>H("admin"),children:"Add Product"}),p.jsx("button",{className:L==="admin-orders"?"active":"",onClick:()=>H("admin-orders"),children:"Orders"}),p.jsx("button",{onClick:()=>H("home"),children:"View Site"})]})]}),p.jsxs("main",{className:"admin-content",children:[p.jsxs("header",{className:"admin-header-bar",children:[p.jsx("h1",{children:"Product Management"}),p.jsx("button",{onClick:()=>H("home"),className:"btn-outline",children:"Exit Admin"})]}),p.jsxs("div",{className:"admin-stats-bar",children:[p.jsxs("div",{className:"stat-card",children:[p.jsx("span",{children:"Total Revenue"}),p.jsx("h2",{children:c(I.toLocaleString())})]}),p.jsxs("div",{className:"stat-card",children:[p.jsx("span",{children:"Total Orders"}),p.jsx("h2",{children:M})]}),p.jsxs("div",{className:"stat-card",children:[p.jsx("span",{children:"Avg. Ticket"}),p.jsx("h2",{children:c(V)})]})]}),p.jsxs("div",{className:"admin-grid",children:[Se&&p.jsx("div",{className:"edit-modal",children:p.jsxs("div",{className:"edit-card",children:[p.jsx("h3",{children:"Edit Product"}),p.jsxs("label",{className:"checkbox-row",children:[p.jsx("input",{type:"checkbox",checked:Se.isBest||!1,onChange:w=>Je({...Se,isBest:w.target.checked})})," Mark as Best Product"]}),p.jsx("input",{type:"text",value:Se.name,onChange:w=>Je({...Se,name:w.target.value}),placeholder:"Product Name"}),p.jsxs("div",{className:"form-row",children:[p.jsx("input",{type:"number",value:Se.price,onChange:w=>Je({...Se,price:w.target.value}),placeholder:"Price ()"}),p.jsx("input",{type:"number",value:Se.discount||"",onChange:w=>Je({...Se,discount:w.target.value}),placeholder:"Discount ()"})]}),p.jsx("textarea",{value:Se.description||Se.desc||"",onChange:w=>Je({...Se,description:w.target.value}),placeholder:"Description",rows:"4"}),"//  ADD TO ADD PRODUCT FORM (after description textarea):",p.jsx("textarea",{placeholder:"Ingredients (comma separated: Cashew, Khoya, Raisins, Ghee, Sugar)",value:ae.ingredients||"",onChange:w=>ce({...ae,ingredients:w.target.value}),rows:"3"}),"//  ADD TO EDIT MODAL (after description textarea):",p.jsx("textarea",{value:Se.ingredients||"",onChange:w=>Je({...Se,ingredients:w.target.value}),placeholder:"Ingredients (comma separated)",rows:"3"}),p.jsx("div",{className:"preview-strip",children:Se.images?.map((w,K)=>p.jsxs("div",{style:{position:"relative"},children:[p.jsx("img",{src:w,className:"mini-preview"}),p.jsx("button",{className:"remove-img-btn",onClick:async()=>{const oe=Se.images[K];await ws(oe),Je({...Se,images:Se.images.filter((pe,ue)=>ue!==K)})},children:""})]},K))}),p.jsxs("label",{className:"file-label",children:[" Add Images",p.jsx("input",{type:"file",multiple:!0,hidden:!0,onChange:async w=>{const K=Array.from(w.target.files),oe=await Promise.all(K.map(async pe=>{const ue=Dc(Vc,`products/${Date.now()}_${pe.name}`);return await jp(ue,pe),kp(ue)}));Je({...Se,images:[...Se.images||[],...oe]})}})]}),p.jsxs("div",{className:"edit-actions",children:[p.jsx("button",{className:"btn-outline",onClick:()=>Je(null),children:"Cancel"}),p.jsx("button",{className:"btn-red-large",onClick:async()=>{await td(Ga(an,"products",Se.id),{name:Se.name,price:Number(Se.price),discount:Number(Se.discount)||0,category:Se.category,description:Se.description,ingredients:Se.ingredients||"",images:Se.images,img:Se.images?.[0]||Se.img,isBest:Se.isBest===!0}),y(g.map(w=>w.id===Se.id?Se:w)),Je(null)},children:"Save Changes"})]})]})}),p.jsxs("section",{className:"admin-card",children:[p.jsx("h3",{children:"Add New Product"}),p.jsxs("form",{onSubmit:vt,className:"management-form",children:[p.jsx("input",{type:"text",placeholder:"Product Name",value:ae.name,onChange:w=>ce({...ae,name:w.target.value})}),p.jsxs("div",{className:"form-row",children:[p.jsx("input",{type:"number",placeholder:"Price ()",value:ae.price,onChange:w=>ce({...ae,price:w.target.value})}),p.jsx("input",{type:"number",placeholder:"Discount ()",value:ae.discount,onChange:w=>ce({...ae,discount:w.target.value})})]}),p.jsx("div",{className:"form-row",children:p.jsxs("select",{value:ae.category,onChange:w=>ce({...ae,category:w.target.value}),children:[p.jsx("option",{value:"breakfast",children:"Breakfast"}),p.jsx("option",{value:"deserts",children:"Deserts"}),p.jsx("option",{value:"main course",children:"Main Course"})]})}),p.jsx("input",{type:"text",placeholder:"Image URL (e.g. https://...)",value:ae.img,onChange:w=>ce({...ae,img:w.target.value})}),p.jsx("textarea",{placeholder:"Description",value:ae.description,onChange:w=>ce({...ae,description:w.target.value})}),p.jsxs("div",{className:"upload-box",children:[p.jsxs("label",{className:"file-label",children:[me?"Uploading...":" Select Product Photos (Multiple)",p.jsx("input",{type:"file",multiple:!0,accept:"image/*",onChange:x,hidden:!0})]}),p.jsx("div",{className:"preview-strip",children:ae.images?.map((w,K)=>p.jsx("img",{src:w,alt:"preview",className:"mini-preview"},K))})]}),p.jsx("button",{type:"submit",className:"btn-red-large",children:"Add to Menu"})]})]}),p.jsxs("section",{className:"admin-card",children:[p.jsx("h3",{children:"Slider Images Management"}),p.jsx("div",{className:"upload-box",children:p.jsxs("label",{className:"file-label",children:[me?"Uploading...":" Add Slider Image",p.jsx("input",{type:"file",accept:"image/*",onChange:async w=>{const K=w.target.files[0];if(K){if(!Q){alert("Please login to upload images");return}C(!0);try{const oe=Dc(Vc,`slider/${Date.now()}_${K.name}`);await jp(oe,K);const pe=await kp(oe);await nd(Si(an,"sliderImages"),{slider_image1:pe,createdAt:new Date});const ft=(await Lr(Si(an,"sliderImages"))).docs.map(hi=>({id:hi.id,...hi.data()}));N(ft),alert("Slider image added successfully!")}catch(oe){console.error(oe),alert("Upload failed: "+oe.message)}finally{C(!1)}}},hidden:!0})]})}),p.jsx("div",{className:"slider-images-grid",children:S.map((w,K)=>p.jsxs("div",{className:"slider-image-item",children:[p.jsx("img",{src:w.slider_image1,alt:`Slider ${K+1}`}),p.jsx("button",{className:"remove-slider-btn",onClick:async()=>{if(window.confirm("Delete this slider image?"))try{const pe=decodeURIComponent(w.slider_image1).split("/o/")[1].split("?")[0],ue=Dc(Vc,pe);await Fb(ue),await kb(Ga(an,"sliderImages",w.id));const hi=(await Lr(Si(an,"sliderImages"))).docs.map(cn=>({id:cn.id,...cn.data()}));N(hi),alert("Slider image deleted successfully!")}catch(oe){console.error("Delete failed:",oe),alert("Delete failed: "+oe.message)}},children:""})]},w.id))})]}),p.jsxs("section",{className:"admin-card",children:[p.jsxs("h3",{children:["Current Menu (",g.length,")"]}),p.jsx("div",{className:"admin-table-wrapper",children:p.jsxs("table",{className:"admin-table",children:[p.jsx("thead",{children:p.jsxs("tr",{children:[p.jsx("th",{children:"Item"}),p.jsx("th",{children:"Price"}),p.jsx("th",{children:"Discount"}),p.jsx("th",{children:"Actions"})]})}),p.jsx("tbody",{children:g.map(w=>p.jsxs("tr",{children:[p.jsx("td",{children:w.name}),p.jsx("td",{children:w.discount&&w.discount>0?c(o(w.price,w.discount)):c(w.price)}),p.jsx("td",{children:w.discount&&w.discount>0?`${w.discount}`:"-"}),p.jsxs("td",{style:{display:"flex",gap:"8px"},children:[p.jsx("button",{className:"btn-outline",onClick:()=>Je(w),children:"Edit"}),p.jsx("button",{className:"delete-btn",onClick:()=>uo(w.id),children:"Delete"})]})]},w.id))})]})})]})]})]})]})]}),L==="admin-orders"&&U&&p.jsxs("div",{className:"admin-dashboard",children:[p.jsxs("aside",{className:"admin-sidebar",children:[p.jsx("div",{className:"logo-wrapper",children:p.jsx("img",{src:"/images/2.png",alt:"Logo",className:"company-logo1"})}),p.jsxs("nav",{children:[p.jsx("button",{className:L==="admin"?"active":"",onClick:()=>H("admin"),children:"Add Product"}),p.jsx("button",{className:L==="admin-orders"?"active":"",onClick:()=>H("admin-orders"),children:"Orders"}),p.jsx("button",{onClick:()=>H("home"),children:"View Site"})]})]}),p.jsxs("main",{className:"admin-content",children:[p.jsxs("header",{className:"admin-header-bar",children:[p.jsx("h1",{children:"Order Management"}),p.jsx("button",{onClick:()=>H("home"),className:"btn-outline",children:"Exit Admin"})]}),p.jsxs("div",{className:"admin-stats-bar",children:[p.jsxs("div",{className:"stat-card",children:[p.jsx("span",{children:"Total Orders"}),p.jsx("h2",{children:ui.length})]}),p.jsxs("div",{className:"stat-card",children:[p.jsx("span",{children:"Pending Orders"}),p.jsx("h2",{children:ui.filter(w=>w.orderStatus!=="delivered").length})]}),p.jsxs("div",{className:"stat-card",children:[p.jsx("span",{children:"Delivered Orders"}),p.jsx("h2",{children:ui.filter(w=>w.orderStatus==="delivered").length})]}),p.jsxs("div",{className:"stat-card",children:[p.jsx("span",{children:"Total Revenue"}),p.jsx("h2",{children:c(ui.reduce((w,K)=>w+(Number(K.total)||0),0))})]})]}),p.jsx("div",{className:"admin-grid",children:p.jsxs("section",{className:"admin-card",children:[p.jsxs("h3",{children:["All Orders (",ui.length,")"]}),p.jsx("div",{className:"orders-table-container",children:ui.length===0?p.jsx("p",{className:"no-orders",children:"No orders found"}):p.jsx("div",{className:"orders-list",children:ui.map(w=>p.jsxs("div",{className:"order-admin-card",children:[p.jsxs("div",{className:"order-admin-header",children:[p.jsxs("div",{className:"order-admin-info",children:[p.jsxs("h4",{children:["Order #",w.id.slice(0,8).toUpperCase()]}),p.jsx("span",{className:"order-date",children:w.date}),p.jsx("span",{className:`order-status status-${w.orderStatus||"confirmed"}`,children:w.orderStatus||"Confirmed"})]}),p.jsx("div",{className:"order-admin-price",children:c(w.total)})]}),p.jsx("div",{className:"order-admin-customer",children:p.jsxs("div",{className:"customer-info",children:[p.jsxs("span",{children:[p.jsx("strong",{children:"Customer:"})," ",w.userEmail]}),w.razorpay_payment_id&&p.jsxs("span",{children:[p.jsx("strong",{children:"Payment ID:"})," ",w.razorpay_payment_id.slice(0,10),"..."]})]})}),p.jsxs("div",{className:"order-admin-items",children:[w.items?.slice(0,3).map((K,oe)=>p.jsxs("div",{className:"order-item-preview",children:[p.jsx("img",{src:K.image,alt:K.name}),p.jsxs("div",{className:"item-preview-info",children:[p.jsx("span",{className:"item-name",children:K.name}),p.jsxs("span",{className:"item-qty",children:["Qty: ",K.qty]})]})]},oe)),w.items?.length>3&&p.jsxs("div",{className:"more-items",children:["+",w.items.length-3," more"]})]}),p.jsxs("div",{className:"order-admin-actions",children:[p.jsxs("select",{value:w.orderStatus||"confirmed",onChange:K=>Vn(w.id,K.target.value),className:"status-select",children:[p.jsx("option",{value:"confirmed",children:"Confirmed"}),p.jsx("option",{value:"processing",children:"Processing"}),p.jsx("option",{value:"shipped",children:"Shipped"}),p.jsx("option",{value:"delivered",children:"Delivered"}),p.jsx("option",{value:"cancelled",children:"Cancelled"})]}),p.jsx("button",{className:"btn-outline-small",onClick:()=>Tn(w),children:"View Details"})]})]},w.id))})})]})})]})]}),zt&&p.jsx("div",{className:"modal-overlay",onClick:()=>Tn(null),children:p.jsxs("div",{className:"modal-content order-details-modal",onClick:w=>w.stopPropagation(),children:[p.jsxs("div",{className:"modal-header",children:[p.jsxs("h2",{children:["Order Details - #",zt.id.slice(0,8).toUpperCase()]}),p.jsx("button",{className:"modal-close",onClick:()=>Tn(null),children:""})]}),p.jsx("div",{className:"modal-body",children:p.jsxs("div",{className:"order-details-grid",children:[p.jsxs("div",{className:"detail-section",children:[p.jsx("h3",{children:"Order Information"}),p.jsxs("div",{className:"detail-grid",children:[p.jsxs("div",{className:"detail-item",children:[p.jsx("span",{className:"detail-label",children:"Order Date:"}),p.jsx("span",{className:"detail-value",children:zt.date})]}),p.jsxs("div",{className:"detail-item",children:[p.jsx("span",{className:"detail-label",children:"Status:"}),p.jsx("span",{className:`detail-value status-${zt.orderStatus||"confirmed"}`,children:zt.orderStatus||"Confirmed"})]}),p.jsxs("div",{className:"detail-item",children:[p.jsx("span",{className:"detail-label",children:"Total Amount:"}),p.jsx("span",{className:"detail-value",children:c(zt.total)})]}),zt.razorpay_payment_id&&p.jsxs("div",{className:"detail-item",children:[p.jsx("span",{className:"detail-label",children:"Payment ID:"}),p.jsx("span",{className:"detail-value",children:zt.razorpay_payment_id})]})]})]}),p.jsxs("div",{className:"detail-section",children:[p.jsx("h3",{children:"Customer Information"}),p.jsxs("div",{className:"detail-grid",children:[p.jsxs("div",{className:"detail-item",children:[p.jsx("span",{className:"detail-label",children:"Email:"}),p.jsx("span",{className:"detail-value",children:zt.userEmail})]}),zt.shippingAddress&&p.jsxs("div",{className:"detail-item",children:[p.jsx("span",{className:"detail-label",children:"Shipping Address:"}),p.jsx("span",{className:"detail-value",children:zt.shippingAddress})]})]})]}),p.jsxs("div",{className:"detail-section full-width",children:[p.jsx("h3",{children:"Order Items"}),p.jsx("div",{className:"order-items-detailed",children:zt.items?.map((w,K)=>p.jsxs("div",{className:"detailed-item-card",children:[p.jsx("img",{src:w.image,alt:w.name}),p.jsxs("div",{className:"detailed-item-info",children:[p.jsx("h4",{children:w.name}),p.jsxs("div",{className:"item-specs",children:[p.jsxs("span",{children:["Quantity: ",w.qty]}),p.jsxs("span",{children:["Price: ",c(w.price)]}),p.jsxs("span",{children:["Total: ",c(w.price*w.qty)]})]})]})]},K))})]})]})}),p.jsxs("div",{className:"modal-footer",children:[p.jsxs("select",{value:zt.orderStatus||"confirmed",onChange:w=>{Vn(zt.id,w.target.value),Tn({...zt,orderStatus:w.target.value})},className:"status-select",children:[p.jsx("option",{value:"confirmed",children:"Confirmed"}),p.jsx("option",{value:"processing",children:"Processing"}),p.jsx("option",{value:"shipped",children:"Shipped"}),p.jsx("option",{value:"delivered",children:"Delivered"}),p.jsx("option",{value:"cancelled",children:"Cancelled"})]}),p.jsx("button",{className:"btn-outline",onClick:()=>Tn(null),children:"Close"})]})]})}),L==="privacy"&&p.jsx("div",{className:"policy-page",children:p.jsxs("div",{className:"policy-container",children:[p.jsx("button",{className:"back-btn",onClick:()=>ke("home"),children:" Back to Home"}),p.jsxs("div",{className:"policy-header",children:[p.jsx("h1",{children:"Privacy Policy"}),p.jsx("p",{className:"policy-date",children:"Last Updated: January 4, 2026"})]}),p.jsxs("div",{className:"policy-content",children:[p.jsxs("p",{children:["This Privacy Policy outlines how ",p.jsx("strong",{children:"DeliQu Foods"})," collects, uses, discloses, and safeguards your personal information. By using our website, you consent to the practices described below:"]}),p.jsxs("div",{className:"policy-section",children:[p.jsx("h2",{children:"Welcome to DeliQu Foods!"}),p.jsxs("p",{children:["We are ",p.jsx("strong",{children:"deliqufoods.com"})," from ",p.jsx("strong",{children:"Surat, Gujarat, India  395006"}),'. In this Privacy Policy, references to "you" mean any person submitting any data to us or our agent or the Site.']}),p.jsxs("p",{children:["If you have any comments or suggestions, we would be pleased to receive them at our Surat address or by emailing us at",p.jsx("a",{href:"mailto:deliqufoods@gmail.com",children:"deliqufoods@gmail.com"})]})]}),p.jsxs("div",{className:"policy-section",children:[p.jsx("h2",{children:"Data Protection"}),p.jsx("p",{children:"Data protection is a matter of trust and your privacy is important to us. We shall therefore only use your name and other information which relates to you in the manner set out in this Privacy Policy. We will only collect information where it is necessary for us to do so and we will only collect information if it is relevant to our dealings with you."}),p.jsx("p",{children:"We will only keep your information for as long as we are either required to by law or as is relevant for the purposes for which it was collected."})]}),p.jsxs("div",{className:"policy-section",children:[p.jsx("h2",{children:"Browsing Anonymously"}),p.jsx("p",{children:"You can visit the Site and browse without having to provide personal details. During your visit to the Site you remain anonymous and at no time can we identify you unless you have an account on the Site and log on with your username and password."}),p.jsx("p",{children:p.jsx("strong",{children:'Right now our website is not enabled with "cookies"'})})]}),p.jsxs("div",{className:"policy-section",children:[p.jsx("h2",{children:"Purchase Information"}),p.jsx("p",{children:"If you choose to buy on the Website, we collect information about your buying behaviour. If you transact with us, we collect some additional information, such as a billing address, a credit/debit card number and a credit/debit card expiration date and/or other payment instrument details and tracking information from cheques or money orders."}),p.jsx("p",{children:"If you send us personal correspondence, such as emails or letters, we may collect such information into a file specific to you."})]}),p.jsxs("div",{className:"policy-section",children:[p.jsx("h2",{children:"Account Information"}),p.jsx("p",{children:"We collect personally identifiable information (email address, name, phone number, etc.) from you when you set up a free account with us. While you can browse some sections of our Website without being a registered member, certain activities (such as placing an order) do require registration. We do use your contact information to send you offers based on your previous orders and your interests."})]}),p.jsxs("div",{className:"policy-section",children:[p.jsx("h2",{children:"Data Security"}),p.jsxs("p",{children:["All your personal information will be stored in a ",p.jsx("strong",{children:"secure encrypted file"}),". However, no credit or debit card information will be stored beyond that of your current transaction session. When the session expires that data will be permanently deleted."]})]}),p.jsxs("div",{className:"policy-contact",children:[p.jsx("h3",{children:"Need Help?"}),p.jsxs("p",{children:["Email: ",p.jsx("a",{href:"mailto:deliqufoods@gmail.com",children:"deliqufoods@gmail.com"})]}),p.jsx("p",{children:"Contact: +91 95127 20820"})]})]})]})}),L==="shipping"&&p.jsx("div",{className:"policy-page",children:p.jsxs("div",{className:"policy-container",children:[p.jsx("button",{className:"back-btn",onClick:()=>ke("home"),children:" Back to Home"}),p.jsxs("div",{className:"policy-header",children:[p.jsx("h1",{children:"Shipping Policy"}),p.jsx("p",{className:"policy-date",children:"Last Updated: January 4, 2026"})]}),p.jsxs("div",{className:"policy-content",children:[p.jsxs("div",{className:"policy-section",children:[p.jsx("h2",{children:"Shipping Costs"}),p.jsxs("p",{children:["You will be responsible for paying for your own ",p.jsx("strong",{children:"shipping costs "}),"for returning your item. ",p.jsx("strong",{children:"Shipping costs are non-refundable"}),"."]})]}),p.jsxs("div",{className:"policy-section",children:[p.jsx("h2",{children:"Refund Deductions"}),p.jsxs("p",{children:["If you receive a refund, ",p.jsx("strong",{children:"the cost of return shipping will be deducted from your refund"}),"."]})]}),p.jsxs("div",{className:"policy-contact",children:[p.jsx("h3",{children:"Contact Us"}),p.jsxs("div",{className:"contact-grid",children:[p.jsxs("div",{className:"contact-item1",children:[p.jsx("strong",{children:"Email:"}),p.jsx("br",{}),p.jsx("a",{href:"mailto:deliqufoods@gmail.com",children:"deliqufoods@gmail.com"})]}),p.jsxs("div",{className:"contact-item1",children:[p.jsx("strong",{children:"Website:"}),p.jsx("br",{}),p.jsx("a",{href:"http://www.deliqufoods.com",target:"_blank",rel:"noopener",children:"www.deliqufoods.com"})]}),p.jsxs("div",{className:"contact-item1",children:[p.jsx("strong",{children:"Customer Care:"}),p.jsx("br",{}),p.jsx("a",{href:"tel:+919512720820",children:"+91 95127 20820"})]})]})]})]})]})}),L==="refund"&&p.jsx("div",{className:"policy-page",children:p.jsxs("div",{className:"policy-container",children:[p.jsx("button",{className:"back-btn",onClick:()=>ke("home"),children:" Back to Home"}),p.jsxs("div",{className:"policy-header",children:[p.jsx("h1",{children:"Refund Policy"}),p.jsx("p",{className:"policy-date",children:"Last Updated: January 4, 2026"})]}),p.jsxs("div",{className:"policy-content",children:[p.jsxs("div",{className:"policy-section",children:[p.jsx("h2",{children:"Refund & Cancellation"}),p.jsxs("p",{children:["No replacement/refund/or any other resolution will be provided for liquidated damages of an amount equivalent to the ",p.jsx("strong",{children:"Order Value"}),"."]})]}),p.jsxs("div",{className:"policy-section",children:[p.jsx("h2",{children:"Incorrect Particulars"}),p.jsxs("p",{children:["In the event, You have provided ",p.jsx("strong",{children:"incorrect particulars"}),", e.g., contact number, delivery address, etc., or that You were unresponsive, not reachable, or unavailable for the fulfilment of the services offered to You, ",p.jsx("strong",{children:"You will not be eligible for any refunds"}),"."]})]}),p.jsxs("div",{className:"policy-section",children:[p.jsx("h2",{children:"Complaints & Proof"}),p.jsxs("p",{children:["Any complaint, with respect to the Order which shall include instances but not be limited to food spillage, foreign objects in food, or delivery of the wrong order,",p.jsx("strong",{children:"you will be required to share the proof of the same before any resolution can be provided"}),"."]})]}),p.jsxs("div",{className:"policy-section",children:[p.jsx("h2",{children:"Order Instructions"}),p.jsxs("p",{children:["You shall not be entitled to a refund in case instructions placed along with the Order are not followed in the form and manner you had intended.",p.jsx("strong",{children:"Instructions are followed by the company on a best-efforts basis"}),"."]})]}),p.jsxs("div",{className:"policy-section",children:[p.jsx("h2",{children:"Refund Processing"}),p.jsxs("p",{children:["All refunds shall be processed in the ",p.jsx("strong",{children:"same manner as they are received"}),", unless refunds have been provided to you in the form of credits, the refund amount will reflect in your account based on respective banks' policies."]})]})]})]})}),L==="terms"&&p.jsx("div",{className:"policy-page",children:p.jsxs("div",{className:"policy-container",children:[p.jsx("button",{className:"back-btn",onClick:()=>ke("home"),children:" Back to Home"}),p.jsxs("div",{className:"policy-header",children:[p.jsx("h1",{children:"Terms of Service"}),p.jsx("p",{className:"policy-date",children:"Last Updated: January 4, 2026"})]}),p.jsxs("div",{className:"policy-content",children:[p.jsxs("div",{className:"policy-section",children:[p.jsx("h2",{children:"At Deliqu Foods, trust matters to us"}),p.jsxs("p",{children:["These Terms of Service explain how our website works, how orders are handled, and what you can expect when you shop with us. By using ",p.jsx("a",{href:"http://www.deliqufoods.com",target:"_blank",rel:"noopener",children:"www.deliqufoods.com"}),", you agree to the terms written here. If you do not agree, please stop using the website."]})]}),p.jsxs("div",{className:"policy-section",children:[p.jsx("h2",{children:"Who we are"}),p.jsxs("p",{children:["Deliqu Foods is a ",p.jsx("strong",{children:"ready-to-eat food brand"}),"  offering packaged meals through our website and other authorised platforms. We serve customers across India and selected international markets with a focus on quality, safety, and convenience."]})]}),p.jsxs("div",{className:"policy-section",children:[p.jsx("h2",{children:"Using our website"}),p.jsx("p",{children:"Our website is meant for personal and lawful use only. You agree not to misuse the website, interfere with its operation, provide false information, or engage in any activity that may harm the website or our business. We may restrict or block access if misuse is identified."})]}),p.jsxs("div",{className:"policy-section",children:[p.jsx("h2",{children:"Product details"}),p.jsx("p",{children:"We do our best to present accurate information about our products, including descriptions, prices, and images. Product images are for reference only, and minor variations in packaging or appearance may occur. Product availability and pricing may change without prior notice."})]}),p.jsxs("div",{className:"policy-section",children:[p.jsx("h2",{children:"Placing an order"}),p.jsx("p",{children:"When you place an order on our website, it means you agree to purchase the selected product at the displayed price. Orders are confirmed only after successful payment. In certain situations, such as stock issues or payment concerns, we reserve the right to cancel or decline an order."})]}),p.jsxs("div",{className:"policy-section",children:[p.jsx("h2",{children:"Delivery information"}),p.jsx("p",{children:"Delivery timelines shown on the website are estimates and may vary due to courier operations, location, weather, or customs procedures. For international orders, customers are responsible for any applicable customs duties, taxes, or import regulations. Delays caused by third-party delivery partners are beyond our control."})]}),p.jsxs("div",{className:"policy-section",children:[p.jsx("h2",{children:"Returns and support"}),p.jsxs("p",{children:["Because we sell food products, opened or consumed items cannot be returned. Replacements or refunds may be considered only if the product received is damaged, expired, or incorrect. Any such concern must be reported within",p.jsx("strong",{children:" 24 hours of delivery"}),", and each request is reviewed carefully."]})]}),p.jsxs("div",{className:"policy-section",children:[p.jsx("h2",{children:"Food safety and allergies"}),p.jsx("p",{children:"Our products are prepared and packed following applicable food safety standards. Customers are responsible for reading ingredient information, allergen details, and storage instructions mentioned on the packaging. Deliqu Foods is not responsible for health issues arising from improper storage, misuse, or known allergies."})]}),p.jsxs("div",{className:"policy-section",children:[p.jsx("h2",{children:"Our responsibility"}),p.jsx("p",{children:"Deliqu Foods is not liable for indirect or unexpected losses, delays beyond our control, or issues caused by product misuse after delivery. Our total liability, if any, will be limited to the amount paid for the product."})]}),p.jsxs("div",{className:"policy-section",children:[p.jsx("h2",{children:"Intellectual property"}),p.jsx("p",{children:"All content on this website, including text, images, logos, designs, and product names, belongs to Deliqu Foods. Copying, reproducing, or using any content without written permission is not allowed."})]}),p.jsxs("div",{className:"policy-section",children:[p.jsx("h2",{children:"External websites"}),p.jsx("p",{children:"Our website may include links to third-party websites for convenience. We do not control or take responsibility for the content or policies of those websites."})]}),p.jsxs("div",{className:"policy-section",children:[p.jsx("h2",{children:"Updates to these terms"}),p.jsx("p",{children:"We may update these Terms of Service from time to time. Continued use of the website after changes are made means you accept the updated terms."})]}),p.jsxs("div",{className:"policy-section",children:[p.jsx("h2",{children:"Legal details"}),p.jsxs("p",{children:["These Terms are governed by the ",p.jsx("strong",{children:"laws of India"}),", and any disputes will be subject to",p.jsx("strong",{children:" Indian jurisdiction"}),"."]})]})]})]})}),L==="support"&&p.jsx("div",{className:"policy-page",children:p.jsxs("div",{className:"policy-container",children:[p.jsx("button",{className:"back-btn",onClick:()=>ke("home"),children:" Back to Home"}),p.jsx("h1",{children:"Customer Support"}),p.jsxs("div",{className:"policy-content",children:[p.jsx("h2",{children:"Contact Information"}),p.jsxs("div",{className:"support-grid",children:[p.jsxs("div",{className:"support-item",children:[p.jsx("h3",{children:"Email"}),p.jsx("p",{children:"deliqufoods@gmail.com"}),p.jsx("p",{children:"Reply within 24 hours"})]}),p.jsxs("div",{className:"support-item",children:[p.jsx("h3",{children:" Customer Care"}),p.jsx("p",{children:"+91 95127 20820"}),p.jsx("p",{children:"Mon-Sat 10AM-6PM"})]})]})]})]})})]}),de.length>0&&p.jsx(as.div,{initial:{y:100,opacity:0},animate:{y:0,opacity:1},exit:{y:100,opacity:0},className:"bottom-total-bar",children:p.jsxs("div",{className:"bar-content",children:[p.jsxs("div",{className:"bar-info-stack",children:[p.jsxs("span",{className:"bar-count-label",children:[Ut," ",Ut===1?"Item":"Items"," Selected"]}),p.jsx("span",{className:"bar-price-text",children:c(Gi)})]}),p.jsx("button",{className:"btn-white-action",onClick:()=>ke("cart"),children:"View Bag & Checkout"})]})}),L==="home"&&p.jsx("section",{className:"why-choose-us",children:p.jsx("div",{className:"container",children:p.jsxs("div",{className:"why-choose-content",children:[p.jsx("div",{className:"why-image",children:p.jsx("div",{className:"product-image",children:p.jsx("img",{src:"/images/GAJAR_HALWA.jpg",alt:"Pure Food Product"})})}),p.jsxs("div",{className:"why-text",children:[p.jsx("h2",{className:"highlight-title",children:"Why Choose Us ?"}),p.jsxs("div",{className:"highlight-text",children:["We don't just serve food, ",p.jsx("span",{className:"highlight-word",children:"we serve purity on a plate"}),". Our every recipe is a celebration of nature, made with  ",p.jsx("span",{className:"highlight-word",children:" oil free"}),", ",p.jsx("span",{className:"highlight-word",children:" preservative free"}),", ",p.jsx("span",{className:"highlight-word",children:" chemical free"}),", and ",p.jsx("span",{className:"highlight-word",children:" additive free"}),", so you can indulge without compromise."]}),p.jsxs("div",{className:"highlight-text",children:["With ",p.jsx("span",{className:"highlight-word",children:"organic ingredients"})," and no artificial colours, our meals embody authenticity and integrity, sealed with a",p.jsx("span",{className:"highlight-badge",children:"12-month shelf life"})," that preserves freshness and trust."]}),p.jsxs("div",{className:"highlight-text",children:["Designed for the modern wanderer, our packs are light to carry, saving you precious time and effort. Think of it as ",p.jsx("span",{className:"highlight-word",children:"hassle-free goodness"}),"  a perfect blend of quality, hygiene, taste and convenience that lets you enjoy wholesome meals anytime, anywhere."]})]})]})})}),L==="home"&&p.jsx("section",{className:"cooking-preparation",children:p.jsxs("div",{className:"container",children:[p.jsxs("div",{className:"section-header",children:[p.jsx("h2",{children:"Our Cooking Process"}),p.jsx("p",{children:"From fresh ingredients to your plate - see how we prepare your meals"})]}),p.jsx("div",{className:"preparation-gallery",children:p.jsx("div",{className:"preparation-image",children:p.jsx("img",{src:"images/Cooking_preparation.jpeg",alt:"Cooking Preparation"})})})]})}),L==="home"&&p.jsx("section",{className:"available-on-section",children:p.jsx("div",{className:"container",children:p.jsxs("div",{className:"available-on-content",children:[p.jsx("h2",{children:"Also Available On"}),p.jsx("p",{children:"Find our premium organic meals on your favorite platforms"}),p.jsxs("div",{className:"platforms-grid",children:[p.jsxs("div",{className:"platform-card amazon",children:[p.jsx("div",{className:"platform-logo",children:p.jsx("img",{src:"/images/amazon.png",alt:"Amazon"})}),p.jsx("h3",{children:"Amazon"}),p.jsx("p",{children:"Shop now on India's largest online marketplace"}),p.jsx("a",{href:"https://www.amazon.in",target:"_blank",rel:"noopener noreferrer",className:"platform-btn",children:"Visit Amazon"})]}),p.jsxs("div",{className:"platform-card blinkit",children:[p.jsx("div",{className:"platform-logo",children:p.jsx("img",{src:"images/blinkit.png",alt:"Blinkit"})}),p.jsx("h3",{children:"Blinkit"}),p.jsx("p",{children:"Get instant delivery within minutes"}),p.jsx("a",{href:"https://blinkit.com",target:"_blank",rel:"noopener noreferrer",className:"platform-btn",children:"Visit Blinkit"})]}),p.jsxs("div",{className:"platform-card flipkart",children:[p.jsx("div",{className:"platform-logo",children:p.jsx("img",{src:"images/flipkart2.png",alt:"Flipkart"})}),p.jsx("h3",{children:"Flipkart"}),p.jsx("p",{children:"Browse our collection on Flipkart"}),p.jsx("a",{href:"https://www.flipkart.com",target:"_blank",rel:"noopener noreferrer",className:"platform-btn",children:"Visit Flipkart"})]})]})]})})}),p.jsx("footer",{className:"global-footer",children:p.jsx("div",{className:"footer-content",children:p.jsxs("div",{className:"footer-grid",children:[p.jsxs("div",{className:"footer-section",children:[p.jsx("img",{src:"/images/2.png",alt:"Deliqu Foods",className:"footer-logo-img"}),p.jsx("p",{className:"footer-desc",children:"Authentic ready-to-eat meals delivered to your doorstep. 100% preservative-free, made with love."}),p.jsxs("div",{className:"social-links",children:[p.jsx("a",{href:"https://www.instagram.com/deliqu_foods?utm_source=ig_web_button_share_sheet&igsh=ZDNlZDc0MzIxNw==",className:"social-icon",target:"_blank",rel:"noopener",children:p.jsx("img",{src:"/images/instagram.png",alt:"Instagram"})}),p.jsx("a",{href:"https://www.facebook.com/share/16bqXrkGcB/?mibextid=wwXIfr",className:"social-icon",target:"_blank",rel:"noopener",children:p.jsx("img",{src:"/images/facebook.png",alt:"Facebook"})}),p.jsx("a",{href:"https://youtube.com/@deliqufoods?si=c79cBF77jucjTGgp",className:"social-icon",target:"_blank",rel:"noopener",children:p.jsx("img",{src:"/images/youtube.png",alt:"YouTube"})}),p.jsx("a",{href:"https://whatsapp.com/deliqufoods",className:"social-icon",target:"_blank",rel:"noopener",children:p.jsx("img",{src:"/images/whatsapp.png",alt:"WhatsApp"})})]})]}),p.jsxs("div",{className:"footer-section",children:[p.jsx("h4",{children:"Quick Links"}),p.jsxs("ul",{children:[p.jsx("li",{children:p.jsx("a",{href:"#",className:"scroll-link",onClick:w=>{w.preventDefault(),_t("home")},children:"Home"})}),p.jsx("li",{children:p.jsx("a",{href:"#",className:"scroll-link",onClick:w=>{w.preventDefault(),_t("cart")},children:"Cart"})}),p.jsx("li",{children:p.jsx("a",{href:"#",className:"scroll-link",onClick:w=>{w.preventDefault(),_t("help")},children:"Help"})})]})]}),p.jsxs("div",{className:"footer-section",children:[p.jsx("h4",{children:"Help"}),p.jsxs("ul",{children:[p.jsx("li",{children:p.jsx("a",{href:"#",onClick:w=>{w.preventDefault(),ke("support"),scrollToTop()},children:"Customer Support"})}),p.jsx("li",{children:p.jsx("a",{href:"#",onClick:w=>{w.preventDefault(),ke("privacy"),scrollToTop()},children:"Privacy Policy"})}),p.jsx("li",{children:p.jsx("a",{href:"#",onClick:w=>{w.preventDefault(),ke("shipping"),scrollToTop()},children:"Shipping Policy"})}),p.jsx("li",{children:p.jsx("a",{href:"#",onClick:w=>{w.preventDefault(),ke("refund"),scrollToTop()},children:"Refund Policy"})}),p.jsx("li",{children:p.jsx("a",{href:"#",onClick:w=>{w.preventDefault(),ke("terms"),scrollToTop()},children:"Terms of Service"})})]})]}),p.jsxs("div",{className:"footer-section",children:[p.jsx("h4",{children:"Contact Us"}),p.jsxs("a",{href:"https://www.google.com/maps/search/?api=1&query=Surat,+Gujarat+395007",target:"_blank",rel:"noopener noreferrer",className:"contact-item clickable",children:[p.jsx("img",{src:"/images/location.png",alt:"Location",className:"contact-icon"}),p.jsx("span",{children:"Surat, Gujarat 395007"})]}),p.jsxs("a",{href:"mailto:deliqufoods@gmail.com?subject=Order%20Inquiry&body=Hello%20Deliqu%20Team,",className:"contact-item clickable",children:[p.jsx("img",{src:"/images/email.png",alt:"Email",className:"contact-icon"}),p.jsx("span",{children:"deliqufoods@gmail.com"})]}),p.jsxs("a",{href:"tel:+919512720820",className:"contact-item clickable",children:[p.jsx("img",{src:"/images/phone.png",alt:"Phone",className:"contact-icon"}),p.jsx("span",{children:"+91 95127 20820"})]}),p.jsxs("div",{className:"contact-item",children:[p.jsx("img",{src:"/images/hours.png",alt:"Hours",className:"contact-icon"}),p.jsx("span",{children:"MonSat 10AM6PM"})]})]})]})})})]})}rI.createRoot(document.getElementById("root")).render(p.jsx(re.StrictMode,{children:p.jsx(p3,{})}));
