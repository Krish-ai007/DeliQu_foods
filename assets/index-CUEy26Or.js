(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const u of c.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function n(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(o){if(o.ep)return;o.ep=!0;const c=n(o);fetch(o.href,c)}})();var fp={exports:{}},Ac={};var KE;function Yx(){if(KE)return Ac;KE=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,o,c){var u=null;if(c!==void 0&&(u=""+c),o.key!==void 0&&(u=""+o.key),"key"in o){c={};for(var d in o)d!=="key"&&(c[d]=o[d])}else c=o;return o=c.ref,{$$typeof:e,type:s,key:u,ref:o!==void 0?o:null,props:c}}return Ac.Fragment=t,Ac.jsx=n,Ac.jsxs=n,Ac}var YE;function Qx(){return YE||(YE=1,fp.exports=Yx()),fp.exports}var _=Qx(),dp={exports:{}},Dt={};var QE;function Xx(){if(QE)return Dt;QE=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),E=Symbol.for("react.activity"),b=Symbol.iterator;function C(P){return P===null||typeof P!="object"?null:(P=b&&P[b]||P["@@iterator"],typeof P=="function"?P:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},B=Object.assign,z={};function $(P,W,ut){this.props=P,this.context=W,this.refs=z,this.updater=ut||j}$.prototype.isReactComponent={},$.prototype.setState=function(P,W){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,W,"setState")},$.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function et(){}et.prototype=$.prototype;function Z(P,W,ut){this.props=P,this.context=W,this.refs=z,this.updater=ut||j}var lt=Z.prototype=new et;lt.constructor=Z,B(lt,$.prototype),lt.isPureReactComponent=!0;var ct=Array.isArray;function dt(){}var x={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function I(P,W,ut){var ot=ut.ref;return{$$typeof:e,type:P,key:W,ref:ot!==void 0?ot:null,props:ut}}function M(P,W){return I(P.type,W,P.props)}function O(P){return typeof P=="object"&&P!==null&&P.$$typeof===e}function L(P){var W={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(ut){return W[ut]})}var N=/\/+/g;function Qt(P,W){return typeof P=="object"&&P!==null&&P.key!=null?L(""+P.key):W.toString(36)}function he(P){switch(P.status){case"fulfilled":return P.value;case"rejected":throw P.reason;default:switch(typeof P.status=="string"?P.then(dt,dt):(P.status="pending",P.then(function(W){P.status==="pending"&&(P.status="fulfilled",P.value=W)},function(W){P.status==="pending"&&(P.status="rejected",P.reason=W)})),P.status){case"fulfilled":return P.value;case"rejected":throw P.reason}}throw P}function Q(P,W,ut,ot,vt){var Nt=typeof P;(Nt==="undefined"||Nt==="boolean")&&(P=null);var Pt=!1;if(P===null)Pt=!0;else switch(Nt){case"bigint":case"string":case"number":Pt=!0;break;case"object":switch(P.$$typeof){case e:case t:Pt=!0;break;case v:return Pt=P._init,Q(Pt(P._payload),W,ut,ot,vt)}}if(Pt)return vt=vt(P),Pt=ot===""?"."+Qt(P,0):ot,ct(vt)?(ut="",Pt!=null&&(ut=Pt.replace(N,"$&/")+"/"),Q(vt,W,ut,"",function(gs){return gs})):vt!=null&&(O(vt)&&(vt=M(vt,ut+(vt.key==null||P&&P.key===vt.key?"":(""+vt.key).replace(N,"$&/")+"/")+Pt)),W.push(vt)),1;Pt=0;var ve=ot===""?".":ot+":";if(ct(P))for(var le=0;le<P.length;le++)ot=P[le],Nt=ve+Qt(ot,le),Pt+=Q(ot,W,ut,Nt,vt);else if(le=C(P),typeof le=="function")for(P=le.call(P),le=0;!(ot=P.next()).done;)ot=ot.value,Nt=ve+Qt(ot,le++),Pt+=Q(ot,W,ut,Nt,vt);else if(Nt==="object"){if(typeof P.then=="function")return Q(he(P),W,ut,ot,vt);throw W=String(P),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return Pt}function at(P,W,ut){if(P==null)return P;var ot=[],vt=0;return Q(P,ot,"","",function(Nt){return W.call(ut,Nt,vt++)}),ot}function ft(P){if(P._status===-1){var W=P._result;W=W(),W.then(function(ut){(P._status===0||P._status===-1)&&(P._status=1,P._result=ut)},function(ut){(P._status===0||P._status===-1)&&(P._status=2,P._result=ut)}),P._status===-1&&(P._status=0,P._result=W)}if(P._status===1)return P._result.default;throw P._result}var Ct=typeof reportError=="function"?reportError:function(P){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof P=="object"&&P!==null&&typeof P.message=="string"?String(P.message):String(P),error:P});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",P);return}console.error(P)},jt={map:at,forEach:function(P,W,ut){at(P,function(){W.apply(this,arguments)},ut)},count:function(P){var W=0;return at(P,function(){W++}),W},toArray:function(P){return at(P,function(W){return W})||[]},only:function(P){if(!O(P))throw Error("React.Children.only expected to receive a single React element child.");return P}};return Dt.Activity=E,Dt.Children=jt,Dt.Component=$,Dt.Fragment=n,Dt.Profiler=o,Dt.PureComponent=Z,Dt.StrictMode=s,Dt.Suspense=p,Dt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=x,Dt.__COMPILER_RUNTIME={__proto__:null,c:function(P){return x.H.useMemoCache(P)}},Dt.cache=function(P){return function(){return P.apply(null,arguments)}},Dt.cacheSignal=function(){return null},Dt.cloneElement=function(P,W,ut){if(P==null)throw Error("The argument must be a React element, but you passed "+P+".");var ot=B({},P.props),vt=P.key;if(W!=null)for(Nt in W.key!==void 0&&(vt=""+W.key),W)!R.call(W,Nt)||Nt==="key"||Nt==="__self"||Nt==="__source"||Nt==="ref"&&W.ref===void 0||(ot[Nt]=W[Nt]);var Nt=arguments.length-2;if(Nt===1)ot.children=ut;else if(1<Nt){for(var Pt=Array(Nt),ve=0;ve<Nt;ve++)Pt[ve]=arguments[ve+2];ot.children=Pt}return I(P.type,vt,ot)},Dt.createContext=function(P){return P={$$typeof:u,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null},P.Provider=P,P.Consumer={$$typeof:c,_context:P},P},Dt.createElement=function(P,W,ut){var ot,vt={},Nt=null;if(W!=null)for(ot in W.key!==void 0&&(Nt=""+W.key),W)R.call(W,ot)&&ot!=="key"&&ot!=="__self"&&ot!=="__source"&&(vt[ot]=W[ot]);var Pt=arguments.length-2;if(Pt===1)vt.children=ut;else if(1<Pt){for(var ve=Array(Pt),le=0;le<Pt;le++)ve[le]=arguments[le+2];vt.children=ve}if(P&&P.defaultProps)for(ot in Pt=P.defaultProps,Pt)vt[ot]===void 0&&(vt[ot]=Pt[ot]);return I(P,Nt,vt)},Dt.createRef=function(){return{current:null}},Dt.forwardRef=function(P){return{$$typeof:d,render:P}},Dt.isValidElement=O,Dt.lazy=function(P){return{$$typeof:v,_payload:{_status:-1,_result:P},_init:ft}},Dt.memo=function(P,W){return{$$typeof:g,type:P,compare:W===void 0?null:W}},Dt.startTransition=function(P){var W=x.T,ut={};x.T=ut;try{var ot=P(),vt=x.S;vt!==null&&vt(ut,ot),typeof ot=="object"&&ot!==null&&typeof ot.then=="function"&&ot.then(dt,Ct)}catch(Nt){Ct(Nt)}finally{W!==null&&ut.types!==null&&(W.types=ut.types),x.T=W}},Dt.unstable_useCacheRefresh=function(){return x.H.useCacheRefresh()},Dt.use=function(P){return x.H.use(P)},Dt.useActionState=function(P,W,ut){return x.H.useActionState(P,W,ut)},Dt.useCallback=function(P,W){return x.H.useCallback(P,W)},Dt.useContext=function(P){return x.H.useContext(P)},Dt.useDebugValue=function(){},Dt.useDeferredValue=function(P,W){return x.H.useDeferredValue(P,W)},Dt.useEffect=function(P,W){return x.H.useEffect(P,W)},Dt.useEffectEvent=function(P){return x.H.useEffectEvent(P)},Dt.useId=function(){return x.H.useId()},Dt.useImperativeHandle=function(P,W,ut){return x.H.useImperativeHandle(P,W,ut)},Dt.useInsertionEffect=function(P,W){return x.H.useInsertionEffect(P,W)},Dt.useLayoutEffect=function(P,W){return x.H.useLayoutEffect(P,W)},Dt.useMemo=function(P,W){return x.H.useMemo(P,W)},Dt.useOptimistic=function(P,W){return x.H.useOptimistic(P,W)},Dt.useReducer=function(P,W,ut){return x.H.useReducer(P,W,ut)},Dt.useRef=function(P){return x.H.useRef(P)},Dt.useState=function(P){return x.H.useState(P)},Dt.useSyncExternalStore=function(P,W,ut){return x.H.useSyncExternalStore(P,W,ut)},Dt.useTransition=function(){return x.H.useTransition()},Dt.version="19.2.3",Dt}var XE;function Kg(){return XE||(XE=1,dp.exports=Xx()),dp.exports}var rt=Kg(),mp={exports:{}},bc={},pp={exports:{}},gp={};var $E;function $x(){return $E||($E=1,(function(e){function t(Q,at){var ft=Q.length;Q.push(at);t:for(;0<ft;){var Ct=ft-1>>>1,jt=Q[Ct];if(0<o(jt,at))Q[Ct]=at,Q[ft]=jt,ft=Ct;else break t}}function n(Q){return Q.length===0?null:Q[0]}function s(Q){if(Q.length===0)return null;var at=Q[0],ft=Q.pop();if(ft!==at){Q[0]=ft;t:for(var Ct=0,jt=Q.length,P=jt>>>1;Ct<P;){var W=2*(Ct+1)-1,ut=Q[W],ot=W+1,vt=Q[ot];if(0>o(ut,ft))ot<jt&&0>o(vt,ut)?(Q[Ct]=vt,Q[ot]=ft,Ct=ot):(Q[Ct]=ut,Q[W]=ft,Ct=W);else if(ot<jt&&0>o(vt,ft))Q[Ct]=vt,Q[ot]=ft,Ct=ot;else break t}}return at}function o(Q,at){var ft=Q.sortIndex-at.sortIndex;return ft!==0?ft:Q.id-at.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;e.unstable_now=function(){return c.now()}}else{var u=Date,d=u.now();e.unstable_now=function(){return u.now()-d}}var p=[],g=[],v=1,E=null,b=3,C=!1,j=!1,B=!1,z=!1,$=typeof setTimeout=="function"?setTimeout:null,et=typeof clearTimeout=="function"?clearTimeout:null,Z=typeof setImmediate<"u"?setImmediate:null;function lt(Q){for(var at=n(g);at!==null;){if(at.callback===null)s(g);else if(at.startTime<=Q)s(g),at.sortIndex=at.expirationTime,t(p,at);else break;at=n(g)}}function ct(Q){if(B=!1,lt(Q),!j)if(n(p)!==null)j=!0,dt||(dt=!0,L());else{var at=n(g);at!==null&&he(ct,at.startTime-Q)}}var dt=!1,x=-1,R=5,I=-1;function M(){return z?!0:!(e.unstable_now()-I<R)}function O(){if(z=!1,dt){var Q=e.unstable_now();I=Q;var at=!0;try{t:{j=!1,B&&(B=!1,et(x),x=-1),C=!0;var ft=b;try{e:{for(lt(Q),E=n(p);E!==null&&!(E.expirationTime>Q&&M());){var Ct=E.callback;if(typeof Ct=="function"){E.callback=null,b=E.priorityLevel;var jt=Ct(E.expirationTime<=Q);if(Q=e.unstable_now(),typeof jt=="function"){E.callback=jt,lt(Q),at=!0;break e}E===n(p)&&s(p),lt(Q)}else s(p);E=n(p)}if(E!==null)at=!0;else{var P=n(g);P!==null&&he(ct,P.startTime-Q),at=!1}}break t}finally{E=null,b=ft,C=!1}at=void 0}}finally{at?L():dt=!1}}}var L;if(typeof Z=="function")L=function(){Z(O)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,Qt=N.port2;N.port1.onmessage=O,L=function(){Qt.postMessage(null)}}else L=function(){$(O,0)};function he(Q,at){x=$(function(){Q(e.unstable_now())},at)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Q){Q.callback=null},e.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<Q?Math.floor(1e3/Q):5},e.unstable_getCurrentPriorityLevel=function(){return b},e.unstable_next=function(Q){switch(b){case 1:case 2:case 3:var at=3;break;default:at=b}var ft=b;b=at;try{return Q()}finally{b=ft}},e.unstable_requestPaint=function(){z=!0},e.unstable_runWithPriority=function(Q,at){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var ft=b;b=Q;try{return at()}finally{b=ft}},e.unstable_scheduleCallback=function(Q,at,ft){var Ct=e.unstable_now();switch(typeof ft=="object"&&ft!==null?(ft=ft.delay,ft=typeof ft=="number"&&0<ft?Ct+ft:Ct):ft=Ct,Q){case 1:var jt=-1;break;case 2:jt=250;break;case 5:jt=1073741823;break;case 4:jt=1e4;break;default:jt=5e3}return jt=ft+jt,Q={id:v++,callback:at,priorityLevel:Q,startTime:ft,expirationTime:jt,sortIndex:-1},ft>Ct?(Q.sortIndex=ft,t(g,Q),n(p)===null&&Q===n(g)&&(B?(et(x),x=-1):B=!0,he(ct,ft-Ct))):(Q.sortIndex=jt,t(p,Q),j||C||(j=!0,dt||(dt=!0,L()))),Q},e.unstable_shouldYield=M,e.unstable_wrapCallback=function(Q){var at=b;return function(){var ft=b;b=at;try{return Q.apply(this,arguments)}finally{b=ft}}}})(gp)),gp}var WE;function Wx(){return WE||(WE=1,pp.exports=$x()),pp.exports}var yp={exports:{}},yn={};var ZE;function Zx(){if(ZE)return yn;ZE=1;var e=Kg();function t(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(p,g,v){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:E==null?null:""+E,children:p,containerInfo:g,implementation:v}}var u=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return yn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,yn.createPortal=function(p,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return c(p,g,null,v)},yn.flushSync=function(p){var g=u.T,v=s.p;try{if(u.T=null,s.p=2,p)return p()}finally{u.T=g,s.p=v,s.d.f()}},yn.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},yn.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},yn.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var v=g.as,E=d(v,g.crossOrigin),b=typeof g.integrity=="string"?g.integrity:void 0,C=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:E,integrity:b,fetchPriority:C}):v==="script"&&s.d.X(p,{crossOrigin:E,integrity:b,fetchPriority:C,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},yn.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=d(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},yn.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,E=d(v,g.crossOrigin);s.d.L(p,v,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},yn.preloadModule=function(p,g){if(typeof p=="string")if(g){var v=d(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},yn.requestFormReset=function(p){s.d.r(p)},yn.unstable_batchedUpdates=function(p,g){return p(g)},yn.useFormState=function(p,g,v){return u.H.useFormState(p,g,v)},yn.useFormStatus=function(){return u.H.useHostTransitionStatus()},yn.version="19.2.3",yn}var JE;function Jx(){if(JE)return yp.exports;JE=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),yp.exports=Zx(),yp.exports}var t0;function tI(){if(t0)return bc;t0=1;var e=Wx(),t=Kg(),n=Jx();function s(i){var r="https://react.dev/errors/"+i;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function c(i){var r=i,a=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,(r.flags&4098)!==0&&(a=r.return),i=r.return;while(i)}return r.tag===3?a:null}function u(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function d(i){if(i.tag===31){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function p(i){if(c(i)!==i)throw Error(s(188))}function g(i){var r=i.alternate;if(!r){if(r=c(i),r===null)throw Error(s(188));return r!==i?null:i}for(var a=i,l=r;;){var f=a.return;if(f===null)break;var m=f.alternate;if(m===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===a)return p(f),i;if(m===l)return p(f),r;m=m.sibling}throw Error(s(188))}if(a.return!==l.return)a=f,l=m;else{for(var T=!1,S=f.child;S;){if(S===a){T=!0,a=f,l=m;break}if(S===l){T=!0,l=f,a=m;break}S=S.sibling}if(!T){for(S=m.child;S;){if(S===a){T=!0,a=m,l=f;break}if(S===l){T=!0,l=m,a=f;break}S=S.sibling}if(!T)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?i:r}function v(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i;for(i=i.child;i!==null;){if(r=v(i),r!==null)return r;i=i.sibling}return null}var E=Object.assign,b=Symbol.for("react.element"),C=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),B=Symbol.for("react.fragment"),z=Symbol.for("react.strict_mode"),$=Symbol.for("react.profiler"),et=Symbol.for("react.consumer"),Z=Symbol.for("react.context"),lt=Symbol.for("react.forward_ref"),ct=Symbol.for("react.suspense"),dt=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function L(i){return i===null||typeof i!="object"?null:(i=O&&i[O]||i["@@iterator"],typeof i=="function"?i:null)}var N=Symbol.for("react.client.reference");function Qt(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===N?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case B:return"Fragment";case $:return"Profiler";case z:return"StrictMode";case ct:return"Suspense";case dt:return"SuspenseList";case I:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case j:return"Portal";case Z:return i.displayName||"Context";case et:return(i._context.displayName||"Context")+".Consumer";case lt:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case x:return r=i.displayName||null,r!==null?r:Qt(i.type)||"Memo";case R:r=i._payload,i=i._init;try{return Qt(i(r))}catch{}}return null}var he=Array.isArray,Q=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,at=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ft={pending:!1,data:null,method:null,action:null},Ct=[],jt=-1;function P(i){return{current:i}}function W(i){0>jt||(i.current=Ct[jt],Ct[jt]=null,jt--)}function ut(i,r){jt++,Ct[jt]=i.current,i.current=r}var ot=P(null),vt=P(null),Nt=P(null),Pt=P(null);function ve(i,r){switch(ut(Nt,r),ut(vt,i),ut(ot,null),r.nodeType){case 9:case 11:i=(i=r.documentElement)&&(i=i.namespaceURI)?pE(i):0;break;default:if(i=r.tagName,r=r.namespaceURI)r=pE(r),i=gE(r,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}W(ot),ut(ot,i)}function le(){W(ot),W(vt),W(Nt)}function gs(i){i.memoizedState!==null&&ut(Pt,i);var r=ot.current,a=gE(r,i.type);r!==a&&(ut(vt,i),ut(ot,a))}function Li(i){vt.current===i&&(W(ot),W(vt)),Pt.current===i&&(W(Pt),_c._currentValue=ft)}var Xs,Ut;function Oe(i){if(Xs===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);Xs=r&&r[1]||"",Ut=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Xs+i+Ut}var Lt=!1;function ys(i,r){if(!i||Lt)return"";Lt=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var tt=function(){throw Error()};if(Object.defineProperty(tt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(tt,[])}catch(Y){var G=Y}Reflect.construct(i,[],tt)}else{try{tt.call()}catch(Y){G=Y}i.call(tt.prototype)}}else{try{throw Error()}catch(Y){G=Y}(tt=i())&&typeof tt.catch=="function"&&tt.catch(function(){})}}catch(Y){if(Y&&G&&typeof Y.stack=="string")return[Y.stack,G.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=l.DetermineComponentFrameRoot(),T=m[0],S=m[1];if(T&&S){var D=T.split(`
`),H=S.split(`
`);for(f=l=0;l<D.length&&!D[l].includes("DetermineComponentFrameRoot");)l++;for(;f<H.length&&!H[f].includes("DetermineComponentFrameRoot");)f++;if(l===D.length||f===H.length)for(l=D.length-1,f=H.length-1;1<=l&&0<=f&&D[l]!==H[f];)f--;for(;1<=l&&0<=f;l--,f--)if(D[l]!==H[f]){if(l!==1||f!==1)do if(l--,f--,0>f||D[l]!==H[f]){var X=`
`+D[l].replace(" at new "," at ");return i.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",i.displayName)),X}while(1<=l&&0<=f);break}}}finally{Lt=!1,Error.prepareStackTrace=a}return(a=i?i.displayName||i.name:"")?Oe(a):""}function ea(i,r){switch(i.tag){case 26:case 27:case 5:return Oe(i.type);case 16:return Oe("Lazy");case 13:return i.child!==r&&r!==null?Oe("Suspense Fallback"):Oe("Suspense");case 19:return Oe("SuspenseList");case 0:case 15:return ys(i.type,!1);case 11:return ys(i.type.render,!1);case 1:return ys(i.type,!0);case 31:return Oe("Activity");default:return""}}function na(i){try{var r="",a=null;do r+=ea(i,a),a=i,i=i.return;while(i);return r}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var we=Object.prototype.hasOwnProperty,pe=e.unstable_scheduleCallback,bn=e.unstable_cancelCallback,El=e.unstable_shouldYield,Wa=e.unstable_requestPaint,on=e.unstable_now,ei=e.unstable_getCurrentPriorityLevel,Ti=e.unstable_ImmediatePriority,_s=e.unstable_UserBlockingPriority,tn=e.unstable_NormalPriority,Al=e.unstable_LowPriority,$s=e.unstable_IdlePriority,Za=e.log,ia=e.unstable_setDisableYieldValue,en=null,Re=null;function Sn(i){if(typeof Za=="function"&&ia(i),Re&&typeof Re.setStrictMode=="function")try{Re.setStrictMode(en,i)}catch{}}var Te=Math.clz32?Math.clz32:Ei,sa=Math.log,Xe=Math.LN2;function Ei(i){return i>>>=0,i===0?32:31-(sa(i)/Xe|0)|0}var Bn=256,ni=262144,Ee=4194304;function wn(i){var r=i&42;if(r!==0)return r;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function zn(i,r,a){var l=i.pendingLanes;if(l===0)return 0;var f=0,m=i.suspendedLanes,T=i.pingedLanes;i=i.warmLanes;var S=l&134217727;return S!==0?(l=S&~m,l!==0?f=wn(l):(T&=S,T!==0?f=wn(T):a||(a=S&~i,a!==0&&(f=wn(a))))):(S=l&~m,S!==0?f=wn(S):T!==0?f=wn(T):a||(a=l&~i,a!==0&&(f=wn(a)))),f===0?0:r!==0&&r!==f&&(r&m)===0&&(m=f&-f,a=r&-r,m>=a||m===32&&(a&4194048)!==0)?r:f}function qn(i,r){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&r)===0}function V(i,r){switch(i){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function st(){var i=Ee;return Ee<<=1,(Ee&62914560)===0&&(Ee=4194304),i}function mt(i){for(var r=[],a=0;31>a;a++)r.push(i);return r}function Rt(i,r){i.pendingLanes|=r,r!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function xt(i,r,a,l,f,m){var T=i.pendingLanes;i.pendingLanes=a,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=a,i.entangledLanes&=a,i.errorRecoveryDisabledLanes&=a,i.shellSuspendCounter=0;var S=i.entanglements,D=i.expirationTimes,H=i.hiddenUpdates;for(a=T&~a;0<a;){var X=31-Te(a),tt=1<<X;S[X]=0,D[X]=-1;var G=H[X];if(G!==null)for(H[X]=null,X=0;X<G.length;X++){var Y=G[X];Y!==null&&(Y.lane&=-536870913)}a&=~tt}l!==0&&Ae(i,l,0),m!==0&&f===0&&i.tag!==0&&(i.suspendedLanes|=m&~(T&~r))}function Ae(i,r,a){i.pendingLanes|=r,i.suspendedLanes&=~r;var l=31-Te(r);i.entangledLanes|=r,i.entanglements[l]=i.entanglements[l]|1073741824|a&261930}function bl(i,r){var a=i.entangledLanes|=r;for(i=i.entanglements;a;){var l=31-Te(a),f=1<<l;f&r|i[l]&r&&(i[l]|=r),a&=~f}}function Sl(i,r){var a=r&-r;return a=(a&42)!==0?1:ra(a),(a&(i.suspendedLanes|r))!==0?0:a}function ra(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function vs(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Eu(){var i=at.p;return i!==0?i:(i=window.event,i===void 0?32:UE(i.type))}function Ai(i,r){var a=at.p;try{return at.p=i,r()}finally{at.p=a}}var bi=Math.random().toString(36).slice(2),Le="__reactFiber$"+bi,nn="__reactProps$"+bi,Ui="__reactContainer$"+bi,Ja="__reactEvents$"+bi,_d="__reactListeners$"+bi,Au="__reactHandles$"+bi,bu="__reactResources$"+bi,Bi="__reactMarker$"+bi;function to(i){delete i[Le],delete i[nn],delete i[Ja],delete i[_d],delete i[Au]}function zi(i){var r=i[Le];if(r)return r;for(var a=i.parentNode;a;){if(r=a[Ui]||a[Le]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(i=bE(i);i!==null;){if(a=i[Le])return a;i=bE(i)}return r}i=a,a=i.parentNode}return null}function ii(i){if(i=i[Le]||i[Ui]){var r=i.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return i}return null}function Fn(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i.stateNode;throw Error(s(33))}function qi(i){var r=i[bu];return r||(r=i[bu]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Ue(i){i[Bi]=!0}var wl=new Set,Rl={};function Fi(i,r){Hi(i,r),Hi(i+"Capture",r)}function Hi(i,r){for(Rl[i]=r,i=0;i<r.length;i++)wl.add(r[i])}var Cl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),xl={},Il={};function Su(i){return we.call(Il,i)?!0:we.call(xl,i)?!1:Cl.test(i)?Il[i]=!0:(xl[i]=!0,!1)}function eo(i,r,a){if(Su(r))if(a===null)i.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":i.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){i.removeAttribute(r);return}}i.setAttribute(r,""+a)}}function Hn(i,r,a){if(a===null)i.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttribute(r,""+a)}}function Be(i,r,a,l){if(l===null)i.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(a);return}i.setAttributeNS(r,a,""+l)}}function sn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Ws(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Nl(i,r,a){var l=Object.getOwnPropertyDescriptor(i.constructor.prototype,r);if(!i.hasOwnProperty(r)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,m=l.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return f.call(this)},set:function(T){a=""+T,m.call(this,T)}}),Object.defineProperty(i,r,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(T){a=""+T},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function ee(i){if(!i._valueTracker){var r=Ws(i)?"checked":"value";i._valueTracker=Nl(i,r,""+i[r])}}function aa(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return i&&(l=Ws(i)?i.checked?"true":"false":i.value),i=l,i!==a?(r.setValue(i),!0):!1}function Gi(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var oa=/[\n"\\]/g;function Nn(i){return i.replace(oa,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function no(i,r,a,l,f,m,T,S){i.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?i.type=T:i.removeAttribute("type"),r!=null?T==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+sn(r)):i.value!==""+sn(r)&&(i.value=""+sn(r)):T!=="submit"&&T!=="reset"||i.removeAttribute("value"),r!=null?Dl(i,T,sn(r)):a!=null?Dl(i,T,sn(a)):l!=null&&i.removeAttribute("value"),f==null&&m!=null&&(i.defaultChecked=!!m),f!=null&&(i.checked=f&&typeof f!="function"&&typeof f!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?i.name=""+sn(S):i.removeAttribute("name")}function wu(i,r,a,l,f,m,T,S){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(i.type=m),r!=null||a!=null){if(!(m!=="submit"&&m!=="reset"||r!=null)){ee(i);return}a=a!=null?""+sn(a):"",r=r!=null?""+sn(r):a,S||r===i.value||(i.value=r),i.defaultValue=r}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,i.checked=S?i.checked:!!l,i.defaultChecked=!!l,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(i.name=T),ee(i)}function Dl(i,r,a){r==="number"&&Gi(i.ownerDocument)===i||i.defaultValue===""+a||(i.defaultValue=""+a)}function Zs(i,r,a,l){if(i=i.options,r){r={};for(var f=0;f<a.length;f++)r["$"+a[f]]=!0;for(a=0;a<i.length;a++)f=r.hasOwnProperty("$"+i[a].value),i[a].selected!==f&&(i[a].selected=f),f&&l&&(i[a].defaultSelected=!0)}else{for(a=""+sn(a),r=null,f=0;f<i.length;f++){if(i[f].value===a){i[f].selected=!0,l&&(i[f].defaultSelected=!0);return}r!==null||i[f].disabled||(r=i[f])}r!==null&&(r.selected=!0)}}function Ru(i,r,a){if(r!=null&&(r=""+sn(r),r!==i.value&&(i.value=r),a==null)){i.defaultValue!==r&&(i.defaultValue=r);return}i.defaultValue=a!=null?""+sn(a):""}function Js(i,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(he(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=sn(r),i.defaultValue=a,l=i.textContent,l===a&&l!==""&&l!==null&&(i.value=l),ee(i)}function Dn(i,r){if(r){var a=i.firstChild;if(a&&a===i.lastChild&&a.nodeType===3){a.nodeValue=r;return}}i.textContent=r}var Cu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Vl(i,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?i.setProperty(r,""):r==="float"?i.cssFloat="":i[r]="":l?i.setProperty(r,a):typeof a!="number"||a===0||Cu.has(r)?r==="float"?i.cssFloat=a:i[r]=(""+a).trim():i[r]=a+"px"}function Ol(i,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(i=i.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?i.setProperty(l,""):l==="float"?i.cssFloat="":i[l]="");for(var f in r)l=r[f],r.hasOwnProperty(f)&&a[f]!==l&&Vl(i,f,l)}else for(var m in r)r.hasOwnProperty(m)&&Vl(i,m,r[m])}function io(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),tr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function so(i){return tr.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function Si(){}var Ml=null;function si(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var er=null,Ki=null;function la(i){var r=ii(i);if(r&&(i=r.stateNode)){var a=i[nn]||null;t:switch(i=r.stateNode,r.type){case"input":if(no(i,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=i;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Nn(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==i&&l.form===i.form){var f=l[nn]||null;if(!f)throw Error(s(90));no(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===i.form&&aa(l)}break t;case"textarea":Ru(i,a.value,a.defaultValue);break t;case"select":r=a.value,r!=null&&Zs(i,!!a.multiple,r,!1)}}}var ro=!1;function nr(i,r,a){if(ro)return i(r,a);ro=!0;try{var l=i(r);return l}finally{if(ro=!1,(er!==null||Ki!==null)&&(Eh(),er&&(r=er,i=Ki,Ki=er=null,la(r),i)))for(r=0;r<i.length;r++)la(i[r])}}function wi(i,r){var a=i.stateNode;if(a===null)return null;var l=a[nn]||null;if(l===null)return null;a=l[r];t:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(i=i.type,l=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!l;break t;default:i=!1}if(i)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var ri=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ca=!1;if(ri)try{var se={};Object.defineProperty(se,"passive",{get:function(){ca=!0}}),window.addEventListener("test",se,se),window.removeEventListener("test",se,se)}catch{ca=!1}var Yi=null,Pl=null,ua=null;function kl(){if(ua)return ua;var i,r=Pl,a=r.length,l,f="value"in Yi?Yi.value:Yi.textContent,m=f.length;for(i=0;i<a&&r[i]===f[i];i++);var T=a-i;for(l=1;l<=T&&r[a-l]===f[m-l];l++);return ua=f.slice(i,1<l?1-l:void 0)}function ha(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function Ts(){return!0}function Ri(){return!1}function ln(i){function r(a,l,f,m,T){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=m,this.target=T,this.currentTarget=null;for(var S in i)i.hasOwnProperty(S)&&(a=i[S],this[S]=a?a(m):m[S]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Ts:Ri,this.isPropagationStopped=Ri,this}return E(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ts)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ts)},persist:function(){},isPersistent:Ts}),r}var Es={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qi=ln(Es),ir=E({},Es,{view:0,detail:0}),jl=ln(ir),sr,ao,Xi,oo=E({},ir,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:rr,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Xi&&(Xi&&i.type==="mousemove"?(sr=i.screenX-Xi.screenX,ao=i.screenY-Xi.screenY):ao=sr=0,Xi=i),sr)},movementY:function(i){return"movementY"in i?i.movementY:ao}}),Ll=ln(oo),fa=E({},oo,{dataTransfer:0}),Iu=ln(fa),Nu=E({},ir,{relatedTarget:0}),da=ln(Nu),Ul=E({},Es,{animationName:0,elapsedTime:0,pseudoElement:0}),Du=ln(Ul),lo=E({},Es,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Vu=ln(lo),Ou=E({},Es,{data:0}),$i=ln(Ou),Mu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Pu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ku={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ju(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=ku[i])?!!r[i]:!1}function rr(){return ju}var Rn=E({},ir,{key:function(i){if(i.key){var r=Mu[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=ha(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Pu[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:rr,charCode:function(i){return i.type==="keypress"?ha(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?ha(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Lu=ln(Rn),Uu=E({},oo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),As=ln(Uu),h=E({},ir,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:rr}),y=ln(h),A=E({},Es,{propertyName:0,elapsedTime:0,pseudoElement:0}),w=ln(A),q=E({},oo,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),K=ln(q),ht=E({},Es,{newState:0,oldState:0}),Ot=ln(ht),Me=[9,13,27,32],Zt=ri&&"CompositionEvent"in window,ge=null;ri&&"documentMode"in document&&(ge=document.documentMode);var ai=ri&&"TextEvent"in window&&!ge,Wi=ri&&(!Zt||ge&&8<ge&&11>=ge),Ci=" ",xi=!1;function ma(i,r){switch(i){case"keyup":return Me.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function co(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var uo=!1;function yC(i,r){switch(i){case"compositionend":return co(r);case"keypress":return r.which!==32?null:(xi=!0,Ci);case"textInput":return i=r.data,i===Ci&&xi?null:i;default:return null}}function _C(i,r){if(uo)return i==="compositionend"||!Zt&&ma(i,r)?(i=kl(),ua=Pl=Yi=null,uo=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Wi&&r.locale!=="ko"?null:r.data;default:return null}}var vC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function R_(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!vC[i.type]:r==="textarea"}function C_(i,r,a,l){er?Ki?Ki.push(l):Ki=[l]:er=l,r=xh(r,"onChange"),0<r.length&&(a=new Qi("onChange","change",null,a,l),i.push({event:a,listeners:r}))}var Bl=null,zl=null;function TC(i){cE(i,0)}function Bu(i){var r=Fn(i);if(aa(r))return i}function x_(i,r){if(i==="change")return r}var I_=!1;if(ri){var vd;if(ri){var Td="oninput"in document;if(!Td){var N_=document.createElement("div");N_.setAttribute("oninput","return;"),Td=typeof N_.oninput=="function"}vd=Td}else vd=!1;I_=vd&&(!document.documentMode||9<document.documentMode)}function D_(){Bl&&(Bl.detachEvent("onpropertychange",V_),zl=Bl=null)}function V_(i){if(i.propertyName==="value"&&Bu(zl)){var r=[];C_(r,zl,i,si(i)),nr(TC,r)}}function EC(i,r,a){i==="focusin"?(D_(),Bl=r,zl=a,Bl.attachEvent("onpropertychange",V_)):i==="focusout"&&D_()}function AC(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Bu(zl)}function bC(i,r){if(i==="click")return Bu(r)}function SC(i,r){if(i==="input"||i==="change")return Bu(r)}function wC(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var Gn=typeof Object.is=="function"?Object.is:wC;function ql(i,r){if(Gn(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var a=Object.keys(i),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!we.call(r,f)||!Gn(i[f],r[f]))return!1}return!0}function O_(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function M_(i,r){var a=O_(i);i=0;for(var l;a;){if(a.nodeType===3){if(l=i+a.textContent.length,i<=r&&l>=r)return{node:a,offset:r-i};i=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=O_(a)}}function P_(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?P_(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function k_(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var r=Gi(i.document);r instanceof i.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)i=r.contentWindow;else break;r=Gi(i.document)}return r}function Ed(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}var RC=ri&&"documentMode"in document&&11>=document.documentMode,ho=null,Ad=null,Fl=null,bd=!1;function j_(i,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;bd||ho==null||ho!==Gi(l)||(l=ho,"selectionStart"in l&&Ed(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Fl&&ql(Fl,l)||(Fl=l,l=xh(Ad,"onSelect"),0<l.length&&(r=new Qi("onSelect","select",null,r,a),i.push({event:r,listeners:l}),r.target=ho)))}function pa(i,r){var a={};return a[i.toLowerCase()]=r.toLowerCase(),a["Webkit"+i]="webkit"+r,a["Moz"+i]="moz"+r,a}var fo={animationend:pa("Animation","AnimationEnd"),animationiteration:pa("Animation","AnimationIteration"),animationstart:pa("Animation","AnimationStart"),transitionrun:pa("Transition","TransitionRun"),transitionstart:pa("Transition","TransitionStart"),transitioncancel:pa("Transition","TransitionCancel"),transitionend:pa("Transition","TransitionEnd")},Sd={},L_={};ri&&(L_=document.createElement("div").style,"AnimationEvent"in window||(delete fo.animationend.animation,delete fo.animationiteration.animation,delete fo.animationstart.animation),"TransitionEvent"in window||delete fo.transitionend.transition);function ga(i){if(Sd[i])return Sd[i];if(!fo[i])return i;var r=fo[i],a;for(a in r)if(r.hasOwnProperty(a)&&a in L_)return Sd[i]=r[a];return i}var U_=ga("animationend"),B_=ga("animationiteration"),z_=ga("animationstart"),CC=ga("transitionrun"),xC=ga("transitionstart"),IC=ga("transitioncancel"),q_=ga("transitionend"),F_=new Map,wd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");wd.push("scrollEnd");function Ii(i,r){F_.set(i,r),Fi(r,[i])}var zu=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},oi=[],mo=0,Rd=0;function qu(){for(var i=mo,r=Rd=mo=0;r<i;){var a=oi[r];oi[r++]=null;var l=oi[r];oi[r++]=null;var f=oi[r];oi[r++]=null;var m=oi[r];if(oi[r++]=null,l!==null&&f!==null){var T=l.pending;T===null?f.next=f:(f.next=T.next,T.next=f),l.pending=f}m!==0&&H_(a,f,m)}}function Fu(i,r,a,l){oi[mo++]=i,oi[mo++]=r,oi[mo++]=a,oi[mo++]=l,Rd|=l,i.lanes|=l,i=i.alternate,i!==null&&(i.lanes|=l)}function Cd(i,r,a,l){return Fu(i,r,a,l),Hu(i)}function ya(i,r){return Fu(i,null,null,r),Hu(i)}function H_(i,r,a){i.lanes|=a;var l=i.alternate;l!==null&&(l.lanes|=a);for(var f=!1,m=i.return;m!==null;)m.childLanes|=a,l=m.alternate,l!==null&&(l.childLanes|=a),m.tag===22&&(i=m.stateNode,i===null||i._visibility&1||(f=!0)),i=m,m=m.return;return i.tag===3?(m=i.stateNode,f&&r!==null&&(f=31-Te(a),i=m.hiddenUpdates,l=i[f],l===null?i[f]=[r]:l.push(r),r.lane=a|536870912),m):null}function Hu(i){if(50<hc)throw hc=0,km=null,Error(s(185));for(var r=i.return;r!==null;)i=r,r=i.return;return i.tag===3?i.stateNode:null}var po={};function NC(i,r,a,l){this.tag=i,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kn(i,r,a,l){return new NC(i,r,a,l)}function xd(i){return i=i.prototype,!(!i||!i.isReactComponent)}function bs(i,r){var a=i.alternate;return a===null?(a=Kn(i.tag,r,i.key,i.mode),a.elementType=i.elementType,a.type=i.type,a.stateNode=i.stateNode,a.alternate=i,i.alternate=a):(a.pendingProps=r,a.type=i.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=i.flags&65011712,a.childLanes=i.childLanes,a.lanes=i.lanes,a.child=i.child,a.memoizedProps=i.memoizedProps,a.memoizedState=i.memoizedState,a.updateQueue=i.updateQueue,r=i.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=i.sibling,a.index=i.index,a.ref=i.ref,a.refCleanup=i.refCleanup,a}function G_(i,r){i.flags&=65011714;var a=i.alternate;return a===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,r=a.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i}function Gu(i,r,a,l,f,m){var T=0;if(l=i,typeof i=="function")xd(i)&&(T=1);else if(typeof i=="string")T=Px(i,a,ot.current)?26:i==="html"||i==="head"||i==="body"?27:5;else t:switch(i){case I:return i=Kn(31,a,r,f),i.elementType=I,i.lanes=m,i;case B:return _a(a.children,f,m,r);case z:T=8,f|=24;break;case $:return i=Kn(12,a,r,f|2),i.elementType=$,i.lanes=m,i;case ct:return i=Kn(13,a,r,f),i.elementType=ct,i.lanes=m,i;case dt:return i=Kn(19,a,r,f),i.elementType=dt,i.lanes=m,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case Z:T=10;break t;case et:T=9;break t;case lt:T=11;break t;case x:T=14;break t;case R:T=16,l=null;break t}T=29,a=Error(s(130,i===null?"null":typeof i,"")),l=null}return r=Kn(T,a,r,f),r.elementType=i,r.type=l,r.lanes=m,r}function _a(i,r,a,l){return i=Kn(7,i,l,r),i.lanes=a,i}function Id(i,r,a){return i=Kn(6,i,null,r),i.lanes=a,i}function K_(i){var r=Kn(18,null,null,0);return r.stateNode=i,r}function Nd(i,r,a){return r=Kn(4,i.children!==null?i.children:[],i.key,r),r.lanes=a,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}var Y_=new WeakMap;function li(i,r){if(typeof i=="object"&&i!==null){var a=Y_.get(i);return a!==void 0?a:(r={value:i,source:r,stack:na(r)},Y_.set(i,r),r)}return{value:i,source:r,stack:na(r)}}var go=[],yo=0,Ku=null,Hl=0,ci=[],ui=0,ar=null,Zi=1,Ji="";function Ss(i,r){go[yo++]=Hl,go[yo++]=Ku,Ku=i,Hl=r}function Q_(i,r,a){ci[ui++]=Zi,ci[ui++]=Ji,ci[ui++]=ar,ar=i;var l=Zi;i=Ji;var f=32-Te(l)-1;l&=~(1<<f),a+=1;var m=32-Te(r)+f;if(30<m){var T=f-f%5;m=(l&(1<<T)-1).toString(32),l>>=T,f-=T,Zi=1<<32-Te(r)+f|a<<f|l,Ji=m+i}else Zi=1<<m|a<<f|l,Ji=i}function Dd(i){i.return!==null&&(Ss(i,1),Q_(i,1,0))}function Vd(i){for(;i===Ku;)Ku=go[--yo],go[yo]=null,Hl=go[--yo],go[yo]=null;for(;i===ar;)ar=ci[--ui],ci[ui]=null,Ji=ci[--ui],ci[ui]=null,Zi=ci[--ui],ci[ui]=null}function X_(i,r){ci[ui++]=Zi,ci[ui++]=Ji,ci[ui++]=ar,Zi=r.id,Ji=r.overflow,ar=i}var cn=null,fe=null,Yt=!1,or=null,hi=!1,Od=Error(s(519));function lr(i){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Gl(li(r,i)),Od}function $_(i){var r=i.stateNode,a=i.type,l=i.memoizedProps;switch(r[Le]=i,r[nn]=l,a){case"dialog":zt("cancel",r),zt("close",r);break;case"iframe":case"object":case"embed":zt("load",r);break;case"video":case"audio":for(a=0;a<dc.length;a++)zt(dc[a],r);break;case"source":zt("error",r);break;case"img":case"image":case"link":zt("error",r),zt("load",r);break;case"details":zt("toggle",r);break;case"input":zt("invalid",r),wu(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":zt("invalid",r);break;case"textarea":zt("invalid",r),Js(r,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||dE(r.textContent,a)?(l.popover!=null&&(zt("beforetoggle",r),zt("toggle",r)),l.onScroll!=null&&zt("scroll",r),l.onScrollEnd!=null&&zt("scrollend",r),l.onClick!=null&&(r.onclick=Si),r=!0):r=!1,r||lr(i,!0)}function W_(i){for(cn=i.return;cn;)switch(cn.tag){case 5:case 31:case 13:hi=!1;return;case 27:case 3:hi=!0;return;default:cn=cn.return}}function _o(i){if(i!==cn)return!1;if(!Yt)return W_(i),Yt=!0,!1;var r=i.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=i.type,a=!(a!=="form"&&a!=="button")||Wm(i.type,i.memoizedProps)),a=!a),a&&fe&&lr(i),W_(i),r===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));fe=AE(i)}else if(r===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));fe=AE(i)}else r===27?(r=fe,Ar(i.type)?(i=np,np=null,fe=i):fe=r):fe=cn?di(i.stateNode.nextSibling):null;return!0}function va(){fe=cn=null,Yt=!1}function Md(){var i=or;return i!==null&&(Pn===null?Pn=i:Pn.push.apply(Pn,i),or=null),i}function Gl(i){or===null?or=[i]:or.push(i)}var Pd=P(null),Ta=null,ws=null;function cr(i,r,a){ut(Pd,r._currentValue),r._currentValue=a}function Rs(i){i._currentValue=Pd.current,W(Pd)}function kd(i,r,a){for(;i!==null;){var l=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),i===a)break;i=i.return}}function jd(i,r,a,l){var f=i.child;for(f!==null&&(f.return=i);f!==null;){var m=f.dependencies;if(m!==null){var T=f.child;m=m.firstContext;t:for(;m!==null;){var S=m;m=f;for(var D=0;D<r.length;D++)if(S.context===r[D]){m.lanes|=a,S=m.alternate,S!==null&&(S.lanes|=a),kd(m.return,a,i),l||(T=null);break t}m=S.next}}else if(f.tag===18){if(T=f.return,T===null)throw Error(s(341));T.lanes|=a,m=T.alternate,m!==null&&(m.lanes|=a),kd(T,a,i),T=null}else T=f.child;if(T!==null)T.return=f;else for(T=f;T!==null;){if(T===i){T=null;break}if(f=T.sibling,f!==null){f.return=T.return,T=f;break}T=T.return}f=T}}function vo(i,r,a,l){i=null;for(var f=r,m=!1;f!==null;){if(!m){if((f.flags&524288)!==0)m=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var T=f.alternate;if(T===null)throw Error(s(387));if(T=T.memoizedProps,T!==null){var S=f.type;Gn(f.pendingProps.value,T.value)||(i!==null?i.push(S):i=[S])}}else if(f===Pt.current){if(T=f.alternate,T===null)throw Error(s(387));T.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(i!==null?i.push(_c):i=[_c])}f=f.return}i!==null&&jd(r,i,a,l),r.flags|=262144}function Yu(i){for(i=i.firstContext;i!==null;){if(!Gn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Ea(i){Ta=i,ws=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function un(i){return Z_(Ta,i)}function Qu(i,r){return Ta===null&&Ea(i),Z_(i,r)}function Z_(i,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},ws===null){if(i===null)throw Error(s(308));ws=r,i.dependencies={lanes:0,firstContext:r},i.flags|=524288}else ws=ws.next=r;return a}var DC=typeof AbortController<"u"?AbortController:function(){var i=[],r=this.signal={aborted:!1,addEventListener:function(a,l){i.push(l)}};this.abort=function(){r.aborted=!0,i.forEach(function(a){return a()})}},VC=e.unstable_scheduleCallback,OC=e.unstable_NormalPriority,ze={$$typeof:Z,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ld(){return{controller:new DC,data:new Map,refCount:0}}function Kl(i){i.refCount--,i.refCount===0&&VC(OC,function(){i.controller.abort()})}var Yl=null,Ud=0,To=0,Eo=null;function MC(i,r){if(Yl===null){var a=Yl=[];Ud=0,To=qm(),Eo={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Ud++,r.then(J_,J_),r}function J_(){if(--Ud===0&&Yl!==null){Eo!==null&&(Eo.status="fulfilled");var i=Yl;Yl=null,To=0,Eo=null;for(var r=0;r<i.length;r++)(0,i[r])()}}function PC(i,r){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return i.then(function(){l.status="fulfilled",l.value=r;for(var f=0;f<a.length;f++)(0,a[f])(r)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var tv=Q.S;Q.S=function(i,r){jT=on(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&MC(i,r),tv!==null&&tv(i,r)};var Aa=P(null);function Bd(){var i=Aa.current;return i!==null?i:ce.pooledCache}function Xu(i,r){r===null?ut(Aa,Aa.current):ut(Aa,r.pool)}function ev(){var i=Bd();return i===null?null:{parent:ze._currentValue,pool:i}}var Ao=Error(s(460)),zd=Error(s(474)),$u=Error(s(542)),Wu={then:function(){}};function nv(i){return i=i.status,i==="fulfilled"||i==="rejected"}function iv(i,r,a){switch(a=i[a],a===void 0?i.push(r):a!==r&&(r.then(Si,Si),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,rv(i),i;default:if(typeof r.status=="string")r.then(Si,Si);else{if(i=ce,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=r,i.status="pending",i.then(function(l){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=l}},function(l){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,rv(i),i}throw Sa=r,Ao}}function ba(i){try{var r=i._init;return r(i._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Sa=a,Ao):a}}var Sa=null;function sv(){if(Sa===null)throw Error(s(459));var i=Sa;return Sa=null,i}function rv(i){if(i===Ao||i===$u)throw Error(s(483))}var bo=null,Ql=0;function Zu(i){var r=Ql;return Ql+=1,bo===null&&(bo=[]),iv(bo,i,r)}function Xl(i,r){r=r.props.ref,i.ref=r!==void 0?r:null}function Ju(i,r){throw r.$$typeof===b?Error(s(525)):(i=Object.prototype.toString.call(r),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)))}function av(i){function r(U,k){if(i){var F=U.deletions;F===null?(U.deletions=[k],U.flags|=16):F.push(k)}}function a(U,k){if(!i)return null;for(;k!==null;)r(U,k),k=k.sibling;return null}function l(U){for(var k=new Map;U!==null;)U.key!==null?k.set(U.key,U):k.set(U.index,U),U=U.sibling;return k}function f(U,k){return U=bs(U,k),U.index=0,U.sibling=null,U}function m(U,k,F){return U.index=F,i?(F=U.alternate,F!==null?(F=F.index,F<k?(U.flags|=67108866,k):F):(U.flags|=67108866,k)):(U.flags|=1048576,k)}function T(U){return i&&U.alternate===null&&(U.flags|=67108866),U}function S(U,k,F,J){return k===null||k.tag!==6?(k=Id(F,U.mode,J),k.return=U,k):(k=f(k,F),k.return=U,k)}function D(U,k,F,J){var Tt=F.type;return Tt===B?X(U,k,F.props.children,J,F.key):k!==null&&(k.elementType===Tt||typeof Tt=="object"&&Tt!==null&&Tt.$$typeof===R&&ba(Tt)===k.type)?(k=f(k,F.props),Xl(k,F),k.return=U,k):(k=Gu(F.type,F.key,F.props,null,U.mode,J),Xl(k,F),k.return=U,k)}function H(U,k,F,J){return k===null||k.tag!==4||k.stateNode.containerInfo!==F.containerInfo||k.stateNode.implementation!==F.implementation?(k=Nd(F,U.mode,J),k.return=U,k):(k=f(k,F.children||[]),k.return=U,k)}function X(U,k,F,J,Tt){return k===null||k.tag!==7?(k=_a(F,U.mode,J,Tt),k.return=U,k):(k=f(k,F),k.return=U,k)}function tt(U,k,F){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return k=Id(""+k,U.mode,F),k.return=U,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case C:return F=Gu(k.type,k.key,k.props,null,U.mode,F),Xl(F,k),F.return=U,F;case j:return k=Nd(k,U.mode,F),k.return=U,k;case R:return k=ba(k),tt(U,k,F)}if(he(k)||L(k))return k=_a(k,U.mode,F,null),k.return=U,k;if(typeof k.then=="function")return tt(U,Zu(k),F);if(k.$$typeof===Z)return tt(U,Qu(U,k),F);Ju(U,k)}return null}function G(U,k,F,J){var Tt=k!==null?k.key:null;if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return Tt!==null?null:S(U,k,""+F,J);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case C:return F.key===Tt?D(U,k,F,J):null;case j:return F.key===Tt?H(U,k,F,J):null;case R:return F=ba(F),G(U,k,F,J)}if(he(F)||L(F))return Tt!==null?null:X(U,k,F,J,null);if(typeof F.then=="function")return G(U,k,Zu(F),J);if(F.$$typeof===Z)return G(U,k,Qu(U,F),J);Ju(U,F)}return null}function Y(U,k,F,J,Tt){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return U=U.get(F)||null,S(k,U,""+J,Tt);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case C:return U=U.get(J.key===null?F:J.key)||null,D(k,U,J,Tt);case j:return U=U.get(J.key===null?F:J.key)||null,H(k,U,J,Tt);case R:return J=ba(J),Y(U,k,F,J,Tt)}if(he(J)||L(J))return U=U.get(F)||null,X(k,U,J,Tt,null);if(typeof J.then=="function")return Y(U,k,F,Zu(J),Tt);if(J.$$typeof===Z)return Y(U,k,F,Qu(k,J),Tt);Ju(k,J)}return null}function yt(U,k,F,J){for(var Tt=null,$t=null,_t=k,kt=k=0,Ft=null;_t!==null&&kt<F.length;kt++){_t.index>kt?(Ft=_t,_t=null):Ft=_t.sibling;var Wt=G(U,_t,F[kt],J);if(Wt===null){_t===null&&(_t=Ft);break}i&&_t&&Wt.alternate===null&&r(U,_t),k=m(Wt,k,kt),$t===null?Tt=Wt:$t.sibling=Wt,$t=Wt,_t=Ft}if(kt===F.length)return a(U,_t),Yt&&Ss(U,kt),Tt;if(_t===null){for(;kt<F.length;kt++)_t=tt(U,F[kt],J),_t!==null&&(k=m(_t,k,kt),$t===null?Tt=_t:$t.sibling=_t,$t=_t);return Yt&&Ss(U,kt),Tt}for(_t=l(_t);kt<F.length;kt++)Ft=Y(_t,U,kt,F[kt],J),Ft!==null&&(i&&Ft.alternate!==null&&_t.delete(Ft.key===null?kt:Ft.key),k=m(Ft,k,kt),$t===null?Tt=Ft:$t.sibling=Ft,$t=Ft);return i&&_t.forEach(function(Cr){return r(U,Cr)}),Yt&&Ss(U,kt),Tt}function At(U,k,F,J){if(F==null)throw Error(s(151));for(var Tt=null,$t=null,_t=k,kt=k=0,Ft=null,Wt=F.next();_t!==null&&!Wt.done;kt++,Wt=F.next()){_t.index>kt?(Ft=_t,_t=null):Ft=_t.sibling;var Cr=G(U,_t,Wt.value,J);if(Cr===null){_t===null&&(_t=Ft);break}i&&_t&&Cr.alternate===null&&r(U,_t),k=m(Cr,k,kt),$t===null?Tt=Cr:$t.sibling=Cr,$t=Cr,_t=Ft}if(Wt.done)return a(U,_t),Yt&&Ss(U,kt),Tt;if(_t===null){for(;!Wt.done;kt++,Wt=F.next())Wt=tt(U,Wt.value,J),Wt!==null&&(k=m(Wt,k,kt),$t===null?Tt=Wt:$t.sibling=Wt,$t=Wt);return Yt&&Ss(U,kt),Tt}for(_t=l(_t);!Wt.done;kt++,Wt=F.next())Wt=Y(_t,U,kt,Wt.value,J),Wt!==null&&(i&&Wt.alternate!==null&&_t.delete(Wt.key===null?kt:Wt.key),k=m(Wt,k,kt),$t===null?Tt=Wt:$t.sibling=Wt,$t=Wt);return i&&_t.forEach(function(Kx){return r(U,Kx)}),Yt&&Ss(U,kt),Tt}function oe(U,k,F,J){if(typeof F=="object"&&F!==null&&F.type===B&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case C:t:{for(var Tt=F.key;k!==null;){if(k.key===Tt){if(Tt=F.type,Tt===B){if(k.tag===7){a(U,k.sibling),J=f(k,F.props.children),J.return=U,U=J;break t}}else if(k.elementType===Tt||typeof Tt=="object"&&Tt!==null&&Tt.$$typeof===R&&ba(Tt)===k.type){a(U,k.sibling),J=f(k,F.props),Xl(J,F),J.return=U,U=J;break t}a(U,k);break}else r(U,k);k=k.sibling}F.type===B?(J=_a(F.props.children,U.mode,J,F.key),J.return=U,U=J):(J=Gu(F.type,F.key,F.props,null,U.mode,J),Xl(J,F),J.return=U,U=J)}return T(U);case j:t:{for(Tt=F.key;k!==null;){if(k.key===Tt)if(k.tag===4&&k.stateNode.containerInfo===F.containerInfo&&k.stateNode.implementation===F.implementation){a(U,k.sibling),J=f(k,F.children||[]),J.return=U,U=J;break t}else{a(U,k);break}else r(U,k);k=k.sibling}J=Nd(F,U.mode,J),J.return=U,U=J}return T(U);case R:return F=ba(F),oe(U,k,F,J)}if(he(F))return yt(U,k,F,J);if(L(F)){if(Tt=L(F),typeof Tt!="function")throw Error(s(150));return F=Tt.call(F),At(U,k,F,J)}if(typeof F.then=="function")return oe(U,k,Zu(F),J);if(F.$$typeof===Z)return oe(U,k,Qu(U,F),J);Ju(U,F)}return typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint"?(F=""+F,k!==null&&k.tag===6?(a(U,k.sibling),J=f(k,F),J.return=U,U=J):(a(U,k),J=Id(F,U.mode,J),J.return=U,U=J),T(U)):a(U,k)}return function(U,k,F,J){try{Ql=0;var Tt=oe(U,k,F,J);return bo=null,Tt}catch(_t){if(_t===Ao||_t===$u)throw _t;var $t=Kn(29,_t,null,U.mode);return $t.lanes=J,$t.return=U,$t}}}var wa=av(!0),ov=av(!1),ur=!1;function qd(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Fd(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function hr(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function fr(i,r,a){var l=i.updateQueue;if(l===null)return null;if(l=l.shared,(Jt&2)!==0){var f=l.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),l.pending=r,r=Hu(i),H_(i,null,a),r}return Fu(i,l,r,a),Hu(i)}function $l(i,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var l=r.lanes;l&=i.pendingLanes,a|=l,r.lanes=a,bl(i,a)}}function Hd(i,r){var a=i.updateQueue,l=i.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var T={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};m===null?f=m=T:m=m.next=T,a=a.next}while(a!==null);m===null?f=m=r:m=m.next=r}else f=m=r;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:l.shared,callbacks:l.callbacks},i.updateQueue=a;return}i=a.lastBaseUpdate,i===null?a.firstBaseUpdate=r:i.next=r,a.lastBaseUpdate=r}var Gd=!1;function Wl(){if(Gd){var i=Eo;if(i!==null)throw i}}function Zl(i,r,a,l){Gd=!1;var f=i.updateQueue;ur=!1;var m=f.firstBaseUpdate,T=f.lastBaseUpdate,S=f.shared.pending;if(S!==null){f.shared.pending=null;var D=S,H=D.next;D.next=null,T===null?m=H:T.next=H,T=D;var X=i.alternate;X!==null&&(X=X.updateQueue,S=X.lastBaseUpdate,S!==T&&(S===null?X.firstBaseUpdate=H:S.next=H,X.lastBaseUpdate=D))}if(m!==null){var tt=f.baseState;T=0,X=H=D=null,S=m;do{var G=S.lane&-536870913,Y=G!==S.lane;if(Y?(qt&G)===G:(l&G)===G){G!==0&&G===To&&(Gd=!0),X!==null&&(X=X.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});t:{var yt=i,At=S;G=r;var oe=a;switch(At.tag){case 1:if(yt=At.payload,typeof yt=="function"){tt=yt.call(oe,tt,G);break t}tt=yt;break t;case 3:yt.flags=yt.flags&-65537|128;case 0:if(yt=At.payload,G=typeof yt=="function"?yt.call(oe,tt,G):yt,G==null)break t;tt=E({},tt,G);break t;case 2:ur=!0}}G=S.callback,G!==null&&(i.flags|=64,Y&&(i.flags|=8192),Y=f.callbacks,Y===null?f.callbacks=[G]:Y.push(G))}else Y={lane:G,tag:S.tag,payload:S.payload,callback:S.callback,next:null},X===null?(H=X=Y,D=tt):X=X.next=Y,T|=G;if(S=S.next,S===null){if(S=f.shared.pending,S===null)break;Y=S,S=Y.next,Y.next=null,f.lastBaseUpdate=Y,f.shared.pending=null}}while(!0);X===null&&(D=tt),f.baseState=D,f.firstBaseUpdate=H,f.lastBaseUpdate=X,m===null&&(f.shared.lanes=0),yr|=T,i.lanes=T,i.memoizedState=tt}}function lv(i,r){if(typeof i!="function")throw Error(s(191,i));i.call(r)}function cv(i,r){var a=i.callbacks;if(a!==null)for(i.callbacks=null,i=0;i<a.length;i++)lv(a[i],r)}var So=P(null),th=P(0);function uv(i,r){i=Ps,ut(th,i),ut(So,r),Ps=i|r.baseLanes}function Kd(){ut(th,Ps),ut(So,So.current)}function Yd(){Ps=th.current,W(So),W(th)}var Yn=P(null),fi=null;function dr(i){var r=i.alternate;ut(Pe,Pe.current&1),ut(Yn,i),fi===null&&(r===null||So.current!==null||r.memoizedState!==null)&&(fi=i)}function Qd(i){ut(Pe,Pe.current),ut(Yn,i),fi===null&&(fi=i)}function hv(i){i.tag===22?(ut(Pe,Pe.current),ut(Yn,i),fi===null&&(fi=i)):mr()}function mr(){ut(Pe,Pe.current),ut(Yn,Yn.current)}function Qn(i){W(Yn),fi===i&&(fi=null),W(Pe)}var Pe=P(0);function eh(i){for(var r=i;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||tp(a)||ep(a)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Cs=0,Mt=null,re=null,qe=null,nh=!1,wo=!1,Ra=!1,ih=0,Jl=0,Ro=null,kC=0;function Ce(){throw Error(s(321))}function Xd(i,r){if(r===null)return!1;for(var a=0;a<r.length&&a<i.length;a++)if(!Gn(i[a],r[a]))return!1;return!0}function $d(i,r,a,l,f,m){return Cs=m,Mt=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Q.H=i===null||i.memoizedState===null?Qv:hm,Ra=!1,m=a(l,f),Ra=!1,wo&&(m=dv(r,a,l,f)),fv(i),m}function fv(i){Q.H=nc;var r=re!==null&&re.next!==null;if(Cs=0,qe=re=Mt=null,nh=!1,Jl=0,Ro=null,r)throw Error(s(300));i===null||Fe||(i=i.dependencies,i!==null&&Yu(i)&&(Fe=!0))}function dv(i,r,a,l){Mt=i;var f=0;do{if(wo&&(Ro=null),Jl=0,wo=!1,25<=f)throw Error(s(301));if(f+=1,qe=re=null,i.updateQueue!=null){var m=i.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}Q.H=Xv,m=r(a,l)}while(wo);return m}function jC(){var i=Q.H,r=i.useState()[0];return r=typeof r.then=="function"?tc(r):r,i=i.useState()[0],(re!==null?re.memoizedState:null)!==i&&(Mt.flags|=1024),r}function Wd(){var i=ih!==0;return ih=0,i}function Zd(i,r,a){r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~a}function Jd(i){if(nh){for(i=i.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}nh=!1}Cs=0,qe=re=Mt=null,wo=!1,Jl=ih=0,Ro=null}function Cn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qe===null?Mt.memoizedState=qe=i:qe=qe.next=i,qe}function ke(){if(re===null){var i=Mt.alternate;i=i!==null?i.memoizedState:null}else i=re.next;var r=qe===null?Mt.memoizedState:qe.next;if(r!==null)qe=r,re=i;else{if(i===null)throw Mt.alternate===null?Error(s(467)):Error(s(310));re=i,i={memoizedState:re.memoizedState,baseState:re.baseState,baseQueue:re.baseQueue,queue:re.queue,next:null},qe===null?Mt.memoizedState=qe=i:qe=qe.next=i}return qe}function sh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function tc(i){var r=Jl;return Jl+=1,Ro===null&&(Ro=[]),i=iv(Ro,i,r),r=Mt,(qe===null?r.memoizedState:qe.next)===null&&(r=r.alternate,Q.H=r===null||r.memoizedState===null?Qv:hm),i}function rh(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return tc(i);if(i.$$typeof===Z)return un(i)}throw Error(s(438,String(i)))}function tm(i){var r=null,a=Mt.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=Mt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=sh(),Mt.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(i),l=0;l<i;l++)a[l]=M;return r.index++,a}function xs(i,r){return typeof r=="function"?r(i):r}function ah(i){var r=ke();return em(r,re,i)}function em(i,r,a){var l=i.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var f=i.baseQueue,m=l.pending;if(m!==null){if(f!==null){var T=f.next;f.next=m.next,m.next=T}r.baseQueue=f=m,l.pending=null}if(m=i.baseState,f===null)i.memoizedState=m;else{r=f.next;var S=T=null,D=null,H=r,X=!1;do{var tt=H.lane&-536870913;if(tt!==H.lane?(qt&tt)===tt:(Cs&tt)===tt){var G=H.revertLane;if(G===0)D!==null&&(D=D.next={lane:0,revertLane:0,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),tt===To&&(X=!0);else if((Cs&G)===G){H=H.next,G===To&&(X=!0);continue}else tt={lane:0,revertLane:H.revertLane,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},D===null?(S=D=tt,T=m):D=D.next=tt,Mt.lanes|=G,yr|=G;tt=H.action,Ra&&a(m,tt),m=H.hasEagerState?H.eagerState:a(m,tt)}else G={lane:tt,revertLane:H.revertLane,gesture:H.gesture,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},D===null?(S=D=G,T=m):D=D.next=G,Mt.lanes|=tt,yr|=tt;H=H.next}while(H!==null&&H!==r);if(D===null?T=m:D.next=S,!Gn(m,i.memoizedState)&&(Fe=!0,X&&(a=Eo,a!==null)))throw a;i.memoizedState=m,i.baseState=T,i.baseQueue=D,l.lastRenderedState=m}return f===null&&(l.lanes=0),[i.memoizedState,l.dispatch]}function nm(i){var r=ke(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=i;var l=a.dispatch,f=a.pending,m=r.memoizedState;if(f!==null){a.pending=null;var T=f=f.next;do m=i(m,T.action),T=T.next;while(T!==f);Gn(m,r.memoizedState)||(Fe=!0),r.memoizedState=m,r.baseQueue===null&&(r.baseState=m),a.lastRenderedState=m}return[m,l]}function mv(i,r,a){var l=Mt,f=ke(),m=Yt;if(m){if(a===void 0)throw Error(s(407));a=a()}else a=r();var T=!Gn((re||f).memoizedState,a);if(T&&(f.memoizedState=a,Fe=!0),f=f.queue,rm(yv.bind(null,l,f,i),[i]),f.getSnapshot!==r||T||qe!==null&&qe.memoizedState.tag&1){if(l.flags|=2048,Co(9,{destroy:void 0},gv.bind(null,l,f,a,r),null),ce===null)throw Error(s(349));m||(Cs&127)!==0||pv(l,r,a)}return a}function pv(i,r,a){i.flags|=16384,i={getSnapshot:r,value:a},r=Mt.updateQueue,r===null?(r=sh(),Mt.updateQueue=r,r.stores=[i]):(a=r.stores,a===null?r.stores=[i]:a.push(i))}function gv(i,r,a,l){r.value=a,r.getSnapshot=l,_v(r)&&vv(i)}function yv(i,r,a){return a(function(){_v(r)&&vv(i)})}function _v(i){var r=i.getSnapshot;i=i.value;try{var a=r();return!Gn(i,a)}catch{return!0}}function vv(i){var r=ya(i,2);r!==null&&kn(r,i,2)}function im(i){var r=Cn();if(typeof i=="function"){var a=i;if(i=a(),Ra){Sn(!0);try{a()}finally{Sn(!1)}}}return r.memoizedState=r.baseState=i,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xs,lastRenderedState:i},r}function Tv(i,r,a,l){return i.baseState=a,em(i,re,typeof l=="function"?l:xs)}function LC(i,r,a,l,f){if(ch(i))throw Error(s(485));if(i=r.action,i!==null){var m={payload:f,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){m.listeners.push(T)}};Q.T!==null?a(!0):m.isTransition=!1,l(m),a=r.pending,a===null?(m.next=r.pending=m,Ev(r,m)):(m.next=a.next,r.pending=a.next=m)}}function Ev(i,r){var a=r.action,l=r.payload,f=i.state;if(r.isTransition){var m=Q.T,T={};Q.T=T;try{var S=a(f,l),D=Q.S;D!==null&&D(T,S),Av(i,r,S)}catch(H){sm(i,r,H)}finally{m!==null&&T.types!==null&&(m.types=T.types),Q.T=m}}else try{m=a(f,l),Av(i,r,m)}catch(H){sm(i,r,H)}}function Av(i,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){bv(i,r,l)},function(l){return sm(i,r,l)}):bv(i,r,a)}function bv(i,r,a){r.status="fulfilled",r.value=a,Sv(r),i.state=a,r=i.pending,r!==null&&(a=r.next,a===r?i.pending=null:(a=a.next,r.next=a,Ev(i,a)))}function sm(i,r,a){var l=i.pending;if(i.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,Sv(r),r=r.next;while(r!==l)}i.action=null}function Sv(i){i=i.listeners;for(var r=0;r<i.length;r++)(0,i[r])()}function wv(i,r){return r}function Rv(i,r){if(Yt){var a=ce.formState;if(a!==null){t:{var l=Mt;if(Yt){if(fe){e:{for(var f=fe,m=hi;f.nodeType!==8;){if(!m){f=null;break e}if(f=di(f.nextSibling),f===null){f=null;break e}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){fe=di(f.nextSibling),l=f.data==="F!";break t}}lr(l)}l=!1}l&&(r=a[0])}}return a=Cn(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:wv,lastRenderedState:r},a.queue=l,a=Gv.bind(null,Mt,l),l.dispatch=a,l=im(!1),m=um.bind(null,Mt,!1,l.queue),l=Cn(),f={state:r,dispatch:null,action:i,pending:null},l.queue=f,a=LC.bind(null,Mt,f,m,a),f.dispatch=a,l.memoizedState=i,[r,a,!1]}function Cv(i){var r=ke();return xv(r,re,i)}function xv(i,r,a){if(r=em(i,r,wv)[0],i=ah(xs)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=tc(r)}catch(T){throw T===Ao?$u:T}else l=r;r=ke();var f=r.queue,m=f.dispatch;return a!==r.memoizedState&&(Mt.flags|=2048,Co(9,{destroy:void 0},UC.bind(null,f,a),null)),[l,m,i]}function UC(i,r){i.action=r}function Iv(i){var r=ke(),a=re;if(a!==null)return xv(r,a,i);ke(),r=r.memoizedState,a=ke();var l=a.queue.dispatch;return a.memoizedState=i,[r,l,!1]}function Co(i,r,a,l){return i={tag:i,create:a,deps:l,inst:r,next:null},r=Mt.updateQueue,r===null&&(r=sh(),Mt.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=i.next=i:(l=a.next,a.next=i,i.next=l,r.lastEffect=i),i}function Nv(){return ke().memoizedState}function oh(i,r,a,l){var f=Cn();Mt.flags|=i,f.memoizedState=Co(1|r,{destroy:void 0},a,l===void 0?null:l)}function lh(i,r,a,l){var f=ke();l=l===void 0?null:l;var m=f.memoizedState.inst;re!==null&&l!==null&&Xd(l,re.memoizedState.deps)?f.memoizedState=Co(r,m,a,l):(Mt.flags|=i,f.memoizedState=Co(1|r,m,a,l))}function Dv(i,r){oh(8390656,8,i,r)}function rm(i,r){lh(2048,8,i,r)}function BC(i){Mt.flags|=4;var r=Mt.updateQueue;if(r===null)r=sh(),Mt.updateQueue=r,r.events=[i];else{var a=r.events;a===null?r.events=[i]:a.push(i)}}function Vv(i){var r=ke().memoizedState;return BC({ref:r,nextImpl:i}),function(){if((Jt&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function Ov(i,r){return lh(4,2,i,r)}function Mv(i,r){return lh(4,4,i,r)}function Pv(i,r){if(typeof r=="function"){i=i();var a=r(i);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function kv(i,r,a){a=a!=null?a.concat([i]):null,lh(4,4,Pv.bind(null,r,i),a)}function am(){}function jv(i,r){var a=ke();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&Xd(r,l[1])?l[0]:(a.memoizedState=[i,r],i)}function Lv(i,r){var a=ke();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&Xd(r,l[1]))return l[0];if(l=i(),Ra){Sn(!0);try{i()}finally{Sn(!1)}}return a.memoizedState=[l,r],l}function om(i,r,a){return a===void 0||(Cs&1073741824)!==0&&(qt&261930)===0?i.memoizedState=r:(i.memoizedState=a,i=UT(),Mt.lanes|=i,yr|=i,a)}function Uv(i,r,a,l){return Gn(a,r)?a:So.current!==null?(i=om(i,a,l),Gn(i,r)||(Fe=!0),i):(Cs&42)===0||(Cs&1073741824)!==0&&(qt&261930)===0?(Fe=!0,i.memoizedState=a):(i=UT(),Mt.lanes|=i,yr|=i,r)}function Bv(i,r,a,l,f){var m=at.p;at.p=m!==0&&8>m?m:8;var T=Q.T,S={};Q.T=S,um(i,!1,r,a);try{var D=f(),H=Q.S;if(H!==null&&H(S,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var X=PC(D,l);ec(i,r,X,Wn(i))}else ec(i,r,l,Wn(i))}catch(tt){ec(i,r,{then:function(){},status:"rejected",reason:tt},Wn())}finally{at.p=m,T!==null&&S.types!==null&&(T.types=S.types),Q.T=T}}function zC(){}function lm(i,r,a,l){if(i.tag!==5)throw Error(s(476));var f=zv(i).queue;Bv(i,f,r,ft,a===null?zC:function(){return qv(i),a(l)})}function zv(i){var r=i.memoizedState;if(r!==null)return r;r={memoizedState:ft,baseState:ft,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xs,lastRenderedState:ft},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xs,lastRenderedState:a},next:null},i.memoizedState=r,i=i.alternate,i!==null&&(i.memoizedState=r),r}function qv(i){var r=zv(i);r.next===null&&(r=i.alternate.memoizedState),ec(i,r.next.queue,{},Wn())}function cm(){return un(_c)}function Fv(){return ke().memoizedState}function Hv(){return ke().memoizedState}function qC(i){for(var r=i.return;r!==null;){switch(r.tag){case 24:case 3:var a=Wn();i=hr(a);var l=fr(r,i,a);l!==null&&(kn(l,r,a),$l(l,r,a)),r={cache:Ld()},i.payload=r;return}r=r.return}}function FC(i,r,a){var l=Wn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},ch(i)?Kv(r,a):(a=Cd(i,r,a,l),a!==null&&(kn(a,i,l),Yv(a,r,l)))}function Gv(i,r,a){var l=Wn();ec(i,r,a,l)}function ec(i,r,a,l){var f={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(ch(i))Kv(r,f);else{var m=i.alternate;if(i.lanes===0&&(m===null||m.lanes===0)&&(m=r.lastRenderedReducer,m!==null))try{var T=r.lastRenderedState,S=m(T,a);if(f.hasEagerState=!0,f.eagerState=S,Gn(S,T))return Fu(i,r,f,0),ce===null&&qu(),!1}catch{}if(a=Cd(i,r,f,l),a!==null)return kn(a,i,l),Yv(a,r,l),!0}return!1}function um(i,r,a,l){if(l={lane:2,revertLane:qm(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},ch(i)){if(r)throw Error(s(479))}else r=Cd(i,a,l,2),r!==null&&kn(r,i,2)}function ch(i){var r=i.alternate;return i===Mt||r!==null&&r===Mt}function Kv(i,r){wo=nh=!0;var a=i.pending;a===null?r.next=r:(r.next=a.next,a.next=r),i.pending=r}function Yv(i,r,a){if((a&4194048)!==0){var l=r.lanes;l&=i.pendingLanes,a|=l,r.lanes=a,bl(i,a)}}var nc={readContext:un,use:rh,useCallback:Ce,useContext:Ce,useEffect:Ce,useImperativeHandle:Ce,useLayoutEffect:Ce,useInsertionEffect:Ce,useMemo:Ce,useReducer:Ce,useRef:Ce,useState:Ce,useDebugValue:Ce,useDeferredValue:Ce,useTransition:Ce,useSyncExternalStore:Ce,useId:Ce,useHostTransitionStatus:Ce,useFormState:Ce,useActionState:Ce,useOptimistic:Ce,useMemoCache:Ce,useCacheRefresh:Ce};nc.useEffectEvent=Ce;var Qv={readContext:un,use:rh,useCallback:function(i,r){return Cn().memoizedState=[i,r===void 0?null:r],i},useContext:un,useEffect:Dv,useImperativeHandle:function(i,r,a){a=a!=null?a.concat([i]):null,oh(4194308,4,Pv.bind(null,r,i),a)},useLayoutEffect:function(i,r){return oh(4194308,4,i,r)},useInsertionEffect:function(i,r){oh(4,2,i,r)},useMemo:function(i,r){var a=Cn();r=r===void 0?null:r;var l=i();if(Ra){Sn(!0);try{i()}finally{Sn(!1)}}return a.memoizedState=[l,r],l},useReducer:function(i,r,a){var l=Cn();if(a!==void 0){var f=a(r);if(Ra){Sn(!0);try{a(r)}finally{Sn(!1)}}}else f=r;return l.memoizedState=l.baseState=f,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:f},l.queue=i,i=i.dispatch=FC.bind(null,Mt,i),[l.memoizedState,i]},useRef:function(i){var r=Cn();return i={current:i},r.memoizedState=i},useState:function(i){i=im(i);var r=i.queue,a=Gv.bind(null,Mt,r);return r.dispatch=a,[i.memoizedState,a]},useDebugValue:am,useDeferredValue:function(i,r){var a=Cn();return om(a,i,r)},useTransition:function(){var i=im(!1);return i=Bv.bind(null,Mt,i.queue,!0,!1),Cn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,r,a){var l=Mt,f=Cn();if(Yt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),ce===null)throw Error(s(349));(qt&127)!==0||pv(l,r,a)}f.memoizedState=a;var m={value:a,getSnapshot:r};return f.queue=m,Dv(yv.bind(null,l,m,i),[i]),l.flags|=2048,Co(9,{destroy:void 0},gv.bind(null,l,m,a,r),null),a},useId:function(){var i=Cn(),r=ce.identifierPrefix;if(Yt){var a=Ji,l=Zi;a=(l&~(1<<32-Te(l)-1)).toString(32)+a,r="_"+r+"R_"+a,a=ih++,0<a&&(r+="H"+a.toString(32)),r+="_"}else a=kC++,r="_"+r+"r_"+a.toString(32)+"_";return i.memoizedState=r},useHostTransitionStatus:cm,useFormState:Rv,useActionState:Rv,useOptimistic:function(i){var r=Cn();r.memoizedState=r.baseState=i;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=um.bind(null,Mt,!0,a),a.dispatch=r,[i,r]},useMemoCache:tm,useCacheRefresh:function(){return Cn().memoizedState=qC.bind(null,Mt)},useEffectEvent:function(i){var r=Cn(),a={impl:i};return r.memoizedState=a,function(){if((Jt&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},hm={readContext:un,use:rh,useCallback:jv,useContext:un,useEffect:rm,useImperativeHandle:kv,useInsertionEffect:Ov,useLayoutEffect:Mv,useMemo:Lv,useReducer:ah,useRef:Nv,useState:function(){return ah(xs)},useDebugValue:am,useDeferredValue:function(i,r){var a=ke();return Uv(a,re.memoizedState,i,r)},useTransition:function(){var i=ah(xs)[0],r=ke().memoizedState;return[typeof i=="boolean"?i:tc(i),r]},useSyncExternalStore:mv,useId:Fv,useHostTransitionStatus:cm,useFormState:Cv,useActionState:Cv,useOptimistic:function(i,r){var a=ke();return Tv(a,re,i,r)},useMemoCache:tm,useCacheRefresh:Hv};hm.useEffectEvent=Vv;var Xv={readContext:un,use:rh,useCallback:jv,useContext:un,useEffect:rm,useImperativeHandle:kv,useInsertionEffect:Ov,useLayoutEffect:Mv,useMemo:Lv,useReducer:nm,useRef:Nv,useState:function(){return nm(xs)},useDebugValue:am,useDeferredValue:function(i,r){var a=ke();return re===null?om(a,i,r):Uv(a,re.memoizedState,i,r)},useTransition:function(){var i=nm(xs)[0],r=ke().memoizedState;return[typeof i=="boolean"?i:tc(i),r]},useSyncExternalStore:mv,useId:Fv,useHostTransitionStatus:cm,useFormState:Iv,useActionState:Iv,useOptimistic:function(i,r){var a=ke();return re!==null?Tv(a,re,i,r):(a.baseState=i,[i,a.queue.dispatch])},useMemoCache:tm,useCacheRefresh:Hv};Xv.useEffectEvent=Vv;function fm(i,r,a,l){r=i.memoizedState,a=a(l,r),a=a==null?r:E({},r,a),i.memoizedState=a,i.lanes===0&&(i.updateQueue.baseState=a)}var dm={enqueueSetState:function(i,r,a){i=i._reactInternals;var l=Wn(),f=hr(l);f.payload=r,a!=null&&(f.callback=a),r=fr(i,f,l),r!==null&&(kn(r,i,l),$l(r,i,l))},enqueueReplaceState:function(i,r,a){i=i._reactInternals;var l=Wn(),f=hr(l);f.tag=1,f.payload=r,a!=null&&(f.callback=a),r=fr(i,f,l),r!==null&&(kn(r,i,l),$l(r,i,l))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var a=Wn(),l=hr(a);l.tag=2,r!=null&&(l.callback=r),r=fr(i,l,a),r!==null&&(kn(r,i,a),$l(r,i,a))}};function $v(i,r,a,l,f,m,T){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(l,m,T):r.prototype&&r.prototype.isPureReactComponent?!ql(a,l)||!ql(f,m):!0}function Wv(i,r,a,l){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==i&&dm.enqueueReplaceState(r,r.state,null)}function Ca(i,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(i=i.defaultProps){a===r&&(a=E({},a));for(var f in i)a[f]===void 0&&(a[f]=i[f])}return a}function Zv(i){zu(i)}function Jv(i){console.error(i)}function tT(i){zu(i)}function uh(i,r){try{var a=i.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function eT(i,r,a){try{var l=i.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function mm(i,r,a){return a=hr(a),a.tag=3,a.payload={element:null},a.callback=function(){uh(i,r)},a}function nT(i){return i=hr(i),i.tag=3,i}function iT(i,r,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var m=l.value;i.payload=function(){return f(m)},i.callback=function(){eT(r,a,l)}}var T=a.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(i.callback=function(){eT(r,a,l),typeof f!="function"&&(_r===null?_r=new Set([this]):_r.add(this));var S=l.stack;this.componentDidCatch(l.value,{componentStack:S!==null?S:""})})}function HC(i,r,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&vo(r,a,f,!0),a=Yn.current,a!==null){switch(a.tag){case 31:case 13:return fi===null?Ah():a.alternate===null&&xe===0&&(xe=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===Wu?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),Um(i,l,f)),!1;case 22:return a.flags|=65536,l===Wu?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),Um(i,l,f)),!1}throw Error(s(435,a.tag))}return Um(i,l,f),Ah(),!1}if(Yt)return r=Yn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,l!==Od&&(i=Error(s(422),{cause:l}),Gl(li(i,a)))):(l!==Od&&(r=Error(s(423),{cause:l}),Gl(li(r,a))),i=i.current.alternate,i.flags|=65536,f&=-f,i.lanes|=f,l=li(l,a),f=mm(i.stateNode,l,f),Hd(i,f),xe!==4&&(xe=2)),!1;var m=Error(s(520),{cause:l});if(m=li(m,a),uc===null?uc=[m]:uc.push(m),xe!==4&&(xe=2),r===null)return!0;l=li(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,i=f&-f,a.lanes|=i,i=mm(a.stateNode,l,i),Hd(a,i),!1;case 1:if(r=a.type,m=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(_r===null||!_r.has(m))))return a.flags|=65536,f&=-f,a.lanes|=f,f=nT(f),iT(f,i,a,l),Hd(a,f),!1}a=a.return}while(a!==null);return!1}var pm=Error(s(461)),Fe=!1;function hn(i,r,a,l){r.child=i===null?ov(r,null,a,l):wa(r,i.child,a,l)}function sT(i,r,a,l,f){a=a.render;var m=r.ref;if("ref"in l){var T={};for(var S in l)S!=="ref"&&(T[S]=l[S])}else T=l;return Ea(r),l=$d(i,r,a,T,m,f),S=Wd(),i!==null&&!Fe?(Zd(i,r,f),Is(i,r,f)):(Yt&&S&&Dd(r),r.flags|=1,hn(i,r,l,f),r.child)}function rT(i,r,a,l,f){if(i===null){var m=a.type;return typeof m=="function"&&!xd(m)&&m.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=m,aT(i,r,m,l,f)):(i=Gu(a.type,null,l,r,r.mode,f),i.ref=r.ref,i.return=r,r.child=i)}if(m=i.child,!bm(i,f)){var T=m.memoizedProps;if(a=a.compare,a=a!==null?a:ql,a(T,l)&&i.ref===r.ref)return Is(i,r,f)}return r.flags|=1,i=bs(m,l),i.ref=r.ref,i.return=r,r.child=i}function aT(i,r,a,l,f){if(i!==null){var m=i.memoizedProps;if(ql(m,l)&&i.ref===r.ref)if(Fe=!1,r.pendingProps=l=m,bm(i,f))(i.flags&131072)!==0&&(Fe=!0);else return r.lanes=i.lanes,Is(i,r,f)}return gm(i,r,a,l,f)}function oT(i,r,a,l){var f=l.children,m=i!==null?i.memoizedState:null;if(i===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((r.flags&128)!==0){if(m=m!==null?m.baseLanes|a:a,i!==null){for(l=r.child=i.child,f=0;l!==null;)f=f|l.lanes|l.childLanes,l=l.sibling;l=f&~m}else l=0,r.child=null;return lT(i,r,m,a,l)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},i!==null&&Xu(r,m!==null?m.cachePool:null),m!==null?uv(r,m):Kd(),hv(r);else return l=r.lanes=536870912,lT(i,r,m!==null?m.baseLanes|a:a,a,l)}else m!==null?(Xu(r,m.cachePool),uv(r,m),mr(),r.memoizedState=null):(i!==null&&Xu(r,null),Kd(),mr());return hn(i,r,f,a),r.child}function ic(i,r){return i!==null&&i.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function lT(i,r,a,l,f){var m=Bd();return m=m===null?null:{parent:ze._currentValue,pool:m},r.memoizedState={baseLanes:a,cachePool:m},i!==null&&Xu(r,null),Kd(),hv(r),i!==null&&vo(i,r,l,!0),r.childLanes=f,null}function hh(i,r){return r=dh({mode:r.mode,children:r.children},i.mode),r.ref=i.ref,i.child=r,r.return=i,r}function cT(i,r,a){return wa(r,i.child,null,a),i=hh(r,r.pendingProps),i.flags|=2,Qn(r),r.memoizedState=null,i}function GC(i,r,a){var l=r.pendingProps,f=(r.flags&128)!==0;if(r.flags&=-129,i===null){if(Yt){if(l.mode==="hidden")return i=hh(r,l),r.lanes=536870912,ic(null,i);if(Qd(r),(i=fe)?(i=EE(i,hi),i=i!==null&&i.data==="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:ar!==null?{id:Zi,overflow:Ji}:null,retryLane:536870912,hydrationErrors:null},a=K_(i),a.return=r,r.child=a,cn=r,fe=null)):i=null,i===null)throw lr(r);return r.lanes=536870912,null}return hh(r,l)}var m=i.memoizedState;if(m!==null){var T=m.dehydrated;if(Qd(r),f)if(r.flags&256)r.flags&=-257,r=cT(i,r,a);else if(r.memoizedState!==null)r.child=i.child,r.flags|=128,r=null;else throw Error(s(558));else if(Fe||vo(i,r,a,!1),f=(a&i.childLanes)!==0,Fe||f){if(l=ce,l!==null&&(T=Sl(l,a),T!==0&&T!==m.retryLane))throw m.retryLane=T,ya(i,T),kn(l,i,T),pm;Ah(),r=cT(i,r,a)}else i=m.treeContext,fe=di(T.nextSibling),cn=r,Yt=!0,or=null,hi=!1,i!==null&&X_(r,i),r=hh(r,l),r.flags|=4096;return r}return i=bs(i.child,{mode:l.mode,children:l.children}),i.ref=r.ref,r.child=i,i.return=r,i}function fh(i,r){var a=r.ref;if(a===null)i!==null&&i.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(i===null||i.ref!==a)&&(r.flags|=4194816)}}function gm(i,r,a,l,f){return Ea(r),a=$d(i,r,a,l,void 0,f),l=Wd(),i!==null&&!Fe?(Zd(i,r,f),Is(i,r,f)):(Yt&&l&&Dd(r),r.flags|=1,hn(i,r,a,f),r.child)}function uT(i,r,a,l,f,m){return Ea(r),r.updateQueue=null,a=dv(r,l,a,f),fv(i),l=Wd(),i!==null&&!Fe?(Zd(i,r,m),Is(i,r,m)):(Yt&&l&&Dd(r),r.flags|=1,hn(i,r,a,m),r.child)}function hT(i,r,a,l,f){if(Ea(r),r.stateNode===null){var m=po,T=a.contextType;typeof T=="object"&&T!==null&&(m=un(T)),m=new a(l,m),r.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=dm,r.stateNode=m,m._reactInternals=r,m=r.stateNode,m.props=l,m.state=r.memoizedState,m.refs={},qd(r),T=a.contextType,m.context=typeof T=="object"&&T!==null?un(T):po,m.state=r.memoizedState,T=a.getDerivedStateFromProps,typeof T=="function"&&(fm(r,a,T,l),m.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(T=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),T!==m.state&&dm.enqueueReplaceState(m,m.state,null),Zl(r,l,m,f),Wl(),m.state=r.memoizedState),typeof m.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(i===null){m=r.stateNode;var S=r.memoizedProps,D=Ca(a,S);m.props=D;var H=m.context,X=a.contextType;T=po,typeof X=="object"&&X!==null&&(T=un(X));var tt=a.getDerivedStateFromProps;X=typeof tt=="function"||typeof m.getSnapshotBeforeUpdate=="function",S=r.pendingProps!==S,X||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(S||H!==T)&&Wv(r,m,l,T),ur=!1;var G=r.memoizedState;m.state=G,Zl(r,l,m,f),Wl(),H=r.memoizedState,S||G!==H||ur?(typeof tt=="function"&&(fm(r,a,tt,l),H=r.memoizedState),(D=ur||$v(r,a,D,l,G,H,T))?(X||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(r.flags|=4194308)):(typeof m.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=H),m.props=l,m.state=H,m.context=T,l=D):(typeof m.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{m=r.stateNode,Fd(i,r),T=r.memoizedProps,X=Ca(a,T),m.props=X,tt=r.pendingProps,G=m.context,H=a.contextType,D=po,typeof H=="object"&&H!==null&&(D=un(H)),S=a.getDerivedStateFromProps,(H=typeof S=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(T!==tt||G!==D)&&Wv(r,m,l,D),ur=!1,G=r.memoizedState,m.state=G,Zl(r,l,m,f),Wl();var Y=r.memoizedState;T!==tt||G!==Y||ur||i!==null&&i.dependencies!==null&&Yu(i.dependencies)?(typeof S=="function"&&(fm(r,a,S,l),Y=r.memoizedState),(X=ur||$v(r,a,X,l,G,Y,D)||i!==null&&i.dependencies!==null&&Yu(i.dependencies))?(H||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(l,Y,D),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(l,Y,D)),typeof m.componentDidUpdate=="function"&&(r.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof m.componentDidUpdate!="function"||T===i.memoizedProps&&G===i.memoizedState||(r.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||T===i.memoizedProps&&G===i.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=Y),m.props=l,m.state=Y,m.context=D,l=X):(typeof m.componentDidUpdate!="function"||T===i.memoizedProps&&G===i.memoizedState||(r.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||T===i.memoizedProps&&G===i.memoizedState||(r.flags|=1024),l=!1)}return m=l,fh(i,r),l=(r.flags&128)!==0,m||l?(m=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:m.render(),r.flags|=1,i!==null&&l?(r.child=wa(r,i.child,null,f),r.child=wa(r,null,a,f)):hn(i,r,a,f),r.memoizedState=m.state,i=r.child):i=Is(i,r,f),i}function fT(i,r,a,l){return va(),r.flags|=256,hn(i,r,a,l),r.child}var ym={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function _m(i){return{baseLanes:i,cachePool:ev()}}function vm(i,r,a){return i=i!==null?i.childLanes&~a:0,r&&(i|=$n),i}function dT(i,r,a){var l=r.pendingProps,f=!1,m=(r.flags&128)!==0,T;if((T=m)||(T=i!==null&&i.memoizedState===null?!1:(Pe.current&2)!==0),T&&(f=!0,r.flags&=-129),T=(r.flags&32)!==0,r.flags&=-33,i===null){if(Yt){if(f?dr(r):mr(),(i=fe)?(i=EE(i,hi),i=i!==null&&i.data!=="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:ar!==null?{id:Zi,overflow:Ji}:null,retryLane:536870912,hydrationErrors:null},a=K_(i),a.return=r,r.child=a,cn=r,fe=null)):i=null,i===null)throw lr(r);return ep(i)?r.lanes=32:r.lanes=536870912,null}var S=l.children;return l=l.fallback,f?(mr(),f=r.mode,S=dh({mode:"hidden",children:S},f),l=_a(l,f,a,null),S.return=r,l.return=r,S.sibling=l,r.child=S,l=r.child,l.memoizedState=_m(a),l.childLanes=vm(i,T,a),r.memoizedState=ym,ic(null,l)):(dr(r),Tm(r,S))}var D=i.memoizedState;if(D!==null&&(S=D.dehydrated,S!==null)){if(m)r.flags&256?(dr(r),r.flags&=-257,r=Em(i,r,a)):r.memoizedState!==null?(mr(),r.child=i.child,r.flags|=128,r=null):(mr(),S=l.fallback,f=r.mode,l=dh({mode:"visible",children:l.children},f),S=_a(S,f,a,null),S.flags|=2,l.return=r,S.return=r,l.sibling=S,r.child=l,wa(r,i.child,null,a),l=r.child,l.memoizedState=_m(a),l.childLanes=vm(i,T,a),r.memoizedState=ym,r=ic(null,l));else if(dr(r),ep(S)){if(T=S.nextSibling&&S.nextSibling.dataset,T)var H=T.dgst;T=H,l=Error(s(419)),l.stack="",l.digest=T,Gl({value:l,source:null,stack:null}),r=Em(i,r,a)}else if(Fe||vo(i,r,a,!1),T=(a&i.childLanes)!==0,Fe||T){if(T=ce,T!==null&&(l=Sl(T,a),l!==0&&l!==D.retryLane))throw D.retryLane=l,ya(i,l),kn(T,i,l),pm;tp(S)||Ah(),r=Em(i,r,a)}else tp(S)?(r.flags|=192,r.child=i.child,r=null):(i=D.treeContext,fe=di(S.nextSibling),cn=r,Yt=!0,or=null,hi=!1,i!==null&&X_(r,i),r=Tm(r,l.children),r.flags|=4096);return r}return f?(mr(),S=l.fallback,f=r.mode,D=i.child,H=D.sibling,l=bs(D,{mode:"hidden",children:l.children}),l.subtreeFlags=D.subtreeFlags&65011712,H!==null?S=bs(H,S):(S=_a(S,f,a,null),S.flags|=2),S.return=r,l.return=r,l.sibling=S,r.child=l,ic(null,l),l=r.child,S=i.child.memoizedState,S===null?S=_m(a):(f=S.cachePool,f!==null?(D=ze._currentValue,f=f.parent!==D?{parent:D,pool:D}:f):f=ev(),S={baseLanes:S.baseLanes|a,cachePool:f}),l.memoizedState=S,l.childLanes=vm(i,T,a),r.memoizedState=ym,ic(i.child,l)):(dr(r),a=i.child,i=a.sibling,a=bs(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,i!==null&&(T=r.deletions,T===null?(r.deletions=[i],r.flags|=16):T.push(i)),r.child=a,r.memoizedState=null,a)}function Tm(i,r){return r=dh({mode:"visible",children:r},i.mode),r.return=i,i.child=r}function dh(i,r){return i=Kn(22,i,null,r),i.lanes=0,i}function Em(i,r,a){return wa(r,i.child,null,a),i=Tm(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function mT(i,r,a){i.lanes|=r;var l=i.alternate;l!==null&&(l.lanes|=r),kd(i.return,r,a)}function Am(i,r,a,l,f,m){var T=i.memoizedState;T===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f,treeForkCount:m}:(T.isBackwards=r,T.rendering=null,T.renderingStartTime=0,T.last=l,T.tail=a,T.tailMode=f,T.treeForkCount=m)}function pT(i,r,a){var l=r.pendingProps,f=l.revealOrder,m=l.tail;l=l.children;var T=Pe.current,S=(T&2)!==0;if(S?(T=T&1|2,r.flags|=128):T&=1,ut(Pe,T),hn(i,r,l,a),l=Yt?Hl:0,!S&&i!==null&&(i.flags&128)!==0)t:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&mT(i,a,r);else if(i.tag===19)mT(i,a,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break t;for(;i.sibling===null;){if(i.return===null||i.return===r)break t;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(f){case"forwards":for(a=r.child,f=null;a!==null;)i=a.alternate,i!==null&&eh(i)===null&&(f=a),a=a.sibling;a=f,a===null?(f=r.child,r.child=null):(f=a.sibling,a.sibling=null),Am(r,!1,f,a,m,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=r.child,r.child=null;f!==null;){if(i=f.alternate,i!==null&&eh(i)===null){r.child=f;break}i=f.sibling,f.sibling=a,a=f,f=i}Am(r,!0,a,null,m,l);break;case"together":Am(r,!1,null,null,void 0,l);break;default:r.memoizedState=null}return r.child}function Is(i,r,a){if(i!==null&&(r.dependencies=i.dependencies),yr|=r.lanes,(a&r.childLanes)===0)if(i!==null){if(vo(i,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(i!==null&&r.child!==i.child)throw Error(s(153));if(r.child!==null){for(i=r.child,a=bs(i,i.pendingProps),r.child=a,a.return=r;i.sibling!==null;)i=i.sibling,a=a.sibling=bs(i,i.pendingProps),a.return=r;a.sibling=null}return r.child}function bm(i,r){return(i.lanes&r)!==0?!0:(i=i.dependencies,!!(i!==null&&Yu(i)))}function KC(i,r,a){switch(r.tag){case 3:ve(r,r.stateNode.containerInfo),cr(r,ze,i.memoizedState.cache),va();break;case 27:case 5:gs(r);break;case 4:ve(r,r.stateNode.containerInfo);break;case 10:cr(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,Qd(r),null;break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(dr(r),r.flags|=128,null):(a&r.child.childLanes)!==0?dT(i,r,a):(dr(r),i=Is(i,r,a),i!==null?i.sibling:null);dr(r);break;case 19:var f=(i.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(vo(i,r,a,!1),l=(a&r.childLanes)!==0),f){if(l)return pT(i,r,a);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ut(Pe,Pe.current),l)break;return null;case 22:return r.lanes=0,oT(i,r,a,r.pendingProps);case 24:cr(r,ze,i.memoizedState.cache)}return Is(i,r,a)}function gT(i,r,a){if(i!==null)if(i.memoizedProps!==r.pendingProps)Fe=!0;else{if(!bm(i,a)&&(r.flags&128)===0)return Fe=!1,KC(i,r,a);Fe=(i.flags&131072)!==0}else Fe=!1,Yt&&(r.flags&1048576)!==0&&Q_(r,Hl,r.index);switch(r.lanes=0,r.tag){case 16:t:{var l=r.pendingProps;if(i=ba(r.elementType),r.type=i,typeof i=="function")xd(i)?(l=Ca(i,l),r.tag=1,r=hT(null,r,i,l,a)):(r.tag=0,r=gm(null,r,i,l,a));else{if(i!=null){var f=i.$$typeof;if(f===lt){r.tag=11,r=sT(null,r,i,l,a);break t}else if(f===x){r.tag=14,r=rT(null,r,i,l,a);break t}}throw r=Qt(i)||i,Error(s(306,r,""))}}return r;case 0:return gm(i,r,r.type,r.pendingProps,a);case 1:return l=r.type,f=Ca(l,r.pendingProps),hT(i,r,l,f,a);case 3:t:{if(ve(r,r.stateNode.containerInfo),i===null)throw Error(s(387));l=r.pendingProps;var m=r.memoizedState;f=m.element,Fd(i,r),Zl(r,l,null,a);var T=r.memoizedState;if(l=T.cache,cr(r,ze,l),l!==m.cache&&jd(r,[ze],a,!0),Wl(),l=T.element,m.isDehydrated)if(m={element:l,isDehydrated:!1,cache:T.cache},r.updateQueue.baseState=m,r.memoizedState=m,r.flags&256){r=fT(i,r,l,a);break t}else if(l!==f){f=li(Error(s(424)),r),Gl(f),r=fT(i,r,l,a);break t}else for(i=r.stateNode.containerInfo,i.nodeType===9?i=i.body:i=i.nodeName==="HTML"?i.ownerDocument.body:i,fe=di(i.firstChild),cn=r,Yt=!0,or=null,hi=!0,a=ov(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(va(),l===f){r=Is(i,r,a);break t}hn(i,r,l,a)}r=r.child}return r;case 26:return fh(i,r),i===null?(a=CE(r.type,null,r.pendingProps,null))?r.memoizedState=a:Yt||(a=r.type,i=r.pendingProps,l=Ih(Nt.current).createElement(a),l[Le]=r,l[nn]=i,fn(l,a,i),Ue(l),r.stateNode=l):r.memoizedState=CE(r.type,i.memoizedProps,r.pendingProps,i.memoizedState),null;case 27:return gs(r),i===null&&Yt&&(l=r.stateNode=SE(r.type,r.pendingProps,Nt.current),cn=r,hi=!0,f=fe,Ar(r.type)?(np=f,fe=di(l.firstChild)):fe=f),hn(i,r,r.pendingProps.children,a),fh(i,r),i===null&&(r.flags|=4194304),r.child;case 5:return i===null&&Yt&&((f=l=fe)&&(l=Ax(l,r.type,r.pendingProps,hi),l!==null?(r.stateNode=l,cn=r,fe=di(l.firstChild),hi=!1,f=!0):f=!1),f||lr(r)),gs(r),f=r.type,m=r.pendingProps,T=i!==null?i.memoizedProps:null,l=m.children,Wm(f,m)?l=null:T!==null&&Wm(f,T)&&(r.flags|=32),r.memoizedState!==null&&(f=$d(i,r,jC,null,null,a),_c._currentValue=f),fh(i,r),hn(i,r,l,a),r.child;case 6:return i===null&&Yt&&((i=a=fe)&&(a=bx(a,r.pendingProps,hi),a!==null?(r.stateNode=a,cn=r,fe=null,i=!0):i=!1),i||lr(r)),null;case 13:return dT(i,r,a);case 4:return ve(r,r.stateNode.containerInfo),l=r.pendingProps,i===null?r.child=wa(r,null,l,a):hn(i,r,l,a),r.child;case 11:return sT(i,r,r.type,r.pendingProps,a);case 7:return hn(i,r,r.pendingProps,a),r.child;case 8:return hn(i,r,r.pendingProps.children,a),r.child;case 12:return hn(i,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,cr(r,r.type,l.value),hn(i,r,l.children,a),r.child;case 9:return f=r.type._context,l=r.pendingProps.children,Ea(r),f=un(f),l=l(f),r.flags|=1,hn(i,r,l,a),r.child;case 14:return rT(i,r,r.type,r.pendingProps,a);case 15:return aT(i,r,r.type,r.pendingProps,a);case 19:return pT(i,r,a);case 31:return GC(i,r,a);case 22:return oT(i,r,a,r.pendingProps);case 24:return Ea(r),l=un(ze),i===null?(f=Bd(),f===null&&(f=ce,m=Ld(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=a),f=m),r.memoizedState={parent:l,cache:f},qd(r),cr(r,ze,f)):((i.lanes&a)!==0&&(Fd(i,r),Zl(r,null,null,a),Wl()),f=i.memoizedState,m=r.memoizedState,f.parent!==l?(f={parent:l,cache:l},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),cr(r,ze,l)):(l=m.cache,cr(r,ze,l),l!==f.cache&&jd(r,[ze],a,!0))),hn(i,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function Ns(i){i.flags|=4}function Sm(i,r,a,l,f){if((r=(i.mode&32)!==0)&&(r=!1),r){if(i.flags|=16777216,(f&335544128)===f)if(i.stateNode.complete)i.flags|=8192;else if(FT())i.flags|=8192;else throw Sa=Wu,zd}else i.flags&=-16777217}function yT(i,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!VE(r))if(FT())i.flags|=8192;else throw Sa=Wu,zd}function mh(i,r){r!==null&&(i.flags|=4),i.flags&16384&&(r=i.tag!==22?st():536870912,i.lanes|=r,Do|=r)}function sc(i,r){if(!Yt)switch(i.tailMode){case"hidden":r=i.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?i.tail=null:a.sibling=null;break;case"collapsed":a=i.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:l.sibling=null}}function de(i){var r=i.alternate!==null&&i.alternate.child===i.child,a=0,l=0;if(r)for(var f=i.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=i,f=f.sibling;else for(f=i.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=i,f=f.sibling;return i.subtreeFlags|=l,i.childLanes=a,r}function YC(i,r,a){var l=r.pendingProps;switch(Vd(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return de(r),null;case 1:return de(r),null;case 3:return a=r.stateNode,l=null,i!==null&&(l=i.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),Rs(ze),le(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(i===null||i.child===null)&&(_o(r)?Ns(r):i===null||i.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Md())),de(r),null;case 26:var f=r.type,m=r.memoizedState;return i===null?(Ns(r),m!==null?(de(r),yT(r,m)):(de(r),Sm(r,f,null,l,a))):m?m!==i.memoizedState?(Ns(r),de(r),yT(r,m)):(de(r),r.flags&=-16777217):(i=i.memoizedProps,i!==l&&Ns(r),de(r),Sm(r,f,i,l,a)),null;case 27:if(Li(r),a=Nt.current,f=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==l&&Ns(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return de(r),null}i=ot.current,_o(r)?$_(r):(i=SE(f,l,a),r.stateNode=i,Ns(r))}return de(r),null;case 5:if(Li(r),f=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==l&&Ns(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return de(r),null}if(m=ot.current,_o(r))$_(r);else{var T=Ih(Nt.current);switch(m){case 1:m=T.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:m=T.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":m=T.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":m=T.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":m=T.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof l.is=="string"?T.createElement("select",{is:l.is}):T.createElement("select"),l.multiple?m.multiple=!0:l.size&&(m.size=l.size);break;default:m=typeof l.is=="string"?T.createElement(f,{is:l.is}):T.createElement(f)}}m[Le]=r,m[nn]=l;t:for(T=r.child;T!==null;){if(T.tag===5||T.tag===6)m.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===r)break t;for(;T.sibling===null;){if(T.return===null||T.return===r)break t;T=T.return}T.sibling.return=T.return,T=T.sibling}r.stateNode=m;t:switch(fn(m,f,l),f){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&Ns(r)}}return de(r),Sm(r,r.type,i===null?null:i.memoizedProps,r.pendingProps,a),null;case 6:if(i&&r.stateNode!=null)i.memoizedProps!==l&&Ns(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(i=Nt.current,_o(r)){if(i=r.stateNode,a=r.memoizedProps,l=null,f=cn,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}i[Le]=r,i=!!(i.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||dE(i.nodeValue,a)),i||lr(r,!0)}else i=Ih(i).createTextNode(l),i[Le]=r,r.stateNode=i}return de(r),null;case 31:if(a=r.memoizedState,i===null||i.memoizedState!==null){if(l=_o(r),a!==null){if(i===null){if(!l)throw Error(s(318));if(i=r.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(557));i[Le]=r}else va(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;de(r),i=!1}else a=Md(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=a),i=!0;if(!i)return r.flags&256?(Qn(r),r):(Qn(r),null);if((r.flags&128)!==0)throw Error(s(558))}return de(r),null;case 13:if(l=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(f=_o(r),l!==null&&l.dehydrated!==null){if(i===null){if(!f)throw Error(s(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[Le]=r}else va(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;de(r),f=!1}else f=Md(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?(Qn(r),r):(Qn(r),null)}return Qn(r),(r.flags&128)!==0?(r.lanes=a,r):(a=l!==null,i=i!==null&&i.memoizedState!==null,a&&(l=r.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool),m=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==f&&(l.flags|=2048)),a!==i&&a&&(r.child.flags|=8192),mh(r,r.updateQueue),de(r),null);case 4:return le(),i===null&&Km(r.stateNode.containerInfo),de(r),null;case 10:return Rs(r.type),de(r),null;case 19:if(W(Pe),l=r.memoizedState,l===null)return de(r),null;if(f=(r.flags&128)!==0,m=l.rendering,m===null)if(f)sc(l,!1);else{if(xe!==0||i!==null&&(i.flags&128)!==0)for(i=r.child;i!==null;){if(m=eh(i),m!==null){for(r.flags|=128,sc(l,!1),i=m.updateQueue,r.updateQueue=i,mh(r,i),r.subtreeFlags=0,i=a,a=r.child;a!==null;)G_(a,i),a=a.sibling;return ut(Pe,Pe.current&1|2),Yt&&Ss(r,l.treeForkCount),r.child}i=i.sibling}l.tail!==null&&on()>vh&&(r.flags|=128,f=!0,sc(l,!1),r.lanes=4194304)}else{if(!f)if(i=eh(m),i!==null){if(r.flags|=128,f=!0,i=i.updateQueue,r.updateQueue=i,mh(r,i),sc(l,!0),l.tail===null&&l.tailMode==="hidden"&&!m.alternate&&!Yt)return de(r),null}else 2*on()-l.renderingStartTime>vh&&a!==536870912&&(r.flags|=128,f=!0,sc(l,!1),r.lanes=4194304);l.isBackwards?(m.sibling=r.child,r.child=m):(i=l.last,i!==null?i.sibling=m:r.child=m,l.last=m)}return l.tail!==null?(i=l.tail,l.rendering=i,l.tail=i.sibling,l.renderingStartTime=on(),i.sibling=null,a=Pe.current,ut(Pe,f?a&1|2:a&1),Yt&&Ss(r,l.treeForkCount),i):(de(r),null);case 22:case 23:return Qn(r),Yd(),l=r.memoizedState!==null,i!==null?i.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(de(r),r.subtreeFlags&6&&(r.flags|=8192)):de(r),a=r.updateQueue,a!==null&&mh(r,a.retryQueue),a=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),i!==null&&W(Aa),null;case 24:return a=null,i!==null&&(a=i.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),Rs(ze),de(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function QC(i,r){switch(Vd(r),r.tag){case 1:return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return Rs(ze),le(),i=r.flags,(i&65536)!==0&&(i&128)===0?(r.flags=i&-65537|128,r):null;case 26:case 27:case 5:return Li(r),null;case 31:if(r.memoizedState!==null){if(Qn(r),r.alternate===null)throw Error(s(340));va()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 13:if(Qn(r),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(s(340));va()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return W(Pe),null;case 4:return le(),null;case 10:return Rs(r.type),null;case 22:case 23:return Qn(r),Yd(),i!==null&&W(Aa),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 24:return Rs(ze),null;case 25:return null;default:return null}}function _T(i,r){switch(Vd(r),r.tag){case 3:Rs(ze),le();break;case 26:case 27:case 5:Li(r);break;case 4:le();break;case 31:r.memoizedState!==null&&Qn(r);break;case 13:Qn(r);break;case 19:W(Pe);break;case 10:Rs(r.type);break;case 22:case 23:Qn(r),Yd(),i!==null&&W(Aa);break;case 24:Rs(ze)}}function rc(i,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&i)===i){l=void 0;var m=a.create,T=a.inst;l=m(),T.destroy=l}a=a.next}while(a!==f)}}catch(S){ie(r,r.return,S)}}function pr(i,r,a){try{var l=r.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var m=f.next;l=m;do{if((l.tag&i)===i){var T=l.inst,S=T.destroy;if(S!==void 0){T.destroy=void 0,f=r;var D=a,H=S;try{H()}catch(X){ie(f,D,X)}}}l=l.next}while(l!==m)}}catch(X){ie(r,r.return,X)}}function vT(i){var r=i.updateQueue;if(r!==null){var a=i.stateNode;try{cv(r,a)}catch(l){ie(i,i.return,l)}}}function TT(i,r,a){a.props=Ca(i.type,i.memoizedProps),a.state=i.memoizedState;try{a.componentWillUnmount()}catch(l){ie(i,r,l)}}function ac(i,r){try{var a=i.ref;if(a!==null){switch(i.tag){case 26:case 27:case 5:var l=i.stateNode;break;case 30:l=i.stateNode;break;default:l=i.stateNode}typeof a=="function"?i.refCleanup=a(l):a.current=l}}catch(f){ie(i,r,f)}}function ts(i,r){var a=i.ref,l=i.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){ie(i,r,f)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){ie(i,r,f)}else a.current=null}function ET(i){var r=i.type,a=i.memoizedProps,l=i.stateNode;try{t:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){ie(i,i.return,f)}}function wm(i,r,a){try{var l=i.stateNode;gx(l,i.type,a,r),l[nn]=r}catch(f){ie(i,i.return,f)}}function AT(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Ar(i.type)||i.tag===4}function Rm(i){t:for(;;){for(;i.sibling===null;){if(i.return===null||AT(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Ar(i.type)||i.flags&2||i.child===null||i.tag===4)continue t;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Cm(i,r,a){var l=i.tag;if(l===5||l===6)i=i.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(i,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(i),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=Si));else if(l!==4&&(l===27&&Ar(i.type)&&(a=i.stateNode,r=null),i=i.child,i!==null))for(Cm(i,r,a),i=i.sibling;i!==null;)Cm(i,r,a),i=i.sibling}function ph(i,r,a){var l=i.tag;if(l===5||l===6)i=i.stateNode,r?a.insertBefore(i,r):a.appendChild(i);else if(l!==4&&(l===27&&Ar(i.type)&&(a=i.stateNode),i=i.child,i!==null))for(ph(i,r,a),i=i.sibling;i!==null;)ph(i,r,a),i=i.sibling}function bT(i){var r=i.stateNode,a=i.memoizedProps;try{for(var l=i.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);fn(r,l,a),r[Le]=i,r[nn]=a}catch(m){ie(i,i.return,m)}}var Ds=!1,He=!1,xm=!1,ST=typeof WeakSet=="function"?WeakSet:Set,rn=null;function XC(i,r){if(i=i.containerInfo,Xm=kh,i=k_(i),Ed(i)){if("selectionStart"in i)var a={start:i.selectionStart,end:i.selectionEnd};else t:{a=(a=i.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,m=l.focusNode;l=l.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break t}var T=0,S=-1,D=-1,H=0,X=0,tt=i,G=null;e:for(;;){for(var Y;tt!==a||f!==0&&tt.nodeType!==3||(S=T+f),tt!==m||l!==0&&tt.nodeType!==3||(D=T+l),tt.nodeType===3&&(T+=tt.nodeValue.length),(Y=tt.firstChild)!==null;)G=tt,tt=Y;for(;;){if(tt===i)break e;if(G===a&&++H===f&&(S=T),G===m&&++X===l&&(D=T),(Y=tt.nextSibling)!==null)break;tt=G,G=tt.parentNode}tt=Y}a=S===-1||D===-1?null:{start:S,end:D}}else a=null}a=a||{start:0,end:0}}else a=null;for($m={focusedElem:i,selectionRange:a},kh=!1,rn=r;rn!==null;)if(r=rn,i=r.child,(r.subtreeFlags&1028)!==0&&i!==null)i.return=r,rn=i;else for(;rn!==null;){switch(r=rn,m=r.alternate,i=r.flags,r.tag){case 0:if((i&4)!==0&&(i=r.updateQueue,i=i!==null?i.events:null,i!==null))for(a=0;a<i.length;a++)f=i[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&m!==null){i=void 0,a=r,f=m.memoizedProps,m=m.memoizedState,l=a.stateNode;try{var yt=Ca(a.type,f);i=l.getSnapshotBeforeUpdate(yt,m),l.__reactInternalSnapshotBeforeUpdate=i}catch(At){ie(a,a.return,At)}}break;case 3:if((i&1024)!==0){if(i=r.stateNode.containerInfo,a=i.nodeType,a===9)Jm(i);else if(a===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Jm(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=r.sibling,i!==null){i.return=r.return,rn=i;break}rn=r.return}}function wT(i,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Os(i,a),l&4&&rc(5,a);break;case 1:if(Os(i,a),l&4)if(i=a.stateNode,r===null)try{i.componentDidMount()}catch(T){ie(a,a.return,T)}else{var f=Ca(a.type,r.memoizedProps);r=r.memoizedState;try{i.componentDidUpdate(f,r,i.__reactInternalSnapshotBeforeUpdate)}catch(T){ie(a,a.return,T)}}l&64&&vT(a),l&512&&ac(a,a.return);break;case 3:if(Os(i,a),l&64&&(i=a.updateQueue,i!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{cv(i,r)}catch(T){ie(a,a.return,T)}}break;case 27:r===null&&l&4&&bT(a);case 26:case 5:Os(i,a),r===null&&l&4&&ET(a),l&512&&ac(a,a.return);break;case 12:Os(i,a);break;case 31:Os(i,a),l&4&&xT(i,a);break;case 13:Os(i,a),l&4&&IT(i,a),l&64&&(i=a.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(a=sx.bind(null,a),Sx(i,a))));break;case 22:if(l=a.memoizedState!==null||Ds,!l){r=r!==null&&r.memoizedState!==null||He,f=Ds;var m=He;Ds=l,(He=r)&&!m?Ms(i,a,(a.subtreeFlags&8772)!==0):Os(i,a),Ds=f,He=m}break;case 30:break;default:Os(i,a)}}function RT(i){var r=i.alternate;r!==null&&(i.alternate=null,RT(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&to(r)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var ye=null,Vn=!1;function Vs(i,r,a){for(a=a.child;a!==null;)CT(i,r,a),a=a.sibling}function CT(i,r,a){if(Re&&typeof Re.onCommitFiberUnmount=="function")try{Re.onCommitFiberUnmount(en,a)}catch{}switch(a.tag){case 26:He||ts(a,r),Vs(i,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:He||ts(a,r);var l=ye,f=Vn;Ar(a.type)&&(ye=a.stateNode,Vn=!1),Vs(i,r,a),pc(a.stateNode),ye=l,Vn=f;break;case 5:He||ts(a,r);case 6:if(l=ye,f=Vn,ye=null,Vs(i,r,a),ye=l,Vn=f,ye!==null)if(Vn)try{(ye.nodeType===9?ye.body:ye.nodeName==="HTML"?ye.ownerDocument.body:ye).removeChild(a.stateNode)}catch(m){ie(a,r,m)}else try{ye.removeChild(a.stateNode)}catch(m){ie(a,r,m)}break;case 18:ye!==null&&(Vn?(i=ye,vE(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,a.stateNode),Uo(i)):vE(ye,a.stateNode));break;case 4:l=ye,f=Vn,ye=a.stateNode.containerInfo,Vn=!0,Vs(i,r,a),ye=l,Vn=f;break;case 0:case 11:case 14:case 15:pr(2,a,r),He||pr(4,a,r),Vs(i,r,a);break;case 1:He||(ts(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&TT(a,r,l)),Vs(i,r,a);break;case 21:Vs(i,r,a);break;case 22:He=(l=He)||a.memoizedState!==null,Vs(i,r,a),He=l;break;default:Vs(i,r,a)}}function xT(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{Uo(i)}catch(a){ie(r,r.return,a)}}}function IT(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Uo(i)}catch(a){ie(r,r.return,a)}}function $C(i){switch(i.tag){case 31:case 13:case 19:var r=i.stateNode;return r===null&&(r=i.stateNode=new ST),r;case 22:return i=i.stateNode,r=i._retryCache,r===null&&(r=i._retryCache=new ST),r;default:throw Error(s(435,i.tag))}}function gh(i,r){var a=$C(i);r.forEach(function(l){if(!a.has(l)){a.add(l);var f=rx.bind(null,i,l);l.then(f,f)}})}function On(i,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],m=i,T=r,S=T;t:for(;S!==null;){switch(S.tag){case 27:if(Ar(S.type)){ye=S.stateNode,Vn=!1;break t}break;case 5:ye=S.stateNode,Vn=!1;break t;case 3:case 4:ye=S.stateNode.containerInfo,Vn=!0;break t}S=S.return}if(ye===null)throw Error(s(160));CT(m,T,f),ye=null,Vn=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)NT(r,i),r=r.sibling}var Ni=null;function NT(i,r){var a=i.alternate,l=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:On(r,i),Mn(i),l&4&&(pr(3,i,i.return),rc(3,i),pr(5,i,i.return));break;case 1:On(r,i),Mn(i),l&512&&(He||a===null||ts(a,a.return)),l&64&&Ds&&(i=i.updateQueue,i!==null&&(l=i.callbacks,l!==null&&(a=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=Ni;if(On(r,i),Mn(i),l&512&&(He||a===null||ts(a,a.return)),l&4){var m=a!==null?a.memoizedState:null;if(l=i.memoizedState,a===null)if(l===null)if(i.stateNode===null){t:{l=i.type,a=i.memoizedProps,f=f.ownerDocument||f;e:switch(l){case"title":m=f.getElementsByTagName("title")[0],(!m||m[Bi]||m[Le]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(l),f.head.insertBefore(m,f.querySelector("head > title"))),fn(m,l,a),m[Le]=i,Ue(m),l=m;break t;case"link":var T=NE("link","href",f).get(l+(a.href||""));if(T){for(var S=0;S<T.length;S++)if(m=T[S],m.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&m.getAttribute("rel")===(a.rel==null?null:a.rel)&&m.getAttribute("title")===(a.title==null?null:a.title)&&m.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){T.splice(S,1);break e}}m=f.createElement(l),fn(m,l,a),f.head.appendChild(m);break;case"meta":if(T=NE("meta","content",f).get(l+(a.content||""))){for(S=0;S<T.length;S++)if(m=T[S],m.getAttribute("content")===(a.content==null?null:""+a.content)&&m.getAttribute("name")===(a.name==null?null:a.name)&&m.getAttribute("property")===(a.property==null?null:a.property)&&m.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&m.getAttribute("charset")===(a.charSet==null?null:a.charSet)){T.splice(S,1);break e}}m=f.createElement(l),fn(m,l,a),f.head.appendChild(m);break;default:throw Error(s(468,l))}m[Le]=i,Ue(m),l=m}i.stateNode=l}else DE(f,i.type,i.stateNode);else i.stateNode=IE(f,l,i.memoizedProps);else m!==l?(m===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):m.count--,l===null?DE(f,i.type,i.stateNode):IE(f,l,i.memoizedProps)):l===null&&i.stateNode!==null&&wm(i,i.memoizedProps,a.memoizedProps)}break;case 27:On(r,i),Mn(i),l&512&&(He||a===null||ts(a,a.return)),a!==null&&l&4&&wm(i,i.memoizedProps,a.memoizedProps);break;case 5:if(On(r,i),Mn(i),l&512&&(He||a===null||ts(a,a.return)),i.flags&32){f=i.stateNode;try{Dn(f,"")}catch(yt){ie(i,i.return,yt)}}l&4&&i.stateNode!=null&&(f=i.memoizedProps,wm(i,f,a!==null?a.memoizedProps:f)),l&1024&&(xm=!0);break;case 6:if(On(r,i),Mn(i),l&4){if(i.stateNode===null)throw Error(s(162));l=i.memoizedProps,a=i.stateNode;try{a.nodeValue=l}catch(yt){ie(i,i.return,yt)}}break;case 3:if(Vh=null,f=Ni,Ni=Nh(r.containerInfo),On(r,i),Ni=f,Mn(i),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Uo(r.containerInfo)}catch(yt){ie(i,i.return,yt)}xm&&(xm=!1,DT(i));break;case 4:l=Ni,Ni=Nh(i.stateNode.containerInfo),On(r,i),Mn(i),Ni=l;break;case 12:On(r,i),Mn(i);break;case 31:On(r,i),Mn(i),l&4&&(l=i.updateQueue,l!==null&&(i.updateQueue=null,gh(i,l)));break;case 13:On(r,i),Mn(i),i.child.flags&8192&&i.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(_h=on()),l&4&&(l=i.updateQueue,l!==null&&(i.updateQueue=null,gh(i,l)));break;case 22:f=i.memoizedState!==null;var D=a!==null&&a.memoizedState!==null,H=Ds,X=He;if(Ds=H||f,He=X||D,On(r,i),He=X,Ds=H,Mn(i),l&8192)t:for(r=i.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(a===null||D||Ds||He||xa(i)),a=null,r=i;;){if(r.tag===5||r.tag===26){if(a===null){D=a=r;try{if(m=D.stateNode,f)T=m.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{S=D.stateNode;var tt=D.memoizedProps.style,G=tt!=null&&tt.hasOwnProperty("display")?tt.display:null;S.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(yt){ie(D,D.return,yt)}}}else if(r.tag===6){if(a===null){D=r;try{D.stateNode.nodeValue=f?"":D.memoizedProps}catch(yt){ie(D,D.return,yt)}}}else if(r.tag===18){if(a===null){D=r;try{var Y=D.stateNode;f?TE(Y,!0):TE(D.stateNode,!1)}catch(yt){ie(D,D.return,yt)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===i)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break t;for(;r.sibling===null;){if(r.return===null||r.return===i)break t;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=i.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,gh(i,a))));break;case 19:On(r,i),Mn(i),l&4&&(l=i.updateQueue,l!==null&&(i.updateQueue=null,gh(i,l)));break;case 30:break;case 21:break;default:On(r,i),Mn(i)}}function Mn(i){var r=i.flags;if(r&2){try{for(var a,l=i.return;l!==null;){if(AT(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var f=a.stateNode,m=Rm(i);ph(i,m,f);break;case 5:var T=a.stateNode;a.flags&32&&(Dn(T,""),a.flags&=-33);var S=Rm(i);ph(i,S,T);break;case 3:case 4:var D=a.stateNode.containerInfo,H=Rm(i);Cm(i,H,D);break;default:throw Error(s(161))}}catch(X){ie(i,i.return,X)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function DT(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var r=i;DT(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),i=i.sibling}}function Os(i,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)wT(i,r.alternate,r),r=r.sibling}function xa(i){for(i=i.child;i!==null;){var r=i;switch(r.tag){case 0:case 11:case 14:case 15:pr(4,r,r.return),xa(r);break;case 1:ts(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&TT(r,r.return,a),xa(r);break;case 27:pc(r.stateNode);case 26:case 5:ts(r,r.return),xa(r);break;case 22:r.memoizedState===null&&xa(r);break;case 30:xa(r);break;default:xa(r)}i=i.sibling}}function Ms(i,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,f=i,m=r,T=m.flags;switch(m.tag){case 0:case 11:case 15:Ms(f,m,a),rc(4,m);break;case 1:if(Ms(f,m,a),l=m,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(H){ie(l,l.return,H)}if(l=m,f=l.updateQueue,f!==null){var S=l.stateNode;try{var D=f.shared.hiddenCallbacks;if(D!==null)for(f.shared.hiddenCallbacks=null,f=0;f<D.length;f++)lv(D[f],S)}catch(H){ie(l,l.return,H)}}a&&T&64&&vT(m),ac(m,m.return);break;case 27:bT(m);case 26:case 5:Ms(f,m,a),a&&l===null&&T&4&&ET(m),ac(m,m.return);break;case 12:Ms(f,m,a);break;case 31:Ms(f,m,a),a&&T&4&&xT(f,m);break;case 13:Ms(f,m,a),a&&T&4&&IT(f,m);break;case 22:m.memoizedState===null&&Ms(f,m,a),ac(m,m.return);break;case 30:break;default:Ms(f,m,a)}r=r.sibling}}function Im(i,r){var a=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==a&&(i!=null&&i.refCount++,a!=null&&Kl(a))}function Nm(i,r){i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&Kl(i))}function Di(i,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)VT(i,r,a,l),r=r.sibling}function VT(i,r,a,l){var f=r.flags;switch(r.tag){case 0:case 11:case 15:Di(i,r,a,l),f&2048&&rc(9,r);break;case 1:Di(i,r,a,l);break;case 3:Di(i,r,a,l),f&2048&&(i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&Kl(i)));break;case 12:if(f&2048){Di(i,r,a,l),i=r.stateNode;try{var m=r.memoizedProps,T=m.id,S=m.onPostCommit;typeof S=="function"&&S(T,r.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(D){ie(r,r.return,D)}}else Di(i,r,a,l);break;case 31:Di(i,r,a,l);break;case 13:Di(i,r,a,l);break;case 23:break;case 22:m=r.stateNode,T=r.alternate,r.memoizedState!==null?m._visibility&2?Di(i,r,a,l):oc(i,r):m._visibility&2?Di(i,r,a,l):(m._visibility|=2,xo(i,r,a,l,(r.subtreeFlags&10256)!==0||!1)),f&2048&&Im(T,r);break;case 24:Di(i,r,a,l),f&2048&&Nm(r.alternate,r);break;default:Di(i,r,a,l)}}function xo(i,r,a,l,f){for(f=f&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var m=i,T=r,S=a,D=l,H=T.flags;switch(T.tag){case 0:case 11:case 15:xo(m,T,S,D,f),rc(8,T);break;case 23:break;case 22:var X=T.stateNode;T.memoizedState!==null?X._visibility&2?xo(m,T,S,D,f):oc(m,T):(X._visibility|=2,xo(m,T,S,D,f)),f&&H&2048&&Im(T.alternate,T);break;case 24:xo(m,T,S,D,f),f&&H&2048&&Nm(T.alternate,T);break;default:xo(m,T,S,D,f)}r=r.sibling}}function oc(i,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=i,l=r,f=l.flags;switch(l.tag){case 22:oc(a,l),f&2048&&Im(l.alternate,l);break;case 24:oc(a,l),f&2048&&Nm(l.alternate,l);break;default:oc(a,l)}r=r.sibling}}var lc=8192;function Io(i,r,a){if(i.subtreeFlags&lc)for(i=i.child;i!==null;)OT(i,r,a),i=i.sibling}function OT(i,r,a){switch(i.tag){case 26:Io(i,r,a),i.flags&lc&&i.memoizedState!==null&&kx(a,Ni,i.memoizedState,i.memoizedProps);break;case 5:Io(i,r,a);break;case 3:case 4:var l=Ni;Ni=Nh(i.stateNode.containerInfo),Io(i,r,a),Ni=l;break;case 22:i.memoizedState===null&&(l=i.alternate,l!==null&&l.memoizedState!==null?(l=lc,lc=16777216,Io(i,r,a),lc=l):Io(i,r,a));break;default:Io(i,r,a)}}function MT(i){var r=i.alternate;if(r!==null&&(i=r.child,i!==null)){r.child=null;do r=i.sibling,i.sibling=null,i=r;while(i!==null)}}function cc(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];rn=l,kT(l,i)}MT(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)PT(i),i=i.sibling}function PT(i){switch(i.tag){case 0:case 11:case 15:cc(i),i.flags&2048&&pr(9,i,i.return);break;case 3:cc(i);break;case 12:cc(i);break;case 22:var r=i.stateNode;i.memoizedState!==null&&r._visibility&2&&(i.return===null||i.return.tag!==13)?(r._visibility&=-3,yh(i)):cc(i);break;default:cc(i)}}function yh(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];rn=l,kT(l,i)}MT(i)}for(i=i.child;i!==null;){switch(r=i,r.tag){case 0:case 11:case 15:pr(8,r,r.return),yh(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,yh(r));break;default:yh(r)}i=i.sibling}}function kT(i,r){for(;rn!==null;){var a=rn;switch(a.tag){case 0:case 11:case 15:pr(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Kl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,rn=l;else t:for(a=i;rn!==null;){l=rn;var f=l.sibling,m=l.return;if(RT(l),l===a){rn=null;break t}if(f!==null){f.return=m,rn=f;break t}rn=m}}}var WC={getCacheForType:function(i){var r=un(ze),a=r.data.get(i);return a===void 0&&(a=i(),r.data.set(i,a)),a},cacheSignal:function(){return un(ze).controller.signal}},ZC=typeof WeakMap=="function"?WeakMap:Map,Jt=0,ce=null,Bt=null,qt=0,ne=0,Xn=null,gr=!1,No=!1,Dm=!1,Ps=0,xe=0,yr=0,Ia=0,Vm=0,$n=0,Do=0,uc=null,Pn=null,Om=!1,_h=0,jT=0,vh=1/0,Th=null,_r=null,$e=0,vr=null,Vo=null,ks=0,Mm=0,Pm=null,LT=null,hc=0,km=null;function Wn(){return(Jt&2)!==0&&qt!==0?qt&-qt:Q.T!==null?qm():Eu()}function UT(){if($n===0)if((qt&536870912)===0||Yt){var i=ni;ni<<=1,(ni&3932160)===0&&(ni=262144),$n=i}else $n=536870912;return i=Yn.current,i!==null&&(i.flags|=32),$n}function kn(i,r,a){(i===ce&&(ne===2||ne===9)||i.cancelPendingCommit!==null)&&(Oo(i,0),Tr(i,qt,$n,!1)),Rt(i,a),((Jt&2)===0||i!==ce)&&(i===ce&&((Jt&2)===0&&(Ia|=a),xe===4&&Tr(i,qt,$n,!1)),es(i))}function BT(i,r,a){if((Jt&6)!==0)throw Error(s(327));var l=!a&&(r&127)===0&&(r&i.expiredLanes)===0||qn(i,r),f=l?ex(i,r):Lm(i,r,!0),m=l;do{if(f===0){No&&!l&&Tr(i,r,0,!1);break}else{if(a=i.current.alternate,m&&!JC(a)){f=Lm(i,r,!1),m=!1;continue}if(f===2){if(m=r,i.errorRecoveryDisabledLanes&m)var T=0;else T=i.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){r=T;t:{var S=i;f=uc;var D=S.current.memoizedState.isDehydrated;if(D&&(Oo(S,T).flags|=256),T=Lm(S,T,!1),T!==2){if(Dm&&!D){S.errorRecoveryDisabledLanes|=m,Ia|=m,f=4;break t}m=Pn,Pn=f,m!==null&&(Pn===null?Pn=m:Pn.push.apply(Pn,m))}f=T}if(m=!1,f!==2)continue}}if(f===1){Oo(i,0),Tr(i,r,0,!0);break}t:{switch(l=i,m=f,m){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:Tr(l,r,$n,!gr);break t;case 2:Pn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(f=_h+300-on(),10<f)){if(Tr(l,r,$n,!gr),zn(l,0,!0)!==0)break t;ks=r,l.timeoutHandle=yE(zT.bind(null,l,a,Pn,Th,Om,r,$n,Ia,Do,gr,m,"Throttled",-0,0),f);break t}zT(l,a,Pn,Th,Om,r,$n,Ia,Do,gr,m,null,-0,0)}}break}while(!0);es(i)}function zT(i,r,a,l,f,m,T,S,D,H,X,tt,G,Y){if(i.timeoutHandle=-1,tt=r.subtreeFlags,tt&8192||(tt&16785408)===16785408){tt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Si},OT(r,m,tt);var yt=(m&62914560)===m?_h-on():(m&4194048)===m?jT-on():0;if(yt=jx(tt,yt),yt!==null){ks=m,i.cancelPendingCommit=yt(XT.bind(null,i,r,m,a,l,f,T,S,D,X,tt,null,G,Y)),Tr(i,m,T,!H);return}}XT(i,r,m,a,l,f,T,S,D)}function JC(i){for(var r=i;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],m=f.getSnapshot;f=f.value;try{if(!Gn(m(),f))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Tr(i,r,a,l){r&=~Vm,r&=~Ia,i.suspendedLanes|=r,i.pingedLanes&=~r,l&&(i.warmLanes|=r),l=i.expirationTimes;for(var f=r;0<f;){var m=31-Te(f),T=1<<m;l[m]=-1,f&=~T}a!==0&&Ae(i,a,r)}function Eh(){return(Jt&6)===0?(fc(0),!1):!0}function jm(){if(Bt!==null){if(ne===0)var i=Bt.return;else i=Bt,ws=Ta=null,Jd(i),bo=null,Ql=0,i=Bt;for(;i!==null;)_T(i.alternate,i),i=i.return;Bt=null}}function Oo(i,r){var a=i.timeoutHandle;a!==-1&&(i.timeoutHandle=-1,vx(a)),a=i.cancelPendingCommit,a!==null&&(i.cancelPendingCommit=null,a()),ks=0,jm(),ce=i,Bt=a=bs(i.current,null),qt=r,ne=0,Xn=null,gr=!1,No=qn(i,r),Dm=!1,Do=$n=Vm=Ia=yr=xe=0,Pn=uc=null,Om=!1,(r&8)!==0&&(r|=r&32);var l=i.entangledLanes;if(l!==0)for(i=i.entanglements,l&=r;0<l;){var f=31-Te(l),m=1<<f;r|=i[f],l&=~m}return Ps=r,qu(),a}function qT(i,r){Mt=null,Q.H=nc,r===Ao||r===$u?(r=sv(),ne=3):r===zd?(r=sv(),ne=4):ne=r===pm?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Xn=r,Bt===null&&(xe=1,uh(i,li(r,i.current)))}function FT(){var i=Yn.current;return i===null?!0:(qt&4194048)===qt?fi===null:(qt&62914560)===qt||(qt&536870912)!==0?i===fi:!1}function HT(){var i=Q.H;return Q.H=nc,i===null?nc:i}function GT(){var i=Q.A;return Q.A=WC,i}function Ah(){xe=4,gr||(qt&4194048)!==qt&&Yn.current!==null||(No=!0),(yr&134217727)===0&&(Ia&134217727)===0||ce===null||Tr(ce,qt,$n,!1)}function Lm(i,r,a){var l=Jt;Jt|=2;var f=HT(),m=GT();(ce!==i||qt!==r)&&(Th=null,Oo(i,r)),r=!1;var T=xe;t:do try{if(ne!==0&&Bt!==null){var S=Bt,D=Xn;switch(ne){case 8:jm(),T=6;break t;case 3:case 2:case 9:case 6:Yn.current===null&&(r=!0);var H=ne;if(ne=0,Xn=null,Mo(i,S,D,H),a&&No){T=0;break t}break;default:H=ne,ne=0,Xn=null,Mo(i,S,D,H)}}tx(),T=xe;break}catch(X){qT(i,X)}while(!0);return r&&i.shellSuspendCounter++,ws=Ta=null,Jt=l,Q.H=f,Q.A=m,Bt===null&&(ce=null,qt=0,qu()),T}function tx(){for(;Bt!==null;)KT(Bt)}function ex(i,r){var a=Jt;Jt|=2;var l=HT(),f=GT();ce!==i||qt!==r?(Th=null,vh=on()+500,Oo(i,r)):No=qn(i,r);t:do try{if(ne!==0&&Bt!==null){r=Bt;var m=Xn;e:switch(ne){case 1:ne=0,Xn=null,Mo(i,r,m,1);break;case 2:case 9:if(nv(m)){ne=0,Xn=null,YT(r);break}r=function(){ne!==2&&ne!==9||ce!==i||(ne=7),es(i)},m.then(r,r);break t;case 3:ne=7;break t;case 4:ne=5;break t;case 7:nv(m)?(ne=0,Xn=null,YT(r)):(ne=0,Xn=null,Mo(i,r,m,7));break;case 5:var T=null;switch(Bt.tag){case 26:T=Bt.memoizedState;case 5:case 27:var S=Bt;if(T?VE(T):S.stateNode.complete){ne=0,Xn=null;var D=S.sibling;if(D!==null)Bt=D;else{var H=S.return;H!==null?(Bt=H,bh(H)):Bt=null}break e}}ne=0,Xn=null,Mo(i,r,m,5);break;case 6:ne=0,Xn=null,Mo(i,r,m,6);break;case 8:jm(),xe=6;break t;default:throw Error(s(462))}}nx();break}catch(X){qT(i,X)}while(!0);return ws=Ta=null,Q.H=l,Q.A=f,Jt=a,Bt!==null?0:(ce=null,qt=0,qu(),xe)}function nx(){for(;Bt!==null&&!El();)KT(Bt)}function KT(i){var r=gT(i.alternate,i,Ps);i.memoizedProps=i.pendingProps,r===null?bh(i):Bt=r}function YT(i){var r=i,a=r.alternate;switch(r.tag){case 15:case 0:r=uT(a,r,r.pendingProps,r.type,void 0,qt);break;case 11:r=uT(a,r,r.pendingProps,r.type.render,r.ref,qt);break;case 5:Jd(r);default:_T(a,r),r=Bt=G_(r,Ps),r=gT(a,r,Ps)}i.memoizedProps=i.pendingProps,r===null?bh(i):Bt=r}function Mo(i,r,a,l){ws=Ta=null,Jd(r),bo=null,Ql=0;var f=r.return;try{if(HC(i,f,r,a,qt)){xe=1,uh(i,li(a,i.current)),Bt=null;return}}catch(m){if(f!==null)throw Bt=f,m;xe=1,uh(i,li(a,i.current)),Bt=null;return}r.flags&32768?(Yt||l===1?i=!0:No||(qt&536870912)!==0?i=!1:(gr=i=!0,(l===2||l===9||l===3||l===6)&&(l=Yn.current,l!==null&&l.tag===13&&(l.flags|=16384))),QT(r,i)):bh(r)}function bh(i){var r=i;do{if((r.flags&32768)!==0){QT(r,gr);return}i=r.return;var a=YC(r.alternate,r,Ps);if(a!==null){Bt=a;return}if(r=r.sibling,r!==null){Bt=r;return}Bt=r=i}while(r!==null);xe===0&&(xe=5)}function QT(i,r){do{var a=QC(i.alternate,i);if(a!==null){a.flags&=32767,Bt=a;return}if(a=i.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(i=i.sibling,i!==null)){Bt=i;return}Bt=i=a}while(i!==null);xe=6,Bt=null}function XT(i,r,a,l,f,m,T,S,D){i.cancelPendingCommit=null;do Sh();while($e!==0);if((Jt&6)!==0)throw Error(s(327));if(r!==null){if(r===i.current)throw Error(s(177));if(m=r.lanes|r.childLanes,m|=Rd,xt(i,a,m,T,S,D),i===ce&&(Bt=ce=null,qt=0),Vo=r,vr=i,ks=a,Mm=m,Pm=f,LT=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,ax(tn,function(){return tE(),null})):(i.callbackNode=null,i.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=Q.T,Q.T=null,f=at.p,at.p=2,T=Jt,Jt|=4;try{XC(i,r,a)}finally{Jt=T,at.p=f,Q.T=l}}$e=1,$T(),WT(),ZT()}}function $T(){if($e===1){$e=0;var i=vr,r=Vo,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=Q.T,Q.T=null;var l=at.p;at.p=2;var f=Jt;Jt|=4;try{NT(r,i);var m=$m,T=k_(i.containerInfo),S=m.focusedElem,D=m.selectionRange;if(T!==S&&S&&S.ownerDocument&&P_(S.ownerDocument.documentElement,S)){if(D!==null&&Ed(S)){var H=D.start,X=D.end;if(X===void 0&&(X=H),"selectionStart"in S)S.selectionStart=H,S.selectionEnd=Math.min(X,S.value.length);else{var tt=S.ownerDocument||document,G=tt&&tt.defaultView||window;if(G.getSelection){var Y=G.getSelection(),yt=S.textContent.length,At=Math.min(D.start,yt),oe=D.end===void 0?At:Math.min(D.end,yt);!Y.extend&&At>oe&&(T=oe,oe=At,At=T);var U=M_(S,At),k=M_(S,oe);if(U&&k&&(Y.rangeCount!==1||Y.anchorNode!==U.node||Y.anchorOffset!==U.offset||Y.focusNode!==k.node||Y.focusOffset!==k.offset)){var F=tt.createRange();F.setStart(U.node,U.offset),Y.removeAllRanges(),At>oe?(Y.addRange(F),Y.extend(k.node,k.offset)):(F.setEnd(k.node,k.offset),Y.addRange(F))}}}}for(tt=[],Y=S;Y=Y.parentNode;)Y.nodeType===1&&tt.push({element:Y,left:Y.scrollLeft,top:Y.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<tt.length;S++){var J=tt[S];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}kh=!!Xm,$m=Xm=null}finally{Jt=f,at.p=l,Q.T=a}}i.current=r,$e=2}}function WT(){if($e===2){$e=0;var i=vr,r=Vo,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=Q.T,Q.T=null;var l=at.p;at.p=2;var f=Jt;Jt|=4;try{wT(i,r.alternate,r)}finally{Jt=f,at.p=l,Q.T=a}}$e=3}}function ZT(){if($e===4||$e===3){$e=0,Wa();var i=vr,r=Vo,a=ks,l=LT;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?$e=5:($e=0,Vo=vr=null,JT(i,i.pendingLanes));var f=i.pendingLanes;if(f===0&&(_r=null),vs(a),r=r.stateNode,Re&&typeof Re.onCommitFiberRoot=="function")try{Re.onCommitFiberRoot(en,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=Q.T,f=at.p,at.p=2,Q.T=null;try{for(var m=i.onRecoverableError,T=0;T<l.length;T++){var S=l[T];m(S.value,{componentStack:S.stack})}}finally{Q.T=r,at.p=f}}(ks&3)!==0&&Sh(),es(i),f=i.pendingLanes,(a&261930)!==0&&(f&42)!==0?i===km?hc++:(hc=0,km=i):hc=0,fc(0)}}function JT(i,r){(i.pooledCacheLanes&=r)===0&&(r=i.pooledCache,r!=null&&(i.pooledCache=null,Kl(r)))}function Sh(){return $T(),WT(),ZT(),tE()}function tE(){if($e!==5)return!1;var i=vr,r=Mm;Mm=0;var a=vs(ks),l=Q.T,f=at.p;try{at.p=32>a?32:a,Q.T=null,a=Pm,Pm=null;var m=vr,T=ks;if($e=0,Vo=vr=null,ks=0,(Jt&6)!==0)throw Error(s(331));var S=Jt;if(Jt|=4,PT(m.current),VT(m,m.current,T,a),Jt=S,fc(0,!1),Re&&typeof Re.onPostCommitFiberRoot=="function")try{Re.onPostCommitFiberRoot(en,m)}catch{}return!0}finally{at.p=f,Q.T=l,JT(i,r)}}function eE(i,r,a){r=li(a,r),r=mm(i.stateNode,r,2),i=fr(i,r,2),i!==null&&(Rt(i,2),es(i))}function ie(i,r,a){if(i.tag===3)eE(i,i,a);else for(;r!==null;){if(r.tag===3){eE(r,i,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(_r===null||!_r.has(l))){i=li(a,i),a=nT(2),l=fr(r,a,2),l!==null&&(iT(a,l,r,i),Rt(l,2),es(l));break}}r=r.return}}function Um(i,r,a){var l=i.pingCache;if(l===null){l=i.pingCache=new ZC;var f=new Set;l.set(r,f)}else f=l.get(r),f===void 0&&(f=new Set,l.set(r,f));f.has(a)||(Dm=!0,f.add(a),i=ix.bind(null,i,r,a),r.then(i,i))}function ix(i,r,a){var l=i.pingCache;l!==null&&l.delete(r),i.pingedLanes|=i.suspendedLanes&a,i.warmLanes&=~a,ce===i&&(qt&a)===a&&(xe===4||xe===3&&(qt&62914560)===qt&&300>on()-_h?(Jt&2)===0&&Oo(i,0):Vm|=a,Do===qt&&(Do=0)),es(i)}function nE(i,r){r===0&&(r=st()),i=ya(i,r),i!==null&&(Rt(i,r),es(i))}function sx(i){var r=i.memoizedState,a=0;r!==null&&(a=r.retryLane),nE(i,a)}function rx(i,r){var a=0;switch(i.tag){case 31:case 13:var l=i.stateNode,f=i.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=i.stateNode;break;case 22:l=i.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),nE(i,a)}function ax(i,r){return pe(i,r)}var wh=null,Po=null,Bm=!1,Rh=!1,zm=!1,Er=0;function es(i){i!==Po&&i.next===null&&(Po===null?wh=Po=i:Po=Po.next=i),Rh=!0,Bm||(Bm=!0,lx())}function fc(i,r){if(!zm&&Rh){zm=!0;do for(var a=!1,l=wh;l!==null;){if(i!==0){var f=l.pendingLanes;if(f===0)var m=0;else{var T=l.suspendedLanes,S=l.pingedLanes;m=(1<<31-Te(42|i)+1)-1,m&=f&~(T&~S),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(a=!0,aE(l,m))}else m=qt,m=zn(l,l===ce?m:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(m&3)===0||qn(l,m)||(a=!0,aE(l,m));l=l.next}while(a);zm=!1}}function ox(){iE()}function iE(){Rh=Bm=!1;var i=0;Er!==0&&_x()&&(i=Er);for(var r=on(),a=null,l=wh;l!==null;){var f=l.next,m=sE(l,r);m===0?(l.next=null,a===null?wh=f:a.next=f,f===null&&(Po=a)):(a=l,(i!==0||(m&3)!==0)&&(Rh=!0)),l=f}$e!==0&&$e!==5||fc(i),Er!==0&&(Er=0)}function sE(i,r){for(var a=i.suspendedLanes,l=i.pingedLanes,f=i.expirationTimes,m=i.pendingLanes&-62914561;0<m;){var T=31-Te(m),S=1<<T,D=f[T];D===-1?((S&a)===0||(S&l)!==0)&&(f[T]=V(S,r)):D<=r&&(i.expiredLanes|=S),m&=~S}if(r=ce,a=qt,a=zn(i,i===r?a:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),l=i.callbackNode,a===0||i===r&&(ne===2||ne===9)||i.cancelPendingCommit!==null)return l!==null&&l!==null&&bn(l),i.callbackNode=null,i.callbackPriority=0;if((a&3)===0||qn(i,a)){if(r=a&-a,r===i.callbackPriority)return r;switch(l!==null&&bn(l),vs(a)){case 2:case 8:a=_s;break;case 32:a=tn;break;case 268435456:a=$s;break;default:a=tn}return l=rE.bind(null,i),a=pe(a,l),i.callbackPriority=r,i.callbackNode=a,r}return l!==null&&l!==null&&bn(l),i.callbackPriority=2,i.callbackNode=null,2}function rE(i,r){if($e!==0&&$e!==5)return i.callbackNode=null,i.callbackPriority=0,null;var a=i.callbackNode;if(Sh()&&i.callbackNode!==a)return null;var l=qt;return l=zn(i,i===ce?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),l===0?null:(BT(i,l,r),sE(i,on()),i.callbackNode!=null&&i.callbackNode===a?rE.bind(null,i):null)}function aE(i,r){if(Sh())return null;BT(i,r,!0)}function lx(){Tx(function(){(Jt&6)!==0?pe(Ti,ox):iE()})}function qm(){if(Er===0){var i=To;i===0&&(i=Bn,Bn<<=1,(Bn&261888)===0&&(Bn=256)),Er=i}return Er}function oE(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:so(""+i)}function lE(i,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,i.id&&a.setAttribute("form",i.id),r.parentNode.insertBefore(a,r),i=new FormData(i),a.parentNode.removeChild(a),i}function cx(i,r,a,l,f){if(r==="submit"&&a&&a.stateNode===f){var m=oE((f[nn]||null).action),T=l.submitter;T&&(r=(r=T[nn]||null)?oE(r.formAction):T.getAttribute("formAction"),r!==null&&(m=r,T=null));var S=new Qi("action","action",null,l,f);i.push({event:S,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Er!==0){var D=T?lE(f,T):new FormData(f);lm(a,{pending:!0,data:D,method:f.method,action:m},null,D)}}else typeof m=="function"&&(S.preventDefault(),D=T?lE(f,T):new FormData(f),lm(a,{pending:!0,data:D,method:f.method,action:m},m,D))},currentTarget:f}]})}}for(var Fm=0;Fm<wd.length;Fm++){var Hm=wd[Fm],ux=Hm.toLowerCase(),hx=Hm[0].toUpperCase()+Hm.slice(1);Ii(ux,"on"+hx)}Ii(U_,"onAnimationEnd"),Ii(B_,"onAnimationIteration"),Ii(z_,"onAnimationStart"),Ii("dblclick","onDoubleClick"),Ii("focusin","onFocus"),Ii("focusout","onBlur"),Ii(CC,"onTransitionRun"),Ii(xC,"onTransitionStart"),Ii(IC,"onTransitionCancel"),Ii(q_,"onTransitionEnd"),Hi("onMouseEnter",["mouseout","mouseover"]),Hi("onMouseLeave",["mouseout","mouseover"]),Hi("onPointerEnter",["pointerout","pointerover"]),Hi("onPointerLeave",["pointerout","pointerover"]),Fi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Fi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Fi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Fi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Fi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Fi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var dc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),fx=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(dc));function cE(i,r){r=(r&4)!==0;for(var a=0;a<i.length;a++){var l=i[a],f=l.event;l=l.listeners;t:{var m=void 0;if(r)for(var T=l.length-1;0<=T;T--){var S=l[T],D=S.instance,H=S.currentTarget;if(S=S.listener,D!==m&&f.isPropagationStopped())break t;m=S,f.currentTarget=H;try{m(f)}catch(X){zu(X)}f.currentTarget=null,m=D}else for(T=0;T<l.length;T++){if(S=l[T],D=S.instance,H=S.currentTarget,S=S.listener,D!==m&&f.isPropagationStopped())break t;m=S,f.currentTarget=H;try{m(f)}catch(X){zu(X)}f.currentTarget=null,m=D}}}}function zt(i,r){var a=r[Ja];a===void 0&&(a=r[Ja]=new Set);var l=i+"__bubble";a.has(l)||(uE(r,i,2,!1),a.add(l))}function Gm(i,r,a){var l=0;r&&(l|=4),uE(a,i,l,r)}var Ch="_reactListening"+Math.random().toString(36).slice(2);function Km(i){if(!i[Ch]){i[Ch]=!0,wl.forEach(function(a){a!=="selectionchange"&&(fx.has(a)||Gm(a,!1,i),Gm(a,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[Ch]||(r[Ch]=!0,Gm("selectionchange",!1,r))}}function uE(i,r,a,l){switch(UE(r)){case 2:var f=Bx;break;case 8:f=zx;break;default:f=op}a=f.bind(null,r,a,i),f=void 0,!ca||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),l?f!==void 0?i.addEventListener(r,a,{capture:!0,passive:f}):i.addEventListener(r,a,!0):f!==void 0?i.addEventListener(r,a,{passive:f}):i.addEventListener(r,a,!1)}function Ym(i,r,a,l,f){var m=l;if((r&1)===0&&(r&2)===0&&l!==null)t:for(;;){if(l===null)return;var T=l.tag;if(T===3||T===4){var S=l.stateNode.containerInfo;if(S===f)break;if(T===4)for(T=l.return;T!==null;){var D=T.tag;if((D===3||D===4)&&T.stateNode.containerInfo===f)return;T=T.return}for(;S!==null;){if(T=zi(S),T===null)return;if(D=T.tag,D===5||D===6||D===26||D===27){l=m=T;continue t}S=S.parentNode}}l=l.return}nr(function(){var H=m,X=si(a),tt=[];t:{var G=F_.get(i);if(G!==void 0){var Y=Qi,yt=i;switch(i){case"keypress":if(ha(a)===0)break t;case"keydown":case"keyup":Y=Lu;break;case"focusin":yt="focus",Y=da;break;case"focusout":yt="blur",Y=da;break;case"beforeblur":case"afterblur":Y=da;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=Ll;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=Iu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=y;break;case U_:case B_:case z_:Y=Du;break;case q_:Y=w;break;case"scroll":case"scrollend":Y=jl;break;case"wheel":Y=K;break;case"copy":case"cut":case"paste":Y=Vu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=As;break;case"toggle":case"beforetoggle":Y=Ot}var At=(r&4)!==0,oe=!At&&(i==="scroll"||i==="scrollend"),U=At?G!==null?G+"Capture":null:G;At=[];for(var k=H,F;k!==null;){var J=k;if(F=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||F===null||U===null||(J=wi(k,U),J!=null&&At.push(mc(k,J,F))),oe)break;k=k.return}0<At.length&&(G=new Y(G,yt,null,a,X),tt.push({event:G,listeners:At}))}}if((r&7)===0){t:{if(G=i==="mouseover"||i==="pointerover",Y=i==="mouseout"||i==="pointerout",G&&a!==Ml&&(yt=a.relatedTarget||a.fromElement)&&(zi(yt)||yt[Ui]))break t;if((Y||G)&&(G=X.window===X?X:(G=X.ownerDocument)?G.defaultView||G.parentWindow:window,Y?(yt=a.relatedTarget||a.toElement,Y=H,yt=yt?zi(yt):null,yt!==null&&(oe=c(yt),At=yt.tag,yt!==oe||At!==5&&At!==27&&At!==6)&&(yt=null)):(Y=null,yt=H),Y!==yt)){if(At=Ll,J="onMouseLeave",U="onMouseEnter",k="mouse",(i==="pointerout"||i==="pointerover")&&(At=As,J="onPointerLeave",U="onPointerEnter",k="pointer"),oe=Y==null?G:Fn(Y),F=yt==null?G:Fn(yt),G=new At(J,k+"leave",Y,a,X),G.target=oe,G.relatedTarget=F,J=null,zi(X)===H&&(At=new At(U,k+"enter",yt,a,X),At.target=F,At.relatedTarget=oe,J=At),oe=J,Y&&yt)e:{for(At=dx,U=Y,k=yt,F=0,J=U;J;J=At(J))F++;J=0;for(var Tt=k;Tt;Tt=At(Tt))J++;for(;0<F-J;)U=At(U),F--;for(;0<J-F;)k=At(k),J--;for(;F--;){if(U===k||k!==null&&U===k.alternate){At=U;break e}U=At(U),k=At(k)}At=null}else At=null;Y!==null&&hE(tt,G,Y,At,!1),yt!==null&&oe!==null&&hE(tt,oe,yt,At,!0)}}t:{if(G=H?Fn(H):window,Y=G.nodeName&&G.nodeName.toLowerCase(),Y==="select"||Y==="input"&&G.type==="file")var $t=x_;else if(R_(G))if(I_)$t=SC;else{$t=AC;var _t=EC}else Y=G.nodeName,!Y||Y.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?H&&io(H.elementType)&&($t=x_):$t=bC;if($t&&($t=$t(i,H))){C_(tt,$t,a,X);break t}_t&&_t(i,G,H),i==="focusout"&&H&&G.type==="number"&&H.memoizedProps.value!=null&&Dl(G,"number",G.value)}switch(_t=H?Fn(H):window,i){case"focusin":(R_(_t)||_t.contentEditable==="true")&&(ho=_t,Ad=H,Fl=null);break;case"focusout":Fl=Ad=ho=null;break;case"mousedown":bd=!0;break;case"contextmenu":case"mouseup":case"dragend":bd=!1,j_(tt,a,X);break;case"selectionchange":if(RC)break;case"keydown":case"keyup":j_(tt,a,X)}var kt;if(Zt)t:{switch(i){case"compositionstart":var Ft="onCompositionStart";break t;case"compositionend":Ft="onCompositionEnd";break t;case"compositionupdate":Ft="onCompositionUpdate";break t}Ft=void 0}else uo?ma(i,a)&&(Ft="onCompositionEnd"):i==="keydown"&&a.keyCode===229&&(Ft="onCompositionStart");Ft&&(Wi&&a.locale!=="ko"&&(uo||Ft!=="onCompositionStart"?Ft==="onCompositionEnd"&&uo&&(kt=kl()):(Yi=X,Pl="value"in Yi?Yi.value:Yi.textContent,uo=!0)),_t=xh(H,Ft),0<_t.length&&(Ft=new $i(Ft,i,null,a,X),tt.push({event:Ft,listeners:_t}),kt?Ft.data=kt:(kt=co(a),kt!==null&&(Ft.data=kt)))),(kt=ai?yC(i,a):_C(i,a))&&(Ft=xh(H,"onBeforeInput"),0<Ft.length&&(_t=new $i("onBeforeInput","beforeinput",null,a,X),tt.push({event:_t,listeners:Ft}),_t.data=kt)),cx(tt,i,H,a,X)}cE(tt,r)})}function mc(i,r,a){return{instance:i,listener:r,currentTarget:a}}function xh(i,r){for(var a=r+"Capture",l=[];i!==null;){var f=i,m=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=wi(i,a),f!=null&&l.unshift(mc(i,f,m)),f=wi(i,r),f!=null&&l.push(mc(i,f,m))),i.tag===3)return l;i=i.return}return[]}function dx(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function hE(i,r,a,l,f){for(var m=r._reactName,T=[];a!==null&&a!==l;){var S=a,D=S.alternate,H=S.stateNode;if(S=S.tag,D!==null&&D===l)break;S!==5&&S!==26&&S!==27||H===null||(D=H,f?(H=wi(a,m),H!=null&&T.unshift(mc(a,H,D))):f||(H=wi(a,m),H!=null&&T.push(mc(a,H,D)))),a=a.return}T.length!==0&&i.push({event:r,listeners:T})}var mx=/\r\n?/g,px=/\u0000|\uFFFD/g;function fE(i){return(typeof i=="string"?i:""+i).replace(mx,`
`).replace(px,"")}function dE(i,r){return r=fE(r),fE(i)===r}function ae(i,r,a,l,f,m){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||Dn(i,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&Dn(i,""+l);break;case"className":Hn(i,"class",l);break;case"tabIndex":Hn(i,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Hn(i,a,l);break;case"style":Ol(i,l,m);break;case"data":if(r!=="object"){Hn(i,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){i.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){i.removeAttribute(a);break}l=so(""+l),i.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){i.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(a==="formAction"?(r!=="input"&&ae(i,r,"name",f.name,f,null),ae(i,r,"formEncType",f.formEncType,f,null),ae(i,r,"formMethod",f.formMethod,f,null),ae(i,r,"formTarget",f.formTarget,f,null)):(ae(i,r,"encType",f.encType,f,null),ae(i,r,"method",f.method,f,null),ae(i,r,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){i.removeAttribute(a);break}l=so(""+l),i.setAttribute(a,l);break;case"onClick":l!=null&&(i.onclick=Si);break;case"onScroll":l!=null&&zt("scroll",i);break;case"onScrollEnd":l!=null&&zt("scrollend",i);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));i.innerHTML=a}}break;case"multiple":i.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":i.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){i.removeAttribute("xlink:href");break}a=so(""+l),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?i.setAttribute(a,""+l):i.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?i.setAttribute(a,""):i.removeAttribute(a);break;case"capture":case"download":l===!0?i.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?i.setAttribute(a,l):i.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?i.setAttribute(a,l):i.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?i.removeAttribute(a):i.setAttribute(a,l);break;case"popover":zt("beforetoggle",i),zt("toggle",i),eo(i,"popover",l);break;case"xlinkActuate":Be(i,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Be(i,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Be(i,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Be(i,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Be(i,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Be(i,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Be(i,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Be(i,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Be(i,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":eo(i,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=xu.get(a)||a,eo(i,a,l))}}function Qm(i,r,a,l,f,m){switch(a){case"style":Ol(i,l,m);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));i.innerHTML=a}}break;case"children":typeof l=="string"?Dn(i,l):(typeof l=="number"||typeof l=="bigint")&&Dn(i,""+l);break;case"onScroll":l!=null&&zt("scroll",i);break;case"onScrollEnd":l!=null&&zt("scrollend",i);break;case"onClick":l!=null&&(i.onclick=Si);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Rl.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),r=a.slice(2,f?a.length-7:void 0),m=i[nn]||null,m=m!=null?m[a]:null,typeof m=="function"&&i.removeEventListener(r,m,f),typeof l=="function")){typeof m!="function"&&m!==null&&(a in i?i[a]=null:i.hasAttribute(a)&&i.removeAttribute(a)),i.addEventListener(r,l,f);break t}a in i?i[a]=l:l===!0?i.setAttribute(a,""):eo(i,a,l)}}}function fn(i,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":zt("error",i),zt("load",i);var l=!1,f=!1,m;for(m in a)if(a.hasOwnProperty(m)){var T=a[m];if(T!=null)switch(m){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:ae(i,r,m,T,a,null)}}f&&ae(i,r,"srcSet",a.srcSet,a,null),l&&ae(i,r,"src",a.src,a,null);return;case"input":zt("invalid",i);var S=m=T=f=null,D=null,H=null;for(l in a)if(a.hasOwnProperty(l)){var X=a[l];if(X!=null)switch(l){case"name":f=X;break;case"type":T=X;break;case"checked":D=X;break;case"defaultChecked":H=X;break;case"value":m=X;break;case"defaultValue":S=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,r));break;default:ae(i,r,l,X,a,null)}}wu(i,m,S,D,H,T,f,!1);return;case"select":zt("invalid",i),l=T=m=null;for(f in a)if(a.hasOwnProperty(f)&&(S=a[f],S!=null))switch(f){case"value":m=S;break;case"defaultValue":T=S;break;case"multiple":l=S;default:ae(i,r,f,S,a,null)}r=m,a=T,i.multiple=!!l,r!=null?Zs(i,!!l,r,!1):a!=null&&Zs(i,!!l,a,!0);return;case"textarea":zt("invalid",i),m=f=l=null;for(T in a)if(a.hasOwnProperty(T)&&(S=a[T],S!=null))switch(T){case"value":l=S;break;case"defaultValue":f=S;break;case"children":m=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(s(91));break;default:ae(i,r,T,S,a,null)}Js(i,l,f,m);return;case"option":for(D in a)a.hasOwnProperty(D)&&(l=a[D],l!=null)&&(D==="selected"?i.selected=l&&typeof l!="function"&&typeof l!="symbol":ae(i,r,D,l,a,null));return;case"dialog":zt("beforetoggle",i),zt("toggle",i),zt("cancel",i),zt("close",i);break;case"iframe":case"object":zt("load",i);break;case"video":case"audio":for(l=0;l<dc.length;l++)zt(dc[l],i);break;case"image":zt("error",i),zt("load",i);break;case"details":zt("toggle",i);break;case"embed":case"source":case"link":zt("error",i),zt("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in a)if(a.hasOwnProperty(H)&&(l=a[H],l!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:ae(i,r,H,l,a,null)}return;default:if(io(r)){for(X in a)a.hasOwnProperty(X)&&(l=a[X],l!==void 0&&Qm(i,r,X,l,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(l=a[S],l!=null&&ae(i,r,S,l,a,null))}function gx(i,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,T=null,S=null,D=null,H=null,X=null;for(Y in a){var tt=a[Y];if(a.hasOwnProperty(Y)&&tt!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":D=tt;default:l.hasOwnProperty(Y)||ae(i,r,Y,null,l,tt)}}for(var G in l){var Y=l[G];if(tt=a[G],l.hasOwnProperty(G)&&(Y!=null||tt!=null))switch(G){case"type":m=Y;break;case"name":f=Y;break;case"checked":H=Y;break;case"defaultChecked":X=Y;break;case"value":T=Y;break;case"defaultValue":S=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,r));break;default:Y!==tt&&ae(i,r,G,Y,l,tt)}}no(i,T,S,D,H,X,m,f);return;case"select":Y=T=S=G=null;for(m in a)if(D=a[m],a.hasOwnProperty(m)&&D!=null)switch(m){case"value":break;case"multiple":Y=D;default:l.hasOwnProperty(m)||ae(i,r,m,null,l,D)}for(f in l)if(m=l[f],D=a[f],l.hasOwnProperty(f)&&(m!=null||D!=null))switch(f){case"value":G=m;break;case"defaultValue":S=m;break;case"multiple":T=m;default:m!==D&&ae(i,r,f,m,l,D)}r=S,a=T,l=Y,G!=null?Zs(i,!!a,G,!1):!!l!=!!a&&(r!=null?Zs(i,!!a,r,!0):Zs(i,!!a,a?[]:"",!1));return;case"textarea":Y=G=null;for(S in a)if(f=a[S],a.hasOwnProperty(S)&&f!=null&&!l.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:ae(i,r,S,null,l,f)}for(T in l)if(f=l[T],m=a[T],l.hasOwnProperty(T)&&(f!=null||m!=null))switch(T){case"value":G=f;break;case"defaultValue":Y=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==m&&ae(i,r,T,f,l,m)}Ru(i,G,Y);return;case"option":for(var yt in a)G=a[yt],a.hasOwnProperty(yt)&&G!=null&&!l.hasOwnProperty(yt)&&(yt==="selected"?i.selected=!1:ae(i,r,yt,null,l,G));for(D in l)G=l[D],Y=a[D],l.hasOwnProperty(D)&&G!==Y&&(G!=null||Y!=null)&&(D==="selected"?i.selected=G&&typeof G!="function"&&typeof G!="symbol":ae(i,r,D,G,l,Y));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var At in a)G=a[At],a.hasOwnProperty(At)&&G!=null&&!l.hasOwnProperty(At)&&ae(i,r,At,null,l,G);for(H in l)if(G=l[H],Y=a[H],l.hasOwnProperty(H)&&G!==Y&&(G!=null||Y!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,r));break;default:ae(i,r,H,G,l,Y)}return;default:if(io(r)){for(var oe in a)G=a[oe],a.hasOwnProperty(oe)&&G!==void 0&&!l.hasOwnProperty(oe)&&Qm(i,r,oe,void 0,l,G);for(X in l)G=l[X],Y=a[X],!l.hasOwnProperty(X)||G===Y||G===void 0&&Y===void 0||Qm(i,r,X,G,l,Y);return}}for(var U in a)G=a[U],a.hasOwnProperty(U)&&G!=null&&!l.hasOwnProperty(U)&&ae(i,r,U,null,l,G);for(tt in l)G=l[tt],Y=a[tt],!l.hasOwnProperty(tt)||G===Y||G==null&&Y==null||ae(i,r,tt,G,l,Y)}function mE(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function yx(){if(typeof performance.getEntriesByType=="function"){for(var i=0,r=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var f=a[l],m=f.transferSize,T=f.initiatorType,S=f.duration;if(m&&S&&mE(T)){for(T=0,S=f.responseEnd,l+=1;l<a.length;l++){var D=a[l],H=D.startTime;if(H>S)break;var X=D.transferSize,tt=D.initiatorType;X&&mE(tt)&&(D=D.responseEnd,T+=X*(D<S?1:(S-H)/(D-H)))}if(--l,r+=8*(m+T)/(f.duration/1e3),i++,10<i)break}}if(0<i)return r/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var Xm=null,$m=null;function Ih(i){return i.nodeType===9?i:i.ownerDocument}function pE(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function gE(i,r){if(i===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&r==="foreignObject"?0:i}function Wm(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Zm=null;function _x(){var i=window.event;return i&&i.type==="popstate"?i===Zm?!1:(Zm=i,!0):(Zm=null,!1)}var yE=typeof setTimeout=="function"?setTimeout:void 0,vx=typeof clearTimeout=="function"?clearTimeout:void 0,_E=typeof Promise=="function"?Promise:void 0,Tx=typeof queueMicrotask=="function"?queueMicrotask:typeof _E<"u"?function(i){return _E.resolve(null).then(i).catch(Ex)}:yE;function Ex(i){setTimeout(function(){throw i})}function Ar(i){return i==="head"}function vE(i,r){var a=r,l=0;do{var f=a.nextSibling;if(i.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(l===0){i.removeChild(f),Uo(r);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")pc(i.ownerDocument.documentElement);else if(a==="head"){a=i.ownerDocument.head,pc(a);for(var m=a.firstChild;m;){var T=m.nextSibling,S=m.nodeName;m[Bi]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&m.rel.toLowerCase()==="stylesheet"||a.removeChild(m),m=T}}else a==="body"&&pc(i.ownerDocument.body);a=f}while(a);Uo(r)}function TE(i,r){var a=i;i=0;do{var l=a.nextSibling;if(a.nodeType===1?r?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(r?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(i===0)break;i--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||i++;a=l}while(a)}function Jm(i){var r=i.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Jm(a),to(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}i.removeChild(a)}}function Ax(i,r,a,l){for(;i.nodeType===1;){var f=a;if(i.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(l){if(!i[Bi])switch(r){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(m=i.getAttribute("rel"),m==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(m!==f.rel||i.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||i.getAttribute("title")!==(f.title==null?null:f.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(m=i.getAttribute("src"),(m!==(f.src==null?null:f.src)||i.getAttribute("type")!==(f.type==null?null:f.type)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(r==="input"&&i.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&i.getAttribute("name")===m)return i}else return i;if(i=di(i.nextSibling),i===null)break}return null}function bx(i,r,a){if(r==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!a||(i=di(i.nextSibling),i===null))return null;return i}function EE(i,r){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!r||(i=di(i.nextSibling),i===null))return null;return i}function tp(i){return i.data==="$?"||i.data==="$~"}function ep(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function Sx(i,r){var a=i.ownerDocument;if(i.data==="$~")i._reactRetry=r;else if(i.data!=="$?"||a.readyState!=="loading")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),i._reactRetry=l}}function di(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return i}var np=null;function AE(i){i=i.nextSibling;for(var r=0;i;){if(i.nodeType===8){var a=i.data;if(a==="/$"||a==="/&"){if(r===0)return di(i.nextSibling);r--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||r++}i=i.nextSibling}return null}function bE(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var a=i.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(r===0)return i;r--}else a!=="/$"&&a!=="/&"||r++}i=i.previousSibling}return null}function SE(i,r,a){switch(r=Ih(a),i){case"html":if(i=r.documentElement,!i)throw Error(s(452));return i;case"head":if(i=r.head,!i)throw Error(s(453));return i;case"body":if(i=r.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}function pc(i){for(var r=i.attributes;r.length;)i.removeAttributeNode(r[0]);to(i)}var mi=new Map,wE=new Set;function Nh(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var js=at.d;at.d={f:wx,r:Rx,D:Cx,C:xx,L:Ix,m:Nx,X:Vx,S:Dx,M:Ox};function wx(){var i=js.f(),r=Eh();return i||r}function Rx(i){var r=ii(i);r!==null&&r.tag===5&&r.type==="form"?qv(r):js.r(i)}var ko=typeof document>"u"?null:document;function RE(i,r,a){var l=ko;if(l&&typeof r=="string"&&r){var f=Nn(r);f='link[rel="'+i+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),wE.has(f)||(wE.add(f),i={rel:i,crossOrigin:a,href:r},l.querySelector(f)===null&&(r=l.createElement("link"),fn(r,"link",i),Ue(r),l.head.appendChild(r)))}}function Cx(i){js.D(i),RE("dns-prefetch",i,null)}function xx(i,r){js.C(i,r),RE("preconnect",i,r)}function Ix(i,r,a){js.L(i,r,a);var l=ko;if(l&&i&&r){var f='link[rel="preload"][as="'+Nn(r)+'"]';r==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+Nn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+Nn(a.imageSizes)+'"]')):f+='[href="'+Nn(i)+'"]';var m=f;switch(r){case"style":m=jo(i);break;case"script":m=Lo(i)}mi.has(m)||(i=E({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:i,as:r},a),mi.set(m,i),l.querySelector(f)!==null||r==="style"&&l.querySelector(gc(m))||r==="script"&&l.querySelector(yc(m))||(r=l.createElement("link"),fn(r,"link",i),Ue(r),l.head.appendChild(r)))}}function Nx(i,r){js.m(i,r);var a=ko;if(a&&i){var l=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+Nn(l)+'"][href="'+Nn(i)+'"]',m=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=Lo(i)}if(!mi.has(m)&&(i=E({rel:"modulepreload",href:i},r),mi.set(m,i),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(yc(m)))return}l=a.createElement("link"),fn(l,"link",i),Ue(l),a.head.appendChild(l)}}}function Dx(i,r,a){js.S(i,r,a);var l=ko;if(l&&i){var f=qi(l).hoistableStyles,m=jo(i);r=r||"default";var T=f.get(m);if(!T){var S={loading:0,preload:null};if(T=l.querySelector(gc(m)))S.loading=5;else{i=E({rel:"stylesheet",href:i,"data-precedence":r},a),(a=mi.get(m))&&ip(i,a);var D=T=l.createElement("link");Ue(D),fn(D,"link",i),D._p=new Promise(function(H,X){D.onload=H,D.onerror=X}),D.addEventListener("load",function(){S.loading|=1}),D.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Dh(T,r,l)}T={type:"stylesheet",instance:T,count:1,state:S},f.set(m,T)}}}function Vx(i,r){js.X(i,r);var a=ko;if(a&&i){var l=qi(a).hoistableScripts,f=Lo(i),m=l.get(f);m||(m=a.querySelector(yc(f)),m||(i=E({src:i,async:!0},r),(r=mi.get(f))&&sp(i,r),m=a.createElement("script"),Ue(m),fn(m,"link",i),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(f,m))}}function Ox(i,r){js.M(i,r);var a=ko;if(a&&i){var l=qi(a).hoistableScripts,f=Lo(i),m=l.get(f);m||(m=a.querySelector(yc(f)),m||(i=E({src:i,async:!0,type:"module"},r),(r=mi.get(f))&&sp(i,r),m=a.createElement("script"),Ue(m),fn(m,"link",i),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(f,m))}}function CE(i,r,a,l){var f=(f=Nt.current)?Nh(f):null;if(!f)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=jo(a.href),a=qi(f).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){i=jo(a.href);var m=qi(f).hoistableStyles,T=m.get(i);if(T||(f=f.ownerDocument||f,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(i,T),(m=f.querySelector(gc(i)))&&!m._p&&(T.instance=m,T.state.loading=5),mi.has(i)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},mi.set(i,a),m||Mx(f,i,a,T.state))),r&&l===null)throw Error(s(528,""));return T}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Lo(a),a=qi(f).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function jo(i){return'href="'+Nn(i)+'"'}function gc(i){return'link[rel="stylesheet"]['+i+"]"}function xE(i){return E({},i,{"data-precedence":i.precedence,precedence:null})}function Mx(i,r,a,l){i.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=i.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),fn(r,"link",a),Ue(r),i.head.appendChild(r))}function Lo(i){return'[src="'+Nn(i)+'"]'}function yc(i){return"script[async]"+i}function IE(i,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=i.querySelector('style[data-href~="'+Nn(a.href)+'"]');if(l)return r.instance=l,Ue(l),l;var f=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(i.ownerDocument||i).createElement("style"),Ue(l),fn(l,"style",f),Dh(l,a.precedence,i),r.instance=l;case"stylesheet":f=jo(a.href);var m=i.querySelector(gc(f));if(m)return r.state.loading|=4,r.instance=m,Ue(m),m;l=xE(a),(f=mi.get(f))&&ip(l,f),m=(i.ownerDocument||i).createElement("link"),Ue(m);var T=m;return T._p=new Promise(function(S,D){T.onload=S,T.onerror=D}),fn(m,"link",l),r.state.loading|=4,Dh(m,a.precedence,i),r.instance=m;case"script":return m=Lo(a.src),(f=i.querySelector(yc(m)))?(r.instance=f,Ue(f),f):(l=a,(f=mi.get(m))&&(l=E({},a),sp(l,f)),i=i.ownerDocument||i,f=i.createElement("script"),Ue(f),fn(f,"link",l),i.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,Dh(l,a.precedence,i));return r.instance}function Dh(i,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,m=f,T=0;T<l.length;T++){var S=l[T];if(S.dataset.precedence===r)m=S;else if(m!==f)break}m?m.parentNode.insertBefore(i,m.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(i,r.firstChild))}function ip(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.title==null&&(i.title=r.title)}function sp(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.integrity==null&&(i.integrity=r.integrity)}var Vh=null;function NE(i,r,a){if(Vh===null){var l=new Map,f=Vh=new Map;f.set(a,l)}else f=Vh,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(i))return l;for(l.set(i,null),a=a.getElementsByTagName(i),f=0;f<a.length;f++){var m=a[f];if(!(m[Bi]||m[Le]||i==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var T=m.getAttribute(r)||"";T=i+T;var S=l.get(T);S?S.push(m):l.set(T,[m])}}return l}function DE(i,r,a){i=i.ownerDocument||i,i.head.insertBefore(a,r==="title"?i.querySelector("head > title"):null)}function Px(i,r,a){if(a===1||r.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;return r.rel==="stylesheet"?(i=r.disabled,typeof r.precedence=="string"&&i==null):!0;case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function VE(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function kx(i,r,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=jo(l.href),m=r.querySelector(gc(f));if(m){r=m._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(i.count++,i=Oh.bind(i),r.then(i,i)),a.state.loading|=4,a.instance=m,Ue(m);return}m=r.ownerDocument||r,l=xE(l),(f=mi.get(f))&&ip(l,f),m=m.createElement("link"),Ue(m);var T=m;T._p=new Promise(function(S,D){T.onload=S,T.onerror=D}),fn(m,"link",l),a.instance=m}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(a,r),(r=a.state.preload)&&(a.state.loading&3)===0&&(i.count++,a=Oh.bind(i),r.addEventListener("load",a),r.addEventListener("error",a))}}var rp=0;function jx(i,r){return i.stylesheets&&i.count===0&&Ph(i,i.stylesheets),0<i.count||0<i.imgCount?function(a){var l=setTimeout(function(){if(i.stylesheets&&Ph(i,i.stylesheets),i.unsuspend){var m=i.unsuspend;i.unsuspend=null,m()}},6e4+r);0<i.imgBytes&&rp===0&&(rp=62500*yx());var f=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&Ph(i,i.stylesheets),i.unsuspend)){var m=i.unsuspend;i.unsuspend=null,m()}},(i.imgBytes>rp?50:800)+r);return i.unsuspend=a,function(){i.unsuspend=null,clearTimeout(l),clearTimeout(f)}}:null}function Oh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ph(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Mh=null;function Ph(i,r){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Mh=new Map,r.forEach(Lx,i),Mh=null,Oh.call(i))}function Lx(i,r){if(!(r.state.loading&4)){var a=Mh.get(i);if(a)var l=a.get(null);else{a=new Map,Mh.set(i,a);for(var f=i.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var T=f[m];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(a.set(T.dataset.precedence,T),l=T)}l&&a.set(null,l)}f=r.instance,T=f.getAttribute("data-precedence"),m=a.get(T)||l,m===l&&a.set(null,f),a.set(T,f),this.count++,l=Oh.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),m?m.parentNode.insertBefore(f,m.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(f,i.firstChild)),r.state.loading|=4}}var _c={$$typeof:Z,Provider:null,Consumer:null,_currentValue:ft,_currentValue2:ft,_threadCount:0};function Ux(i,r,a,l,f,m,T,S,D){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=mt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.hiddenUpdates=mt(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function OE(i,r,a,l,f,m,T,S,D,H,X,tt){return i=new Ux(i,r,a,T,D,H,X,tt,S),r=1,m===!0&&(r|=24),m=Kn(3,null,null,r),i.current=m,m.stateNode=i,r=Ld(),r.refCount++,i.pooledCache=r,r.refCount++,m.memoizedState={element:l,isDehydrated:a,cache:r},qd(m),i}function ME(i){return i?(i=po,i):po}function PE(i,r,a,l,f,m){f=ME(f),l.context===null?l.context=f:l.pendingContext=f,l=hr(r),l.payload={element:a},m=m===void 0?null:m,m!==null&&(l.callback=m),a=fr(i,l,r),a!==null&&(kn(a,i,r),$l(a,i,r))}function kE(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var a=i.retryLane;i.retryLane=a!==0&&a<r?a:r}}function ap(i,r){kE(i,r),(i=i.alternate)&&kE(i,r)}function jE(i){if(i.tag===13||i.tag===31){var r=ya(i,67108864);r!==null&&kn(r,i,67108864),ap(i,67108864)}}function LE(i){if(i.tag===13||i.tag===31){var r=Wn();r=ra(r);var a=ya(i,r);a!==null&&kn(a,i,r),ap(i,r)}}var kh=!0;function Bx(i,r,a,l){var f=Q.T;Q.T=null;var m=at.p;try{at.p=2,op(i,r,a,l)}finally{at.p=m,Q.T=f}}function zx(i,r,a,l){var f=Q.T;Q.T=null;var m=at.p;try{at.p=8,op(i,r,a,l)}finally{at.p=m,Q.T=f}}function op(i,r,a,l){if(kh){var f=lp(l);if(f===null)Ym(i,r,l,jh,a),BE(i,l);else if(Fx(f,i,r,a,l))l.stopPropagation();else if(BE(i,l),r&4&&-1<qx.indexOf(i)){for(;f!==null;){var m=ii(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var T=wn(m.pendingLanes);if(T!==0){var S=m;for(S.pendingLanes|=2,S.entangledLanes|=2;T;){var D=1<<31-Te(T);S.entanglements[1]|=D,T&=~D}es(m),(Jt&6)===0&&(vh=on()+500,fc(0))}}break;case 31:case 13:S=ya(m,2),S!==null&&kn(S,m,2),Eh(),ap(m,2)}if(m=lp(l),m===null&&Ym(i,r,l,jh,a),m===f)break;f=m}f!==null&&l.stopPropagation()}else Ym(i,r,l,null,a)}}function lp(i){return i=si(i),cp(i)}var jh=null;function cp(i){if(jh=null,i=zi(i),i!==null){var r=c(i);if(r===null)i=null;else{var a=r.tag;if(a===13){if(i=u(r),i!==null)return i;i=null}else if(a===31){if(i=d(r),i!==null)return i;i=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return jh=i,null}function UE(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ei()){case Ti:return 2;case _s:return 8;case tn:case Al:return 32;case $s:return 268435456;default:return 32}default:return 32}}var up=!1,br=null,Sr=null,wr=null,vc=new Map,Tc=new Map,Rr=[],qx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function BE(i,r){switch(i){case"focusin":case"focusout":br=null;break;case"dragenter":case"dragleave":Sr=null;break;case"mouseover":case"mouseout":wr=null;break;case"pointerover":case"pointerout":vc.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tc.delete(r.pointerId)}}function Ec(i,r,a,l,f,m){return i===null||i.nativeEvent!==m?(i={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:m,targetContainers:[f]},r!==null&&(r=ii(r),r!==null&&jE(r)),i):(i.eventSystemFlags|=l,r=i.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),i)}function Fx(i,r,a,l,f){switch(r){case"focusin":return br=Ec(br,i,r,a,l,f),!0;case"dragenter":return Sr=Ec(Sr,i,r,a,l,f),!0;case"mouseover":return wr=Ec(wr,i,r,a,l,f),!0;case"pointerover":var m=f.pointerId;return vc.set(m,Ec(vc.get(m)||null,i,r,a,l,f)),!0;case"gotpointercapture":return m=f.pointerId,Tc.set(m,Ec(Tc.get(m)||null,i,r,a,l,f)),!0}return!1}function zE(i){var r=zi(i.target);if(r!==null){var a=c(r);if(a!==null){if(r=a.tag,r===13){if(r=u(a),r!==null){i.blockedOn=r,Ai(i.priority,function(){LE(a)});return}}else if(r===31){if(r=d(a),r!==null){i.blockedOn=r,Ai(i.priority,function(){LE(a)});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){i.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Lh(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var a=lp(i.nativeEvent);if(a===null){a=i.nativeEvent;var l=new a.constructor(a.type,a);Ml=l,a.target.dispatchEvent(l),Ml=null}else return r=ii(a),r!==null&&jE(r),i.blockedOn=a,!1;r.shift()}return!0}function qE(i,r,a){Lh(i)&&a.delete(r)}function Hx(){up=!1,br!==null&&Lh(br)&&(br=null),Sr!==null&&Lh(Sr)&&(Sr=null),wr!==null&&Lh(wr)&&(wr=null),vc.forEach(qE),Tc.forEach(qE)}function Uh(i,r){i.blockedOn===r&&(i.blockedOn=null,up||(up=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Hx)))}var Bh=null;function FE(i){Bh!==i&&(Bh=i,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Bh===i&&(Bh=null);for(var r=0;r<i.length;r+=3){var a=i[r],l=i[r+1],f=i[r+2];if(typeof l!="function"){if(cp(l||a)===null)continue;break}var m=ii(a);m!==null&&(i.splice(r,3),r-=3,lm(m,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function Uo(i){function r(D){return Uh(D,i)}br!==null&&Uh(br,i),Sr!==null&&Uh(Sr,i),wr!==null&&Uh(wr,i),vc.forEach(r),Tc.forEach(r);for(var a=0;a<Rr.length;a++){var l=Rr[a];l.blockedOn===i&&(l.blockedOn=null)}for(;0<Rr.length&&(a=Rr[0],a.blockedOn===null);)zE(a),a.blockedOn===null&&Rr.shift();if(a=(i.ownerDocument||i).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],m=a[l+1],T=f[nn]||null;if(typeof m=="function")T||FE(a);else if(T){var S=null;if(m&&m.hasAttribute("formAction")){if(f=m,T=m[nn]||null)S=T.formAction;else if(cp(f)!==null)continue}else S=T.action;typeof S=="function"?a[l+1]=S:(a.splice(l,3),l-=3),FE(a)}}}function HE(){function i(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(T){return f=T})},focusReset:"manual",scroll:"manual"})}function r(){f!==null&&(f(),f=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,f=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),f!==null&&(f(),f=null)}}}function hp(i){this._internalRoot=i}zh.prototype.render=hp.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=Wn();PE(a,l,i,r,null,null)},zh.prototype.unmount=hp.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;PE(i.current,2,null,i,null,null),Eh(),r[Ui]=null}};function zh(i){this._internalRoot=i}zh.prototype.unstable_scheduleHydration=function(i){if(i){var r=Eu();i={blockedOn:null,target:i,priority:r};for(var a=0;a<Rr.length&&r!==0&&r<Rr[a].priority;a++);Rr.splice(a,0,i),a===0&&zE(i)}};var GE=t.version;if(GE!=="19.2.3")throw Error(s(527,GE,"19.2.3"));at.findDOMNode=function(i){var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=g(r),i=i!==null?v(i):null,i=i===null?null:i.stateNode,i};var Gx={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qh.isDisabled&&qh.supportsFiber)try{en=qh.inject(Gx),Re=qh}catch{}}return bc.createRoot=function(i,r){if(!o(i))throw Error(s(299));var a=!1,l="",f=Zv,m=Jv,T=tT;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(m=r.onCaughtError),r.onRecoverableError!==void 0&&(T=r.onRecoverableError)),r=OE(i,1,!1,null,null,a,l,null,f,m,T,HE),i[Ui]=r.current,Km(i),new hp(r)},bc.hydrateRoot=function(i,r,a){if(!o(i))throw Error(s(299));var l=!1,f="",m=Zv,T=Jv,S=tT,D=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(T=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.formState!==void 0&&(D=a.formState)),r=OE(i,1,!0,r,a??null,l,f,D,m,T,S,HE),r.context=ME(null),a=r.current,l=Wn(),l=ra(l),f=hr(l),f.callback=null,fr(a,f,l),a=l,r.current.lanes=a,Rt(r,a),es(r),i[Ui]=r.current,Km(i),new zh(r)},bc.version="19.2.3",bc}var e0;function eI(){if(e0)return mp.exports;e0=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),mp.exports=tI(),mp.exports}var nI=eI();const iI=()=>{};var n0={};const eS=function(e){const t=[];let n=0;for(let s=0;s<e.length;s++){let o=e.charCodeAt(s);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&s+1<e.length&&(e.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(e.charCodeAt(++s)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},sI=function(e){const t=[];let n=0,s=0;for(;n<e.length;){const o=e[n++];if(o<128)t[s++]=String.fromCharCode(o);else if(o>191&&o<224){const c=e[n++];t[s++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=e[n++],u=e[n++],d=e[n++],p=((o&7)<<18|(c&63)<<12|(u&63)<<6|d&63)-65536;t[s++]=String.fromCharCode(55296+(p>>10)),t[s++]=String.fromCharCode(56320+(p&1023))}else{const c=e[n++],u=e[n++];t[s++]=String.fromCharCode((o&15)<<12|(c&63)<<6|u&63)}}return t.join("")},nS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<e.length;o+=3){const c=e[o],u=o+1<e.length,d=u?e[o+1]:0,p=o+2<e.length,g=p?e[o+2]:0,v=c>>2,E=(c&3)<<4|d>>4;let b=(d&15)<<2|g>>6,C=g&63;p||(C=64,u||(b=64)),s.push(n[v],n[E],n[b],n[C])}return s.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(eS(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):sI(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<e.length;){const c=n[e.charAt(o++)],d=o<e.length?n[e.charAt(o)]:0;++o;const g=o<e.length?n[e.charAt(o)]:64;++o;const E=o<e.length?n[e.charAt(o)]:64;if(++o,c==null||d==null||g==null||E==null)throw new rI;const b=c<<2|d>>4;if(s.push(b),g!==64){const C=d<<4&240|g>>2;if(s.push(C),E!==64){const j=g<<6&192|E;s.push(j)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class rI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const aI=function(e){const t=eS(e);return nS.encodeByteArray(t,!0)},vf=function(e){return aI(e).replace(/\./g,"")},iS=function(e){try{return nS.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function oI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const lI=()=>oI().__FIREBASE_DEFAULTS__,cI=()=>{if(typeof process>"u"||typeof n0>"u")return;const e=n0.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},uI=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&iS(e[1]);return t&&JSON.parse(t)},Kf=()=>{try{return iI()||lI()||cI()||uI()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},sS=e=>Kf()?.emulatorHosts?.[e],rS=e=>{const t=sS(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),s]:[t.substring(0,n),s]},aS=()=>Kf()?.config,oS=e=>Kf()?.[`_${e}`];class hI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}function $r(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Yg(e){return(await fetch(e,{credentials:"include"})).ok}function lS(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=t||"demo-project",o=e.iat||0,c=e.sub||e.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...e};return[vf(JSON.stringify(n)),vf(JSON.stringify(u)),""].join(".")}const Vc={};function fI(){const e={prod:[],emulator:[]};for(const t of Object.keys(Vc))Vc[t]?e.emulator.push(t):e.prod.push(t);return e}function dI(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}let i0=!1;function Qg(e,t){if(typeof window>"u"||typeof document>"u"||!$r(window.location.host)||Vc[e]===t||Vc[e]||i0)return;Vc[e]=t;function n(b){return`__firebase__banner__${b}`}const s="__firebase__banner",c=fI().prod.length>0;function u(){const b=document.getElementById(s);b&&b.remove()}function d(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function p(b,C){b.setAttribute("width","24"),b.setAttribute("id",C),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function g(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{i0=!0,u()},b}function v(b,C){b.setAttribute("id",C),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function E(){const b=dI(s),C=n("text"),j=document.getElementById(C)||document.createElement("span"),B=n("learnmore"),z=document.getElementById(B)||document.createElement("a"),$=n("preprendIcon"),et=document.getElementById($)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const Z=b.element;d(Z),v(z,B);const lt=g();p(et,$),Z.append(et,j,z,lt),document.body.appendChild(Z)}c?(j.innerText="Preview backend disconnected.",et.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(et.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,j.innerText="Preview backend running in this workspace."),j.setAttribute("id",C)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}function An(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function mI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(An())}function pI(){const e=Kf()?.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function gI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function yI(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function _I(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function vI(){const e=An();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function TI(){return!pI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function EI(){try{return typeof indexedDB=="object"}catch{return!1}}function AI(){return new Promise((e,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),e(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(n){t(n)}})}const bI="FirebaseError";class ps extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=bI,Object.setPrototypeOf(this,ps.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,iu.prototype.create)}}class iu{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},o=`${this.service}/${t}`,c=this.errors[t],u=c?SI(c,s):"Error",d=`${this.serviceName}: ${u} (${o}).`;return new ps(o,d,s)}}function SI(e,t){return e.replace(wI,(n,s)=>{const o=t[s];return o!=null?String(o):`<${s}?>`})}const wI=/\{\$([^}]+)}/g;function RI(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Ba(e,t){if(e===t)return!0;const n=Object.keys(e),s=Object.keys(t);for(const o of n){if(!s.includes(o))return!1;const c=e[o],u=t[o];if(s0(c)&&s0(u)){if(!Ba(c,u))return!1}else if(c!==u)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function s0(e){return e!==null&&typeof e=="object"}function su(e){const t=[];for(const[n,s]of Object.entries(e))Array.isArray(s)?s.forEach(o=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function Rc(e){const t={};return e.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,c]=s.split("=");t[decodeURIComponent(o)]=decodeURIComponent(c)}}),t}function Cc(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function CI(e,t){const n=new xI(e,t);return n.subscribe.bind(n)}class xI{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,s){let o;if(t===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");II(t,["next","error","complete"])?o=t:o={next:t,error:n,complete:s},o.next===void 0&&(o.next=_p),o.error===void 0&&(o.error=_p),o.complete===void 0&&(o.complete=_p);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function II(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function _p(){}function Ne(e){return e&&e._delegate?e._delegate:e}class zr{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Va="[DEFAULT]";class NI{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new hI;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t?.identifier),s=t?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(VI(t))try{this.getOrInitializeService({instanceIdentifier:Va})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:o});s.resolve(c)}catch{}}}}clearInstance(t=Va){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Va){return this.instances.has(t)}getOptions(t=Va){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[c,u]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(c);s===d&&u.resolve(o)}return o}onInit(t,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(t),this.onInitCallbacks.set(s,o);const c=this.instances.get(s);return c&&t(c,s),()=>{o.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:DI(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=Va){return this.component?this.component.multipleInstances?t:Va:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function DI(e){return e===Va?void 0:e}function VI(e){return e.instantiationMode==="EAGER"}class OI{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new NI(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}var Ht;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(Ht||(Ht={}));const MI={debug:Ht.DEBUG,verbose:Ht.VERBOSE,info:Ht.INFO,warn:Ht.WARN,error:Ht.ERROR,silent:Ht.SILENT},PI=Ht.INFO,kI={[Ht.DEBUG]:"log",[Ht.VERBOSE]:"log",[Ht.INFO]:"info",[Ht.WARN]:"warn",[Ht.ERROR]:"error"},jI=(e,t,...n)=>{if(t<e.logLevel)return;const s=new Date().toISOString(),o=kI[t];if(o)console[o](`[${s}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Xg{constructor(t){this.name=t,this._logLevel=PI,this._logHandler=jI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ht))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?MI[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ht.DEBUG,...t),this._logHandler(this,Ht.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ht.VERBOSE,...t),this._logHandler(this,Ht.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ht.INFO,...t),this._logHandler(this,Ht.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ht.WARN,...t),this._logHandler(this,Ht.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ht.ERROR,...t),this._logHandler(this,Ht.ERROR,...t)}}const LI=(e,t)=>t.some(n=>e instanceof n);let r0,a0;function UI(){return r0||(r0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function BI(){return a0||(a0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const cS=new WeakMap,Wp=new WeakMap,uS=new WeakMap,vp=new WeakMap,$g=new WeakMap;function zI(e){const t=new Promise((n,s)=>{const o=()=>{e.removeEventListener("success",c),e.removeEventListener("error",u)},c=()=>{n(kr(e.result)),o()},u=()=>{s(e.error),o()};e.addEventListener("success",c),e.addEventListener("error",u)});return t.then(n=>{n instanceof IDBCursor&&cS.set(n,e)}).catch(()=>{}),$g.set(t,e),t}function qI(e){if(Wp.has(e))return;const t=new Promise((n,s)=>{const o=()=>{e.removeEventListener("complete",c),e.removeEventListener("error",u),e.removeEventListener("abort",u)},c=()=>{n(),o()},u=()=>{s(e.error||new DOMException("AbortError","AbortError")),o()};e.addEventListener("complete",c),e.addEventListener("error",u),e.addEventListener("abort",u)});Wp.set(e,t)}let Zp={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Wp.get(e);if(t==="objectStoreNames")return e.objectStoreNames||uS.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return kr(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function FI(e){Zp=e(Zp)}function HI(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=e.call(Tp(this),t,...n);return uS.set(s,t.sort?t.sort():[t]),kr(s)}:BI().includes(e)?function(...t){return e.apply(Tp(this),t),kr(cS.get(this))}:function(...t){return kr(e.apply(Tp(this),t))}}function GI(e){return typeof e=="function"?HI(e):(e instanceof IDBTransaction&&qI(e),LI(e,UI())?new Proxy(e,Zp):e)}function kr(e){if(e instanceof IDBRequest)return zI(e);if(vp.has(e))return vp.get(e);const t=GI(e);return t!==e&&(vp.set(e,t),$g.set(t,e)),t}const Tp=e=>$g.get(e);function KI(e,t,{blocked:n,upgrade:s,blocking:o,terminated:c}={}){const u=indexedDB.open(e,t),d=kr(u);return s&&u.addEventListener("upgradeneeded",p=>{s(kr(u.result),p.oldVersion,p.newVersion,kr(u.transaction),p)}),n&&u.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),d.then(p=>{c&&p.addEventListener("close",()=>c()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const YI=["get","getKey","getAll","getAllKeys","count"],QI=["put","add","delete","clear"],Ep=new Map;function o0(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Ep.get(t))return Ep.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,o=QI.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||YI.includes(n)))return;const c=async function(u,...d){const p=this.transaction(u,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(d.shift())),(await Promise.all([g[n](...d),o&&p.done]))[0]};return Ep.set(t,c),c}FI(e=>({...e,get:(t,n,s)=>o0(t,n)||e.get(t,n,s),has:(t,n)=>!!o0(t,n)||e.has(t,n)}));class XI{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if($I(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function $I(e){return e.getComponent()?.type==="VERSION"}const Jp="@firebase/app",l0="0.14.6";const zs=new Xg("@firebase/app"),WI="@firebase/app-compat",ZI="@firebase/analytics-compat",JI="@firebase/analytics",tN="@firebase/app-check-compat",eN="@firebase/app-check",nN="@firebase/auth",iN="@firebase/auth-compat",sN="@firebase/database",rN="@firebase/data-connect",aN="@firebase/database-compat",oN="@firebase/functions",lN="@firebase/functions-compat",cN="@firebase/installations",uN="@firebase/installations-compat",hN="@firebase/messaging",fN="@firebase/messaging-compat",dN="@firebase/performance",mN="@firebase/performance-compat",pN="@firebase/remote-config",gN="@firebase/remote-config-compat",yN="@firebase/storage",_N="@firebase/storage-compat",vN="@firebase/firestore",TN="@firebase/ai",EN="@firebase/firestore-compat",AN="firebase",bN="12.6.0";const tg="[DEFAULT]",SN={[Jp]:"fire-core",[WI]:"fire-core-compat",[JI]:"fire-analytics",[ZI]:"fire-analytics-compat",[eN]:"fire-app-check",[tN]:"fire-app-check-compat",[nN]:"fire-auth",[iN]:"fire-auth-compat",[sN]:"fire-rtdb",[rN]:"fire-data-connect",[aN]:"fire-rtdb-compat",[oN]:"fire-fn",[lN]:"fire-fn-compat",[cN]:"fire-iid",[uN]:"fire-iid-compat",[hN]:"fire-fcm",[fN]:"fire-fcm-compat",[dN]:"fire-perf",[mN]:"fire-perf-compat",[pN]:"fire-rc",[gN]:"fire-rc-compat",[yN]:"fire-gcs",[_N]:"fire-gcs-compat",[vN]:"fire-fst",[EN]:"fire-fst-compat",[TN]:"fire-vertex","fire-js":"fire-js",[AN]:"fire-js-all"};const Tf=new Map,wN=new Map,eg=new Map;function c0(e,t){try{e.container.addComponent(t)}catch(n){zs.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function za(e){const t=e.name;if(eg.has(t))return zs.debug(`There were multiple attempts to register component ${t}.`),!1;eg.set(t,e);for(const n of Tf.values())c0(n,e);for(const n of wN.values())c0(n,e);return!0}function Yf(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Zn(e){return e==null?!1:e.settings!==void 0}const RN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},jr=new iu("app","Firebase",RN);class CN{constructor(t,n,s){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new zr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw jr.create("app-deleted",{appName:this._name})}}const Qa=bN;function hS(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const s={name:tg,automaticDataCollectionEnabled:!0,...t},o=s.name;if(typeof o!="string"||!o)throw jr.create("bad-app-name",{appName:String(o)});if(n||(n=aS()),!n)throw jr.create("no-options");const c=Tf.get(o);if(c){if(Ba(n,c.options)&&Ba(s,c.config))return c;throw jr.create("duplicate-app",{appName:o})}const u=new OI(o);for(const p of eg.values())u.addComponent(p);const d=new CN(n,s,u);return Tf.set(o,d),d}function Wg(e=tg){const t=Tf.get(e);if(!t&&e===tg&&aS())return hS();if(!t)throw jr.create("no-app",{appName:e});return t}function rs(e,t,n){let s=SN[e]??e;n&&(s+=`-${n}`);const o=s.match(/\s|\//),c=t.match(/\s|\//);if(o||c){const u=[`Unable to register library "${s}" with version "${t}":`];o&&u.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&c&&u.push("and"),c&&u.push(`version name "${t}" contains illegal characters (whitespace or "/")`),zs.warn(u.join(" "));return}za(new zr(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}const xN="firebase-heartbeat-database",IN=1,Fc="firebase-heartbeat-store";let Ap=null;function fS(){return Ap||(Ap=KI(xN,IN,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(Fc)}catch(n){console.warn(n)}}}}).catch(e=>{throw jr.create("idb-open",{originalErrorMessage:e.message})})),Ap}async function NN(e){try{const n=(await fS()).transaction(Fc),s=await n.objectStore(Fc).get(dS(e));return await n.done,s}catch(t){if(t instanceof ps)zs.warn(t.message);else{const n=jr.create("idb-get",{originalErrorMessage:t?.message});zs.warn(n.message)}}}async function u0(e,t){try{const s=(await fS()).transaction(Fc,"readwrite");await s.objectStore(Fc).put(t,dS(e)),await s.done}catch(n){if(n instanceof ps)zs.warn(n.message);else{const s=jr.create("idb-set",{originalErrorMessage:n?.message});zs.warn(s.message)}}}function dS(e){return`${e.name}!${e.options.appId}`}const DN=1024,VN=30;class ON{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new PN(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=h0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>VN){const o=kN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){zs.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=h0(),{heartbeatsToSend:n,unsentEntries:s}=MN(this._heartbeatsCache.heartbeats),o=vf(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return zs.warn(t),""}}}function h0(){return new Date().toISOString().substring(0,10)}function MN(e,t=DN){const n=[];let s=e.slice();for(const o of e){const c=n.find(u=>u.agent===o.agent);if(c){if(c.dates.push(o.date),f0(n)>t){c.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),f0(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class PN{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return EI()?AI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await NN(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return u0(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return u0(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function f0(e){return vf(JSON.stringify({version:2,heartbeats:e})).length}function kN(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let s=1;s<e.length;s++)e[s].date<n&&(n=e[s].date,t=s);return t}function jN(e){za(new zr("platform-logger",t=>new XI(t),"PRIVATE")),za(new zr("heartbeat",t=>new ON(t),"PRIVATE")),rs(Jp,l0,e),rs(Jp,l0,"esm2020"),rs("fire-js","")}jN("");var LN="firebase",UN="12.7.0";rs(LN,UN,"app");function mS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const BN=mS,pS=new iu("auth","Firebase",mS());const Ef=new Xg("@firebase/auth");function zN(e,...t){Ef.logLevel<=Ht.WARN&&Ef.warn(`Auth (${Qa}): ${e}`,...t)}function sf(e,...t){Ef.logLevel<=Ht.ERROR&&Ef.error(`Auth (${Qa}): ${e}`,...t)}function ki(e,...t){throw Zg(e,...t)}function as(e,...t){return Zg(e,...t)}function gS(e,t,n){const s={...BN(),[t]:n};return new iu("auth","Firebase",s).create(t,{appName:e.name})}function Bs(e){return gS(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Zg(e,...t){if(typeof e!="string"){const n=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=e.name),e._errorFactory.create(n,...s)}return pS.create(e,...t)}function bt(e,t,...n){if(!e)throw Zg(t,...n)}function Ls(e){const t="INTERNAL ASSERTION FAILED: "+e;throw sf(t),new Error(t)}function qs(e,t){e||Ls(t)}function ng(){return typeof self<"u"&&self.location?.href||""}function qN(){return d0()==="http:"||d0()==="https:"}function d0(){return typeof self<"u"&&self.location?.protocol||null}function FN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(qN()||yI()||"connection"in navigator)?navigator.onLine:!0}function HN(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}class ru{constructor(t,n){this.shortDelay=t,this.longDelay=n,qs(n>t,"Short delay should be less than long delay!"),this.isMobile=mI()||_I()}get(){return FN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Jg(e,t){qs(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class yS{static initialize(t,n,s){this.fetchImpl=t,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ls("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ls("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ls("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const GN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const KN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],YN=new ru(3e4,6e4);function Ys(e,t){return e.tenantId&&!t.tenantId?{...t,tenantId:e.tenantId}:t}async function Qs(e,t,n,s,o={}){return _S(e,o,async()=>{let c={},u={};s&&(t==="GET"?u=s:c={body:JSON.stringify(s)});const d=su({key:e.config.apiKey,...u}).slice(1),p=await e._getAdditionalHeaders();p["Content-Type"]="application/json",e.languageCode&&(p["X-Firebase-Locale"]=e.languageCode);const g={method:t,headers:p,...c};return gI()||(g.referrerPolicy="no-referrer"),e.emulatorConfig&&$r(e.emulatorConfig.host)&&(g.credentials="include"),yS.fetch()(await vS(e,e.config.apiHost,n,d),g)})}async function _S(e,t,n){e._canInitEmulator=!1;const s={...GN,...t};try{const o=new XN(e),c=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const u=await c.json();if("needConfirmation"in u)throw Fh(e,"account-exists-with-different-credential",u);if(c.ok&&!("errorMessage"in u))return u;{const d=c.ok?u.errorMessage:u.error.message,[p,g]=d.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Fh(e,"credential-already-in-use",u);if(p==="EMAIL_EXISTS")throw Fh(e,"email-already-in-use",u);if(p==="USER_DISABLED")throw Fh(e,"user-disabled",u);const v=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw gS(e,v,g);ki(e,v)}}catch(o){if(o instanceof ps)throw o;ki(e,"network-request-failed",{message:String(o)})}}async function au(e,t,n,s,o={}){const c=await Qs(e,t,n,s,o);return"mfaPendingCredential"in c&&ki(e,"multi-factor-auth-required",{_serverResponse:c}),c}async function vS(e,t,n,s){const o=`${t}${n}?${s}`,c=e,u=c.config.emulator?Jg(e.config,o):`${e.config.apiScheme}://${o}`;return KN.includes(n)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(u).toString():u}function QN(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class XN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(as(this.auth,"network-request-failed")),YN.get())})}}function Fh(e,t,n){const s={appName:e.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=as(e,t,s);return o.customData._tokenResponse=n,o}function m0(e){return e!==void 0&&e.enterprise!==void 0}class $N{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return QN(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function WN(e,t){return Qs(e,"GET","/v2/recaptchaConfig",Ys(e,t))}async function ZN(e,t){return Qs(e,"POST","/v1/accounts:delete",t)}async function Af(e,t){return Qs(e,"POST","/v1/accounts:lookup",t)}function Oc(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function JN(e,t=!1){const n=Ne(e),s=await n.getIdToken(t),o=ty(s);bt(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,u=c?.sign_in_provider;return{claims:o,token:s,authTime:Oc(bp(o.auth_time)),issuedAtTime:Oc(bp(o.iat)),expirationTime:Oc(bp(o.exp)),signInProvider:u||null,signInSecondFactor:c?.sign_in_second_factor||null}}function bp(e){return Number(e)*1e3}function ty(e){const[t,n,s]=e.split(".");if(t===void 0||n===void 0||s===void 0)return sf("JWT malformed, contained fewer than 3 sections"),null;try{const o=iS(n);return o?JSON.parse(o):(sf("Failed to decode base64 JWT payload"),null)}catch(o){return sf("Caught error parsing JWT payload as JSON",o?.toString()),null}}function p0(e){const t=ty(e);return bt(t,"internal-error"),bt(typeof t.exp<"u","internal-error"),bt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Hc(e,t,n=!1){if(n)return t;try{return await t}catch(s){throw s instanceof ps&&tD(s)&&e.auth.currentUser===e&&await e.auth.signOut(),s}}function tD({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}class eD{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class ig{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Oc(this.lastLoginAt),this.creationTime=Oc(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function bf(e){const t=e.auth,n=await e.getIdToken(),s=await Hc(e,Af(t,{idToken:n}));bt(s?.users.length,t,"internal-error");const o=s.users[0];e._notifyReloadListener(o);const c=o.providerUserInfo?.length?TS(o.providerUserInfo):[],u=iD(e.providerData,c),d=e.isAnonymous,p=!(e.email&&o.passwordHash)&&!u?.length,g=d?p:!1,v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new ig(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(e,v)}async function nD(e){const t=Ne(e);await bf(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function iD(e,t){return[...e.filter(s=>!t.some(o=>o.providerId===s.providerId)),...t]}function TS(e){return e.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function sD(e,t){const n=await _S(e,{},async()=>{const s=su({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:c}=e.config,u=await vS(e,o,"/v1/token",`key=${c}`),d=await e._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:d,body:s};return e.emulatorConfig&&$r(e.emulatorConfig.host)&&(p.credentials="include"),yS.fetch()(u,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function rD(e,t){return Qs(e,"POST","/v2/accounts:revokeToken",Ys(e,t))}class Wo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){bt(t.idToken,"internal-error"),bt(typeof t.idToken<"u","internal-error"),bt(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):p0(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){bt(t.length!==0,"internal-error");const n=p0(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(bt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:s,refreshToken:o,expiresIn:c}=await sD(t,n);this.updateTokensAndExpiration(s,o,Number(c))}updateTokensAndExpiration(t,n,s){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,n){const{refreshToken:s,accessToken:o,expirationTime:c}=n,u=new Wo;return s&&(bt(typeof s=="string","internal-error",{appName:t}),u.refreshToken=s),o&&(bt(typeof o=="string","internal-error",{appName:t}),u.accessToken=o),c&&(bt(typeof c=="number","internal-error",{appName:t}),u.expirationTime=c),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Wo,this.toJSON())}_performRefresh(){return Ls("not implemented")}}function xr(e,t){bt(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class Mi{constructor({uid:t,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new eD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new ig(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const n=await Hc(this,this.stsTokenManager.getToken(this.auth,t));return bt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return JN(this,t)}reload(){return nD(this)}_assign(t){this!==t&&(bt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new Mi({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){bt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),n&&await bf(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Zn(this.auth.app))return Promise.reject(Bs(this.auth));const t=await this.getIdToken();return await Hc(this,ZN(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const s=n.displayName??void 0,o=n.email??void 0,c=n.phoneNumber??void 0,u=n.photoURL??void 0,d=n.tenantId??void 0,p=n._redirectEventId??void 0,g=n.createdAt??void 0,v=n.lastLoginAt??void 0,{uid:E,emailVerified:b,isAnonymous:C,providerData:j,stsTokenManager:B}=n;bt(E&&B,t,"internal-error");const z=Wo.fromJSON(this.name,B);bt(typeof E=="string",t,"internal-error"),xr(s,t.name),xr(o,t.name),bt(typeof b=="boolean",t,"internal-error"),bt(typeof C=="boolean",t,"internal-error"),xr(c,t.name),xr(u,t.name),xr(d,t.name),xr(p,t.name),xr(g,t.name),xr(v,t.name);const $=new Mi({uid:E,auth:t,email:o,emailVerified:b,displayName:s,isAnonymous:C,photoURL:u,phoneNumber:c,tenantId:d,stsTokenManager:z,createdAt:g,lastLoginAt:v});return j&&Array.isArray(j)&&($.providerData=j.map(et=>({...et}))),p&&($._redirectEventId=p),$}static async _fromIdTokenResponse(t,n,s=!1){const o=new Wo;o.updateFromServerResponse(n);const c=new Mi({uid:n.localId,auth:t,stsTokenManager:o,isAnonymous:s});return await bf(c),c}static async _fromGetAccountInfoResponse(t,n,s){const o=n.users[0];bt(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?TS(o.providerUserInfo):[],u=!(o.email&&o.passwordHash)&&!c?.length,d=new Wo;d.updateFromIdToken(s);const p=new Mi({uid:o.localId,auth:t,stsTokenManager:d,isAnonymous:u}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new ig(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(p,g),p}}const g0=new Map;function Us(e){qs(e instanceof Function,"Expected a class definition");let t=g0.get(e);return t?(qs(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,g0.set(e,t),t)}class ES{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}ES.type="NONE";const y0=ES;function rf(e,t,n){return`firebase:${e}:${t}:${n}`}class Zo{constructor(t,n,s){this.persistence=t,this.auth=n,this.userKey=s;const{config:o,name:c}=this.auth;this.fullUserKey=rf(this.userKey,o.apiKey,c),this.fullPersistenceKey=rf("persistence",o.apiKey,c),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await Af(this.auth,{idToken:t}).catch(()=>{});return n?Mi._fromGetAccountInfoResponse(this.auth,n,t):null}return Mi._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,s="authUser"){if(!n.length)return new Zo(Us(y0),t,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let c=o[0]||Us(y0);const u=rf(s,t.config.apiKey,t.name);let d=null;for(const g of n)try{const v=await g._get(u);if(v){let E;if(typeof v=="string"){const b=await Af(t,{idToken:v}).catch(()=>{});if(!b)break;E=await Mi._fromGetAccountInfoResponse(t,b,v)}else E=Mi._fromJSON(t,v);g!==c&&(d=E),c=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!c._shouldAllowMigration||!p.length?new Zo(c,t,s):(c=p[0],d&&await c._set(u,d.toJSON()),await Promise.all(n.map(async g=>{if(g!==c)try{await g._remove(u)}catch{}})),new Zo(c,t,s))}}function _0(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(wS(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(AS(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(CS(t))return"Blackberry";if(xS(t))return"Webos";if(bS(t))return"Safari";if((t.includes("chrome/")||SS(t))&&!t.includes("edge/"))return"Chrome";if(RS(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=e.match(n);if(s?.length===2)return s[1]}return"Other"}function AS(e=An()){return/firefox\//i.test(e)}function bS(e=An()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function SS(e=An()){return/crios\//i.test(e)}function wS(e=An()){return/iemobile/i.test(e)}function RS(e=An()){return/android/i.test(e)}function CS(e=An()){return/blackberry/i.test(e)}function xS(e=An()){return/webos/i.test(e)}function ey(e=An()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function aD(e=An()){return ey(e)&&!!window.navigator?.standalone}function oD(){return vI()&&document.documentMode===10}function IS(e=An()){return ey(e)||RS(e)||xS(e)||CS(e)||/windows phone/i.test(e)||wS(e)}function NS(e,t=[]){let n;switch(e){case"Browser":n=_0(An());break;case"Worker":n=`${_0(An())}-${e}`;break;default:n=e}const s=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Qa}/${s}`}class lD{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const s=c=>new Promise((u,d)=>{try{const p=t(c);u(p)}catch(p){d(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const s of this.queue)await s(t),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function cD(e,t={}){return Qs(e,"GET","/v2/passwordPolicy",Ys(e,t))}const uD=6;class hD{constructor(t){const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??uD,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=t.length>=s),o&&(n.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<t.length;o++)s=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,n,s,o,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class fD{constructor(t,n,s,o){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new v0(this),this.idTokenSubscription=new v0(this),this.beforeStateQueue=new lD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=pS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Us(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Zo.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await Af(this,{idToken:t}),s=await Mi._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Zn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(u,u))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,u=s?._redirectEventId,d=await this.tryRedirectSignIn(t);(!c||c===u)&&d?.user&&(s=d.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(c){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return bt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await bf(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=HN()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Zn(this.app))return Promise.reject(Bs(this));const n=t?Ne(t):null;return n&&bt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&bt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Zn(this.app)?Promise.reject(Bs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Zn(this.app)?Promise.reject(Bs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Us(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await cD(this),n=new hD(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new iu("auth","Firebase",t())}onAuthStateChanged(t,n,s){return this.registerStateListener(this.authStateSubscription,t,n,s)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,s){return this.registerStateListener(this.idTokenSubscription,t,n,s)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await rD(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,n){const s=await this.getOrInitRedirectPersistenceManager(n);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Us(t)||this._popupRedirectResolver;bt(n,this,"argument-error"),this.redirectPersistenceManager=await Zo.create(this,[Us(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,s,o){if(this._deleted)return()=>{};const c=typeof n=="function"?n:n.next.bind(n);let u=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(bt(d,this,"internal-error"),d.then(()=>{u||c(this.currentUser)}),typeof n=="function"){const p=t.addObserver(n,s,o);return()=>{u=!0,p()}}else{const p=t.addObserver(n);return()=>{u=!0,p()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return bt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=NS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(t["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){if(Zn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&zN(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Wr(e){return Ne(e)}class v0{constructor(t){this.auth=t,this.observer=null,this.addObserver=CI(n=>this.observer=n)}get next(){return bt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Qf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function dD(e){Qf=e}function DS(e){return Qf.loadJS(e)}function mD(){return Qf.recaptchaEnterpriseScript}function pD(){return Qf.gapiScript}function gD(e){return`__${e}${Math.floor(Math.random()*1e6)}`}class yD{constructor(){this.enterprise=new _D}ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}class _D{ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}const vD="recaptcha-enterprise",VS="NO_RECAPTCHA";class TD{constructor(t){this.type=vD,this.auth=Wr(t)}async verify(t="verify",n=!1){async function s(c){if(!n){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(u,d)=>{WN(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const g=new $N(p);return c.tenantId==null?c._agentRecaptchaConfig=g:c._tenantRecaptchaConfigs[c.tenantId]=g,u(g.siteKey)}}).catch(p=>{d(p)})})}function o(c,u,d){const p=window.grecaptcha;m0(p)?p.enterprise.ready(()=>{p.enterprise.execute(c,{action:t}).then(g=>{u(g)}).catch(()=>{u(VS)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new yD().execute("siteKey",{action:"verify"}):new Promise((c,u)=>{s(this.auth).then(d=>{if(!n&&m0(window.grecaptcha))o(d,c,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let p=mD();p.length!==0&&(p+=d),DS(p).then(()=>{o(d,c,u)}).catch(g=>{u(g)})}}).catch(d=>{u(d)})})}}async function T0(e,t,n,s=!1,o=!1){const c=new TD(e);let u;if(o)u=VS;else try{u=await c.verify(n)}catch{u=await c.verify(n,!0)}const d={...t};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const p=d.phoneEnrollmentInfo.phoneNumber,g=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const p=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return s?Object.assign(d,{captchaResp:u}):Object.assign(d,{captchaResponse:u}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function Sf(e,t,n,s,o){if(e._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await T0(e,t,n,n==="getOobCode");return s(e,c)}else return s(e,t).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await T0(e,t,n,n==="getOobCode");return s(e,u)}else return Promise.reject(c)})}function ED(e,t){const n=Yf(e,"auth");if(n.isInitialized()){const o=n.getImmediate(),c=n.getOptions();if(Ba(c,t??{}))return o;ki(o,"already-initialized")}return n.initialize({options:t})}function AD(e,t){const n=t?.persistence||[],s=(Array.isArray(n)?n:[n]).map(Us);t?.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(s,t?.popupRedirectResolver)}function bD(e,t,n){const s=Wr(e);bt(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const o=!1,c=OS(t),{host:u,port:d}=SD(t),p=d===null?"":`:${d}`,g={url:`${c}//${u}${p}/`},v=Object.freeze({host:u,port:d,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){bt(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),bt(Ba(g,s.config.emulator)&&Ba(v,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=v,s.settings.appVerificationDisabledForTesting=!0,$r(u)?(Yg(`${c}//${u}${p}`),Qg("Auth",!0)):wD()}function OS(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function SD(e){const t=OS(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const c=o[1];return{host:c,port:E0(s.substr(c.length+1))}}else{const[c,u]=s.split(":");return{host:c,port:E0(u)}}}function E0(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function wD(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}class ny{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return Ls("not implemented")}_getIdTokenResponse(t){return Ls("not implemented")}_linkToIdToken(t,n){return Ls("not implemented")}_getReauthenticationResolver(t){return Ls("not implemented")}}async function RD(e,t){return Qs(e,"POST","/v1/accounts:signUp",t)}async function CD(e,t){return au(e,"POST","/v1/accounts:signInWithPassword",Ys(e,t))}async function xD(e,t){return Qs(e,"POST","/v1/accounts:sendOobCode",Ys(e,t))}async function ID(e,t){return xD(e,t)}async function ND(e,t){return au(e,"POST","/v1/accounts:signInWithEmailLink",Ys(e,t))}async function DD(e,t){return au(e,"POST","/v1/accounts:signInWithEmailLink",Ys(e,t))}class Gc extends ny{constructor(t,n,s,o=null){super("password",s),this._email=t,this._password=n,this._tenantId=o}static _fromEmailAndPassword(t,n){return new Gc(t,n,"password")}static _fromEmailAndCode(t,n,s=null){return new Gc(t,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Sf(t,n,"signInWithPassword",CD);case"emailLink":return ND(t,{email:this._email,oobCode:this._password});default:ki(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Sf(t,s,"signUpPassword",RD);case"emailLink":return DD(t,{idToken:n,email:this._email,oobCode:this._password});default:ki(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}async function Jo(e,t){return au(e,"POST","/v1/accounts:signInWithIdp",Ys(e,t))}const VD="http://localhost";class qa extends ny{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new qa(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):ki("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:o,...c}=n;if(!s||!o)return null;const u=new qa(s,o);return u.idToken=c.idToken||void 0,u.accessToken=c.accessToken||void 0,u.secret=c.secret,u.nonce=c.nonce,u.pendingToken=c.pendingToken||null,u}_getIdTokenResponse(t){const n=this.buildRequest();return Jo(t,n)}_linkToIdToken(t,n){const s=this.buildRequest();return s.idToken=n,Jo(t,s)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Jo(t,n)}buildRequest(){const t={requestUri:VD,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=su(n)}return t}}function OD(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function MD(e){const t=Rc(Cc(e)).link,n=t?Rc(Cc(t)).deep_link_id:null,s=Rc(Cc(e)).deep_link_id;return(s?Rc(Cc(s)).link:null)||s||n||t||e}class iy{constructor(t){const n=Rc(Cc(t)),s=n.apiKey??null,o=n.oobCode??null,c=OD(n.mode??null);bt(s&&o&&c,"argument-error"),this.apiKey=s,this.operation=c,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(t){const n=MD(t);try{return new iy(n)}catch{return null}}}class fl{constructor(){this.providerId=fl.PROVIDER_ID}static credential(t,n){return Gc._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const s=iy.parseLink(n);return bt(s,"argument-error"),Gc._fromEmailAndCode(t,s.code,s.tenantId)}}fl.PROVIDER_ID="password";fl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";fl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class MS{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class ou extends MS{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Nr extends ou{constructor(){super("facebook.com")}static credential(t){return qa._fromParams({providerId:Nr.PROVIDER_ID,signInMethod:Nr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Nr.credentialFromTaggedObject(t)}static credentialFromError(t){return Nr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Nr.credential(t.oauthAccessToken)}catch{return null}}}Nr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Nr.PROVIDER_ID="facebook.com";class Dr extends ou{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return qa._fromParams({providerId:Dr.PROVIDER_ID,signInMethod:Dr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Dr.credentialFromTaggedObject(t)}static credentialFromError(t){return Dr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:s}=t;if(!n&&!s)return null;try{return Dr.credential(n,s)}catch{return null}}}Dr.GOOGLE_SIGN_IN_METHOD="google.com";Dr.PROVIDER_ID="google.com";class Vr extends ou{constructor(){super("github.com")}static credential(t){return qa._fromParams({providerId:Vr.PROVIDER_ID,signInMethod:Vr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Vr.credentialFromTaggedObject(t)}static credentialFromError(t){return Vr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Vr.credential(t.oauthAccessToken)}catch{return null}}}Vr.GITHUB_SIGN_IN_METHOD="github.com";Vr.PROVIDER_ID="github.com";class Or extends ou{constructor(){super("twitter.com")}static credential(t,n){return qa._fromParams({providerId:Or.PROVIDER_ID,signInMethod:Or.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Or.credentialFromTaggedObject(t)}static credentialFromError(t){return Or.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=t;if(!n||!s)return null;try{return Or.credential(n,s)}catch{return null}}}Or.TWITTER_SIGN_IN_METHOD="twitter.com";Or.PROVIDER_ID="twitter.com";async function PD(e,t){return au(e,"POST","/v1/accounts:signUp",Ys(e,t))}class Fa{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,s,o=!1){const c=await Mi._fromIdTokenResponse(t,s,o),u=A0(s);return new Fa({user:c,providerId:u,_tokenResponse:s,operationType:n})}static async _forOperation(t,n,s){await t._updateTokensIfNecessary(s,!0);const o=A0(s);return new Fa({user:t,providerId:o,_tokenResponse:s,operationType:n})}}function A0(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class wf extends ps{constructor(t,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,wf.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,n,s,o){return new wf(t,n,s,o)}}function PS(e,t,n,s){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?wf._fromErrorAndOperation(e,c,t,s):c})}async function kD(e,t,n=!1){const s=await Hc(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Fa._forOperation(e,"link",s)}async function jD(e,t,n=!1){const{auth:s}=e;if(Zn(s.app))return Promise.reject(Bs(s));const o="reauthenticate";try{const c=await Hc(e,PS(s,o,t,e),n);bt(c.idToken,s,"internal-error");const u=ty(c.idToken);bt(u,s,"internal-error");const{sub:d}=u;return bt(e.uid===d,s,"user-mismatch"),Fa._forOperation(e,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&ki(s,"user-mismatch"),c}}async function kS(e,t,n=!1){if(Zn(e.app))return Promise.reject(Bs(e));const s="signIn",o=await PS(e,s,t),c=await Fa._fromIdTokenResponse(e,s,o);return n||await e._updateCurrentUser(c.user),c}async function LD(e,t){return kS(Wr(e),t)}async function jS(e){const t=Wr(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function UD(e,t,n){const s=Wr(e);await Sf(s,{requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"},"getOobCode",ID)}async function BD(e,t,n){if(Zn(e.app))return Promise.reject(Bs(e));const s=Wr(e),u=await Sf(s,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",PD).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&jS(e),p}),d=await Fa._fromIdTokenResponse(s,"signIn",u);return await s._updateCurrentUser(d.user),d}function zD(e,t,n){return Zn(e.app)?Promise.reject(Bs(e)):LD(Ne(e),fl.credential(t,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&jS(e),s})}function qD(e,t,n,s){return Ne(e).onIdTokenChanged(t,n,s)}function FD(e,t,n){return Ne(e).beforeAuthStateChanged(t,n)}function HD(e,t,n,s){return Ne(e).onAuthStateChanged(t,n,s)}const Rf="__sak";class LS{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Rf,"1"),this.storage.removeItem(Rf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const GD=1e3,KD=10;class US extends LS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=IS(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&t(n,o,s)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((u,d,p)=>{this.notifyListeners(u,p)});return}const s=t.key;n?this.detachListener():this.stopPolling();const o=()=>{const u=this.storage.getItem(s);!n&&this.localCache[s]===u||this.notifyListeners(s,u)},c=this.storage.getItem(s);oD()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,KD):o()}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:s}),!0)})},GD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}US.type="LOCAL";const YD=US;class BS extends LS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}BS.type="SESSION";const zS=BS;function QD(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}class Xf{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(o=>o.isListeningto(t));if(n)return n;const s=new Xf(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:s,eventType:o,data:c}=n.data,u=this.handlersMap[o];if(!u?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const d=Array.from(u).map(async g=>g(n.origin,c)),p=await QD(d);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Xf.receivers=[];function sy(e="",t=10){let n="";for(let s=0;s<t;s++)n+=Math.floor(Math.random()*10);return e+n}class XD{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,u;return new Promise((d,p)=>{const g=sy("",20);o.port1.start();const v=setTimeout(()=>{p(new Error("unsupported_event"))},s);u={messageChannel:o,onMessage(E){const b=E;if(b.data.eventId===g)switch(b.data.status){case"ack":clearTimeout(v),c=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),d(b.data.response);break;default:clearTimeout(v),clearTimeout(c),p(new Error("invalid_response"));break}}},this.handlers.add(u),o.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:t,eventId:g,data:n},[o.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}function os(){return window}function $D(e){os().location.href=e}function qS(){return typeof os().WorkerGlobalScope<"u"&&typeof os().importScripts=="function"}async function WD(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function ZD(){return navigator?.serviceWorker?.controller||null}function JD(){return qS()?self:null}const FS="firebaseLocalStorageDb",t2=1,Cf="firebaseLocalStorage",HS="fbase_key";class lu{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function $f(e,t){return e.transaction([Cf],t?"readwrite":"readonly").objectStore(Cf)}function e2(){const e=indexedDB.deleteDatabase(FS);return new lu(e).toPromise()}function sg(){const e=indexedDB.open(FS,t2);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const s=e.result;try{s.createObjectStore(Cf,{keyPath:HS})}catch(o){n(o)}}),e.addEventListener("success",async()=>{const s=e.result;s.objectStoreNames.contains(Cf)?t(s):(s.close(),await e2(),t(await sg()))})})}async function b0(e,t,n){const s=$f(e,!0).put({[HS]:t,value:n});return new lu(s).toPromise()}async function n2(e,t){const n=$f(e,!1).get(t),s=await new lu(n).toPromise();return s===void 0?null:s.value}function S0(e,t){const n=$f(e,!0).delete(t);return new lu(n).toPromise()}const i2=800,s2=3;class GS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await sg(),this.db)}async _withRetries(t){let n=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(n++>s2)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return qS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Xf._getInstance(JD()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await WD(),!this.activeServiceWorker)return;this.sender=new XD(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||ZD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await sg();return await b0(t,Rf,"1"),await S0(t,Rf),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>b0(s,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(s=>n2(s,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>S0(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const c=$f(o,!1).getAll();return new lu(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(t.length!==0)for(const{fbase_key:o,value:c}of t)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),i2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}GS.type="LOCAL";const r2=GS;new ru(3e4,6e4);function a2(e,t){return t?Us(t):(bt(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}class ry extends ny{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Jo(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Jo(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Jo(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function o2(e){return kS(e.auth,new ry(e),e.bypassAuthState)}function l2(e){const{auth:t,user:n}=e;return bt(n,t,"internal-error"),jD(n,new ry(e),e.bypassAuthState)}async function c2(e){const{auth:t,user:n}=e;return bt(n,t,"internal-error"),kD(n,new ry(e),e.bypassAuthState)}class KS{constructor(t,n,s,o,c=!1){this.auth=t,this.resolver=s,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:s,postBody:o,tenantId:c,error:u,type:d}=t;if(u){this.reject(u);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(p))}catch(g){this.reject(g)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return o2;case"linkViaPopup":case"linkViaRedirect":return c2;case"reauthViaPopup":case"reauthViaRedirect":return l2;default:ki(this.auth,"internal-error")}}resolve(t){qs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){qs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const u2=new ru(2e3,1e4);class Go extends KS{constructor(t,n,s,o,c){super(t,n,o,c),this.provider=s,this.authWindow=null,this.pollId=null,Go.currentPopupAction&&Go.currentPopupAction.cancel(),Go.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return bt(t,this.auth,"internal-error"),t}async onExecution(){qs(this.filter.length===1,"Popup operations only handle one event");const t=sy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(as(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(as(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Go.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(as(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,u2.get())};t()}}Go.currentPopupAction=null;const h2="pendingRedirect",af=new Map;class f2 extends KS{constructor(t,n,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let t=af.get(this.auth._key());if(!t){try{const s=await d2(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(n){t=()=>Promise.reject(n)}af.set(this.auth._key(),t)}return this.bypassAuthState||af.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function d2(e,t){const n=g2(t),s=p2(e);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function m2(e,t){af.set(e._key(),t)}function p2(e){return Us(e._redirectPersistence)}function g2(e){return rf(h2,e.config.apiKey,e.name)}async function y2(e,t,n=!1){if(Zn(e.app))return Promise.reject(Bs(e));const s=Wr(e),o=a2(s,t),u=await new f2(s,o,n).execute();return u&&!n&&(delete u.user._redirectEventId,await s._persistUserIfCurrent(u.user),await s._setRedirectUser(null,t)),u}const _2=600*1e3;class v2{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(n=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!T2(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){if(t.error&&!YS(t)){const s=t.error.code?.split("auth/")[1]||"internal-error";n.onError(as(this.auth,s))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const s=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=_2&&this.cachedEventUids.clear(),this.cachedEventUids.has(w0(t))}saveEventToCache(t){this.cachedEventUids.add(w0(t)),this.lastProcessedEventTime=Date.now()}}function w0(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function YS({type:e,error:t}){return e==="unknown"&&t?.code==="auth/no-auth-event"}function T2(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return YS(e);default:return!1}}async function E2(e,t={}){return Qs(e,"GET","/v1/projects",t)}const A2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,b2=/^https?/;async function S2(e){if(e.config.emulator)return;const{authorizedDomains:t}=await E2(e);for(const n of t)try{if(w2(n))return}catch{}ki(e,"unauthorized-domain")}function w2(e){const t=ng(),{protocol:n,hostname:s}=new URL(t);if(e.startsWith("chrome-extension://")){const u=new URL(e);return u.hostname===""&&s===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&u.hostname===s}if(!b2.test(n))return!1;if(A2.test(e))return s===e;const o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const R2=new ru(3e4,6e4);function R0(){const e=os().___jsl;if(e?.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function C2(e){return new Promise((t,n)=>{function s(){R0(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{R0(),n(as(e,"network-request-failed"))},timeout:R2.get()})}if(os().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(os().gapi?.load)s();else{const o=gD("iframefcb");return os()[o]=()=>{gapi.load?s():n(as(e,"network-request-failed"))},DS(`${pD()}?onload=${o}`).catch(c=>n(c))}}).catch(t=>{throw of=null,t})}let of=null;function x2(e){return of=of||C2(e),of}const I2=new ru(5e3,15e3),N2="__/auth/iframe",D2="emulator/auth/iframe",V2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},O2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function M2(e){const t=e.config;bt(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Jg(t,D2):`https://${e.config.authDomain}/${N2}`,s={apiKey:t.apiKey,appName:e.name,v:Qa},o=O2.get(e.config.apiHost);o&&(s.eid=o);const c=e._getFrameworks();return c.length&&(s.fw=c.join(",")),`${n}?${su(s).slice(1)}`}async function P2(e){const t=await x2(e),n=os().gapi;return bt(n,e,"internal-error"),t.open({where:document.body,url:M2(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:V2,dontclear:!0},s=>new Promise(async(o,c)=>{await s.restyle({setHideOnLeave:!1});const u=as(e,"network-request-failed"),d=os().setTimeout(()=>{c(u)},I2.get());function p(){os().clearTimeout(d),o(s)}s.ping(p).then(p,()=>{c(u)})}))}const k2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},j2=500,L2=600,U2="_blank",B2="http://localhost";class C0{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function z2(e,t,n,s=j2,o=L2){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),u=Math.max((window.screen.availWidth-s)/2,0).toString();let d="";const p={...k2,width:s.toString(),height:o.toString(),top:c,left:u},g=An().toLowerCase();n&&(d=SS(g)?U2:n),AS(g)&&(t=t||B2,p.scrollbars="yes");const v=Object.entries(p).reduce((b,[C,j])=>`${b}${C}=${j},`,"");if(aD(g)&&d!=="_self")return q2(t||"",d),new C0(null);const E=window.open(t||"",d,v);bt(E,e,"popup-blocked");try{E.focus()}catch{}return new C0(E)}function q2(e,t){const n=document.createElement("a");n.href=e,n.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const F2="__/auth/handler",H2="emulator/auth/handler",G2=encodeURIComponent("fac");async function x0(e,t,n,s,o,c){bt(e.config.authDomain,e,"auth-domain-config-required"),bt(e.config.apiKey,e,"invalid-api-key");const u={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:s,v:Qa,eventId:o};if(t instanceof MS){t.setDefaultLanguage(e.languageCode),u.providerId=t.providerId||"",RI(t.getCustomParameters())||(u.customParameters=JSON.stringify(t.getCustomParameters()));for(const[v,E]of Object.entries({}))u[v]=E}if(t instanceof ou){const v=t.getScopes().filter(E=>E!=="");v.length>0&&(u.scopes=v.join(","))}e.tenantId&&(u.tid=e.tenantId);const d=u;for(const v of Object.keys(d))d[v]===void 0&&delete d[v];const p=await e._getAppCheckToken(),g=p?`#${G2}=${encodeURIComponent(p)}`:"";return`${K2(e)}?${su(d).slice(1)}${g}`}function K2({config:e}){return e.emulator?Jg(e,H2):`https://${e.authDomain}/${F2}`}const Sp="webStorageSupport";class Y2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=zS,this._completeRedirectFn=y2,this._overrideRedirectResult=m2}async _openPopup(t,n,s,o){qs(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await x0(t,n,s,ng(),o);return z2(t,c,sy())}async _openRedirect(t,n,s,o){await this._originValidation(t);const c=await x0(t,n,s,ng(),o);return $D(c),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:o,promise:c}=this.eventManagers[n];return o?Promise.resolve(o):(qs(c,"If manager is not set, promise should be"),c)}const s=this.initAndGetManager(t);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(t){const n=await P2(t),s=new v2(t);return n.register("authEvent",o=>(bt(o?.authEvent,t,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=n,s}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Sp,{type:Sp},o=>{const c=o?.[0]?.[Sp];c!==void 0&&n(!!c),ki(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=S2(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return IS()||bS()||ey()}}const Q2=Y2;var I0="@firebase/auth",N0="1.12.0";class X2{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(s=>{t(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){bt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function $2(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function W2(e){za(new zr("auth",(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:u,authDomain:d}=s.options;bt(u&&!u.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:u,authDomain:d,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:NS(e)},g=new fD(s,o,c,p);return AD(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,s)=>{t.getProvider("auth-internal").initialize()})),za(new zr("auth-internal",t=>{const n=Wr(t.getProvider("auth").getImmediate());return(s=>new X2(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),rs(I0,N0,$2(e)),rs(I0,N0,"esm2020")}const Z2=300,J2=oS("authIdTokenMaxAge")||Z2;let D0=null;const tV=e=>async t=>{const n=t&&await t.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>J2)return;const o=n?.token;D0!==o&&(D0=o,await fetch(e,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function eV(e=Wg()){const t=Yf(e,"auth");if(t.isInitialized())return t.getImmediate();const n=ED(e,{popupRedirectResolver:Q2,persistence:[r2,YD,zS]}),s=oS("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(s,location.origin);if(location.origin===c.origin){const u=tV(c.toString());FD(n,u,()=>u(n.currentUser)),qD(n,d=>u(d))}}const o=sS("auth");return o&&bD(n,`http://${o}`),n}function nV(){return document.getElementsByTagName("head")?.[0]??document}dD({loadJS(e){return new Promise((t,n)=>{const s=document.createElement("script");s.setAttribute("src",e),s.onload=t,s.onerror=o=>{const c=as("internal-error");c.customData=o,n(c)},s.type="text/javascript",s.charset="UTF-8",nV().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});W2("Browser");var V0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Lr,QS;(function(){var e;function t(x,R){function I(){}I.prototype=R.prototype,x.F=R.prototype,x.prototype=new I,x.prototype.constructor=x,x.D=function(M,O,L){for(var N=Array(arguments.length-2),Qt=2;Qt<arguments.length;Qt++)N[Qt-2]=arguments[Qt];return R.prototype[O].apply(M,N)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(x,R,I){I||(I=0);const M=Array(16);if(typeof R=="string")for(var O=0;O<16;++O)M[O]=R.charCodeAt(I++)|R.charCodeAt(I++)<<8|R.charCodeAt(I++)<<16|R.charCodeAt(I++)<<24;else for(O=0;O<16;++O)M[O]=R[I++]|R[I++]<<8|R[I++]<<16|R[I++]<<24;R=x.g[0],I=x.g[1],O=x.g[2];let L=x.g[3],N;N=R+(L^I&(O^L))+M[0]+3614090360&4294967295,R=I+(N<<7&4294967295|N>>>25),N=L+(O^R&(I^O))+M[1]+3905402710&4294967295,L=R+(N<<12&4294967295|N>>>20),N=O+(I^L&(R^I))+M[2]+606105819&4294967295,O=L+(N<<17&4294967295|N>>>15),N=I+(R^O&(L^R))+M[3]+3250441966&4294967295,I=O+(N<<22&4294967295|N>>>10),N=R+(L^I&(O^L))+M[4]+4118548399&4294967295,R=I+(N<<7&4294967295|N>>>25),N=L+(O^R&(I^O))+M[5]+1200080426&4294967295,L=R+(N<<12&4294967295|N>>>20),N=O+(I^L&(R^I))+M[6]+2821735955&4294967295,O=L+(N<<17&4294967295|N>>>15),N=I+(R^O&(L^R))+M[7]+4249261313&4294967295,I=O+(N<<22&4294967295|N>>>10),N=R+(L^I&(O^L))+M[8]+1770035416&4294967295,R=I+(N<<7&4294967295|N>>>25),N=L+(O^R&(I^O))+M[9]+2336552879&4294967295,L=R+(N<<12&4294967295|N>>>20),N=O+(I^L&(R^I))+M[10]+4294925233&4294967295,O=L+(N<<17&4294967295|N>>>15),N=I+(R^O&(L^R))+M[11]+2304563134&4294967295,I=O+(N<<22&4294967295|N>>>10),N=R+(L^I&(O^L))+M[12]+1804603682&4294967295,R=I+(N<<7&4294967295|N>>>25),N=L+(O^R&(I^O))+M[13]+4254626195&4294967295,L=R+(N<<12&4294967295|N>>>20),N=O+(I^L&(R^I))+M[14]+2792965006&4294967295,O=L+(N<<17&4294967295|N>>>15),N=I+(R^O&(L^R))+M[15]+1236535329&4294967295,I=O+(N<<22&4294967295|N>>>10),N=R+(O^L&(I^O))+M[1]+4129170786&4294967295,R=I+(N<<5&4294967295|N>>>27),N=L+(I^O&(R^I))+M[6]+3225465664&4294967295,L=R+(N<<9&4294967295|N>>>23),N=O+(R^I&(L^R))+M[11]+643717713&4294967295,O=L+(N<<14&4294967295|N>>>18),N=I+(L^R&(O^L))+M[0]+3921069994&4294967295,I=O+(N<<20&4294967295|N>>>12),N=R+(O^L&(I^O))+M[5]+3593408605&4294967295,R=I+(N<<5&4294967295|N>>>27),N=L+(I^O&(R^I))+M[10]+38016083&4294967295,L=R+(N<<9&4294967295|N>>>23),N=O+(R^I&(L^R))+M[15]+3634488961&4294967295,O=L+(N<<14&4294967295|N>>>18),N=I+(L^R&(O^L))+M[4]+3889429448&4294967295,I=O+(N<<20&4294967295|N>>>12),N=R+(O^L&(I^O))+M[9]+568446438&4294967295,R=I+(N<<5&4294967295|N>>>27),N=L+(I^O&(R^I))+M[14]+3275163606&4294967295,L=R+(N<<9&4294967295|N>>>23),N=O+(R^I&(L^R))+M[3]+4107603335&4294967295,O=L+(N<<14&4294967295|N>>>18),N=I+(L^R&(O^L))+M[8]+1163531501&4294967295,I=O+(N<<20&4294967295|N>>>12),N=R+(O^L&(I^O))+M[13]+2850285829&4294967295,R=I+(N<<5&4294967295|N>>>27),N=L+(I^O&(R^I))+M[2]+4243563512&4294967295,L=R+(N<<9&4294967295|N>>>23),N=O+(R^I&(L^R))+M[7]+1735328473&4294967295,O=L+(N<<14&4294967295|N>>>18),N=I+(L^R&(O^L))+M[12]+2368359562&4294967295,I=O+(N<<20&4294967295|N>>>12),N=R+(I^O^L)+M[5]+4294588738&4294967295,R=I+(N<<4&4294967295|N>>>28),N=L+(R^I^O)+M[8]+2272392833&4294967295,L=R+(N<<11&4294967295|N>>>21),N=O+(L^R^I)+M[11]+1839030562&4294967295,O=L+(N<<16&4294967295|N>>>16),N=I+(O^L^R)+M[14]+4259657740&4294967295,I=O+(N<<23&4294967295|N>>>9),N=R+(I^O^L)+M[1]+2763975236&4294967295,R=I+(N<<4&4294967295|N>>>28),N=L+(R^I^O)+M[4]+1272893353&4294967295,L=R+(N<<11&4294967295|N>>>21),N=O+(L^R^I)+M[7]+4139469664&4294967295,O=L+(N<<16&4294967295|N>>>16),N=I+(O^L^R)+M[10]+3200236656&4294967295,I=O+(N<<23&4294967295|N>>>9),N=R+(I^O^L)+M[13]+681279174&4294967295,R=I+(N<<4&4294967295|N>>>28),N=L+(R^I^O)+M[0]+3936430074&4294967295,L=R+(N<<11&4294967295|N>>>21),N=O+(L^R^I)+M[3]+3572445317&4294967295,O=L+(N<<16&4294967295|N>>>16),N=I+(O^L^R)+M[6]+76029189&4294967295,I=O+(N<<23&4294967295|N>>>9),N=R+(I^O^L)+M[9]+3654602809&4294967295,R=I+(N<<4&4294967295|N>>>28),N=L+(R^I^O)+M[12]+3873151461&4294967295,L=R+(N<<11&4294967295|N>>>21),N=O+(L^R^I)+M[15]+530742520&4294967295,O=L+(N<<16&4294967295|N>>>16),N=I+(O^L^R)+M[2]+3299628645&4294967295,I=O+(N<<23&4294967295|N>>>9),N=R+(O^(I|~L))+M[0]+4096336452&4294967295,R=I+(N<<6&4294967295|N>>>26),N=L+(I^(R|~O))+M[7]+1126891415&4294967295,L=R+(N<<10&4294967295|N>>>22),N=O+(R^(L|~I))+M[14]+2878612391&4294967295,O=L+(N<<15&4294967295|N>>>17),N=I+(L^(O|~R))+M[5]+4237533241&4294967295,I=O+(N<<21&4294967295|N>>>11),N=R+(O^(I|~L))+M[12]+1700485571&4294967295,R=I+(N<<6&4294967295|N>>>26),N=L+(I^(R|~O))+M[3]+2399980690&4294967295,L=R+(N<<10&4294967295|N>>>22),N=O+(R^(L|~I))+M[10]+4293915773&4294967295,O=L+(N<<15&4294967295|N>>>17),N=I+(L^(O|~R))+M[1]+2240044497&4294967295,I=O+(N<<21&4294967295|N>>>11),N=R+(O^(I|~L))+M[8]+1873313359&4294967295,R=I+(N<<6&4294967295|N>>>26),N=L+(I^(R|~O))+M[15]+4264355552&4294967295,L=R+(N<<10&4294967295|N>>>22),N=O+(R^(L|~I))+M[6]+2734768916&4294967295,O=L+(N<<15&4294967295|N>>>17),N=I+(L^(O|~R))+M[13]+1309151649&4294967295,I=O+(N<<21&4294967295|N>>>11),N=R+(O^(I|~L))+M[4]+4149444226&4294967295,R=I+(N<<6&4294967295|N>>>26),N=L+(I^(R|~O))+M[11]+3174756917&4294967295,L=R+(N<<10&4294967295|N>>>22),N=O+(R^(L|~I))+M[2]+718787259&4294967295,O=L+(N<<15&4294967295|N>>>17),N=I+(L^(O|~R))+M[9]+3951481745&4294967295,x.g[0]=x.g[0]+R&4294967295,x.g[1]=x.g[1]+(O+(N<<21&4294967295|N>>>11))&4294967295,x.g[2]=x.g[2]+O&4294967295,x.g[3]=x.g[3]+L&4294967295}s.prototype.v=function(x,R){R===void 0&&(R=x.length);const I=R-this.blockSize,M=this.C;let O=this.h,L=0;for(;L<R;){if(O==0)for(;L<=I;)o(this,x,L),L+=this.blockSize;if(typeof x=="string"){for(;L<R;)if(M[O++]=x.charCodeAt(L++),O==this.blockSize){o(this,M),O=0;break}}else for(;L<R;)if(M[O++]=x[L++],O==this.blockSize){o(this,M),O=0;break}}this.h=O,this.o+=R},s.prototype.A=function(){var x=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);x[0]=128;for(var R=1;R<x.length-8;++R)x[R]=0;R=this.o*8;for(var I=x.length-8;I<x.length;++I)x[I]=R&255,R/=256;for(this.v(x),x=Array(16),R=0,I=0;I<4;++I)for(let M=0;M<32;M+=8)x[R++]=this.g[I]>>>M&255;return x};function c(x,R){var I=d;return Object.prototype.hasOwnProperty.call(I,x)?I[x]:I[x]=R(x)}function u(x,R){this.h=R;const I=[];let M=!0;for(let O=x.length-1;O>=0;O--){const L=x[O]|0;M&&L==R||(I[O]=L,M=!1)}this.g=I}var d={};function p(x){return-128<=x&&x<128?c(x,function(R){return new u([R|0],R<0?-1:0)}):new u([x|0],x<0?-1:0)}function g(x){if(isNaN(x)||!isFinite(x))return E;if(x<0)return z(g(-x));const R=[];let I=1;for(let M=0;x>=I;M++)R[M]=x/I|0,I*=4294967296;return new u(R,0)}function v(x,R){if(x.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(x.charAt(0)=="-")return z(v(x.substring(1),R));if(x.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=g(Math.pow(R,8));let M=E;for(let L=0;L<x.length;L+=8){var O=Math.min(8,x.length-L);const N=parseInt(x.substring(L,L+O),R);O<8?(O=g(Math.pow(R,O)),M=M.j(O).add(g(N))):(M=M.j(I),M=M.add(g(N)))}return M}var E=p(0),b=p(1),C=p(16777216);e=u.prototype,e.m=function(){if(B(this))return-z(this).m();let x=0,R=1;for(let I=0;I<this.g.length;I++){const M=this.i(I);x+=(M>=0?M:4294967296+M)*R,R*=4294967296}return x},e.toString=function(x){if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(j(this))return"0";if(B(this))return"-"+z(this).toString(x);const R=g(Math.pow(x,6));var I=this;let M="";for(;;){const O=lt(I,R).g;I=$(I,O.j(R));let L=((I.g.length>0?I.g[0]:I.h)>>>0).toString(x);if(I=O,j(I))return L+M;for(;L.length<6;)L="0"+L;M=L+M}},e.i=function(x){return x<0?0:x<this.g.length?this.g[x]:this.h};function j(x){if(x.h!=0)return!1;for(let R=0;R<x.g.length;R++)if(x.g[R]!=0)return!1;return!0}function B(x){return x.h==-1}e.l=function(x){return x=$(this,x),B(x)?-1:j(x)?0:1};function z(x){const R=x.g.length,I=[];for(let M=0;M<R;M++)I[M]=~x.g[M];return new u(I,~x.h).add(b)}e.abs=function(){return B(this)?z(this):this},e.add=function(x){const R=Math.max(this.g.length,x.g.length),I=[];let M=0;for(let O=0;O<=R;O++){let L=M+(this.i(O)&65535)+(x.i(O)&65535),N=(L>>>16)+(this.i(O)>>>16)+(x.i(O)>>>16);M=N>>>16,L&=65535,N&=65535,I[O]=N<<16|L}return new u(I,I[I.length-1]&-2147483648?-1:0)};function $(x,R){return x.add(z(R))}e.j=function(x){if(j(this)||j(x))return E;if(B(this))return B(x)?z(this).j(z(x)):z(z(this).j(x));if(B(x))return z(this.j(z(x)));if(this.l(C)<0&&x.l(C)<0)return g(this.m()*x.m());const R=this.g.length+x.g.length,I=[];for(var M=0;M<2*R;M++)I[M]=0;for(M=0;M<this.g.length;M++)for(let O=0;O<x.g.length;O++){const L=this.i(M)>>>16,N=this.i(M)&65535,Qt=x.i(O)>>>16,he=x.i(O)&65535;I[2*M+2*O]+=N*he,et(I,2*M+2*O),I[2*M+2*O+1]+=L*he,et(I,2*M+2*O+1),I[2*M+2*O+1]+=N*Qt,et(I,2*M+2*O+1),I[2*M+2*O+2]+=L*Qt,et(I,2*M+2*O+2)}for(x=0;x<R;x++)I[x]=I[2*x+1]<<16|I[2*x];for(x=R;x<2*R;x++)I[x]=0;return new u(I,0)};function et(x,R){for(;(x[R]&65535)!=x[R];)x[R+1]+=x[R]>>>16,x[R]&=65535,R++}function Z(x,R){this.g=x,this.h=R}function lt(x,R){if(j(R))throw Error("division by zero");if(j(x))return new Z(E,E);if(B(x))return R=lt(z(x),R),new Z(z(R.g),z(R.h));if(B(R))return R=lt(x,z(R)),new Z(z(R.g),R.h);if(x.g.length>30){if(B(x)||B(R))throw Error("slowDivide_ only works with positive integers.");for(var I=b,M=R;M.l(x)<=0;)I=ct(I),M=ct(M);var O=dt(I,1),L=dt(M,1);for(M=dt(M,2),I=dt(I,2);!j(M);){var N=L.add(M);N.l(x)<=0&&(O=O.add(I),L=N),M=dt(M,1),I=dt(I,1)}return R=$(x,O.j(R)),new Z(O,R)}for(O=E;x.l(R)>=0;){for(I=Math.max(1,Math.floor(x.m()/R.m())),M=Math.ceil(Math.log(I)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),L=g(I),N=L.j(R);B(N)||N.l(x)>0;)I-=M,L=g(I),N=L.j(R);j(L)&&(L=b),O=O.add(L),x=$(x,N)}return new Z(O,x)}e.B=function(x){return lt(this,x).h},e.and=function(x){const R=Math.max(this.g.length,x.g.length),I=[];for(let M=0;M<R;M++)I[M]=this.i(M)&x.i(M);return new u(I,this.h&x.h)},e.or=function(x){const R=Math.max(this.g.length,x.g.length),I=[];for(let M=0;M<R;M++)I[M]=this.i(M)|x.i(M);return new u(I,this.h|x.h)},e.xor=function(x){const R=Math.max(this.g.length,x.g.length),I=[];for(let M=0;M<R;M++)I[M]=this.i(M)^x.i(M);return new u(I,this.h^x.h)};function ct(x){const R=x.g.length+1,I=[];for(let M=0;M<R;M++)I[M]=x.i(M)<<1|x.i(M-1)>>>31;return new u(I,x.h)}function dt(x,R){const I=R>>5;R%=32;const M=x.g.length-I,O=[];for(let L=0;L<M;L++)O[L]=R>0?x.i(L+I)>>>R|x.i(L+I+1)<<32-R:x.i(L+I);return new u(O,x.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,QS=s,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=g,u.fromString=v,Lr=u}).apply(typeof V0<"u"?V0:typeof self<"u"?self:typeof window<"u"?window:{});var Hh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var XS,xc,$S,lf,rg,WS,ZS,JS;(function(){var e,t=Object.defineProperty;function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Hh=="object"&&Hh];for(var y=0;y<h.length;++y){var A=h[y];if(A&&A.Math==Math)return A}throw Error("Cannot find global object")}var s=n(this);function o(h,y){if(y)t:{var A=s;h=h.split(".");for(var w=0;w<h.length-1;w++){var q=h[w];if(!(q in A))break t;A=A[q]}h=h[h.length-1],w=A[h],y=y(w),y!=w&&y!=null&&t(A,h,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(h){return h||function(y){var A=[],w;for(w in y)Object.prototype.hasOwnProperty.call(y,w)&&A.push([w,y[w]]);return A}});var c=c||{},u=this||self;function d(h){var y=typeof h;return y=="object"&&h!=null||y=="function"}function p(h,y,A){return h.call.apply(h.bind,arguments)}function g(h,y,A){return g=p,g.apply(null,arguments)}function v(h,y){var A=Array.prototype.slice.call(arguments,1);return function(){var w=A.slice();return w.push.apply(w,arguments),h.apply(this,w)}}function E(h,y){function A(){}A.prototype=y.prototype,h.Z=y.prototype,h.prototype=new A,h.prototype.constructor=h,h.Ob=function(w,q,K){for(var ht=Array(arguments.length-2),Ot=2;Ot<arguments.length;Ot++)ht[Ot-2]=arguments[Ot];return y.prototype[q].apply(w,ht)}}var b=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function C(h){const y=h.length;if(y>0){const A=Array(y);for(let w=0;w<y;w++)A[w]=h[w];return A}return[]}function j(h,y){for(let w=1;w<arguments.length;w++){const q=arguments[w];var A=typeof q;if(A=A!="object"?A:q?Array.isArray(q)?"array":A:"null",A=="array"||A=="object"&&typeof q.length=="number"){A=h.length||0;const K=q.length||0;h.length=A+K;for(let ht=0;ht<K;ht++)h[A+ht]=q[ht]}else h.push(q)}}class B{constructor(y,A){this.i=y,this.j=A,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function z(h){u.setTimeout(()=>{throw h},0)}function $(){var h=x;let y=null;return h.g&&(y=h.g,h.g=h.g.next,h.g||(h.h=null),y.next=null),y}class et{constructor(){this.h=this.g=null}add(y,A){const w=Z.get();w.set(y,A),this.h?this.h.next=w:this.g=w,this.h=w}}var Z=new B(()=>new lt,h=>h.reset());class lt{constructor(){this.next=this.g=this.h=null}set(y,A){this.h=y,this.g=A,this.next=null}reset(){this.next=this.g=this.h=null}}let ct,dt=!1,x=new et,R=()=>{const h=Promise.resolve(void 0);ct=()=>{h.then(I)}};function I(){for(var h;h=$();){try{h.h.call(h.g)}catch(A){z(A)}var y=Z;y.j(h),y.h<100&&(y.h++,h.next=y.g,y.g=h)}dt=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(h,y){this.type=h,this.g=this.target=y,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var h=!1,y=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const A=()=>{};u.addEventListener("test",A,y),u.removeEventListener("test",A,y)}catch{}return h})();function N(h){return/^[\s\xa0]*$/.test(h)}function Qt(h,y){O.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,y)}E(Qt,O),Qt.prototype.init=function(h,y){const A=this.type=h.type,w=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=y,y=h.relatedTarget,y||(A=="mouseover"?y=h.fromElement:A=="mouseout"&&(y=h.toElement)),this.relatedTarget=y,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&Qt.Z.h.call(this)},Qt.prototype.h=function(){Qt.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var he="closure_listenable_"+(Math.random()*1e6|0),Q=0;function at(h,y,A,w,q){this.listener=h,this.proxy=null,this.src=y,this.type=A,this.capture=!!w,this.ha=q,this.key=++Q,this.da=this.fa=!1}function ft(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Ct(h,y,A){for(const w in h)y.call(A,h[w],w,h)}function jt(h,y){for(const A in h)y.call(void 0,h[A],A,h)}function P(h){const y={};for(const A in h)y[A]=h[A];return y}const W="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ut(h,y){let A,w;for(let q=1;q<arguments.length;q++){w=arguments[q];for(A in w)h[A]=w[A];for(let K=0;K<W.length;K++)A=W[K],Object.prototype.hasOwnProperty.call(w,A)&&(h[A]=w[A])}}function ot(h){this.src=h,this.g={},this.h=0}ot.prototype.add=function(h,y,A,w,q){const K=h.toString();h=this.g[K],h||(h=this.g[K]=[],this.h++);const ht=Nt(h,y,w,q);return ht>-1?(y=h[ht],A||(y.fa=!1)):(y=new at(y,this.src,K,!!w,q),y.fa=A,h.push(y)),y};function vt(h,y){const A=y.type;if(A in h.g){var w=h.g[A],q=Array.prototype.indexOf.call(w,y,void 0),K;(K=q>=0)&&Array.prototype.splice.call(w,q,1),K&&(ft(y),h.g[A].length==0&&(delete h.g[A],h.h--))}}function Nt(h,y,A,w){for(let q=0;q<h.length;++q){const K=h[q];if(!K.da&&K.listener==y&&K.capture==!!A&&K.ha==w)return q}return-1}var Pt="closure_lm_"+(Math.random()*1e6|0),ve={};function le(h,y,A,w,q){if(Array.isArray(y)){for(let K=0;K<y.length;K++)le(h,y[K],A,w,q);return null}return A=na(A),h&&h[he]?h.J(y,A,d(w)?!!w.capture:!1,q):gs(h,y,A,!1,w,q)}function gs(h,y,A,w,q,K){if(!y)throw Error("Invalid event type");const ht=d(q)?!!q.capture:!!q;let Ot=ys(h);if(Ot||(h[Pt]=Ot=new ot(h)),A=Ot.add(y,A,w,ht,K),A.proxy)return A;if(w=Li(),A.proxy=w,w.src=h,w.listener=A,h.addEventListener)L||(q=ht),q===void 0&&(q=!1),h.addEventListener(y.toString(),w,q);else if(h.attachEvent)h.attachEvent(Oe(y.toString()),w);else if(h.addListener&&h.removeListener)h.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return A}function Li(){function h(A){return y.call(h.src,h.listener,A)}const y=Lt;return h}function Xs(h,y,A,w,q){if(Array.isArray(y))for(var K=0;K<y.length;K++)Xs(h,y[K],A,w,q);else w=d(w)?!!w.capture:!!w,A=na(A),h&&h[he]?(h=h.i,K=String(y).toString(),K in h.g&&(y=h.g[K],A=Nt(y,A,w,q),A>-1&&(ft(y[A]),Array.prototype.splice.call(y,A,1),y.length==0&&(delete h.g[K],h.h--)))):h&&(h=ys(h))&&(y=h.g[y.toString()],h=-1,y&&(h=Nt(y,A,w,q)),(A=h>-1?y[h]:null)&&Ut(A))}function Ut(h){if(typeof h!="number"&&h&&!h.da){var y=h.src;if(y&&y[he])vt(y.i,h);else{var A=h.type,w=h.proxy;y.removeEventListener?y.removeEventListener(A,w,h.capture):y.detachEvent?y.detachEvent(Oe(A),w):y.addListener&&y.removeListener&&y.removeListener(w),(A=ys(y))?(vt(A,h),A.h==0&&(A.src=null,y[Pt]=null)):ft(h)}}}function Oe(h){return h in ve?ve[h]:ve[h]="on"+h}function Lt(h,y){if(h.da)h=!0;else{y=new Qt(y,this);const A=h.listener,w=h.ha||h.src;h.fa&&Ut(h),h=A.call(w,y)}return h}function ys(h){return h=h[Pt],h instanceof ot?h:null}var ea="__closure_events_fn_"+(Math.random()*1e9>>>0);function na(h){return typeof h=="function"?h:(h[ea]||(h[ea]=function(y){return h.handleEvent(y)}),h[ea])}function we(){M.call(this),this.i=new ot(this),this.M=this,this.G=null}E(we,M),we.prototype[he]=!0,we.prototype.removeEventListener=function(h,y,A,w){Xs(this,h,y,A,w)};function pe(h,y){var A,w=h.G;if(w)for(A=[];w;w=w.G)A.push(w);if(h=h.M,w=y.type||y,typeof y=="string")y=new O(y,h);else if(y instanceof O)y.target=y.target||h;else{var q=y;y=new O(w,h),ut(y,q)}q=!0;let K,ht;if(A)for(ht=A.length-1;ht>=0;ht--)K=y.g=A[ht],q=bn(K,w,!0,y)&&q;if(K=y.g=h,q=bn(K,w,!0,y)&&q,q=bn(K,w,!1,y)&&q,A)for(ht=0;ht<A.length;ht++)K=y.g=A[ht],q=bn(K,w,!1,y)&&q}we.prototype.N=function(){if(we.Z.N.call(this),this.i){var h=this.i;for(const y in h.g){const A=h.g[y];for(let w=0;w<A.length;w++)ft(A[w]);delete h.g[y],h.h--}}this.G=null},we.prototype.J=function(h,y,A,w){return this.i.add(String(h),y,!1,A,w)},we.prototype.K=function(h,y,A,w){return this.i.add(String(h),y,!0,A,w)};function bn(h,y,A,w){if(y=h.i.g[String(y)],!y)return!0;y=y.concat();let q=!0;for(let K=0;K<y.length;++K){const ht=y[K];if(ht&&!ht.da&&ht.capture==A){const Ot=ht.listener,Me=ht.ha||ht.src;ht.fa&&vt(h.i,ht),q=Ot.call(Me,w)!==!1&&q}}return q&&!w.defaultPrevented}function El(h,y){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=g(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:u.setTimeout(h,y||0)}function Wa(h){h.g=El(()=>{h.g=null,h.i&&(h.i=!1,Wa(h))},h.l);const y=h.h;h.h=null,h.m.apply(null,y)}class on extends M{constructor(y,A){super(),this.m=y,this.l=A,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Wa(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ei(h){M.call(this),this.h=h,this.g={}}E(ei,M);var Ti=[];function _s(h){Ct(h.g,function(y,A){this.g.hasOwnProperty(A)&&Ut(y)},h),h.g={}}ei.prototype.N=function(){ei.Z.N.call(this),_s(this)},ei.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var tn=u.JSON.stringify,Al=u.JSON.parse,$s=class{stringify(h){return u.JSON.stringify(h,void 0)}parse(h){return u.JSON.parse(h,void 0)}};function Za(){}function ia(){}var en={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Re(){O.call(this,"d")}E(Re,O);function Sn(){O.call(this,"c")}E(Sn,O);var Te={},sa=null;function Xe(){return sa=sa||new we}Te.Ia="serverreachability";function Ei(h){O.call(this,Te.Ia,h)}E(Ei,O);function Bn(h){const y=Xe();pe(y,new Ei(y))}Te.STAT_EVENT="statevent";function ni(h,y){O.call(this,Te.STAT_EVENT,h),this.stat=y}E(ni,O);function Ee(h){const y=Xe();pe(y,new ni(y,h))}Te.Ja="timingevent";function wn(h,y){O.call(this,Te.Ja,h),this.size=y}E(wn,O);function zn(h,y){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){h()},y)}function qn(){this.g=!0}qn.prototype.ua=function(){this.g=!1};function V(h,y,A,w,q,K){h.info(function(){if(h.g)if(K){var ht="",Ot=K.split("&");for(let Zt=0;Zt<Ot.length;Zt++){var Me=Ot[Zt].split("=");if(Me.length>1){const ge=Me[0];Me=Me[1];const ai=ge.split("_");ht=ai.length>=2&&ai[1]=="type"?ht+(ge+"="+Me+"&"):ht+(ge+"=redacted&")}}}else ht=null;else ht=K;return"XMLHTTP REQ ("+w+") [attempt "+q+"]: "+y+`
`+A+`
`+ht})}function st(h,y,A,w,q,K,ht){h.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+q+"]: "+y+`
`+A+`
`+K+" "+ht})}function mt(h,y,A,w){h.info(function(){return"XMLHTTP TEXT ("+y+"): "+xt(h,A)+(w?" "+w:"")})}function Rt(h,y){h.info(function(){return"TIMEOUT: "+y})}qn.prototype.info=function(){};function xt(h,y){if(!h.g)return y;if(!y)return null;try{const K=JSON.parse(y);if(K){for(h=0;h<K.length;h++)if(Array.isArray(K[h])){var A=K[h];if(!(A.length<2)){var w=A[1];if(Array.isArray(w)&&!(w.length<1)){var q=w[0];if(q!="noop"&&q!="stop"&&q!="close")for(let ht=1;ht<w.length;ht++)w[ht]=""}}}}return tn(K)}catch{return y}}var Ae={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},bl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Sl;function ra(){}E(ra,Za),ra.prototype.g=function(){return new XMLHttpRequest},Sl=new ra;function vs(h){return encodeURIComponent(String(h))}function Eu(h){var y=1;h=h.split(":");const A=[];for(;y>0&&h.length;)A.push(h.shift()),y--;return h.length&&A.push(h.join(":")),A}function Ai(h,y,A,w){this.j=h,this.i=y,this.l=A,this.S=w||1,this.V=new ei(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new bi}function bi(){this.i=null,this.g="",this.h=!1}var Le={},nn={};function Ui(h,y,A){h.M=1,h.A=aa(Be(y)),h.u=A,h.R=!0,Ja(h,null)}function Ja(h,y){h.F=Date.now(),Bi(h),h.B=Be(h.A);var A=h.B,w=h.S;Array.isArray(w)||(w=[String(w)]),io(A.i,"t",w),h.C=0,A=h.j.L,h.h=new bi,h.g=ku(h.j,A?y:null,!h.u),h.P>0&&(h.O=new on(g(h.Y,h,h.g),h.P)),y=h.V,A=h.g,w=h.ba;var q="readystatechange";Array.isArray(q)||(q&&(Ti[0]=q.toString()),q=Ti);for(let K=0;K<q.length;K++){const ht=le(A,q[K],w||y.handleEvent,!1,y.h||y);if(!ht)break;y.g[ht.key]=ht}y=h.J?P(h.J):{},h.u?(h.v||(h.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,y)):(h.v="GET",h.g.ea(h.B,h.v,null,y)),Bn(),V(h.i,h.v,h.B,h.l,h.S,h.u)}Ai.prototype.ba=function(h){h=h.target;const y=this.O;y&&Ri(h)==3?y.j():this.Y(h)},Ai.prototype.Y=function(h){try{if(h==this.g)t:{const Ot=Ri(this.g),Me=this.g.ya(),Zt=this.g.ca();if(!(Ot<3)&&(Ot!=3||this.g&&(this.h.h||this.g.la()||ln(this.g)))){this.K||Ot!=4||Me==7||(Me==8||Zt<=0?Bn(3):Bn(2)),zi(this);var y=this.g.ca();this.X=y;var A=_d(this);if(this.o=y==200,st(this.i,this.v,this.B,this.l,this.S,Ot,y),this.o){if(this.U&&!this.L){e:{if(this.g){var w,q=this.g;if((w=q.g?q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(w)){var K=w;break e}}K=null}if(h=K)mt(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,qi(this,h);else{this.o=!1,this.m=3,Ee(12),Fn(this),ii(this);break t}}if(this.R){h=!0;let ge;for(;!this.K&&this.C<A.length;)if(ge=bu(this,A),ge==nn){Ot==4&&(this.m=4,Ee(14),h=!1),mt(this.i,this.l,null,"[Incomplete Response]");break}else if(ge==Le){this.m=4,Ee(15),mt(this.i,this.l,A,"[Invalid Chunk]"),h=!1;break}else mt(this.i,this.l,ge,null),qi(this,ge);if(Au(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ot!=4||A.length!=0||this.h.h||(this.m=1,Ee(16),h=!1),this.o=this.o&&h,!h)mt(this.i,this.l,A,"[Invalid Chunked Response]"),Fn(this),ii(this);else if(A.length>0&&!this.W){this.W=!0;var ht=this.j;ht.g==this&&ht.aa&&!ht.P&&(ht.j.info("Great, no buffering proxy detected. Bytes received: "+A.length),Ul(ht),ht.P=!0,Ee(11))}}else mt(this.i,this.l,A,null),qi(this,A);Ot==4&&Fn(this),this.o&&!this.K&&(Ot==4?Vu(this.j,this):(this.o=!1,Bi(this)))}else Es(this.g),y==400&&A.indexOf("Unknown SID")>0?(this.m=3,Ee(12)):(this.m=0,Ee(13)),Fn(this),ii(this)}}}catch{}};function _d(h){if(!Au(h))return h.g.la();const y=ln(h.g);if(y==="")return"";let A="";const w=y.length,q=Ri(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return Fn(h),ii(h),"";h.h.i=new u.TextDecoder}for(let K=0;K<w;K++)h.h.h=!0,A+=h.h.i.decode(y[K],{stream:!(q&&K==w-1)});return y.length=0,h.h.g+=A,h.C=0,h.h.g}function Au(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function bu(h,y){var A=h.C,w=y.indexOf(`
`,A);return w==-1?nn:(A=Number(y.substring(A,w)),isNaN(A)?Le:(w+=1,w+A>y.length?nn:(y=y.slice(w,w+A),h.C=w+A,y)))}Ai.prototype.cancel=function(){this.K=!0,Fn(this)};function Bi(h){h.T=Date.now()+h.H,to(h,h.H)}function to(h,y){if(h.D!=null)throw Error("WatchDog timer not null");h.D=zn(g(h.aa,h),y)}function zi(h){h.D&&(u.clearTimeout(h.D),h.D=null)}Ai.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(Rt(this.i,this.B),this.M!=2&&(Bn(),Ee(17)),Fn(this),this.m=2,ii(this)):to(this,this.T-h)};function ii(h){h.j.I==0||h.K||Vu(h.j,h)}function Fn(h){zi(h);var y=h.O;y&&typeof y.dispose=="function"&&y.dispose(),h.O=null,_s(h.V),h.g&&(y=h.g,h.g=null,y.abort(),y.dispose())}function qi(h,y){try{var A=h.j;if(A.I!=0&&(A.g==h||Hi(A.h,h))){if(!h.L&&Hi(A.h,h)&&A.I==3){try{var w=A.Ba.g.parse(y)}catch{w=null}if(Array.isArray(w)&&w.length==3){var q=w;if(q[0]==0){t:if(!A.v){if(A.g)if(A.g.F+3e3<h.F)lo(A),sr(A);else break t;da(A),Ee(18)}}else A.xa=q[1],0<A.xa-A.K&&q[2]<37500&&A.F&&A.A==0&&!A.C&&(A.C=zn(g(A.Va,A),6e3));Fi(A.h)<=1&&A.ta&&(A.ta=void 0)}else $i(A,11)}else if((h.L||A.g==h)&&lo(A),!N(y))for(q=A.Ba.g.parse(y),y=0;y<q.length;y++){let Zt=q[y];const ge=Zt[0];if(!(ge<=A.K))if(A.K=ge,Zt=Zt[1],A.I==2)if(Zt[0]=="c"){A.M=Zt[1],A.ba=Zt[2];const ai=Zt[3];ai!=null&&(A.ka=ai,A.j.info("VER="+A.ka));const Wi=Zt[4];Wi!=null&&(A.za=Wi,A.j.info("SVER="+A.za));const Ci=Zt[5];Ci!=null&&typeof Ci=="number"&&Ci>0&&(w=1.5*Ci,A.O=w,A.j.info("backChannelRequestTimeoutMs_="+w)),w=A;const xi=h.g;if(xi){const ma=xi.g?xi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ma){var K=w.h;K.g||ma.indexOf("spdy")==-1&&ma.indexOf("quic")==-1&&ma.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(Cl(K,K.h),K.h=null))}if(w.G){const co=xi.g?xi.g.getResponseHeader("X-HTTP-Session-Id"):null;co&&(w.wa=co,ee(w.J,w.G,co))}}A.I=3,A.l&&A.l.ra(),A.aa&&(A.T=Date.now()-h.F,A.j.info("Handshake RTT: "+A.T+"ms")),w=A;var ht=h;if(w.na=Pu(w,w.L?w.ba:null,w.W),ht.L){xl(w.h,ht);var Ot=ht,Me=w.O;Me&&(Ot.H=Me),Ot.D&&(zi(Ot),Bi(Ot)),w.g=ht}else Nu(w);A.i.length>0&&Xi(A)}else Zt[0]!="stop"&&Zt[0]!="close"||$i(A,7);else A.I==3&&(Zt[0]=="stop"||Zt[0]=="close"?Zt[0]=="stop"?$i(A,7):jl(A):Zt[0]!="noop"&&A.l&&A.l.qa(Zt),A.A=0)}}Bn(4)}catch{}}var Ue=class{constructor(h,y){this.g=h,this.map=y}};function wl(h){this.l=h||10,u.PerformanceNavigationTiming?(h=u.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Rl(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Fi(h){return h.h?1:h.g?h.g.size:0}function Hi(h,y){return h.h?h.h==y:h.g?h.g.has(y):!1}function Cl(h,y){h.g?h.g.add(y):h.h=y}function xl(h,y){h.h&&h.h==y?h.h=null:h.g&&h.g.has(y)&&h.g.delete(y)}wl.prototype.cancel=function(){if(this.i=Il(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Il(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let y=h.i;for(const A of h.g.values())y=y.concat(A.G);return y}return C(h.i)}var Su=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function eo(h,y){if(h){h=h.split("&");for(let A=0;A<h.length;A++){const w=h[A].indexOf("=");let q,K=null;w>=0?(q=h[A].substring(0,w),K=h[A].substring(w+1)):q=h[A],y(q,K?decodeURIComponent(K.replace(/\+/g," ")):"")}}}function Hn(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;h instanceof Hn?(this.l=h.l,sn(this,h.j),this.o=h.o,this.g=h.g,Ws(this,h.u),this.h=h.h,Nl(this,xu(h.i)),this.m=h.m):h&&(y=String(h).match(Su))?(this.l=!1,sn(this,y[1]||"",!0),this.o=Gi(y[2]||""),this.g=Gi(y[3]||"",!0),Ws(this,y[4]),this.h=Gi(y[5]||"",!0),Nl(this,y[6]||"",!0),this.m=Gi(y[7]||"")):(this.l=!1,this.i=new Js(null,this.l))}Hn.prototype.toString=function(){const h=[];var y=this.j;y&&h.push(oa(y,no,!0),":");var A=this.g;return(A||y=="file")&&(h.push("//"),(y=this.o)&&h.push(oa(y,no,!0),"@"),h.push(vs(A).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),A=this.u,A!=null&&h.push(":",String(A))),(A=this.h)&&(this.g&&A.charAt(0)!="/"&&h.push("/"),h.push(oa(A,A.charAt(0)=="/"?Dl:wu,!0))),(A=this.i.toString())&&h.push("?",A),(A=this.m)&&h.push("#",oa(A,Ru)),h.join("")},Hn.prototype.resolve=function(h){const y=Be(this);let A=!!h.j;A?sn(y,h.j):A=!!h.o,A?y.o=h.o:A=!!h.g,A?y.g=h.g:A=h.u!=null;var w=h.h;if(A)Ws(y,h.u);else if(A=!!h.h){if(w.charAt(0)!="/")if(this.g&&!this.h)w="/"+w;else{var q=y.h.lastIndexOf("/");q!=-1&&(w=y.h.slice(0,q+1)+w)}if(q=w,q==".."||q==".")w="";else if(q.indexOf("./")!=-1||q.indexOf("/.")!=-1){w=q.lastIndexOf("/",0)==0,q=q.split("/");const K=[];for(let ht=0;ht<q.length;){const Ot=q[ht++];Ot=="."?w&&ht==q.length&&K.push(""):Ot==".."?((K.length>1||K.length==1&&K[0]!="")&&K.pop(),w&&ht==q.length&&K.push("")):(K.push(Ot),w=!0)}w=K.join("/")}else w=q}return A?y.h=w:A=h.i.toString()!=="",A?Nl(y,xu(h.i)):A=!!h.m,A&&(y.m=h.m),y};function Be(h){return new Hn(h)}function sn(h,y,A){h.j=A?Gi(y,!0):y,h.j&&(h.j=h.j.replace(/:$/,""))}function Ws(h,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);h.u=y}else h.u=null}function Nl(h,y,A){y instanceof Js?(h.i=y,so(h.i,h.l)):(A||(y=oa(y,Zs)),h.i=new Js(y,h.l))}function ee(h,y,A){h.i.set(y,A)}function aa(h){return ee(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function Gi(h,y){return h?y?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function oa(h,y,A){return typeof h=="string"?(h=encodeURI(h).replace(y,Nn),A&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Nn(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var no=/[#\/\?@]/g,wu=/[#\?:]/g,Dl=/[#\?]/g,Zs=/[#\?@]/g,Ru=/#/g;function Js(h,y){this.h=this.g=null,this.i=h||null,this.j=!!y}function Dn(h){h.g||(h.g=new Map,h.h=0,h.i&&eo(h.i,function(y,A){h.add(decodeURIComponent(y.replace(/\+/g," ")),A)}))}e=Js.prototype,e.add=function(h,y){Dn(this),this.i=null,h=tr(this,h);let A=this.g.get(h);return A||this.g.set(h,A=[]),A.push(y),this.h+=1,this};function Cu(h,y){Dn(h),y=tr(h,y),h.g.has(y)&&(h.i=null,h.h-=h.g.get(y).length,h.g.delete(y))}function Vl(h,y){return Dn(h),y=tr(h,y),h.g.has(y)}e.forEach=function(h,y){Dn(this),this.g.forEach(function(A,w){A.forEach(function(q){h.call(y,q,w,this)},this)},this)};function Ol(h,y){Dn(h);let A=[];if(typeof y=="string")Vl(h,y)&&(A=A.concat(h.g.get(tr(h,y))));else for(h=Array.from(h.g.values()),y=0;y<h.length;y++)A=A.concat(h[y]);return A}e.set=function(h,y){return Dn(this),this.i=null,h=tr(this,h),Vl(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[y]),this.h+=1,this},e.get=function(h,y){return h?(h=Ol(this,h),h.length>0?String(h[0]):y):y};function io(h,y,A){Cu(h,y),A.length>0&&(h.i=null,h.g.set(tr(h,y),C(A)),h.h+=A.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],y=Array.from(this.g.keys());for(let w=0;w<y.length;w++){var A=y[w];const q=vs(A);A=Ol(this,A);for(let K=0;K<A.length;K++){let ht=q;A[K]!==""&&(ht+="="+vs(A[K])),h.push(ht)}}return this.i=h.join("&")};function xu(h){const y=new Js;return y.i=h.i,h.g&&(y.g=new Map(h.g),y.h=h.h),y}function tr(h,y){return y=String(y),h.j&&(y=y.toLowerCase()),y}function so(h,y){y&&!h.j&&(Dn(h),h.i=null,h.g.forEach(function(A,w){const q=w.toLowerCase();w!=q&&(Cu(this,w),io(this,q,A))},h)),h.j=y}function Si(h,y){const A=new qn;if(u.Image){const w=new Image;w.onload=v(si,A,"TestLoadImage: loaded",!0,y,w),w.onerror=v(si,A,"TestLoadImage: error",!1,y,w),w.onabort=v(si,A,"TestLoadImage: abort",!1,y,w),w.ontimeout=v(si,A,"TestLoadImage: timeout",!1,y,w),u.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=h}else y(!1)}function Ml(h,y){const A=new qn,w=new AbortController,q=setTimeout(()=>{w.abort(),si(A,"TestPingServer: timeout",!1,y)},1e4);fetch(h,{signal:w.signal}).then(K=>{clearTimeout(q),K.ok?si(A,"TestPingServer: ok",!0,y):si(A,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(q),si(A,"TestPingServer: error",!1,y)})}function si(h,y,A,w,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),w(A)}catch{}}function er(){this.g=new $s}function Ki(h){this.i=h.Sb||null,this.h=h.ab||!1}E(Ki,Za),Ki.prototype.g=function(){return new la(this.i,this.h)};function la(h,y){we.call(this),this.H=h,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}E(la,we),e=la.prototype,e.open=function(h,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=y,this.readyState=1,wi(this)},e.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(y.body=h),(this.H||u).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,nr(this)),this.readyState=0},e.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,wi(this)),this.g&&(this.readyState=3,wi(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ro(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function ro(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}e.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var y=h.value?h.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!h.done}))&&(this.response=this.responseText+=y)}h.done?nr(this):wi(this),this.readyState==3&&ro(this)}},e.Oa=function(h){this.g&&(this.response=this.responseText=h,nr(this))},e.Na=function(h){this.g&&(this.response=h,nr(this))},e.ga=function(){this.g&&nr(this)};function nr(h){h.readyState=4,h.l=null,h.j=null,h.B=null,wi(h)}e.setRequestHeader=function(h,y){this.A.append(h,y)},e.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],y=this.h.entries();for(var A=y.next();!A.done;)A=A.value,h.push(A[0]+": "+A[1]),A=y.next();return h.join(`\r
`)};function wi(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(la.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function ri(h){let y="";return Ct(h,function(A,w){y+=w,y+=":",y+=A,y+=`\r
`}),y}function ca(h,y,A){t:{for(w in A){var w=!1;break t}w=!0}w||(A=ri(A),typeof h=="string"?A!=null&&vs(A):ee(h,y,A))}function se(h){we.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}E(se,we);var Yi=/^https?$/i,Pl=["POST","PUT"];e=se.prototype,e.Fa=function(h){this.H=h},e.ea=function(h,y,A,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);y=y?y.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Sl.g(),this.g.onreadystatechange=b(g(this.Ca,this));try{this.B=!0,this.g.open(y,String(h),!0),this.B=!1}catch(K){ua(this,K);return}if(h=A||"",A=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var q in w)A.set(q,w[q]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const K of w.keys())A.set(K,w.get(K));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(A.keys()).find(K=>K.toLowerCase()=="content-type"),q=u.FormData&&h instanceof u.FormData,!(Array.prototype.indexOf.call(Pl,y,void 0)>=0)||w||q||A.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,ht]of A)this.g.setRequestHeader(K,ht);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(K){ua(this,K)}};function ua(h,y){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=y,h.o=5,kl(h),Ts(h)}function kl(h){h.A||(h.A=!0,pe(h,"complete"),pe(h,"error"))}e.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,pe(this,"complete"),pe(this,"abort"),Ts(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ts(this,!0)),se.Z.N.call(this)},e.Ca=function(){this.u||(this.B||this.v||this.j?ha(this):this.Xa())},e.Xa=function(){ha(this)};function ha(h){if(h.h&&typeof c<"u"){if(h.v&&Ri(h)==4)setTimeout(h.Ca.bind(h),0);else if(pe(h,"readystatechange"),Ri(h)==4){h.h=!1;try{const K=h.ca();t:switch(K){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break t;default:y=!1}var A;if(!(A=y)){var w;if(w=K===0){let ht=String(h.D).match(Su)[1]||null;!ht&&u.self&&u.self.location&&(ht=u.self.location.protocol.slice(0,-1)),w=!Yi.test(ht?ht.toLowerCase():"")}A=w}if(A)pe(h,"complete"),pe(h,"success");else{h.o=6;try{var q=Ri(h)>2?h.g.statusText:""}catch{q=""}h.l=q+" ["+h.ca()+"]",kl(h)}}finally{Ts(h)}}}}function Ts(h,y){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const A=h.g;h.g=null,y||pe(h,"ready");try{A.onreadystatechange=null}catch{}}}e.isActive=function(){return!!this.g};function Ri(h){return h.g?h.g.readyState:0}e.ca=function(){try{return Ri(this)>2?this.g.status:-1}catch{return-1}},e.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.La=function(h){if(this.g){var y=this.g.responseText;return h&&y.indexOf(h)==0&&(y=y.substring(h.length)),Al(y)}};function ln(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Es(h){const y={};h=(h.g&&Ri(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<h.length;w++){if(N(h[w]))continue;var A=Eu(h[w]);const q=A[0];if(A=A[1],typeof A!="string")continue;A=A.trim();const K=y[q]||[];y[q]=K,K.push(A)}jt(y,function(w){return w.join(", ")})}e.ya=function(){return this.o},e.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Qi(h,y,A){return A&&A.internalChannelParams&&A.internalChannelParams[h]||y}function ir(h){this.za=0,this.i=[],this.j=new qn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Qi("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Qi("baseRetryDelayMs",5e3,h),this.Za=Qi("retryDelaySeedMs",1e4,h),this.Ta=Qi("forwardChannelMaxRetries",2,h),this.va=Qi("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new wl(h&&h.concurrentRequestLimit),this.Ba=new er,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}e=ir.prototype,e.ka=8,e.I=1,e.connect=function(h,y,A,w){Ee(0),this.W=h,this.H=y||{},A&&w!==void 0&&(this.H.OSID=A,this.H.OAID=w),this.F=this.X,this.J=Pu(this,null,this.W),Xi(this)};function jl(h){if(ao(h),h.I==3){var y=h.V++,A=Be(h.J);if(ee(A,"SID",h.M),ee(A,"RID",y),ee(A,"TYPE","terminate"),fa(h,A),y=new Ai(h,h.j,y),y.M=2,y.A=aa(Be(A)),A=!1,u.navigator&&u.navigator.sendBeacon)try{A=u.navigator.sendBeacon(y.A.toString(),"")}catch{}!A&&u.Image&&(new Image().src=y.A,A=!0),A||(y.g=ku(y.j,null),y.g.ea(y.A)),y.F=Date.now(),Bi(y)}Mu(h)}function sr(h){h.g&&(Ul(h),h.g.cancel(),h.g=null)}function ao(h){sr(h),h.v&&(u.clearTimeout(h.v),h.v=null),lo(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&u.clearTimeout(h.m),h.m=null)}function Xi(h){if(!Rl(h.h)&&!h.m){h.m=!0;var y=h.Ea;ct||R(),dt||(ct(),dt=!0),x.add(y,h),h.D=0}}function oo(h,y){return Fi(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=y.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=zn(g(h.Ea,h,y),Ou(h,h.D)),h.D++,!0)}e.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const q=new Ai(this,this.j,h);let K=this.o;if(this.U&&(K?(K=P(K),ut(K,this.U)):K=this.U),this.u!==null||this.R||(q.J=K,K=null),this.S)t:{for(var y=0,A=0;A<this.i.length;A++){e:{var w=this.i[A];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break e}w=void 0}if(w===void 0)break;if(y+=w,y>4096){y=A;break t}if(y===4096||A===this.i.length-1){y=A+1;break t}}y=1e3}else y=1e3;y=Iu(this,q,y),A=Be(this.J),ee(A,"RID",h),ee(A,"CVER",22),this.G&&ee(A,"X-HTTP-Session-Id",this.G),fa(this,A),K&&(this.R?y="headers="+vs(ri(K))+"&"+y:this.u&&ca(A,this.u,K)),Cl(this.h,q),this.Ra&&ee(A,"TYPE","init"),this.S?(ee(A,"$req",y),ee(A,"SID","null"),q.U=!0,Ui(q,A,null)):Ui(q,A,y),this.I=2}}else this.I==3&&(h?Ll(this,h):this.i.length==0||Rl(this.h)||Ll(this))};function Ll(h,y){var A;y?A=y.l:A=h.V++;const w=Be(h.J);ee(w,"SID",h.M),ee(w,"RID",A),ee(w,"AID",h.K),fa(h,w),h.u&&h.o&&ca(w,h.u,h.o),A=new Ai(h,h.j,A,h.D+1),h.u===null&&(A.J=h.o),y&&(h.i=y.G.concat(h.i)),y=Iu(h,A,1e3),A.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),Cl(h.h,A),Ui(A,w,y)}function fa(h,y){h.H&&Ct(h.H,function(A,w){ee(y,w,A)}),h.l&&Ct({},function(A,w){ee(y,w,A)})}function Iu(h,y,A){A=Math.min(h.i.length,A);const w=h.l?g(h.l.Ka,h.l,h):null;t:{var q=h.i;let Ot=-1;for(;;){const Me=["count="+A];Ot==-1?A>0?(Ot=q[0].g,Me.push("ofs="+Ot)):Ot=0:Me.push("ofs="+Ot);let Zt=!0;for(let ge=0;ge<A;ge++){var K=q[ge].g;const ai=q[ge].map;if(K-=Ot,K<0)Ot=Math.max(0,q[ge].g-100),Zt=!1;else try{K="req"+K+"_"||"";try{var ht=ai instanceof Map?ai:Object.entries(ai);for(const[Wi,Ci]of ht){let xi=Ci;d(Ci)&&(xi=tn(Ci)),Me.push(K+Wi+"="+encodeURIComponent(xi))}}catch(Wi){throw Me.push(K+"type="+encodeURIComponent("_badmap")),Wi}}catch{w&&w(ai)}}if(Zt){ht=Me.join("&");break t}}ht=void 0}return h=h.i.splice(0,A),y.G=h,ht}function Nu(h){if(!h.g&&!h.v){h.Y=1;var y=h.Da;ct||R(),dt||(ct(),dt=!0),x.add(y,h),h.A=0}}function da(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=zn(g(h.Da,h),Ou(h,h.A)),h.A++,!0)}e.Da=function(){if(this.v=null,Du(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=zn(g(this.Wa,this),h)}},e.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ee(10),sr(this),Du(this))};function Ul(h){h.B!=null&&(u.clearTimeout(h.B),h.B=null)}function Du(h){h.g=new Ai(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var y=Be(h.na);ee(y,"RID","rpc"),ee(y,"SID",h.M),ee(y,"AID",h.K),ee(y,"CI",h.F?"0":"1"),!h.F&&h.ia&&ee(y,"TO",h.ia),ee(y,"TYPE","xmlhttp"),fa(h,y),h.u&&h.o&&ca(y,h.u,h.o),h.O&&(h.g.H=h.O);var A=h.g;h=h.ba,A.M=1,A.A=aa(Be(y)),A.u=null,A.R=!0,Ja(A,h)}e.Va=function(){this.C!=null&&(this.C=null,sr(this),da(this),Ee(19))};function lo(h){h.C!=null&&(u.clearTimeout(h.C),h.C=null)}function Vu(h,y){var A=null;if(h.g==y){lo(h),Ul(h),h.g=null;var w=2}else if(Hi(h.h,y))A=y.G,xl(h.h,y),w=1;else return;if(h.I!=0){if(y.o)if(w==1){A=y.u?y.u.length:0,y=Date.now()-y.F;var q=h.D;w=Xe(),pe(w,new wn(w,A)),Xi(h)}else Nu(h);else if(q=y.m,q==3||q==0&&y.X>0||!(w==1&&oo(h,y)||w==2&&da(h)))switch(A&&A.length>0&&(y=h.h,y.i=y.i.concat(A)),q){case 1:$i(h,5);break;case 4:$i(h,10);break;case 3:$i(h,6);break;default:$i(h,2)}}}function Ou(h,y){let A=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(A*=2),A*y}function $i(h,y){if(h.j.info("Error code "+y),y==2){var A=g(h.bb,h),w=h.Ua;const q=!w;w=new Hn(w||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||sn(w,"https"),aa(w),q?Si(w.toString(),A):Ml(w.toString(),A)}else Ee(2);h.I=0,h.l&&h.l.pa(y),Mu(h),ao(h)}e.bb=function(h){h?(this.j.info("Successfully pinged google.com"),Ee(2)):(this.j.info("Failed to ping google.com"),Ee(1))};function Mu(h){if(h.I=0,h.ja=[],h.l){const y=Il(h.h);(y.length!=0||h.i.length!=0)&&(j(h.ja,y),j(h.ja,h.i),h.h.i.length=0,C(h.i),h.i.length=0),h.l.oa()}}function Pu(h,y,A){var w=A instanceof Hn?Be(A):new Hn(A);if(w.g!="")y&&(w.g=y+"."+w.g),Ws(w,w.u);else{var q=u.location;w=q.protocol,y=y?y+"."+q.hostname:q.hostname,q=+q.port;const K=new Hn(null);w&&sn(K,w),y&&(K.g=y),q&&Ws(K,q),A&&(K.h=A),w=K}return A=h.G,y=h.wa,A&&y&&ee(w,A,y),ee(w,"VER",h.ka),fa(h,w),w}function ku(h,y,A){if(y&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=h.Aa&&!h.ma?new se(new Ki({ab:A})):new se(h.ma),y.Fa(h.L),y}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function ju(){}e=ju.prototype,e.ra=function(){},e.qa=function(){},e.pa=function(){},e.oa=function(){},e.isActive=function(){return!0},e.Ka=function(){};function rr(){}rr.prototype.g=function(h,y){return new Rn(h,y)};function Rn(h,y){we.call(this),this.g=new ir(y),this.l=h,this.h=y&&y.messageUrlParams||null,h=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(h?h["X-WebChannel-Content-Type"]=y.messageContentType:h={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(h?h["X-WebChannel-Client-Profile"]=y.sa:h={"X-WebChannel-Client-Profile":y.sa}),this.g.U=h,(h=y&&y.Qb)&&!N(h)&&(this.g.u=h),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!N(y)&&(this.g.G=y,h=this.h,h!==null&&y in h&&(h=this.h,y in h&&delete h[y])),this.j=new As(this)}E(Rn,we),Rn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Rn.prototype.close=function(){jl(this.g)},Rn.prototype.o=function(h){var y=this.g;if(typeof h=="string"){var A={};A.__data__=h,h=A}else this.v&&(A={},A.__data__=tn(h),h=A);y.i.push(new Ue(y.Ya++,h)),y.I==3&&Xi(y)},Rn.prototype.N=function(){this.g.l=null,delete this.j,jl(this.g),delete this.g,Rn.Z.N.call(this)};function Lu(h){Re.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var y=h.__sm__;if(y){t:{for(const A in y){h=A;break t}h=void 0}(this.i=h)&&(h=this.i,y=y!==null&&h in y?y[h]:void 0),this.data=y}else this.data=h}E(Lu,Re);function Uu(){Sn.call(this),this.status=1}E(Uu,Sn);function As(h){this.g=h}E(As,ju),As.prototype.ra=function(){pe(this.g,"a")},As.prototype.qa=function(h){pe(this.g,new Lu(h))},As.prototype.pa=function(h){pe(this.g,new Uu)},As.prototype.oa=function(){pe(this.g,"b")},rr.prototype.createWebChannel=rr.prototype.g,Rn.prototype.send=Rn.prototype.o,Rn.prototype.open=Rn.prototype.m,Rn.prototype.close=Rn.prototype.close,JS=function(){return new rr},ZS=function(){return Xe()},WS=Te,rg={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ae.NO_ERROR=0,Ae.TIMEOUT=8,Ae.HTTP_ERROR=6,lf=Ae,bl.COMPLETE="complete",$S=bl,ia.EventType=en,en.OPEN="a",en.CLOSE="b",en.ERROR="c",en.MESSAGE="d",we.prototype.listen=we.prototype.J,xc=ia,se.prototype.listenOnce=se.prototype.K,se.prototype.getLastError=se.prototype.Ha,se.prototype.getLastErrorCode=se.prototype.ya,se.prototype.getStatus=se.prototype.ca,se.prototype.getResponseJson=se.prototype.La,se.prototype.getResponseText=se.prototype.la,se.prototype.send=se.prototype.ea,se.prototype.setWithCredentials=se.prototype.Fa,XS=se}).apply(typeof Hh<"u"?Hh:typeof self<"u"?self:typeof window<"u"?window:{});const O0="@firebase/firestore",M0="4.9.3";class vn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}vn.UNAUTHENTICATED=new vn(null),vn.GOOGLE_CREDENTIALS=new vn("google-credentials-uid"),vn.FIRST_PARTY=new vn("first-party-uid"),vn.MOCK_USER=new vn("mock-user");let dl="12.7.0";const Ha=new Xg("@firebase/firestore");function zo(){return Ha.logLevel}function gt(e,...t){if(Ha.logLevel<=Ht.DEBUG){const n=t.map(ay);Ha.debug(`Firestore (${dl}): ${e}`,...n)}}function Fs(e,...t){if(Ha.logLevel<=Ht.ERROR){const n=t.map(ay);Ha.error(`Firestore (${dl}): ${e}`,...n)}}function sl(e,...t){if(Ha.logLevel<=Ht.WARN){const n=t.map(ay);Ha.warn(`Firestore (${dl}): ${e}`,...n)}}function ay(e){if(typeof e=="string")return e;try{return(function(n){return JSON.stringify(n)})(e)}catch{return e}}function St(e,t,n){let s="Unexpected state";typeof t=="string"?s=t:n=t,tw(e,s,n)}function tw(e,t,n){let s=`FIRESTORE (${dl}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Fs(s),new Error(s)}function te(e,t,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,e||tw(t,o,s)}function Vt(e,t){return e}const nt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class pt extends ps{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ur{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}}class ew{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class iV{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable((()=>n(vn.UNAUTHENTICATED)))}shutdown(){}}class sV{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class rV{constructor(t){this.t=t,this.currentUser=vn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){te(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let c=new Ur;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Ur,t.enqueueRetryable((()=>o(this.currentUser)))};const u=()=>{const p=c;t.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},d=p=>{gt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((p=>d(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?d(p):(gt("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Ur)}}),0),u()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==t?(gt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(te(typeof s.accessToken=="string",31837,{l:s}),new ew(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return te(t===null||typeof t=="string",2055,{h:t}),new vn(t)}}class aV{constructor(t,n,s){this.P=t,this.T=n,this.I=s,this.type="FirstParty",this.user=vn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class oV{constructor(t,n,s){this.P=t,this.T=n,this.I=s}getToken(){return Promise.resolve(new aV(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable((()=>n(vn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class P0{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class lV{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Zn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){te(this.o===void 0,3512);const s=c=>{c.error!=null&&gt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const u=c.token!==this.m;return this.m=c.token,gt("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>s(c)))};const o=c=>{gt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):gt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new P0(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((n=>n?(te(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new P0(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function cV(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<e;s++)n[s]=Math.floor(256*Math.random());return n}class oy{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=cV(40);for(let c=0;c<o.length;++c)s.length<20&&o[c]<n&&(s+=t.charAt(o[c]%62))}return s}}function Gt(e,t){return e<t?-1:e>t?1:0}function ag(e,t){const n=Math.min(e.length,t.length);for(let s=0;s<n;s++){const o=e.charAt(s),c=t.charAt(s);if(o!==c)return wp(o)===wp(c)?Gt(o,c):wp(o)?1:-1}return Gt(e.length,t.length)}const uV=55296,hV=57343;function wp(e){const t=e.charCodeAt(0);return t>=uV&&t<=hV}function rl(e,t,n){return e.length===t.length&&e.every(((s,o)=>n(s,t[o])))}const k0="__name__";class is{constructor(t,n,s){n===void 0?n=0:n>t.length&&St(637,{offset:n,range:t.length}),s===void 0?s=t.length-n:s>t.length-n&&St(1746,{length:s,range:t.length-n}),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return is.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof is?t.forEach((s=>{n.push(s)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let o=0;o<s;o++){const c=is.compareSegments(t.get(o),n.get(o));if(c!==0)return c}return Gt(t.length,n.length)}static compareSegments(t,n){const s=is.isNumericId(t),o=is.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?is.extractNumericId(t).compare(is.extractNumericId(n)):ag(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Lr.fromString(t.substring(4,t.length-2))}}class ue extends is{construct(t,n,s){return new ue(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new pt(nt.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new ue(n)}static emptyPath(){return new ue([])}}const fV=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class pn extends is{construct(t,n,s){return new pn(t,n,s)}static isValidIdentifier(t){return fV.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),pn.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===k0}static keyField(){return new pn([k0])}static fromServerFormat(t){const n=[];let s="",o=0;const c=()=>{if(s.length===0)throw new pt(nt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let u=!1;for(;o<t.length;){const d=t[o];if(d==="\\"){if(o+1===t.length)throw new pt(nt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new pt(nt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=p,o+=2}else d==="`"?(u=!u,o++):d!=="."||u?(s+=d,o++):(c(),o++)}if(c(),u)throw new pt(nt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new pn(n)}static emptyPath(){return new pn([])}}class Et{constructor(t){this.path=t}static fromPath(t){return new Et(ue.fromString(t))}static fromName(t){return new Et(ue.fromString(t).popFirst(5))}static empty(){return new Et(ue.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ue.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return ue.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Et(new ue(t.slice()))}}function nw(e,t,n){if(!n)throw new pt(nt.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function dV(e,t,n,s){if(t===!0&&s===!0)throw new pt(nt.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function j0(e){if(!Et.isDocumentKey(e))throw new pt(nt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function L0(e){if(Et.isDocumentKey(e))throw new pt(nt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function iw(e){return typeof e=="object"&&e!==null&&(Object.getPrototypeOf(e)===Object.prototype||Object.getPrototypeOf(e)===null)}function Wf(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=(function(s){return s.constructor?s.constructor.name:null})(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":St(12329,{type:typeof e})}function Ga(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new pt(nt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Wf(e);throw new pt(nt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}function Qe(e,t){const n={typeString:e};return t&&(n.value=t),n}function cu(e,t){if(!iw(e))throw new pt(nt.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in t)if(t[s]){const o=t[s].typeString,c="value"in t[s]?{value:t[s].value}:void 0;if(!(s in e)){n=`JSON missing required field: '${s}'`;break}const u=e[s];if(o&&typeof u!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(c!==void 0&&u!==c.value){n=`Expected '${s}' field to equal '${c.value}'`;break}}if(n)throw new pt(nt.INVALID_ARGUMENT,n);return!0}const U0=-62135596800,B0=1e6;class me{static now(){return me.fromMillis(Date.now())}static fromDate(t){return me.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor((t-1e3*n)*B0);return new me(n,s)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new pt(nt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new pt(nt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<U0)throw new pt(nt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new pt(nt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/B0}_compareTo(t){return this.seconds===t.seconds?Gt(this.nanoseconds,t.nanoseconds):Gt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:me._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(cu(t,me._jsonSchema))return new me(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-U0;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}me._jsonSchemaVersion="firestore/timestamp/1.0",me._jsonSchema={type:Qe("string",me._jsonSchemaVersion),seconds:Qe("number"),nanoseconds:Qe("number")};class It{static fromTimestamp(t){return new It(t)}static min(){return new It(new me(0,0))}static max(){return new It(new me(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Kc=-1;function mV(e,t){const n=e.toTimestamp().seconds,s=e.toTimestamp().nanoseconds+1,o=It.fromTimestamp(s===1e9?new me(n+1,0):new me(n,s));return new qr(o,Et.empty(),t)}function pV(e){return new qr(e.readTime,e.key,Kc)}class qr{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new qr(It.min(),Et.empty(),Kc)}static max(){return new qr(It.max(),Et.empty(),Kc)}}function gV(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=Et.comparator(e.documentKey,t.documentKey),n!==0?n:Gt(e.largestBatchId,t.largestBatchId))}const yV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class _V{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function ml(e){if(e.code!==nt.FAILED_PRECONDITION||e.message!==yV)throw e;gt("LocalStore","Unexpectedly lost primary lease")}class it{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&St(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new it(((s,o)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(s,o)},this.catchCallback=c=>{this.wrapFailure(n,c).next(s,o)}}))}toPromise(){return new Promise(((t,n)=>{this.next(t,n)}))}wrapUserFunction(t){try{const n=t();return n instanceof it?n:it.resolve(n)}catch(n){return it.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):it.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):it.reject(n)}static resolve(t){return new it(((n,s)=>{n(t)}))}static reject(t){return new it(((n,s)=>{s(t)}))}static waitFor(t){return new it(((n,s)=>{let o=0,c=0,u=!1;t.forEach((d=>{++o,d.next((()=>{++c,u&&c===o&&n()}),(p=>s(p)))})),u=!0,c===o&&n()}))}static or(t){let n=it.resolve(!1);for(const s of t)n=n.next((o=>o?it.resolve(o):s()));return n}static forEach(t,n){const s=[];return t.forEach(((o,c)=>{s.push(n.call(this,o,c))})),this.waitFor(s)}static mapArray(t,n){return new it(((s,o)=>{const c=t.length,u=new Array(c);let d=0;for(let p=0;p<c;p++){const g=p;n(t[g]).next((v=>{u[g]=v,++d,d===c&&s(u)}),(v=>o(v)))}}))}static doWhile(t,n){return new it(((s,o)=>{const c=()=>{t()===!0?n().next((()=>{c()}),o):s()};c()}))}}function vV(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function pl(e){return e.name==="IndexedDbTransactionError"}class Zf{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Zf.ce=-1;const ly=-1;function Jf(e){return e==null}function xf(e){return e===0&&1/e==-1/0}function TV(e){return typeof e=="number"&&Number.isInteger(e)&&!xf(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}const sw="";function EV(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=z0(t)),t=AV(e.get(n),t);return z0(t)}function AV(e,t){let n=t;const s=e.length;for(let o=0;o<s;o++){const c=e.charAt(o);switch(c){case"\0":n+="";break;case sw:n+="";break;default:n+=c}}return n}function z0(e){return e+sw+""}function q0(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Zr(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function rw(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class Se{constructor(t,n){this.comparator=t,this.root=n||mn.EMPTY}insert(t,n){return new Se(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,mn.BLACK,null,null))}remove(t){return new Se(this.comparator,this.root.remove(t,this.comparator).copy(null,null,mn.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(t,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((n,s)=>(t(n,s),!1)))}toString(){const t=[];return this.inorderTraversal(((n,s)=>(t.push(`${n}:${s}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Gh(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Gh(this.root,t,this.comparator,!1)}getReverseIterator(){return new Gh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Gh(this.root,t,this.comparator,!0)}}class Gh{constructor(t,n,s,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=n?s(t.key,n):1,n&&o&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class mn{constructor(t,n,s,o,c){this.key=t,this.value=n,this.color=s??mn.RED,this.left=o??mn.EMPTY,this.right=c??mn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,o,c){return new mn(t??this.key,n??this.value,s??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let o=this;const c=s(t,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(t,n,s),null):c===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return mn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return mn.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,mn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,mn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw St(43730,{key:this.key,value:this.value});if(this.right.isRed())throw St(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw St(27949);return t+(this.isRed()?0:1)}}mn.EMPTY=null,mn.RED=!0,mn.BLACK=!1;mn.EMPTY=new class{constructor(){this.size=0}get key(){throw St(57766)}get value(){throw St(16141)}get color(){throw St(16727)}get left(){throw St(29726)}get right(){throw St(36894)}copy(t,n,s,o,c){return this}insert(t,n,s){return new mn(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Je{constructor(t){this.comparator=t,this.data=new Se(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((n,s)=>(t(n),!1)))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new F0(this.data.getIterator())}getIteratorFrom(t){return new F0(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach((s=>{n=n.add(s)})),n}isEqual(t){if(!(t instanceof Je)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,c=s.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((n=>{t.push(n)})),t}toString(){const t=[];return this.forEach((n=>t.push(n))),"SortedSet("+t.toString()+")"}copy(t){const n=new Je(this.comparator);return n.data=t,n}}class F0{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Jn{constructor(t){this.fields=t,t.sort(pn.comparator)}static empty(){return new Jn([])}unionWith(t){let n=new Je(pn.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new Jn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return rl(this.fields,t.fields,((n,s)=>n.isEqual(s)))}}class aw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class gn{constructor(t){this.binaryString=t}static fromBase64String(t){const n=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new aw("Invalid base64 string: "+c):c}})(t);return new gn(n)}static fromUint8Array(t){const n=(function(o){let c="";for(let u=0;u<o.length;++u)c+=String.fromCharCode(o[u]);return c})(t);return new gn(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Gt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}gn.EMPTY_BYTE_STRING=new gn("");const bV=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Fr(e){if(te(!!e,39018),typeof e=="string"){let t=0;const n=bV.exec(e);if(te(!!n,46558,{timestamp:e}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),t=Number(o)}const s=new Date(e);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:je(e.seconds),nanos:je(e.nanos)}}function je(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function Hr(e){return typeof e=="string"?gn.fromBase64String(e):gn.fromUint8Array(e)}const ow="server_timestamp",lw="__type__",cw="__previous_value__",uw="__local_write_time__";function cy(e){return(e?.mapValue?.fields||{})[lw]?.stringValue===ow}function td(e){const t=e.mapValue.fields[cw];return cy(t)?td(t):t}function Yc(e){const t=Fr(e.mapValue.fields[uw].timestampValue);return new me(t.seconds,t.nanos)}class SV{constructor(t,n,s,o,c,u,d,p,g,v){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=c,this.forceLongPolling=u,this.autoDetectLongPolling=d,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=v}}const If="(default)";class Qc{constructor(t,n){this.projectId=t,this.database=n||If}static empty(){return new Qc("","")}get isDefaultDatabase(){return this.database===If}isEqual(t){return t instanceof Qc&&t.projectId===this.projectId&&t.database===this.database}}const hw="__type__",wV="__max__",Kh={mapValue:{}},fw="__vector__",Nf="value";function Gr(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?cy(e)?4:CV(e)?9007199254740991:RV(e)?10:11:St(28295,{value:e})}function ms(e,t){if(e===t)return!0;const n=Gr(e);if(n!==Gr(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Yc(e).isEqual(Yc(t));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const u=Fr(o.timestampValue),d=Fr(c.timestampValue);return u.seconds===d.seconds&&u.nanos===d.nanos})(e,t);case 5:return e.stringValue===t.stringValue;case 6:return(function(o,c){return Hr(o.bytesValue).isEqual(Hr(c.bytesValue))})(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return(function(o,c){return je(o.geoPointValue.latitude)===je(c.geoPointValue.latitude)&&je(o.geoPointValue.longitude)===je(c.geoPointValue.longitude)})(e,t);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return je(o.integerValue)===je(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const u=je(o.doubleValue),d=je(c.doubleValue);return u===d?xf(u)===xf(d):isNaN(u)&&isNaN(d)}return!1})(e,t);case 9:return rl(e.arrayValue.values||[],t.arrayValue.values||[],ms);case 10:case 11:return(function(o,c){const u=o.mapValue.fields||{},d=c.mapValue.fields||{};if(q0(u)!==q0(d))return!1;for(const p in u)if(u.hasOwnProperty(p)&&(d[p]===void 0||!ms(u[p],d[p])))return!1;return!0})(e,t);default:return St(52216,{left:e})}}function Xc(e,t){return(e.values||[]).find((n=>ms(n,t)))!==void 0}function al(e,t){if(e===t)return 0;const n=Gr(e),s=Gr(t);if(n!==s)return Gt(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Gt(e.booleanValue,t.booleanValue);case 2:return(function(c,u){const d=je(c.integerValue||c.doubleValue),p=je(u.integerValue||u.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1})(e,t);case 3:return H0(e.timestampValue,t.timestampValue);case 4:return H0(Yc(e),Yc(t));case 5:return ag(e.stringValue,t.stringValue);case 6:return(function(c,u){const d=Hr(c),p=Hr(u);return d.compareTo(p)})(e.bytesValue,t.bytesValue);case 7:return(function(c,u){const d=c.split("/"),p=u.split("/");for(let g=0;g<d.length&&g<p.length;g++){const v=Gt(d[g],p[g]);if(v!==0)return v}return Gt(d.length,p.length)})(e.referenceValue,t.referenceValue);case 8:return(function(c,u){const d=Gt(je(c.latitude),je(u.latitude));return d!==0?d:Gt(je(c.longitude),je(u.longitude))})(e.geoPointValue,t.geoPointValue);case 9:return G0(e.arrayValue,t.arrayValue);case 10:return(function(c,u){const d=c.fields||{},p=u.fields||{},g=d[Nf]?.arrayValue,v=p[Nf]?.arrayValue,E=Gt(g?.values?.length||0,v?.values?.length||0);return E!==0?E:G0(g,v)})(e.mapValue,t.mapValue);case 11:return(function(c,u){if(c===Kh.mapValue&&u===Kh.mapValue)return 0;if(c===Kh.mapValue)return 1;if(u===Kh.mapValue)return-1;const d=c.fields||{},p=Object.keys(d),g=u.fields||{},v=Object.keys(g);p.sort(),v.sort();for(let E=0;E<p.length&&E<v.length;++E){const b=ag(p[E],v[E]);if(b!==0)return b;const C=al(d[p[E]],g[v[E]]);if(C!==0)return C}return Gt(p.length,v.length)})(e.mapValue,t.mapValue);default:throw St(23264,{he:n})}}function H0(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return Gt(e,t);const n=Fr(e),s=Fr(t),o=Gt(n.seconds,s.seconds);return o!==0?o:Gt(n.nanos,s.nanos)}function G0(e,t){const n=e.values||[],s=t.values||[];for(let o=0;o<n.length&&o<s.length;++o){const c=al(n[o],s[o]);if(c)return c}return Gt(n.length,s.length)}function ol(e){return og(e)}function og(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?(function(n){const s=Fr(n);return`time(${s.seconds},${s.nanos})`})(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?(function(n){return Hr(n).toBase64()})(e.bytesValue):"referenceValue"in e?(function(n){return Et.fromName(n).toString()})(e.referenceValue):"geoPointValue"in e?(function(n){return`geo(${n.latitude},${n.longitude})`})(e.geoPointValue):"arrayValue"in e?(function(n){let s="[",o=!0;for(const c of n.values||[])o?o=!1:s+=",",s+=og(c);return s+"]"})(e.arrayValue):"mapValue"in e?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",c=!0;for(const u of s)c?c=!1:o+=",",o+=`${u}:${og(n.fields[u])}`;return o+"}"})(e.mapValue):St(61005,{value:e})}function cf(e){switch(Gr(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=td(e);return t?16+cf(t):16;case 5:return 2*e.stringValue.length;case 6:return Hr(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,c)=>o+cf(c)),0)})(e.arrayValue);case 10:case 11:return(function(s){let o=0;return Zr(s.fields,((c,u)=>{o+=c.length+cf(u)})),o})(e.mapValue);default:throw St(13486,{value:e})}}function K0(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function lg(e){return!!e&&"integerValue"in e}function uy(e){return!!e&&"arrayValue"in e}function Y0(e){return!!e&&"nullValue"in e}function Q0(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function uf(e){return!!e&&"mapValue"in e}function RV(e){return(e?.mapValue?.fields||{})[hw]?.stringValue===fw}function Mc(e){if(e.geoPointValue)return{geoPointValue:{...e.geoPointValue}};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:{...e.timestampValue}};if(e.mapValue){const t={mapValue:{fields:{}}};return Zr(e.mapValue.fields,((n,s)=>t.mapValue.fields[n]=Mc(s))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Mc(e.arrayValue.values[n]);return t}return{...e}}function CV(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===wV}class Ln{constructor(t){this.value=t}static empty(){return new Ln({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!uf(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Mc(n)}setAll(t){let n=pn.emptyPath(),s={},o=[];t.forEach(((u,d)=>{if(!n.isImmediateParentOf(d)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=d.popLast()}u?s[d.lastSegment()]=Mc(u):o.push(d.lastSegment())}));const c=this.getFieldsMap(n);this.applyChanges(c,s,o)}delete(t){const n=this.field(t.popLast());uf(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return ms(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let o=n.mapValue.fields[t.get(s)];uf(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(t,n,s){Zr(n,((o,c)=>t[o]=c));for(const o of s)delete t[o]}clone(){return new Ln(Mc(this.value))}}function dw(e){const t=[];return Zr(e.fields,((n,s)=>{const o=new pn([n]);if(uf(s)){const c=dw(s.mapValue).fields;if(c.length===0)t.push(o);else for(const u of c)t.push(o.child(u))}else t.push(o)})),new Jn(t)}class Tn{constructor(t,n,s,o,c,u,d){this.key=t,this.documentType=n,this.version=s,this.readTime=o,this.createTime=c,this.data=u,this.documentState=d}static newInvalidDocument(t){return new Tn(t,0,It.min(),It.min(),It.min(),Ln.empty(),0)}static newFoundDocument(t,n,s,o){return new Tn(t,1,n,It.min(),s,o,0)}static newNoDocument(t,n){return new Tn(t,2,n,It.min(),It.min(),Ln.empty(),0)}static newUnknownDocument(t,n){return new Tn(t,3,n,It.min(),It.min(),Ln.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(It.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Ln.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Ln.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=It.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Tn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Tn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Df{constructor(t,n){this.position=t,this.inclusive=n}}function X0(e,t,n){let s=0;for(let o=0;o<e.position.length;o++){const c=t[o],u=e.position[o];if(c.field.isKeyField()?s=Et.comparator(Et.fromName(u.referenceValue),n.key):s=al(u,n.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function $0(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!ms(e.position[n],t.position[n]))return!1;return!0}class Vf{constructor(t,n="asc"){this.field=t,this.dir=n}}function xV(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class mw{}class Ye extends mw{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,s):new NV(t,n,s):n==="array-contains"?new OV(t,s):n==="in"?new MV(t,s):n==="not-in"?new PV(t,s):n==="array-contains-any"?new kV(t,s):new Ye(t,n,s)}static createKeyFieldInFilter(t,n,s){return n==="in"?new DV(t,s):new VV(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(al(n,this.value)):n!==null&&Gr(this.value)===Gr(n)&&this.matchesComparison(al(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return St(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ji extends mw{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new ji(t,n)}matches(t){return pw(this)?this.filters.find((n=>!n.matches(t)))===void 0:this.filters.find((n=>n.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,n)=>t.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function pw(e){return e.op==="and"}function gw(e){return IV(e)&&pw(e)}function IV(e){for(const t of e.filters)if(t instanceof ji)return!1;return!0}function cg(e){if(e instanceof Ye)return e.field.canonicalString()+e.op.toString()+ol(e.value);if(gw(e))return e.filters.map((t=>cg(t))).join(",");{const t=e.filters.map((n=>cg(n))).join(",");return`${e.op}(${t})`}}function yw(e,t){return e instanceof Ye?(function(s,o){return o instanceof Ye&&s.op===o.op&&s.field.isEqual(o.field)&&ms(s.value,o.value)})(e,t):e instanceof ji?(function(s,o){return o instanceof ji&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((c,u,d)=>c&&yw(u,o.filters[d])),!0):!1})(e,t):void St(19439)}function _w(e){return e instanceof Ye?(function(n){return`${n.field.canonicalString()} ${n.op} ${ol(n.value)}`})(e):e instanceof ji?(function(n){return n.op.toString()+" {"+n.getFilters().map(_w).join(" ,")+"}"})(e):"Filter"}class NV extends Ye{constructor(t,n,s){super(t,n,s),this.key=Et.fromName(s.referenceValue)}matches(t){const n=Et.comparator(t.key,this.key);return this.matchesComparison(n)}}class DV extends Ye{constructor(t,n){super(t,"in",n),this.keys=vw("in",n)}matches(t){return this.keys.some((n=>n.isEqual(t.key)))}}class VV extends Ye{constructor(t,n){super(t,"not-in",n),this.keys=vw("not-in",n)}matches(t){return!this.keys.some((n=>n.isEqual(t.key)))}}function vw(e,t){return(t.arrayValue?.values||[]).map((n=>Et.fromName(n.referenceValue)))}class OV extends Ye{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return uy(n)&&Xc(n.arrayValue,this.value)}}class MV extends Ye{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Xc(this.value.arrayValue,n)}}class PV extends Ye{constructor(t,n){super(t,"not-in",n)}matches(t){if(Xc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Xc(this.value.arrayValue,n)}}class kV extends Ye{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!uy(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>Xc(this.value.arrayValue,s)))}}class jV{constructor(t,n=null,s=[],o=[],c=null,u=null,d=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=c,this.startAt=u,this.endAt=d,this.Te=null}}function W0(e,t=null,n=[],s=[],o=null,c=null,u=null){return new jV(e,t,n,s,o,c,u)}function hy(e){const t=Vt(e);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((s=>cg(s))).join(","),n+="|ob:",n+=t.orderBy.map((s=>(function(c){return c.field.canonicalString()+c.dir})(s))).join(","),Jf(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((s=>ol(s))).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((s=>ol(s))).join(",")),t.Te=n}return t.Te}function fy(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!xV(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!yw(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!$0(e.startAt,t.startAt)&&$0(e.endAt,t.endAt)}function ug(e){return Et.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}class uu{constructor(t,n=null,s=[],o=[],c=null,u="F",d=null,p=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=c,this.limitType=u,this.startAt=d,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function LV(e,t,n,s,o,c,u,d){return new uu(e,t,n,s,o,c,u,d)}function Tw(e){return new uu(e)}function Z0(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function Ew(e){return e.collectionGroup!==null}function Pc(e){const t=Vt(e);if(t.Ie===null){t.Ie=[];const n=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),n.add(c.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(u){let d=new Je(pn.comparator);return u.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(d=d.add(g.field))}))})),d})(t).forEach((c=>{n.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new Vf(c,s))})),n.has(pn.keyField().canonicalString())||t.Ie.push(new Vf(pn.keyField(),s))}return t.Ie}function ls(e){const t=Vt(e);return t.Ee||(t.Ee=UV(t,Pc(e))),t.Ee}function UV(e,t){if(e.limitType==="F")return W0(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new Vf(o.field,c)}));const n=e.endAt?new Df(e.endAt.position,e.endAt.inclusive):null,s=e.startAt?new Df(e.startAt.position,e.startAt.inclusive):null;return W0(e.path,e.collectionGroup,t,e.filters,e.limit,n,s)}}function hg(e,t){const n=e.filters.concat([t]);return new uu(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function fg(e,t,n){return new uu(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function ed(e,t){return fy(ls(e),ls(t))&&e.limitType===t.limitType}function Aw(e){return`${hy(ls(e))}|lt:${e.limitType}`}function qo(e){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>_w(o))).join(", ")}]`),Jf(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>ol(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>ol(o))).join(",")),`Target(${s})`})(ls(e))}; limitType=${e.limitType})`}function nd(e,t){return t.isFoundDocument()&&(function(s,o){const c=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):Et.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)})(e,t)&&(function(s,o){for(const c of Pc(s))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(e,t)&&(function(s,o){for(const c of s.filters)if(!c.matches(o))return!1;return!0})(e,t)&&(function(s,o){return!(s.startAt&&!(function(u,d,p){const g=X0(u,d,p);return u.inclusive?g<=0:g<0})(s.startAt,Pc(s),o)||s.endAt&&!(function(u,d,p){const g=X0(u,d,p);return u.inclusive?g>=0:g>0})(s.endAt,Pc(s),o))})(e,t)}function BV(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function bw(e){return(t,n)=>{let s=!1;for(const o of Pc(e)){const c=zV(o,t,n);if(c!==0)return c;s=s||o.field.isKeyField()}return 0}}function zV(e,t,n){const s=e.field.isKeyField()?Et.comparator(t.key,n.key):(function(c,u,d){const p=u.data.field(c),g=d.data.field(c);return p!==null&&g!==null?al(p,g):St(42886)})(e.field,t,n);switch(e.dir){case"asc":return s;case"desc":return-1*s;default:return St(19790,{direction:e.dir})}}class Xa{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[o,c]of s)if(this.equalsFn(o,t))return c}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),o=this.inner[s];if(o===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],t))return void(o[c]=[t,n]);o.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],t))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(t){Zr(this.inner,((n,s)=>{for(const[o,c]of s)t(o,c)}))}isEmpty(){return rw(this.inner)}size(){return this.innerSize}}const qV=new Se(Et.comparator);function Hs(){return qV}const Sw=new Se(Et.comparator);function Ic(...e){let t=Sw;for(const n of e)t=t.insert(n.key,n);return t}function ww(e){let t=Sw;return e.forEach(((n,s)=>t=t.insert(n,s.overlayedDocument))),t}function Ma(){return kc()}function Rw(){return kc()}function kc(){return new Xa((e=>e.toString()),((e,t)=>e.isEqual(t)))}const FV=new Se(Et.comparator),HV=new Je(Et.comparator);function Kt(...e){let t=HV;for(const n of e)t=t.add(n);return t}const GV=new Je(Gt);function KV(){return GV}function dy(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:xf(t)?"-0":t}}function Cw(e){return{integerValue:""+e}}function YV(e,t){return TV(t)?Cw(t):dy(e,t)}class id{constructor(){this._=void 0}}function QV(e,t,n){return e instanceof Of?(function(o,c){const u={fields:{[lw]:{stringValue:ow},[uw]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&cy(c)&&(c=td(c)),c&&(u.fields[cw]=c),{mapValue:u}})(n,t):e instanceof $c?Iw(e,t):e instanceof Wc?Nw(e,t):(function(o,c){const u=xw(o,c),d=J0(u)+J0(o.Ae);return lg(u)&&lg(o.Ae)?Cw(d):dy(o.serializer,d)})(e,t)}function XV(e,t,n){return e instanceof $c?Iw(e,t):e instanceof Wc?Nw(e,t):n}function xw(e,t){return e instanceof Mf?(function(s){return lg(s)||(function(c){return!!c&&"doubleValue"in c})(s)})(t)?t:{integerValue:0}:null}class Of extends id{}class $c extends id{constructor(t){super(),this.elements=t}}function Iw(e,t){const n=Dw(t);for(const s of e.elements)n.some((o=>ms(o,s)))||n.push(s);return{arrayValue:{values:n}}}class Wc extends id{constructor(t){super(),this.elements=t}}function Nw(e,t){let n=Dw(t);for(const s of e.elements)n=n.filter((o=>!ms(o,s)));return{arrayValue:{values:n}}}class Mf extends id{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function J0(e){return je(e.integerValue||e.doubleValue)}function Dw(e){return uy(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function $V(e,t){return e.field.isEqual(t.field)&&(function(s,o){return s instanceof $c&&o instanceof $c||s instanceof Wc&&o instanceof Wc?rl(s.elements,o.elements,ms):s instanceof Mf&&o instanceof Mf?ms(s.Ae,o.Ae):s instanceof Of&&o instanceof Of})(e.transform,t.transform)}class WV{constructor(t,n){this.version=t,this.transformResults=n}}class Pi{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Pi}static exists(t){return new Pi(void 0,t)}static updateTime(t){return new Pi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function hf(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class sd{}function Vw(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new my(e.key,Pi.none()):new hu(e.key,e.data,Pi.none());{const n=e.data,s=Ln.empty();let o=new Je(pn.comparator);for(let c of t.fields)if(!o.has(c)){let u=n.field(c);u===null&&c.length>1&&(c=c.popLast(),u=n.field(c)),u===null?s.delete(c):s.set(c,u),o=o.add(c)}return new Jr(e.key,s,new Jn(o.toArray()),Pi.none())}}function ZV(e,t,n){e instanceof hu?(function(o,c,u){const d=o.value.clone(),p=eA(o.fieldTransforms,c,u.transformResults);d.setAll(p),c.convertToFoundDocument(u.version,d).setHasCommittedMutations()})(e,t,n):e instanceof Jr?(function(o,c,u){if(!hf(o.precondition,c))return void c.convertToUnknownDocument(u.version);const d=eA(o.fieldTransforms,c,u.transformResults),p=c.data;p.setAll(Ow(o)),p.setAll(d),c.convertToFoundDocument(u.version,p).setHasCommittedMutations()})(e,t,n):(function(o,c,u){c.convertToNoDocument(u.version).setHasCommittedMutations()})(0,t,n)}function jc(e,t,n,s){return e instanceof hu?(function(c,u,d,p){if(!hf(c.precondition,u))return d;const g=c.value.clone(),v=nA(c.fieldTransforms,p,u);return g.setAll(v),u.convertToFoundDocument(u.version,g).setHasLocalMutations(),null})(e,t,n,s):e instanceof Jr?(function(c,u,d,p){if(!hf(c.precondition,u))return d;const g=nA(c.fieldTransforms,p,u),v=u.data;return v.setAll(Ow(c)),v.setAll(g),u.convertToFoundDocument(u.version,v).setHasLocalMutations(),d===null?null:d.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((E=>E.field)))})(e,t,n,s):(function(c,u,d){return hf(c.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):d})(e,t,n)}function JV(e,t){let n=null;for(const s of e.fieldTransforms){const o=t.data.field(s.field),c=xw(s.transform,o||null);c!=null&&(n===null&&(n=Ln.empty()),n.set(s.field,c))}return n||null}function tA(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&rl(s,o,((c,u)=>$V(c,u)))})(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class hu extends sd{constructor(t,n,s,o=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Jr extends sd{constructor(t,n,s,o,c=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function Ow(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=e.data.field(n);t.set(n,s)}})),t}function eA(e,t,n){const s=new Map;te(e.length===n.length,32656,{Re:n.length,Ve:e.length});for(let o=0;o<n.length;o++){const c=e[o],u=c.transform,d=t.data.field(c.field);s.set(c.field,XV(u,d,n[o]))}return s}function nA(e,t,n){const s=new Map;for(const o of e){const c=o.transform,u=n.data.field(o.field);s.set(o.field,QV(c,u,t))}return s}class my extends sd{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class tO extends sd{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class eO{constructor(t,n,s,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(t.key)&&ZV(c,t,s[o])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=jc(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=jc(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=Rw();return this.mutations.forEach((o=>{const c=t.get(o.key),u=c.overlayedDocument;let d=this.applyToLocalView(u,c.mutatedFields);d=n.has(o.key)?null:d;const p=Vw(u,d);p!==null&&s.set(o.key,p),u.isValidDocument()||u.convertToNoDocument(It.min())})),s}keys(){return this.mutations.reduce(((t,n)=>t.add(n.key)),Kt())}isEqual(t){return this.batchId===t.batchId&&rl(this.mutations,t.mutations,((n,s)=>tA(n,s)))&&rl(this.baseMutations,t.baseMutations,((n,s)=>tA(n,s)))}}class py{constructor(t,n,s,o){this.batch=t,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(t,n,s){te(t.mutations.length===s.length,58842,{me:t.mutations.length,fe:s.length});let o=(function(){return FV})();const c=t.mutations;for(let u=0;u<c.length;u++)o=o.insert(c[u].key,s[u].version);return new py(t,n,s,o)}}class nO{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class iO{constructor(t,n){this.count=t,this.unchangedNames=n}}var Ge,Xt;function sO(e){switch(e){case nt.OK:return St(64938);case nt.CANCELLED:case nt.UNKNOWN:case nt.DEADLINE_EXCEEDED:case nt.RESOURCE_EXHAUSTED:case nt.INTERNAL:case nt.UNAVAILABLE:case nt.UNAUTHENTICATED:return!1;case nt.INVALID_ARGUMENT:case nt.NOT_FOUND:case nt.ALREADY_EXISTS:case nt.PERMISSION_DENIED:case nt.FAILED_PRECONDITION:case nt.ABORTED:case nt.OUT_OF_RANGE:case nt.UNIMPLEMENTED:case nt.DATA_LOSS:return!0;default:return St(15467,{code:e})}}function Mw(e){if(e===void 0)return Fs("GRPC error has no .code"),nt.UNKNOWN;switch(e){case Ge.OK:return nt.OK;case Ge.CANCELLED:return nt.CANCELLED;case Ge.UNKNOWN:return nt.UNKNOWN;case Ge.DEADLINE_EXCEEDED:return nt.DEADLINE_EXCEEDED;case Ge.RESOURCE_EXHAUSTED:return nt.RESOURCE_EXHAUSTED;case Ge.INTERNAL:return nt.INTERNAL;case Ge.UNAVAILABLE:return nt.UNAVAILABLE;case Ge.UNAUTHENTICATED:return nt.UNAUTHENTICATED;case Ge.INVALID_ARGUMENT:return nt.INVALID_ARGUMENT;case Ge.NOT_FOUND:return nt.NOT_FOUND;case Ge.ALREADY_EXISTS:return nt.ALREADY_EXISTS;case Ge.PERMISSION_DENIED:return nt.PERMISSION_DENIED;case Ge.FAILED_PRECONDITION:return nt.FAILED_PRECONDITION;case Ge.ABORTED:return nt.ABORTED;case Ge.OUT_OF_RANGE:return nt.OUT_OF_RANGE;case Ge.UNIMPLEMENTED:return nt.UNIMPLEMENTED;case Ge.DATA_LOSS:return nt.DATA_LOSS;default:return St(39323,{code:e})}}(Xt=Ge||(Ge={}))[Xt.OK=0]="OK",Xt[Xt.CANCELLED=1]="CANCELLED",Xt[Xt.UNKNOWN=2]="UNKNOWN",Xt[Xt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Xt[Xt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Xt[Xt.NOT_FOUND=5]="NOT_FOUND",Xt[Xt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Xt[Xt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Xt[Xt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Xt[Xt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Xt[Xt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Xt[Xt.ABORTED=10]="ABORTED",Xt[Xt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Xt[Xt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Xt[Xt.INTERNAL=13]="INTERNAL",Xt[Xt.UNAVAILABLE=14]="UNAVAILABLE",Xt[Xt.DATA_LOSS=15]="DATA_LOSS";function rO(){return new TextEncoder}const aO=new Lr([4294967295,4294967295],0);function iA(e){const t=rO().encode(e),n=new QS;return n.update(t),new Uint8Array(n.digest())}function sA(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),o=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new Lr([n,s],0),new Lr([o,c],0)]}class gy{constructor(t,n,s){if(this.bitmap=t,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Nc(`Invalid padding: ${n}`);if(s<0)throw new Nc(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new Nc(`Invalid hash count: ${s}`);if(t.length===0&&n!==0)throw new Nc(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=Lr.fromNumber(this.ge)}ye(t,n,s){let o=t.add(n.multiply(Lr.fromNumber(s)));return o.compare(aO)===1&&(o=new Lr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=iA(t),[s,o]=sA(n);for(let c=0;c<this.hashCount;c++){const u=this.ye(s,o,c);if(!this.we(u))return!1}return!0}static create(t,n,s){const o=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),u=new gy(c,o,n);return s.forEach((d=>u.insert(d))),u}insert(t){if(this.ge===0)return;const n=iA(t),[s,o]=sA(n);for(let c=0;c<this.hashCount;c++){const u=this.ye(s,o,c);this.Se(u)}}Se(t){const n=Math.floor(t/8),s=t%8;this.bitmap[n]|=1<<s}}class Nc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class rd{constructor(t,n,s,o,c){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,n,s){const o=new Map;return o.set(t,fu.createSynthesizedTargetChangeForCurrentChange(t,n,s)),new rd(It.min(),o,new Se(Gt),Hs(),Kt())}}class fu{constructor(t,n,s,o,c){this.resumeToken=t,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,n,s){return new fu(s,n,Kt(),Kt(),Kt())}}class ff{constructor(t,n,s,o){this.be=t,this.removedTargetIds=n,this.key=s,this.De=o}}class Pw{constructor(t,n){this.targetId=t,this.Ce=n}}class kw{constructor(t,n,s=gn.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=n,this.resumeToken=s,this.cause=o}}class rA{constructor(){this.ve=0,this.Fe=aA(),this.Me=gn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Kt(),n=Kt(),s=Kt();return this.Fe.forEach(((o,c)=>{switch(c){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:St(38017,{changeType:c})}})),new fu(this.Me,this.xe,t,n,s)}qe(){this.Oe=!1,this.Fe=aA()}Qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,te(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class oO{constructor(t){this.Ge=t,this.ze=new Map,this.je=Hs(),this.Je=Yh(),this.He=Yh(),this.Ye=new Se(Gt)}Ze(t){for(const n of t.be)t.De&&t.De.isFoundDocument()?this.Xe(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,(n=>{const s=this.nt(n);switch(t.state){case 0:this.rt(n)&&s.Le(t.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(t.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(t.resumeToken));break;default:St(56790,{state:t.state})}}))}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(t){const n=t.targetId,s=t.Ce.count,o=this.ot(n);if(o){const c=o.target;if(ug(c))if(s===0){const u=new Et(c.path);this.et(n,u,Tn.newNoDocument(u,It.min()))}else te(s===1,20013,{expectedCount:s});else{const u=this._t(n);if(u!==s){const d=this.ut(t),p=d?this.ct(d,t,u):1;if(p!==0){this.it(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,g)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:c=0}=n;let u,d;try{u=Hr(s).toUint8Array()}catch(p){if(p instanceof aw)return sl("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{d=new gy(u,o,c)}catch(p){return sl(p instanceof Nc?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return d.ge===0?null:d}ct(t,n,s){return n.Ce.count===s-this.Pt(t,n.targetId)?0:2}Pt(t,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((c=>{const u=this.Ge.ht(),d=`projects/${u.projectId}/databases/${u.database}/documents/${c.path.canonicalString()}`;t.mightContain(d)||(this.et(n,c,null),o++)})),o}Tt(t){const n=new Map;this.ze.forEach(((c,u)=>{const d=this.ot(u);if(d){if(c.current&&ug(d.target)){const p=new Et(d.target.path);this.It(p).has(u)||this.Et(u,p)||this.et(u,p,Tn.newNoDocument(p,t))}c.Be&&(n.set(u,c.ke()),c.qe())}}));let s=Kt();this.He.forEach(((c,u)=>{let d=!0;u.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(s=s.add(c))})),this.je.forEach(((c,u)=>u.setReadTime(t)));const o=new rd(t,n,this.Ye,this.je,s);return this.je=Hs(),this.Je=Yh(),this.He=Yh(),this.Ye=new Se(Gt),o}Xe(t,n){if(!this.rt(t))return;const s=this.Et(t,n.key)?2:0;this.nt(t).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(t)),this.He=this.He.insert(n.key,this.dt(n.key).add(t))}et(t,n,s){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(t)),this.He=this.He.insert(n,this.dt(n).add(t)),s&&(this.je=this.je.insert(n,s))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let n=this.ze.get(t);return n||(n=new rA,this.ze.set(t,n)),n}dt(t){let n=this.He.get(t);return n||(n=new Je(Gt),this.He=this.He.insert(t,n)),n}It(t){let n=this.Je.get(t);return n||(n=new Je(Gt),this.Je=this.Je.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||gt("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new rA),this.Ge.getRemoteKeysForTarget(t).forEach((n=>{this.et(t,n,null)}))}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function Yh(){return new Se(Et.comparator)}function aA(){return new Se(Et.comparator)}const lO={asc:"ASCENDING",desc:"DESCENDING"},cO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},uO={and:"AND",or:"OR"};class hO{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function dg(e,t){return e.useProto3Json||Jf(t)?t:{value:t}}function Pf(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function jw(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function fO(e,t){return Pf(e,t.toTimestamp())}function cs(e){return te(!!e,49232),It.fromTimestamp((function(n){const s=Fr(n);return new me(s.seconds,s.nanos)})(e))}function yy(e,t){return mg(e,t).canonicalString()}function mg(e,t){const n=(function(o){return new ue(["projects",o.projectId,"databases",o.database])})(e).child("documents");return t===void 0?n:n.child(t)}function Lw(e){const t=ue.fromString(e);return te(Fw(t),10190,{key:t.toString()}),t}function pg(e,t){return yy(e.databaseId,t.path)}function Rp(e,t){const n=Lw(t);if(n.get(1)!==e.databaseId.projectId)throw new pt(nt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new pt(nt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Et(Bw(n))}function Uw(e,t){return yy(e.databaseId,t)}function dO(e){const t=Lw(e);return t.length===4?ue.emptyPath():Bw(t)}function gg(e){return new ue(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Bw(e){return te(e.length>4&&e.get(4)==="documents",29091,{key:e.toString()}),e.popFirst(5)}function oA(e,t,n){return{name:pg(e,t),fields:n.value.mapValue.fields}}function mO(e,t){let n;if("targetChange"in t){t.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:St(39313,{state:g})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],c=(function(g,v){return g.useProto3Json?(te(v===void 0||typeof v=="string",58123),gn.fromBase64String(v||"")):(te(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),gn.fromUint8Array(v||new Uint8Array))})(e,t.targetChange.resumeToken),u=t.targetChange.cause,d=u&&(function(g){const v=g.code===void 0?nt.UNKNOWN:Mw(g.code);return new pt(v,g.message||"")})(u);n=new kw(s,o,c,d||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const o=Rp(e,s.document.name),c=cs(s.document.updateTime),u=s.document.createTime?cs(s.document.createTime):It.min(),d=new Ln({mapValue:{fields:s.document.fields}}),p=Tn.newFoundDocument(o,c,u,d),g=s.targetIds||[],v=s.removedTargetIds||[];n=new ff(g,v,p.key,p)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const o=Rp(e,s.document),c=s.readTime?cs(s.readTime):It.min(),u=Tn.newNoDocument(o,c),d=s.removedTargetIds||[];n=new ff([],d,u.key,u)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const o=Rp(e,s.document),c=s.removedTargetIds||[];n=new ff([],c,o,null)}else{if(!("filter"in t))return St(11601,{Rt:t});{t.filter;const s=t.filter;s.targetId;const{count:o=0,unchangedNames:c}=s,u=new iO(o,c),d=s.targetId;n=new Pw(d,u)}}return n}function pO(e,t){let n;if(t instanceof hu)n={update:oA(e,t.key,t.value)};else if(t instanceof my)n={delete:pg(e,t.key)};else if(t instanceof Jr)n={update:oA(e,t.key,t.data),updateMask:SO(t.fieldMask)};else{if(!(t instanceof tO))return St(16599,{Vt:t.type});n={verify:pg(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((s=>(function(c,u){const d=u.transform;if(d instanceof Of)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof $c)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Wc)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Mf)return{fieldPath:u.field.canonicalString(),increment:d.Ae};throw St(20930,{transform:u.transform})})(0,s)))),t.precondition.isNone||(n.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:fO(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:St(27497)})(e,t.precondition)),n}function gO(e,t){return e&&e.length>0?(te(t!==void 0,14353),e.map((n=>(function(o,c){let u=o.updateTime?cs(o.updateTime):cs(c);return u.isEqual(It.min())&&(u=cs(c)),new WV(u,o.transformResults||[])})(n,t)))):[]}function yO(e,t){return{documents:[Uw(e,t.path)]}}function _O(e,t){const n={structuredQuery:{}},s=t.path;let o;t.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=Uw(e,o);const c=(function(g){if(g.length!==0)return qw(ji.create(g,"and"))})(t.filters);c&&(n.structuredQuery.where=c);const u=(function(g){if(g.length!==0)return g.map((v=>(function(b){return{field:Fo(b.field),direction:EO(b.dir)}})(v)))})(t.orderBy);u&&(n.structuredQuery.orderBy=u);const d=dg(e,t.limit);return d!==null&&(n.structuredQuery.limit=d),t.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(t.startAt)),t.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(t.endAt)),{ft:n,parent:o}}function vO(e){let t=dO(e.parent);const n=e.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){te(s===1,65062);const v=n.from[0];v.allDescendants?o=v.collectionId:t=t.child(v.collectionId)}let c=[];n.where&&(c=(function(E){const b=zw(E);return b instanceof ji&&gw(b)?b.getFilters():[b]})(n.where));let u=[];n.orderBy&&(u=(function(E){return E.map((b=>(function(j){return new Vf(Ho(j.field),(function(z){switch(z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(j.direction))})(b)))})(n.orderBy));let d=null;n.limit&&(d=(function(E){let b;return b=typeof E=="object"?E.value:E,Jf(b)?null:b})(n.limit));let p=null;n.startAt&&(p=(function(E){const b=!!E.before,C=E.values||[];return new Df(C,b)})(n.startAt));let g=null;return n.endAt&&(g=(function(E){const b=!E.before,C=E.values||[];return new Df(C,b)})(n.endAt)),LV(t,o,u,c,d,"F",p,g)}function TO(e,t){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return St(28987,{purpose:o})}})(t.purpose);return n==null?null:{"goog-listen-tags":n}}function zw(e){return e.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Ho(n.unaryFilter.field);return Ye.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Ho(n.unaryFilter.field);return Ye.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Ho(n.unaryFilter.field);return Ye.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Ho(n.unaryFilter.field);return Ye.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return St(61313);default:return St(60726)}})(e):e.fieldFilter!==void 0?(function(n){return Ye.create(Ho(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return St(58110);default:return St(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(e):e.compositeFilter!==void 0?(function(n){return ji.create(n.compositeFilter.filters.map((s=>zw(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return St(1026)}})(n.compositeFilter.op))})(e):St(30097,{filter:e})}function EO(e){return lO[e]}function AO(e){return cO[e]}function bO(e){return uO[e]}function Fo(e){return{fieldPath:e.canonicalString()}}function Ho(e){return pn.fromServerFormat(e.fieldPath)}function qw(e){return e instanceof Ye?(function(n){if(n.op==="=="){if(Q0(n.value))return{unaryFilter:{field:Fo(n.field),op:"IS_NAN"}};if(Y0(n.value))return{unaryFilter:{field:Fo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Q0(n.value))return{unaryFilter:{field:Fo(n.field),op:"IS_NOT_NAN"}};if(Y0(n.value))return{unaryFilter:{field:Fo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Fo(n.field),op:AO(n.op),value:n.value}}})(e):e instanceof ji?(function(n){const s=n.getFilters().map((o=>qw(o)));return s.length===1?s[0]:{compositeFilter:{op:bO(n.op),filters:s}}})(e):St(54877,{filter:e})}function SO(e){const t=[];return e.fields.forEach((n=>t.push(n.canonicalString()))),{fieldPaths:t}}function Fw(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}class Pr{constructor(t,n,s,o,c=It.min(),u=It.min(),d=gn.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=d,this.expectedCount=p}withSequenceNumber(t){return new Pr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Pr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Pr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Pr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class wO{constructor(t){this.yt=t}}function RO(e){const t=vO({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?fg(t,t.limit,"L"):t}class CO{constructor(){this.Cn=new xO}addToCollectionParentIndex(t,n){return this.Cn.add(n),it.resolve()}getCollectionParents(t,n){return it.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return it.resolve()}deleteFieldIndex(t,n){return it.resolve()}deleteAllFieldIndexes(t){return it.resolve()}createTargetIndexes(t,n){return it.resolve()}getDocumentsMatchingTarget(t,n){return it.resolve(null)}getIndexType(t,n){return it.resolve(0)}getFieldIndexes(t,n){return it.resolve([])}getNextCollectionGroupToUpdate(t){return it.resolve(null)}getMinOffset(t,n){return it.resolve(qr.min())}getMinOffsetFromCollectionGroup(t,n){return it.resolve(qr.min())}updateCollectionGroup(t,n,s){return it.resolve()}updateIndexEntries(t,n){return it.resolve()}}class xO{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n]||new Je(ue.comparator),c=!o.has(s);return this.index[n]=o.add(s),c}has(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(t){return(this.index[t]||new Je(ue.comparator)).toArray()}}const lA={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Hw=41943040;class jn{static withCacheSize(t){return new jn(t,jn.DEFAULT_COLLECTION_PERCENTILE,jn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}jn.DEFAULT_COLLECTION_PERCENTILE=10,jn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,jn.DEFAULT=new jn(Hw,jn.DEFAULT_COLLECTION_PERCENTILE,jn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),jn.DISABLED=new jn(-1,0,0);class ll{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new ll(0)}static cr(){return new ll(-1)}}const cA="LruGarbageCollector",IO=1048576;function uA([e,t],[n,s]){const o=Gt(e,n);return o===0?Gt(t,s):o}class NO{constructor(t){this.Ir=t,this.buffer=new Je(uA),this.Er=0}dr(){return++this.Er}Ar(t){const n=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();uA(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class DO{constructor(t,n,s){this.garbageCollector=t,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){gt(cA,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){pl(n)?gt(cA,"Ignoring IndexedDB error during garbage collection: ",n):await ml(n)}await this.Vr(3e5)}))}}class VO{constructor(t,n){this.mr=t,this.params=n}calculateTargetCount(t,n){return this.mr.gr(t).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(t,n){if(n===0)return it.resolve(Zf.ce);const s=new NO(n);return this.mr.forEachTarget(t,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(t,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(t,n,s){return this.mr.removeTargets(t,n,s)}removeOrphanedDocuments(t,n){return this.mr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(gt("LruGarbageCollector","Garbage collection skipped; disabled"),it.resolve(lA)):this.getCacheSize(t).next((s=>s<this.params.cacheSizeCollectionThreshold?(gt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),lA):this.yr(t,n)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,n){let s,o,c,u,d,p,g;const v=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((E=>(E>this.params.maximumSequenceNumbersToCollect?(gt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),o=this.params.maximumSequenceNumbersToCollect):o=E,u=Date.now(),this.nthSequenceNumber(t,o)))).next((E=>(s=E,d=Date.now(),this.removeTargets(t,s,n)))).next((E=>(c=E,p=Date.now(),this.removeOrphanedDocuments(t,s)))).next((E=>(g=Date.now(),zo()<=Ht.DEBUG&&gt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-v}ms
	Determined least recently used ${o} in `+(d-u)+`ms
	Removed ${c} targets in `+(p-d)+`ms
	Removed ${E} documents in `+(g-p)+`ms
Total Duration: ${g-v}ms`),it.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:E}))))}}function OO(e,t){return new VO(e,t)}class MO{constructor(){this.changes=new Xa((t=>t.toString()),((t,n)=>t.isEqual(n))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Tn.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?it.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class PO{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}class kO{constructor(t,n,s,o){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(t,n)))).next((o=>(s!==null&&jc(s.mutation,o,Jn.empty(),me.now()),o)))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.getLocalViewOfDocuments(t,s,Kt()).next((()=>s))))}getLocalViewOfDocuments(t,n,s=Kt()){const o=Ma();return this.populateOverlays(t,o,n).next((()=>this.computeViews(t,n,o,s).next((c=>{let u=Ic();return c.forEach(((d,p)=>{u=u.insert(d,p.overlayedDocument)})),u}))))}getOverlayedDocuments(t,n){const s=Ma();return this.populateOverlays(t,s,n).next((()=>this.computeViews(t,n,s,Kt())))}populateOverlays(t,n,s){const o=[];return s.forEach((c=>{n.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(t,o).next((c=>{c.forEach(((u,d)=>{n.set(u,d)}))}))}computeViews(t,n,s,o){let c=Hs();const u=kc(),d=(function(){return kc()})();return n.forEach(((p,g)=>{const v=s.get(g.key);o.has(g.key)&&(v===void 0||v.mutation instanceof Jr)?c=c.insert(g.key,g):v!==void 0?(u.set(g.key,v.mutation.getFieldMask()),jc(v.mutation,g,v.mutation.getFieldMask(),me.now())):u.set(g.key,Jn.empty())})),this.recalculateAndSaveOverlays(t,c).next((p=>(p.forEach(((g,v)=>u.set(g,v))),n.forEach(((g,v)=>d.set(g,new PO(v,u.get(g)??null)))),d)))}recalculateAndSaveOverlays(t,n){const s=kc();let o=new Se(((u,d)=>u-d)),c=Kt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next((u=>{for(const d of u)d.keys().forEach((p=>{const g=n.get(p);if(g===null)return;let v=s.get(p)||Jn.empty();v=d.applyToLocalView(g,v),s.set(p,v);const E=(o.get(d.batchId)||Kt()).add(p);o=o.insert(d.batchId,E)}))})).next((()=>{const u=[],d=o.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),g=p.key,v=p.value,E=Rw();v.forEach((b=>{if(!c.has(b)){const C=Vw(n.get(b),s.get(b));C!==null&&E.set(b,C),c=c.add(b)}})),u.push(this.documentOverlayCache.saveOverlays(t,g,E))}return it.waitFor(u)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.recalculateAndSaveOverlays(t,s)))}getDocumentsMatchingQuery(t,n,s,o){return(function(u){return Et.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):Ew(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s,o):this.getDocumentsMatchingCollectionQuery(t,n,s,o)}getNextDocuments(t,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,o).next((c=>{const u=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,o-c.size):it.resolve(Ma());let d=Kc,p=c;return u.next((g=>it.forEach(g,((v,E)=>(d<E.largestBatchId&&(d=E.largestBatchId),c.get(v)?it.resolve():this.remoteDocumentCache.getEntry(t,v).next((b=>{p=p.insert(v,b)}))))).next((()=>this.populateOverlays(t,g,c))).next((()=>this.computeViews(t,p,g,Kt()))).next((v=>({batchId:d,changes:ww(v)})))))}))}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new Et(n)).next((s=>{let o=Ic();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(t,n,s,o){const c=n.collectionGroup;let u=Ic();return this.indexManager.getCollectionParents(t,c).next((d=>it.forEach(d,(p=>{const g=(function(E,b){return new uu(b,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)})(n,p.child(c));return this.getDocumentsMatchingCollectionQuery(t,g,s,o).next((v=>{v.forEach(((E,b)=>{u=u.insert(E,b)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(t,n,s,o){let c;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId).next((u=>(c=u,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,s,c,o)))).next((u=>{c.forEach(((p,g)=>{const v=g.getKey();u.get(v)===null&&(u=u.insert(v,Tn.newInvalidDocument(v)))}));let d=Ic();return u.forEach(((p,g)=>{const v=c.get(p);v!==void 0&&jc(v.mutation,g,Jn.empty(),me.now()),nd(n,g)&&(d=d.insert(p,g))})),d}))}}class jO{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,n){return it.resolve(this.Lr.get(n))}saveBundleMetadata(t,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:cs(o.createTime)}})(n)),it.resolve()}getNamedQuery(t,n){return it.resolve(this.kr.get(n))}saveNamedQuery(t,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:RO(o.bundledQuery),readTime:cs(o.readTime)}})(n)),it.resolve()}}class LO{constructor(){this.overlays=new Se(Et.comparator),this.qr=new Map}getOverlay(t,n){return it.resolve(this.overlays.get(n))}getOverlays(t,n){const s=Ma();return it.forEach(n,(o=>this.getOverlay(t,o).next((c=>{c!==null&&s.set(o,c)})))).next((()=>s))}saveOverlays(t,n,s){return s.forEach(((o,c)=>{this.St(t,n,c)})),it.resolve()}removeOverlaysForBatchId(t,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(s)),it.resolve()}getOverlaysForCollection(t,n,s){const o=Ma(),c=n.length+1,u=new Et(n.child("")),d=this.overlays.getIteratorFrom(u);for(;d.hasNext();){const p=d.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===c&&p.largestBatchId>s&&o.set(p.getKey(),p)}return it.resolve(o)}getOverlaysForCollectionGroup(t,n,s,o){let c=new Se(((g,v)=>g-v));const u=this.overlays.getIterator();for(;u.hasNext();){const g=u.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let v=c.get(g.largestBatchId);v===null&&(v=Ma(),c=c.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const d=Ma(),p=c.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,v)=>d.set(g,v))),!(d.size()>=o)););return it.resolve(d)}St(t,n,s){const o=this.overlays.get(s.key);if(o!==null){const u=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,u)}this.overlays=this.overlays.insert(s.key,new nO(n,s));let c=this.qr.get(n);c===void 0&&(c=Kt(),this.qr.set(n,c)),this.qr.set(n,c.add(s.key))}}class UO{constructor(){this.sessionToken=gn.EMPTY_BYTE_STRING}getSessionToken(t){return it.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,it.resolve()}}class _y{constructor(){this.Qr=new Je(an.$r),this.Ur=new Je(an.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,n){const s=new an(t,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(t,n){t.forEach((s=>this.addReference(s,n)))}removeReference(t,n){this.Gr(new an(t,n))}zr(t,n){t.forEach((s=>this.removeReference(s,n)))}jr(t){const n=new Et(new ue([])),s=new an(n,t),o=new an(n,t+1),c=[];return this.Ur.forEachInRange([s,o],(u=>{this.Gr(u),c.push(u.key)})),c}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const n=new Et(new ue([])),s=new an(n,t),o=new an(n,t+1);let c=Kt();return this.Ur.forEachInRange([s,o],(u=>{c=c.add(u.key)})),c}containsKey(t){const n=new an(t,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class an{constructor(t,n){this.key=t,this.Yr=n}static $r(t,n){return Et.comparator(t.key,n.key)||Gt(t.Yr,n.Yr)}static Kr(t,n){return Gt(t.Yr,n.Yr)||Et.comparator(t.key,n.key)}}class BO{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Je(an.$r)}checkEmpty(t){return it.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,o){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new eO(c,n,s,o);this.mutationQueue.push(u);for(const d of o)this.Zr=this.Zr.add(new an(d.key,c)),this.indexManager.addToCollectionParentIndex(t,d.key.path.popLast());return it.resolve(u)}lookupMutationBatch(t,n){return it.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,o=this.ei(s),c=o<0?0:o;return it.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return it.resolve(this.mutationQueue.length===0?ly:this.tr-1)}getAllMutationBatches(t){return it.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new an(n,0),o=new an(n,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([s,o],(u=>{const d=this.Xr(u.Yr);c.push(d)})),it.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new Je(Gt);return n.forEach((o=>{const c=new an(o,0),u=new an(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,u],(d=>{s=s.add(d.Yr)}))})),it.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,o=s.length+1;let c=s;Et.isDocumentKey(c)||(c=c.child(""));const u=new an(new Et(c),0);let d=new Je(Gt);return this.Zr.forEachWhile((p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(d=d.add(p.Yr)),!0)}),u),it.resolve(this.ti(d))}ti(t){const n=[];return t.forEach((s=>{const o=this.Xr(s);o!==null&&n.push(o)})),n}removeMutationBatch(t,n){te(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return it.forEach(n.mutations,(o=>{const c=new an(o.key,n.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Zr=s}))}ir(t){}containsKey(t,n){const s=new an(n,0),o=this.Zr.firstAfterOrEqual(s);return it.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,it.resolve()}ni(t,n){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const n=this.ei(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class zO{constructor(t){this.ri=t,this.docs=(function(){return new Se(Et.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,o=this.docs.get(s),c=o?o.size:0,u=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:u}),this.size+=u-c,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return it.resolve(s?s.document.mutableCopy():Tn.newInvalidDocument(n))}getEntries(t,n){let s=Hs();return n.forEach((o=>{const c=this.docs.get(o);s=s.insert(o,c?c.document.mutableCopy():Tn.newInvalidDocument(o))})),it.resolve(s)}getDocumentsMatchingQuery(t,n,s,o){let c=Hs();const u=n.path,d=new Et(u.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:g,value:{document:v}}=p.getNext();if(!u.isPrefixOf(g.path))break;g.path.length>u.length+1||gV(pV(v),s)<=0||(o.has(v.key)||nd(n,v))&&(c=c.insert(v.key,v.mutableCopy()))}return it.resolve(c)}getAllFromCollectionGroup(t,n,s,o){St(9500)}ii(t,n){return it.forEach(this.docs,(s=>n(s)))}newChangeBuffer(t){return new qO(this)}getSize(t){return it.resolve(this.size)}}class qO extends MO{constructor(t){super(),this.Nr=t}applyChanges(t){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(t,o)):this.Nr.removeEntry(s)})),it.waitFor(n)}getFromCache(t,n){return this.Nr.getEntry(t,n)}getAllFromCache(t,n){return this.Nr.getEntries(t,n)}}class FO{constructor(t){this.persistence=t,this.si=new Xa((n=>hy(n)),fy),this.lastRemoteSnapshotVersion=It.min(),this.highestTargetId=0,this.oi=0,this._i=new _y,this.targetCount=0,this.ai=ll.ur()}forEachTarget(t,n){return this.si.forEach(((s,o)=>n(o))),it.resolve()}getLastRemoteSnapshotVersion(t){return it.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return it.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),it.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),it.resolve()}Pr(t){this.si.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ai=new ll(n),this.highestTargetId=n),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,n){return this.Pr(n),this.targetCount+=1,it.resolve()}updateTargetData(t,n){return this.Pr(n),it.resolve()}removeTargetData(t,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,it.resolve()}removeTargets(t,n,s){let o=0;const c=[];return this.si.forEach(((u,d)=>{d.sequenceNumber<=n&&s.get(d.targetId)===null&&(this.si.delete(u),c.push(this.removeMatchingKeysForTargetId(t,d.targetId)),o++)})),it.waitFor(c).next((()=>o))}getTargetCount(t){return it.resolve(this.targetCount)}getTargetData(t,n){const s=this.si.get(n)||null;return it.resolve(s)}addMatchingKeys(t,n,s){return this._i.Wr(n,s),it.resolve()}removeMatchingKeys(t,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,c=[];return o&&n.forEach((u=>{c.push(o.markPotentiallyOrphaned(t,u))})),it.waitFor(c)}removeMatchingKeysForTargetId(t,n){return this._i.jr(n),it.resolve()}getMatchingKeysForTargetId(t,n){const s=this._i.Hr(n);return it.resolve(s)}containsKey(t,n){return it.resolve(this._i.containsKey(n))}}class Gw{constructor(t,n){this.ui={},this.overlays={},this.ci=new Zf(0),this.li=!1,this.li=!0,this.hi=new UO,this.referenceDelegate=t(this),this.Pi=new FO(this),this.indexManager=new CO,this.remoteDocumentCache=(function(o){return new zO(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new wO(n),this.Ii=new jO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new LO,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this.ui[t.toKey()];return s||(s=new BO(n,this.referenceDelegate),this.ui[t.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,n,s){gt("MemoryPersistence","Starting transaction:",t);const o=new HO(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((c=>this.referenceDelegate.di(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ai(t,n){return it.or(Object.values(this.ui).map((s=>()=>s.containsKey(t,n))))}}class HO extends _V{constructor(t){super(),this.currentSequenceNumber=t}}class vy{constructor(t){this.persistence=t,this.Ri=new _y,this.Vi=null}static mi(t){return new vy(t)}get fi(){if(this.Vi)return this.Vi;throw St(60996)}addReference(t,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),it.resolve()}removeReference(t,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),it.resolve()}markPotentiallyOrphaned(t,n){return this.fi.add(n.toString()),it.resolve()}removeTarget(t,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next((o=>{o.forEach((c=>this.fi.add(c.toString())))})).next((()=>s.removeTargetData(t,n)))}Ei(){this.Vi=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return it.forEach(this.fi,(s=>{const o=Et.fromPath(s);return this.gi(t,o).next((c=>{c||n.removeEntry(o,It.min())}))})).next((()=>(this.Vi=null,n.apply(t))))}updateLimboDocument(t,n){return this.gi(t,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(t){return 0}gi(t,n){return it.or([()=>it.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ai(t,n)])}}class kf{constructor(t,n){this.persistence=t,this.pi=new Xa((s=>EV(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=OO(this,n)}static mi(t,n){return new kf(t,n)}Ei(){}di(t){return it.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}gr(t){const n=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((s=>n.next((o=>s+o))))}wr(t){let n=0;return this.pr(t,(s=>{n++})).next((()=>n))}pr(t,n){return it.forEach(this.pi,((s,o)=>this.br(t,s,o).next((c=>c?it.resolve():n(o)))))}removeTargets(t,n,s){return this.persistence.getTargetCache().removeTargets(t,n,s)}removeOrphanedDocuments(t,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ii(t,(u=>this.br(t,u,n).next((d=>{d||(s++,c.removeEntry(u,It.min()))})))).next((()=>c.apply(t))).next((()=>s))}markPotentiallyOrphaned(t,n){return this.pi.set(n,t.currentSequenceNumber),it.resolve()}removeTarget(t,n){const s=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,n,s){return this.pi.set(s,t.currentSequenceNumber),it.resolve()}removeReference(t,n,s){return this.pi.set(s,t.currentSequenceNumber),it.resolve()}updateLimboDocument(t,n){return this.pi.set(n,t.currentSequenceNumber),it.resolve()}Ti(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=cf(t.data.value)),n}br(t,n,s){return it.or([()=>this.persistence.Ai(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const o=this.pi.get(n);return it.resolve(o!==void 0&&o>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class Ty{constructor(t,n,s,o){this.targetId=t,this.fromCache=n,this.Es=s,this.ds=o}static As(t,n){let s=Kt(),o=Kt();for(const c of n.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new Ty(t,n.fromCache,s,o)}}class GO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class KO{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return TI()?8:vV(An())>0?6:4})()}initialize(t,n){this.ps=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,s,o){const c={result:null};return this.ys(t,n).next((u=>{c.result=u})).next((()=>{if(!c.result)return this.ws(t,n,o,s).next((u=>{c.result=u}))})).next((()=>{if(c.result)return;const u=new GO;return this.Ss(t,n,u).next((d=>{if(c.result=d,this.Vs)return this.bs(t,n,u,d.size)}))})).next((()=>c.result))}bs(t,n,s,o){return s.documentReadCount<this.fs?(zo()<=Ht.DEBUG&&gt("QueryEngine","SDK will not create cache indexes for query:",qo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),it.resolve()):(zo()<=Ht.DEBUG&&gt("QueryEngine","Query:",qo(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(zo()<=Ht.DEBUG&&gt("QueryEngine","The SDK decides to create cache indexes for query:",qo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,ls(n))):it.resolve())}ys(t,n){if(Z0(n))return it.resolve(null);let s=ls(n);return this.indexManager.getIndexType(t,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=fg(n,null,"F"),s=ls(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next((c=>{const u=Kt(...c);return this.ps.getDocuments(t,u).next((d=>this.indexManager.getMinOffset(t,s).next((p=>{const g=this.Ds(n,d);return this.Cs(n,g,u,p.readTime)?this.ys(t,fg(n,null,"F")):this.vs(t,g,n,p)}))))})))))}ws(t,n,s,o){return Z0(n)||o.isEqual(It.min())?it.resolve(null):this.ps.getDocuments(t,s).next((c=>{const u=this.Ds(n,c);return this.Cs(n,u,s,o)?it.resolve(null):(zo()<=Ht.DEBUG&&gt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),qo(n)),this.vs(t,u,n,mV(o,Kc)).next((d=>d)))}))}Ds(t,n){let s=new Je(bw(t));return n.forEach(((o,c)=>{nd(t,c)&&(s=s.add(c))})),s}Cs(t,n,s,o){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const c=t.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Ss(t,n,s){return zo()<=Ht.DEBUG&&gt("QueryEngine","Using full collection scan to execute query:",qo(n)),this.ps.getDocumentsMatchingQuery(t,n,qr.min(),s)}vs(t,n,s,o){return this.ps.getDocumentsMatchingQuery(t,s,o).next((c=>(n.forEach((u=>{c=c.insert(u.key,u)})),c)))}}const Ey="LocalStore",YO=3e8;class QO{constructor(t,n,s,o){this.persistence=t,this.Fs=n,this.serializer=o,this.Ms=new Se(Gt),this.xs=new Xa((c=>hy(c)),fy),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(s)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new kO(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>t.collect(n,this.Ms)))}}function XO(e,t,n,s){return new QO(e,t,n,s)}async function Kw(e,t){const n=Vt(e);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((c=>(o=c,n.Bs(t),n.mutationQueue.getAllMutationBatches(s)))).next((c=>{const u=[],d=[];let p=Kt();for(const g of o){u.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}for(const g of c){d.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}return n.localDocuments.getDocuments(s,p).next((g=>({Ls:g,removedBatchIds:u,addedBatchIds:d})))}))}))}function $O(e,t){const n=Vt(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=t.batch.keys(),c=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(d,p,g,v){const E=g.batch,b=E.keys();let C=it.resolve();return b.forEach((j=>{C=C.next((()=>v.getEntry(p,j))).next((B=>{const z=g.docVersions.get(j);te(z!==null,48541),B.version.compareTo(z)<0&&(E.applyToRemoteDocument(B,g),B.isValidDocument()&&(B.setReadTime(g.commitVersion),v.addEntry(B)))}))})),C.next((()=>d.mutationQueue.removeMutationBatch(p,E)))})(n,s,t,c).next((()=>c.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(d){let p=Kt();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(p=p.add(d.batch.mutations[g].key));return p})(t)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function Yw(e){const t=Vt(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>t.Pi.getLastRemoteSnapshotVersion(n)))}function WO(e,t){const n=Vt(e),s=t.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const u=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const d=[];t.targetChanges.forEach(((v,E)=>{const b=o.get(E);if(!b)return;d.push(n.Pi.removeMatchingKeys(c,v.removedDocuments,E).next((()=>n.Pi.addMatchingKeys(c,v.addedDocuments,E))));let C=b.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(E)!==null?C=C.withResumeToken(gn.EMPTY_BYTE_STRING,It.min()).withLastLimboFreeSnapshotVersion(It.min()):v.resumeToken.approximateByteSize()>0&&(C=C.withResumeToken(v.resumeToken,s)),o=o.insert(E,C),(function(B,z,$){return B.resumeToken.approximateByteSize()===0||z.snapshotVersion.toMicroseconds()-B.snapshotVersion.toMicroseconds()>=YO?!0:$.addedDocuments.size+$.modifiedDocuments.size+$.removedDocuments.size>0})(b,C,v)&&d.push(n.Pi.updateTargetData(c,C))}));let p=Hs(),g=Kt();if(t.documentUpdates.forEach((v=>{t.resolvedLimboDocuments.has(v)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(c,v))})),d.push(ZO(c,u,t.documentUpdates).next((v=>{p=v.ks,g=v.qs}))),!s.isEqual(It.min())){const v=n.Pi.getLastRemoteSnapshotVersion(c).next((E=>n.Pi.setTargetsMetadata(c,c.currentSequenceNumber,s)));d.push(v)}return it.waitFor(d).next((()=>u.apply(c))).next((()=>n.localDocuments.getLocalViewOfDocuments(c,p,g))).next((()=>p))})).then((c=>(n.Ms=o,c)))}function ZO(e,t,n){let s=Kt(),o=Kt();return n.forEach((c=>s=s.add(c))),t.getEntries(e,s).next((c=>{let u=Hs();return n.forEach(((d,p)=>{const g=c.get(d);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(d)),p.isNoDocument()&&p.version.isEqual(It.min())?(t.removeEntry(d,p.readTime),u=u.insert(d,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(p),u=u.insert(d,p)):gt(Ey,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",p.version)})),{ks:u,qs:o}}))}function JO(e,t){const n=Vt(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(t===void 0&&(t=ly),n.mutationQueue.getNextMutationBatchAfterBatchId(s,t))))}function tM(e,t){const n=Vt(e);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.Pi.getTargetData(s,t).next((c=>c?(o=c,it.resolve(o)):n.Pi.allocateTargetId(s).next((u=>(o=new Pr(t,u,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(t,s.targetId)),s}))}async function yg(e,t,n){const s=Vt(e),o=s.Ms.get(t),c=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",c,(u=>s.persistence.referenceDelegate.removeTarget(u,o)))}catch(u){if(!pl(u))throw u;gt(Ey,`Failed to update sequence numbers for target ${t}: ${u}`)}s.Ms=s.Ms.remove(t),s.xs.delete(o.target)}function hA(e,t,n){const s=Vt(e);let o=It.min(),c=Kt();return s.persistence.runTransaction("Execute query","readwrite",(u=>(function(p,g,v){const E=Vt(p),b=E.xs.get(v);return b!==void 0?it.resolve(E.Ms.get(b)):E.Pi.getTargetData(g,v)})(s,u,ls(t)).next((d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(u,d.targetId).next((p=>{c=p}))})).next((()=>s.Fs.getDocumentsMatchingQuery(u,t,n?o:It.min(),n?c:Kt()))).next((d=>(eM(s,BV(t),d),{documents:d,Qs:c})))))}function eM(e,t,n){let s=e.Os.get(t)||It.min();n.forEach(((o,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)})),e.Os.set(t,s)}class fA{constructor(){this.activeTargetIds=KV()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class nM{constructor(){this.Mo=new fA,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t,n=!0){return n&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,n,s){this.xo[t]=n}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new fA,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class iM{Oo(t){}shutdown(){}}const dA="ConnectivityMonitor";class mA{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){gt(dA,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){gt(dA,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Qh=null;function _g(){return Qh===null?Qh=(function(){return 268435456+Math.round(2147483648*Math.random())})():Qh++,"0x"+Qh.toString(16)}const Cp="RestConnection",sM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class rM{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+t.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===If?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(t,n,s,o,c){const u=_g(),d=this.zo(t,n.toUriEncodedString());gt(Cp,`Sending RPC '${t}' ${u}:`,d,s);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,c);const{host:g}=new URL(d),v=$r(g);return this.Jo(t,d,p,s,v).then((E=>(gt(Cp,`Received RPC '${t}' ${u}: `,E),E)),(E=>{throw sl(Cp,`RPC '${t}' ${u} failed with error: `,E,"url: ",d,"request:",s),E}))}Ho(t,n,s,o,c,u){return this.Go(t,n,s,o,c)}jo(t,n,s){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+dl})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,c)=>t[c]=o)),s&&s.headers.forEach(((o,c)=>t[c]=o))}zo(t,n){const s=sM[t];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}class aM{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const _n="WebChannelConnection";class oM extends rM{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,s,o,c){const u=_g();return new Promise(((d,p)=>{const g=new XS;g.setWithCredentials(!0),g.listenOnce($S.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case lf.NO_ERROR:const E=g.getResponseJson();gt(_n,`XHR for RPC '${t}' ${u} received:`,JSON.stringify(E)),d(E);break;case lf.TIMEOUT:gt(_n,`RPC '${t}' ${u} timed out`),p(new pt(nt.DEADLINE_EXCEEDED,"Request time out"));break;case lf.HTTP_ERROR:const b=g.getStatus();if(gt(_n,`RPC '${t}' ${u} failed with status:`,b,"response text:",g.getResponseText()),b>0){let C=g.getResponseJson();Array.isArray(C)&&(C=C[0]);const j=C?.error;if(j&&j.status&&j.message){const B=(function($){const et=$.toLowerCase().replace(/_/g,"-");return Object.values(nt).indexOf(et)>=0?et:nt.UNKNOWN})(j.status);p(new pt(B,j.message))}else p(new pt(nt.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new pt(nt.UNAVAILABLE,"Connection failed."));break;default:St(9055,{l_:t,streamId:u,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{gt(_n,`RPC '${t}' ${u} completed.`)}}));const v=JSON.stringify(o);gt(_n,`RPC '${t}' ${u} sending request:`,o),g.send(n,"POST",v,s,15)}))}T_(t,n,s){const o=_g(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],u=JS(),d=ZS(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const v=c.join("");gt(_n,`Creating RPC '${t}' stream ${o}: ${v}`,p);const E=u.createWebChannel(v,p);this.I_(E);let b=!1,C=!1;const j=new aM({Yo:z=>{C?gt(_n,`Not sending because RPC '${t}' stream ${o} is closed:`,z):(b||(gt(_n,`Opening RPC '${t}' stream ${o} transport.`),E.open(),b=!0),gt(_n,`RPC '${t}' stream ${o} sending:`,z),E.send(z))},Zo:()=>E.close()}),B=(z,$,et)=>{z.listen($,(Z=>{try{et(Z)}catch(lt){setTimeout((()=>{throw lt}),0)}}))};return B(E,xc.EventType.OPEN,(()=>{C||(gt(_n,`RPC '${t}' stream ${o} transport opened.`),j.o_())})),B(E,xc.EventType.CLOSE,(()=>{C||(C=!0,gt(_n,`RPC '${t}' stream ${o} transport closed`),j.a_(),this.E_(E))})),B(E,xc.EventType.ERROR,(z=>{C||(C=!0,sl(_n,`RPC '${t}' stream ${o} transport errored. Name:`,z.name,"Message:",z.message),j.a_(new pt(nt.UNAVAILABLE,"The operation could not be completed")))})),B(E,xc.EventType.MESSAGE,(z=>{if(!C){const $=z.data[0];te(!!$,16349);const et=$,Z=et?.error||et[0]?.error;if(Z){gt(_n,`RPC '${t}' stream ${o} received error:`,Z);const lt=Z.status;let ct=(function(R){const I=Ge[R];if(I!==void 0)return Mw(I)})(lt),dt=Z.message;ct===void 0&&(ct=nt.INTERNAL,dt="Unknown error status: "+lt+" with message "+Z.message),C=!0,j.a_(new pt(ct,dt)),E.close()}else gt(_n,`RPC '${t}' stream ${o} received:`,$),j.u_($)}})),B(d,WS.STAT_EVENT,(z=>{z.stat===rg.PROXY?gt(_n,`RPC '${t}' stream ${o} detected buffering proxy`):z.stat===rg.NOPROXY&&gt(_n,`RPC '${t}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{j.__()}),0),j}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((n=>n===t))}}function xp(){return typeof document<"u"?document:null}function ad(e){return new hO(e,!0)}class Qw{constructor(t,n,s=1e3,o=1.5,c=6e4){this.Mi=t,this.timerId=n,this.d_=s,this.A_=o,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&gt("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const pA="PersistentStream";class Xw{constructor(t,n,s,o,c,u,d,p){this.Mi=t,this.S_=s,this.b_=o,this.connection=c,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Qw(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===nt.RESOURCE_EXHAUSTED?(Fs(n.toString()),Fs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===nt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(n)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{t((()=>{const o=new pt(nt.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(t,n){const s=this.W_(this.D_);this.stream=this.j_(t,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return gt(pA,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return n=>{this.Mi.enqueueAndForget((()=>this.D_===t?n():(gt(pA,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class lM extends Xw{constructor(t,n,s,o,c,u){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,u),this.serializer=c}j_(t,n){return this.connection.T_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=mO(this.serializer,t),s=(function(c){if(!("targetChange"in c))return It.min();const u=c.targetChange;return u.targetIds&&u.targetIds.length?It.min():u.readTime?cs(u.readTime):It.min()})(t);return this.listener.H_(n,s)}Y_(t){const n={};n.database=gg(this.serializer),n.addTarget=(function(c,u){let d;const p=u.target;if(d=ug(p)?{documents:yO(c,p)}:{query:_O(c,p).ft},d.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){d.resumeToken=jw(c,u.resumeToken);const g=dg(c,u.expectedCount);g!==null&&(d.expectedCount=g)}else if(u.snapshotVersion.compareTo(It.min())>0){d.readTime=Pf(c,u.snapshotVersion.toTimestamp());const g=dg(c,u.expectedCount);g!==null&&(d.expectedCount=g)}return d})(this.serializer,t);const s=TO(this.serializer,t);s&&(n.labels=s),this.q_(n)}Z_(t){const n={};n.database=gg(this.serializer),n.removeTarget=t,this.q_(n)}}class cM extends Xw{constructor(t,n,s,o,c,u){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,u),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}J_(t){return te(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,te(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){te(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=gO(t.writeResults,t.commitTime),s=cs(t.commitTime);return this.listener.na(s,n)}ra(){const t={};t.database=gg(this.serializer),this.q_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map((s=>pO(this.serializer,s)))};this.q_(n)}}class uM{}class hM extends uM{constructor(t,n,s,o){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new pt(nt.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,u])=>this.connection.Go(t,mg(n,s),o,c,u))).catch((c=>{throw c.name==="FirebaseError"?(c.code===nt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new pt(nt.UNKNOWN,c.toString())}))}Ho(t,n,s,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,d])=>this.connection.Ho(t,mg(n,s),o,u,d,c))).catch((u=>{throw u.name==="FirebaseError"?(u.code===nt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new pt(nt.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class fM{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Fs(n),this.aa=!1):gt("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Ka="RemoteStore";class dM{constructor(t,n,s,o,c){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((u=>{s.enqueueAndForget((async()=>{$a(this)&&(gt(Ka,"Restarting streams for network reachability change."),await(async function(p){const g=Vt(p);g.Ea.add(4),await du(g),g.Ra.set("Unknown"),g.Ea.delete(4),await od(g)})(this))}))})),this.Ra=new fM(s,o)}}async function od(e){if($a(e))for(const t of e.da)await t(!0)}async function du(e){for(const t of e.da)await t(!1)}function $w(e,t){const n=Vt(e);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),wy(n)?Sy(n):gl(n).O_()&&by(n,t))}function Ay(e,t){const n=Vt(e),s=gl(n);n.Ia.delete(t),s.O_()&&Ww(n,t),n.Ia.size===0&&(s.O_()?s.L_():$a(n)&&n.Ra.set("Unknown"))}function by(e,t){if(e.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(It.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}gl(e).Y_(t)}function Ww(e,t){e.Va.Ue(t),gl(e).Z_(t)}function Sy(e){e.Va=new oO({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),gl(e).start(),e.Ra.ua()}function wy(e){return $a(e)&&!gl(e).x_()&&e.Ia.size>0}function $a(e){return Vt(e).Ea.size===0}function Zw(e){e.Va=void 0}async function mM(e){e.Ra.set("Online")}async function pM(e){e.Ia.forEach(((t,n)=>{by(e,t)}))}async function gM(e,t){Zw(e),wy(e)?(e.Ra.ha(t),Sy(e)):e.Ra.set("Unknown")}async function yM(e,t,n){if(e.Ra.set("Online"),t instanceof kw&&t.state===2&&t.cause)try{await(async function(o,c){const u=c.cause;for(const d of c.targetIds)o.Ia.has(d)&&(await o.remoteSyncer.rejectListen(d,u),o.Ia.delete(d),o.Va.removeTarget(d))})(e,t)}catch(s){gt(Ka,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await jf(e,s)}else if(t instanceof ff?e.Va.Ze(t):t instanceof Pw?e.Va.st(t):e.Va.tt(t),!n.isEqual(It.min()))try{const s=await Yw(e.localStore);n.compareTo(s)>=0&&await(function(c,u){const d=c.Va.Tt(u);return d.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const v=c.Ia.get(g);v&&c.Ia.set(g,v.withResumeToken(p.resumeToken,u))}})),d.targetMismatches.forEach(((p,g)=>{const v=c.Ia.get(p);if(!v)return;c.Ia.set(p,v.withResumeToken(gn.EMPTY_BYTE_STRING,v.snapshotVersion)),Ww(c,p);const E=new Pr(v.target,p,g,v.sequenceNumber);by(c,E)})),c.remoteSyncer.applyRemoteEvent(d)})(e,n)}catch(s){gt(Ka,"Failed to raise snapshot:",s),await jf(e,s)}}async function jf(e,t,n){if(!pl(t))throw t;e.Ea.add(1),await du(e),e.Ra.set("Offline"),n||(n=()=>Yw(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{gt(Ka,"Retrying IndexedDB access"),await n(),e.Ea.delete(1),await od(e)}))}function Jw(e,t){return t().catch((n=>jf(e,n,t)))}async function ld(e){const t=Vt(e),n=Kr(t);let s=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:ly;for(;_M(t);)try{const o=await JO(t.localStore,s);if(o===null){t.Ta.length===0&&n.L_();break}s=o.batchId,vM(t,o)}catch(o){await jf(t,o)}t1(t)&&e1(t)}function _M(e){return $a(e)&&e.Ta.length<10}function vM(e,t){e.Ta.push(t);const n=Kr(e);n.O_()&&n.X_&&n.ea(t.mutations)}function t1(e){return $a(e)&&!Kr(e).x_()&&e.Ta.length>0}function e1(e){Kr(e).start()}async function TM(e){Kr(e).ra()}async function EM(e){const t=Kr(e);for(const n of e.Ta)t.ea(n.mutations)}async function AM(e,t,n){const s=e.Ta.shift(),o=py.from(s,t,n);await Jw(e,(()=>e.remoteSyncer.applySuccessfulWrite(o))),await ld(e)}async function bM(e,t){t&&Kr(e).X_&&await(async function(s,o){if((function(u){return sO(u)&&u!==nt.ABORTED})(o.code)){const c=s.Ta.shift();Kr(s).B_(),await Jw(s,(()=>s.remoteSyncer.rejectFailedWrite(c.batchId,o))),await ld(s)}})(e,t),t1(e)&&e1(e)}async function gA(e,t){const n=Vt(e);n.asyncQueue.verifyOperationInProgress(),gt(Ka,"RemoteStore received new credentials");const s=$a(n);n.Ea.add(3),await du(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await od(n)}async function SM(e,t){const n=Vt(e);t?(n.Ea.delete(2),await od(n)):t||(n.Ea.add(2),await du(n),n.Ra.set("Unknown"))}function gl(e){return e.ma||(e.ma=(function(n,s,o){const c=Vt(n);return c.sa(),new lM(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(e.datastore,e.asyncQueue,{Xo:mM.bind(null,e),t_:pM.bind(null,e),r_:gM.bind(null,e),H_:yM.bind(null,e)}),e.da.push((async t=>{t?(e.ma.B_(),wy(e)?Sy(e):e.Ra.set("Unknown")):(await e.ma.stop(),Zw(e))}))),e.ma}function Kr(e){return e.fa||(e.fa=(function(n,s,o){const c=Vt(n);return c.sa(),new cM(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(e.datastore,e.asyncQueue,{Xo:()=>Promise.resolve(),t_:TM.bind(null,e),r_:bM.bind(null,e),ta:EM.bind(null,e),na:AM.bind(null,e)}),e.da.push((async t=>{t?(e.fa.B_(),await ld(e)):(await e.fa.stop(),e.Ta.length>0&&(gt(Ka,`Stopping write stream with ${e.Ta.length} pending writes`),e.Ta=[]))}))),e.fa}class Ry{constructor(t,n,s,o,c){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=c,this.deferred=new Ur,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,o,c){const u=Date.now()+s,d=new Ry(t,n,u,o,c);return d.start(s),d}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new pt(nt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Cy(e,t){if(Fs("AsyncQueue",`${t}: ${e}`),pl(e))return new pt(nt.UNAVAILABLE,`${t}: ${e}`);throw e}class tl{static emptySet(t){return new tl(t.comparator)}constructor(t){this.comparator=t?(n,s)=>t(n,s)||Et.comparator(n.key,s.key):(n,s)=>Et.comparator(n.key,s.key),this.keyedMap=Ic(),this.sortedSet=new Se(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((n,s)=>(t(n),!1)))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof tl)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,c=s.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((n=>{t.push(n.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const s=new tl;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=n,s}}class yA{constructor(){this.ga=new Se(Et.comparator)}track(t){const n=t.doc.key,s=this.ga.get(n);s?t.type!==0&&s.type===3?this.ga=this.ga.insert(n,t):t.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.ga=this.ga.remove(n):t.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):St(63341,{Rt:t,pa:s}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal(((n,s)=>{t.push(s)})),t}}class cl{constructor(t,n,s,o,c,u,d,p,g){this.query=t,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=c,this.fromCache=u,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(t,n,s,o,c){const u=[];return n.forEach((d=>{u.push({type:0,doc:d})})),new cl(t,n,tl.emptySet(n),u,s,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&ed(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,s=t.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}class wM{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class RM{constructor(){this.queries=_A(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=Vt(n),c=o.queries;o.queries=_A(),c.forEach(((u,d)=>{for(const p of d.Sa)p.onError(s)}))})(this,new pt(nt.ABORTED,"Firestore shutting down"))}}function _A(){return new Xa((e=>Aw(e)),ed)}async function CM(e,t){const n=Vt(e);let s=3;const o=t.query;let c=n.queries.get(o);c?!c.ba()&&t.Da()&&(s=2):(c=new wM,s=t.Da()?0:1);try{switch(s){case 0:c.wa=await n.onListen(o,!0);break;case 1:c.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(u){const d=Cy(u,`Initialization of query '${qo(t.query)}' failed`);return void t.onError(d)}n.queries.set(o,c),c.Sa.push(t),t.va(n.onlineState),c.wa&&t.Fa(c.wa)&&xy(n)}async function xM(e,t){const n=Vt(e),s=t.query;let o=3;const c=n.queries.get(s);if(c){const u=c.Sa.indexOf(t);u>=0&&(c.Sa.splice(u,1),c.Sa.length===0?o=t.Da()?0:1:!c.ba()&&t.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function IM(e,t){const n=Vt(e);let s=!1;for(const o of t){const c=o.query,u=n.queries.get(c);if(u){for(const d of u.Sa)d.Fa(o)&&(s=!0);u.wa=o}}s&&xy(n)}function NM(e,t,n){const s=Vt(e),o=s.queries.get(t);if(o)for(const c of o.Sa)c.onError(n);s.queries.delete(t)}function xy(e){e.Ca.forEach((t=>{t.next()}))}var vg,vA;(vA=vg||(vg={})).Ma="default",vA.Cache="cache";class DM{constructor(t,n,s){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(t){if(!this.options.includeMetadataChanges){const s=[];for(const o of t.docChanges)o.type!==3&&s.push(o);t=new cl(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=cl.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==vg.Cache}}class n1{constructor(t){this.key=t}}class i1{constructor(t){this.key=t}}class VM{constructor(t,n){this.query=t,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Kt(),this.mutatedKeys=Kt(),this.eu=bw(t),this.tu=new tl(this.eu)}get nu(){return this.Ya}ru(t,n){const s=n?n.iu:new yA,o=n?n.tu:this.tu;let c=n?n.mutatedKeys:this.mutatedKeys,u=o,d=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((v,E)=>{const b=o.get(v),C=nd(this.query,E)?E:null,j=!!b&&this.mutatedKeys.has(b.key),B=!!C&&(C.hasLocalMutations||this.mutatedKeys.has(C.key)&&C.hasCommittedMutations);let z=!1;b&&C?b.data.isEqual(C.data)?j!==B&&(s.track({type:3,doc:C}),z=!0):this.su(b,C)||(s.track({type:2,doc:C}),z=!0,(p&&this.eu(C,p)>0||g&&this.eu(C,g)<0)&&(d=!0)):!b&&C?(s.track({type:0,doc:C}),z=!0):b&&!C&&(s.track({type:1,doc:b}),z=!0,(p||g)&&(d=!0)),z&&(C?(u=u.add(C),c=B?c.add(v):c.delete(v)):(u=u.delete(v),c=c.delete(v)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const v=this.query.limitType==="F"?u.last():u.first();u=u.delete(v.key),c=c.delete(v.key),s.track({type:1,doc:v})}return{tu:u,iu:s,Cs:d,mutatedKeys:c}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,s,o){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const u=t.iu.ya();u.sort(((v,E)=>(function(C,j){const B=z=>{switch(z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return St(20277,{Rt:z})}};return B(C)-B(j)})(v.type,E.type)||this.eu(v.doc,E.doc))),this.ou(s),o=o??!1;const d=n&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,g=p!==this.Za;return this.Za=p,u.length!==0||g?{snapshot:new cl(this.query,t.tu,c,u,t.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new yA,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),t.modifiedDocuments.forEach((n=>{})),t.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Kt(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return t.forEach((s=>{this.Xa.has(s)||n.push(new i1(s))})),this.Xa.forEach((s=>{t.has(s)||n.push(new n1(s))})),n}cu(t){this.Ya=t.Qs,this.Xa=Kt();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return cl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Iy="SyncEngine";class OM{constructor(t,n,s){this.query=t,this.targetId=n,this.view=s}}class MM{constructor(t){this.key=t,this.hu=!1}}class PM{constructor(t,n,s,o,c,u){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new Xa((d=>Aw(d)),ed),this.Iu=new Map,this.Eu=new Set,this.du=new Se(Et.comparator),this.Au=new Map,this.Ru=new _y,this.Vu={},this.mu=new Map,this.fu=ll.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function kM(e,t,n=!0){const s=c1(e);let o;const c=s.Tu.get(t);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await s1(s,t,n,!0),o}async function jM(e,t){const n=c1(e);await s1(n,t,!0,!1)}async function s1(e,t,n,s){const o=await tM(e.localStore,ls(t)),c=o.targetId,u=e.sharedClientState.addLocalQueryTarget(c,n);let d;return s&&(d=await LM(e,t,c,u==="current",o.resumeToken)),e.isPrimaryClient&&n&&$w(e.remoteStore,o),d}async function LM(e,t,n,s,o){e.pu=(E,b,C)=>(async function(B,z,$,et){let Z=z.view.ru($);Z.Cs&&(Z=await hA(B.localStore,z.query,!1).then((({documents:x})=>z.view.ru(x,Z))));const lt=et&&et.targetChanges.get(z.targetId),ct=et&&et.targetMismatches.get(z.targetId)!=null,dt=z.view.applyChanges(Z,B.isPrimaryClient,lt,ct);return EA(B,z.targetId,dt.au),dt.snapshot})(e,E,b,C);const c=await hA(e.localStore,t,!0),u=new VM(t,c.Qs),d=u.ru(c.documents),p=fu.createSynthesizedTargetChangeForCurrentChange(n,s&&e.onlineState!=="Offline",o),g=u.applyChanges(d,e.isPrimaryClient,p);EA(e,n,g.au);const v=new OM(t,n,u);return e.Tu.set(t,v),e.Iu.has(n)?e.Iu.get(n).push(t):e.Iu.set(n,[t]),g.snapshot}async function UM(e,t,n){const s=Vt(e),o=s.Tu.get(t),c=s.Iu.get(o.targetId);if(c.length>1)return s.Iu.set(o.targetId,c.filter((u=>!ed(u,t)))),void s.Tu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await yg(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Ay(s.remoteStore,o.targetId),Tg(s,o.targetId)})).catch(ml)):(Tg(s,o.targetId),await yg(s.localStore,o.targetId,!0))}async function BM(e,t){const n=Vt(e),s=n.Tu.get(t),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Ay(n.remoteStore,s.targetId))}async function zM(e,t,n){const s=QM(e);try{const o=await(function(u,d){const p=Vt(u),g=me.now(),v=d.reduce(((C,j)=>C.add(j.key)),Kt());let E,b;return p.persistence.runTransaction("Locally write mutations","readwrite",(C=>{let j=Hs(),B=Kt();return p.Ns.getEntries(C,v).next((z=>{j=z,j.forEach((($,et)=>{et.isValidDocument()||(B=B.add($))}))})).next((()=>p.localDocuments.getOverlayedDocuments(C,j))).next((z=>{E=z;const $=[];for(const et of d){const Z=JV(et,E.get(et.key).overlayedDocument);Z!=null&&$.push(new Jr(et.key,Z,dw(Z.value.mapValue),Pi.exists(!0)))}return p.mutationQueue.addMutationBatch(C,g,$,d)})).next((z=>{b=z;const $=z.applyToLocalDocumentSet(E,B);return p.documentOverlayCache.saveOverlays(C,z.batchId,$)}))})).then((()=>({batchId:b.batchId,changes:ww(E)})))})(s.localStore,t);s.sharedClientState.addPendingMutation(o.batchId),(function(u,d,p){let g=u.Vu[u.currentUser.toKey()];g||(g=new Se(Gt)),g=g.insert(d,p),u.Vu[u.currentUser.toKey()]=g})(s,o.batchId,n),await mu(s,o.changes),await ld(s.remoteStore)}catch(o){const c=Cy(o,"Failed to persist write");n.reject(c)}}async function r1(e,t){const n=Vt(e);try{const s=await WO(n.localStore,t);t.targetChanges.forEach(((o,c)=>{const u=n.Au.get(c);u&&(te(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?u.hu=!0:o.modifiedDocuments.size>0?te(u.hu,14607):o.removedDocuments.size>0&&(te(u.hu,42227),u.hu=!1))})),await mu(n,s,t)}catch(s){await ml(s)}}function TA(e,t,n){const s=Vt(e);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((c,u)=>{const d=u.view.va(t);d.snapshot&&o.push(d.snapshot)})),(function(u,d){const p=Vt(u);p.onlineState=d;let g=!1;p.queries.forEach(((v,E)=>{for(const b of E.Sa)b.va(d)&&(g=!0)})),g&&xy(p)})(s.eventManager,t),o.length&&s.Pu.H_(o),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function qM(e,t,n){const s=Vt(e);s.sharedClientState.updateQueryState(t,"rejected",n);const o=s.Au.get(t),c=o&&o.key;if(c){let u=new Se(Et.comparator);u=u.insert(c,Tn.newNoDocument(c,It.min()));const d=Kt().add(c),p=new rd(It.min(),new Map,new Se(Gt),u,d);await r1(s,p),s.du=s.du.remove(c),s.Au.delete(t),Ny(s)}else await yg(s.localStore,t,!1).then((()=>Tg(s,t,n))).catch(ml)}async function FM(e,t){const n=Vt(e),s=t.batch.batchId;try{const o=await $O(n.localStore,t);o1(n,s,null),a1(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await mu(n,o)}catch(o){await ml(o)}}async function HM(e,t,n){const s=Vt(e);try{const o=await(function(u,d){const p=Vt(u);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let v;return p.mutationQueue.lookupMutationBatch(g,d).next((E=>(te(E!==null,37113),v=E.keys(),p.mutationQueue.removeMutationBatch(g,E)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,v,d))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v))).next((()=>p.localDocuments.getDocuments(g,v)))}))})(s.localStore,t);o1(s,t,n),a1(s,t),s.sharedClientState.updateMutationState(t,"rejected",n),await mu(s,o)}catch(o){await ml(o)}}function a1(e,t){(e.mu.get(t)||[]).forEach((n=>{n.resolve()})),e.mu.delete(t)}function o1(e,t,n){const s=Vt(e);let o=s.Vu[s.currentUser.toKey()];if(o){const c=o.get(t);c&&(n?c.reject(n):c.resolve(),o=o.remove(t)),s.Vu[s.currentUser.toKey()]=o}}function Tg(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const s of e.Iu.get(t))e.Tu.delete(s),n&&e.Pu.yu(s,n);e.Iu.delete(t),e.isPrimaryClient&&e.Ru.jr(t).forEach((s=>{e.Ru.containsKey(s)||l1(e,s)}))}function l1(e,t){e.Eu.delete(t.path.canonicalString());const n=e.du.get(t);n!==null&&(Ay(e.remoteStore,n),e.du=e.du.remove(t),e.Au.delete(n),Ny(e))}function EA(e,t,n){for(const s of n)s instanceof n1?(e.Ru.addReference(s.key,t),GM(e,s)):s instanceof i1?(gt(Iy,"Document no longer in limbo: "+s.key),e.Ru.removeReference(s.key,t),e.Ru.containsKey(s.key)||l1(e,s.key)):St(19791,{wu:s})}function GM(e,t){const n=t.key,s=n.path.canonicalString();e.du.get(n)||e.Eu.has(s)||(gt(Iy,"New document in limbo: "+n),e.Eu.add(s),Ny(e))}function Ny(e){for(;e.Eu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){const t=e.Eu.values().next().value;e.Eu.delete(t);const n=new Et(ue.fromString(t)),s=e.fu.next();e.Au.set(s,new MM(n)),e.du=e.du.insert(n,s),$w(e.remoteStore,new Pr(ls(Tw(n.path)),s,"TargetPurposeLimboResolution",Zf.ce))}}async function mu(e,t,n){const s=Vt(e),o=[],c=[],u=[];s.Tu.isEmpty()||(s.Tu.forEach(((d,p)=>{u.push(s.pu(p,t,n).then((g=>{if((g||n)&&s.isPrimaryClient){const v=g?!g.fromCache:n?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,v?"current":"not-current")}if(g){o.push(g);const v=Ty.As(p.targetId,g);c.push(v)}})))})),await Promise.all(u),s.Pu.H_(o),await(async function(p,g){const v=Vt(p);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(E=>it.forEach(g,(b=>it.forEach(b.Es,(C=>v.persistence.referenceDelegate.addReference(E,b.targetId,C))).next((()=>it.forEach(b.ds,(C=>v.persistence.referenceDelegate.removeReference(E,b.targetId,C)))))))))}catch(E){if(!pl(E))throw E;gt(Ey,"Failed to update sequence numbers: "+E)}for(const E of g){const b=E.targetId;if(!E.fromCache){const C=v.Ms.get(b),j=C.snapshotVersion,B=C.withLastLimboFreeSnapshotVersion(j);v.Ms=v.Ms.insert(b,B)}}})(s.localStore,c))}async function KM(e,t){const n=Vt(e);if(!n.currentUser.isEqual(t)){gt(Iy,"User change. New user:",t.toKey());const s=await Kw(n.localStore,t);n.currentUser=t,(function(c,u){c.mu.forEach((d=>{d.forEach((p=>{p.reject(new pt(nt.CANCELLED,u))}))})),c.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await mu(n,s.Ls)}}function YM(e,t){const n=Vt(e),s=n.Au.get(t);if(s&&s.hu)return Kt().add(s.key);{let o=Kt();const c=n.Iu.get(t);if(!c)return o;for(const u of c){const d=n.Tu.get(u);o=o.unionWith(d.view.nu)}return o}}function c1(e){const t=Vt(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=r1.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=YM.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=qM.bind(null,t),t.Pu.H_=IM.bind(null,t.eventManager),t.Pu.yu=NM.bind(null,t.eventManager),t}function QM(e){const t=Vt(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=FM.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=HM.bind(null,t),t}class Lf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=ad(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return XO(this.persistence,new KO,t.initialUser,this.serializer)}Cu(t){return new Gw(vy.mi,this.serializer)}Du(t){return new nM}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Lf.provider={build:()=>new Lf};class XM extends Lf{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){te(this.persistence.referenceDelegate instanceof kf,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new DO(s,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?jn.withCacheSize(this.cacheSizeBytes):jn.DEFAULT;return new Gw((s=>kf.mi(s,n)),this.serializer)}}class Eg{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>TA(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=KM.bind(null,this.syncEngine),await SM(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new RM})()}createDatastore(t){const n=ad(t.databaseInfo.databaseId),s=(function(c){return new oM(c)})(t.databaseInfo);return(function(c,u,d,p){return new hM(c,u,d,p)})(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return(function(s,o,c,u,d){return new dM(s,o,c,u,d)})(this.localStore,this.datastore,t.asyncQueue,(n=>TA(this.syncEngine,n,0)),(function(){return mA.v()?new mA:new iM})())}createSyncEngine(t,n){return(function(o,c,u,d,p,g,v){const E=new PM(o,c,u,d,p,g);return v&&(E.gu=!0),E})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Vt(n);gt(Ka,"RemoteStore shutting down."),s.Ea.add(5),await du(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Eg.provider={build:()=>new Eg};class $M{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Fs("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout((()=>{this.muted||t(n)}),0)}}const Yr="FirestoreClient";class WM{constructor(t,n,s,o,c){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=vn.UNAUTHENTICATED,this.clientId=oy.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,(async u=>{gt(Yr,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(s,(u=>(gt(Yr,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Ur;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=Cy(n,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}async function Ip(e,t){e.asyncQueue.verifyOperationInProgress(),gt(Yr,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let s=n.initialUser;e.setCredentialChangeListener((async o=>{s.isEqual(o)||(await Kw(t.localStore,o),s=o)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function AA(e,t){e.asyncQueue.verifyOperationInProgress();const n=await ZM(e);gt(Yr,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((s=>gA(t.remoteStore,s))),e.setAppCheckTokenChangeListener(((s,o)=>gA(t.remoteStore,o))),e._onlineComponents=t}async function ZM(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){gt(Yr,"Using user provided OfflineComponentProvider");try{await Ip(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!(function(o){return o.name==="FirebaseError"?o.code===nt.FAILED_PRECONDITION||o.code===nt.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;sl("Error using user provided cache. Falling back to memory cache: "+n),await Ip(e,new Lf)}}else gt(Yr,"Using default OfflineComponentProvider"),await Ip(e,new XM(void 0));return e._offlineComponents}async function u1(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(gt(Yr,"Using user provided OnlineComponentProvider"),await AA(e,e._uninitializedComponentsProvider._online)):(gt(Yr,"Using default OnlineComponentProvider"),await AA(e,new Eg))),e._onlineComponents}function JM(e){return u1(e).then((t=>t.syncEngine))}async function tP(e){const t=await u1(e),n=t.eventManager;return n.onListen=kM.bind(null,t.syncEngine),n.onUnlisten=UM.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=jM.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=BM.bind(null,t.syncEngine),n}function eP(e,t,n={}){const s=new Ur;return e.asyncQueue.enqueueAndForget((async()=>(function(c,u,d,p,g){const v=new $M({next:b=>{v.Nu(),u.enqueueAndForget((()=>xM(c,E))),b.fromCache&&p.source==="server"?g.reject(new pt(nt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(b)},error:b=>g.reject(b)}),E=new DM(d,v,{includeMetadataChanges:!0,qa:!0});return CM(c,E)})(await tP(e),e.asyncQueue,t,n,s))),s.promise}function h1(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}const bA=new Map;const f1="firestore.googleapis.com",SA=!0;class wA{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new pt(nt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=f1,this.ssl=SA}else this.host=t.host,this.ssl=t.ssl??SA;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=Hw;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<IO)throw new pt(nt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}dV("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=h1(t.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new pt(nt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new pt(nt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new pt(nt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class cd{constructor(t,n,s,o){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new wA({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new pt(nt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new pt(nt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new wA(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new iV;switch(s.type){case"firstParty":return new oV(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new pt(nt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=bA.get(n);s&&(gt("ComponentProvider","Removing Datastore"),bA.delete(n),s.terminate())})(this),Promise.resolve()}}function nP(e,t,n,s={}){e=Ga(e,cd);const o=$r(t),c=e._getSettings(),u={...c,emulatorOptions:e._getEmulatorOptions()},d=`${t}:${n}`;o&&(Yg(`https://${d}`),Qg("Firestore",!0)),c.host!==f1&&c.host!==d&&sl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...c,host:d,ssl:o,emulatorOptions:s};if(!Ba(p,u)&&(e._setSettings(p),s.mockUserToken)){let g,v;if(typeof s.mockUserToken=="string")g=s.mockUserToken,v=vn.MOCK_USER;else{g=lS(s.mockUserToken,e._app?.options.projectId);const E=s.mockUserToken.sub||s.mockUserToken.user_id;if(!E)throw new pt(nt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new vn(E)}e._authCredentials=new sV(new ew(g,v))}}class yl{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new yl(this.firestore,t,this._query)}}class Ze{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Br(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ze(this.firestore,t,this._key)}toJSON(){return{type:Ze._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,s){if(cu(n,Ze._jsonSchema))return new Ze(t,s||null,new Et(ue.fromString(n.referencePath)))}}Ze._jsonSchemaVersion="firestore/documentReference/1.0",Ze._jsonSchema={type:Qe("string",Ze._jsonSchemaVersion),referencePath:Qe("string")};class Br extends yl{constructor(t,n,s){super(t,n,Tw(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ze(this.firestore,null,new Et(t))}withConverter(t){return new Br(this.firestore,t,this._path)}}function Na(e,t,...n){if(e=Ne(e),nw("collection","path",t),e instanceof cd){const s=ue.fromString(t,...n);return L0(s),new Br(e,null,s)}{if(!(e instanceof Ze||e instanceof Br))throw new pt(nt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=e._path.child(ue.fromString(t,...n));return L0(s),new Br(e.firestore,null,s)}}function df(e,t,...n){if(e=Ne(e),arguments.length===1&&(t=oy.newId()),nw("doc","path",t),e instanceof cd){const s=ue.fromString(t,...n);return j0(s),new Ze(e,null,new Et(s))}{if(!(e instanceof Ze||e instanceof Br))throw new pt(nt.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=e._path.child(ue.fromString(t,...n));return j0(s),new Ze(e.firestore,e instanceof Br?e.converter:null,new Et(s))}}const RA="AsyncQueue";class CA{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Qw(this,"async_queue_retry"),this._c=()=>{const s=xp();s&&gt(RA,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=t;const n=xp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=xp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Ur;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!pl(t))throw t;gt(RA,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const n=this.ac.then((()=>(this.rc=!0,t().catch((s=>{throw this.nc=s,this.rc=!1,Fs("INTERNAL UNHANDLED ERROR: ",xA(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(t,n,s){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const o=Ry.createAndSchedule(this,t,n,s,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&St(47125,{Pc:xA(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function xA(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}class pu extends cd{constructor(t,n,s,o){super(t,n,s,o),this.type="firestore",this._queue=new CA,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new CA(t),this._firestoreClient=void 0,await t}}}function iP(e,t){const n=typeof e=="object"?e:Wg(),s=typeof e=="string"?e:If,o=Yf(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const c=rS("firestore");c&&nP(o,...c)}return o}function d1(e){if(e._terminated)throw new pt(nt.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||sP(e),e._firestoreClient}function sP(e){const t=e._freezeSettings(),n=(function(o,c,u,d){return new SV(o,c,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,h1(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)})(e._databaseId,e._app?.options.appId||"",e._persistenceKey,t);e._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(e._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),e._firestoreClient=new WM(e._authCredentials,e._appCheckCredentials,e._queue,n,e._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(e._componentsProvider))}class yi{constructor(t){this._byteString=t}static fromBase64String(t){try{return new yi(gn.fromBase64String(t))}catch(n){throw new pt(nt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new yi(gn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:yi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(cu(t,yi._jsonSchema))return yi.fromBase64String(t.bytes)}}yi._jsonSchemaVersion="firestore/bytes/1.0",yi._jsonSchema={type:Qe("string",yi._jsonSchemaVersion),bytes:Qe("string")};class ud{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new pt(nt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new pn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Dy{constructor(t){this._methodName=t}}class us{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new pt(nt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new pt(nt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Gt(this._lat,t._lat)||Gt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:us._jsonSchemaVersion}}static fromJSON(t){if(cu(t,us._jsonSchema))return new us(t.latitude,t.longitude)}}us._jsonSchemaVersion="firestore/geoPoint/1.0",us._jsonSchema={type:Qe("string",us._jsonSchemaVersion),latitude:Qe("number"),longitude:Qe("number")};class hs{constructor(t){this._values=(t||[]).map((n=>n))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(s,o){if(s.length!==o.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==o[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:hs._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(cu(t,hs._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((n=>typeof n=="number")))return new hs(t.vectorValues);throw new pt(nt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}hs._jsonSchemaVersion="firestore/vectorValue/1.0",hs._jsonSchema={type:Qe("string",hs._jsonSchemaVersion),vectorValues:Qe("object")};const rP=/^__.*__$/;class aP{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return this.fieldMask!==null?new Jr(t,this.data,this.fieldMask,n,this.fieldTransforms):new hu(t,this.data,n,this.fieldTransforms)}}class m1{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return new Jr(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function p1(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw St(40011,{Ac:e})}}class Vy{constructor(t,n,s,o,c,u){this.settings=t,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Vy({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const n=this.path?.child(t),s=this.Vc({path:n,fc:!1});return s.gc(t),s}yc(t){const n=this.path?.child(t),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return Uf(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((n=>t.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>t.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(p1(this.Ac)&&rP.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class oP{constructor(t,n,s){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=s||ad(t)}Cc(t,n,s,o=!1){return new Vy({Ac:t,methodName:n,Dc:s,path:pn.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Oy(e){const t=e._freezeSettings(),n=ad(e._databaseId);return new oP(e._databaseId,!!t.ignoreUndefinedProperties,n)}function lP(e,t,n,s,o,c={}){const u=e.Cc(c.merge||c.mergeFields?2:0,t,n,o);My("Data must be an object, but it was:",u,s);const d=g1(s,u);let p,g;if(c.merge)p=new Jn(u.fieldMask),g=u.fieldTransforms;else if(c.mergeFields){const v=[];for(const E of c.mergeFields){const b=Ag(t,E,n);if(!u.contains(b))throw new pt(nt.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);_1(v,b)||v.push(b)}p=new Jn(v),g=u.fieldTransforms.filter((E=>p.covers(E.field)))}else p=null,g=u.fieldTransforms;return new aP(new Ln(d),p,g)}class hd extends Dy{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof hd}}function cP(e,t,n,s){const o=e.Cc(1,t,n);My("Data must be an object, but it was:",o,s);const c=[],u=Ln.empty();Zr(s,((p,g)=>{const v=Py(t,p,n);g=Ne(g);const E=o.yc(v);if(g instanceof hd)c.push(v);else{const b=gu(g,E);b!=null&&(c.push(v),u.set(v,b))}}));const d=new Jn(c);return new m1(u,d,o.fieldTransforms)}function uP(e,t,n,s,o,c){const u=e.Cc(1,t,n),d=[Ag(t,s,n)],p=[o];if(c.length%2!=0)throw new pt(nt.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<c.length;b+=2)d.push(Ag(t,c[b])),p.push(c[b+1]);const g=[],v=Ln.empty();for(let b=d.length-1;b>=0;--b)if(!_1(g,d[b])){const C=d[b];let j=p[b];j=Ne(j);const B=u.yc(C);if(j instanceof hd)g.push(C);else{const z=gu(j,B);z!=null&&(g.push(C),v.set(C,z))}}const E=new Jn(g);return new m1(v,E,u.fieldTransforms)}function hP(e,t,n,s=!1){return gu(n,e.Cc(s?4:3,t))}function gu(e,t){if(y1(e=Ne(e)))return My("Unsupported field value:",t,e),g1(e,t);if(e instanceof Dy)return(function(s,o){if(!p1(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(s,o){const c=[];let u=0;for(const d of s){let p=gu(d,o.wc(u));p==null&&(p={nullValue:"NULL_VALUE"}),c.push(p),u++}return{arrayValue:{values:c}}})(e,t)}return(function(s,o){if((s=Ne(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return YV(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=me.fromDate(s);return{timestampValue:Pf(o.serializer,c)}}if(s instanceof me){const c=new me(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Pf(o.serializer,c)}}if(s instanceof us)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof yi)return{bytesValue:jw(o.serializer,s._byteString)};if(s instanceof Ze){const c=o.databaseId,u=s.firestore._databaseId;if(!u.isEqual(c))throw o.Sc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:yy(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof hs)return(function(u,d){return{mapValue:{fields:{[hw]:{stringValue:fw},[Nf]:{arrayValue:{values:u.toArray().map((g=>{if(typeof g!="number")throw d.Sc("VectorValues must only contain numeric values.");return dy(d.serializer,g)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${Wf(s)}`)})(e,t)}function g1(e,t){const n={};return rw(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Zr(e,((s,o)=>{const c=gu(o,t.mc(s));c!=null&&(n[s]=c)})),{mapValue:{fields:n}}}function y1(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof me||e instanceof us||e instanceof yi||e instanceof Ze||e instanceof Dy||e instanceof hs)}function My(e,t,n){if(!y1(n)||!iw(n)){const s=Wf(n);throw s==="an object"?t.Sc(e+" a custom object"):t.Sc(e+" "+s)}}function Ag(e,t,n){if((t=Ne(t))instanceof ud)return t._internalPath;if(typeof t=="string")return Py(e,t);throw Uf("Field path arguments must be of type string or ",e,!1,void 0,n)}const fP=new RegExp("[~\\*/\\[\\]]");function Py(e,t,n){if(t.search(fP)>=0)throw Uf(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new ud(...t.split("."))._internalPath}catch{throw Uf(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Uf(e,t,n,s,o){const c=s&&!s.isEmpty(),u=o!==void 0;let d=`Function ${t}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(c||u)&&(p+=" (found",c&&(p+=` in field ${s}`),u&&(p+=` in document ${o}`),p+=")"),new pt(nt.INVALID_ARGUMENT,d+e+p)}function _1(e,t){return e.some((n=>n.isEqual(t)))}class v1{constructor(t,n,s,o,c){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Ze(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new dP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(ky("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class dP extends v1{data(){return super.data()}}function ky(e,t){return typeof t=="string"?Py(e,t):t instanceof ud?t._internalPath:t._delegate._internalPath}function mP(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new pt(nt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class jy{}class pP extends jy{}function IA(e,t,...n){let s=[];t instanceof jy&&s.push(t),s=s.concat(n),(function(c){const u=c.filter((p=>p instanceof Ly)).length,d=c.filter((p=>p instanceof fd)).length;if(u>1||u>0&&d>0)throw new pt(nt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)e=o._apply(e);return e}class fd extends pP{constructor(t,n,s){super(),this._field=t,this._op=n,this._value=s,this.type="where"}static _create(t,n,s){return new fd(t,n,s)}_apply(t){const n=this._parse(t);return T1(t._query,n),new yl(t.firestore,t.converter,hg(t._query,n))}_parse(t){const n=Oy(t.firestore);return(function(c,u,d,p,g,v,E){let b;if(g.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new pt(nt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){VA(E,v);const j=[];for(const B of E)j.push(DA(p,c,B));b={arrayValue:{values:j}}}else b=DA(p,c,E)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||VA(E,v),b=hP(d,u,E,v==="in"||v==="not-in");return Ye.create(g,v,b)})(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function NA(e,t,n){const s=t,o=ky("where",e);return fd._create(o,s,n)}class Ly extends jy{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new Ly(t,n)}_parse(t){const n=this._queryConstraints.map((s=>s._parse(t))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:ji.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:((function(o,c){let u=o;const d=c.getFlattenedFilters();for(const p of d)T1(u,p),u=hg(u,p)})(t._query,n),new yl(t.firestore,t.converter,hg(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function DA(e,t,n){if(typeof(n=Ne(n))=="string"){if(n==="")throw new pt(nt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ew(t)&&n.indexOf("/")!==-1)throw new pt(nt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=t.path.child(ue.fromString(n));if(!Et.isDocumentKey(s))throw new pt(nt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return K0(e,new Et(s))}if(n instanceof Ze)return K0(e,n._key);throw new pt(nt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Wf(n)}.`)}function VA(e,t){if(!Array.isArray(e)||e.length===0)throw new pt(nt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function T1(e,t){const n=(function(o,c){for(const u of o)for(const d of u.getFlattenedFilters())if(c.indexOf(d.op)>=0)return d.op;return null})(e.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(n!==null)throw n===t.op?new pt(nt.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new pt(nt.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class gP{convertValue(t,n="none"){switch(Gr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return je(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Hr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw St(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const s={};return Zr(t,((o,c)=>{s[o]=this.convertValue(c,n)})),s}convertVectorValue(t){const n=t.fields?.[Nf].arrayValue?.values?.map((s=>je(s.doubleValue)));return new hs(n)}convertGeoPoint(t){return new us(je(t.latitude),je(t.longitude))}convertArray(t,n){return(t.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(t,n){switch(n){case"previous":const s=td(t);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Yc(t));default:return null}}convertTimestamp(t){const n=Fr(t);return new me(n.seconds,n.nanos)}convertDocumentKey(t,n){const s=ue.fromString(t);te(Fw(s),9688,{name:t});const o=new Qc(s.get(1),s.get(3)),c=new Et(s.popFirst(5));return o.isEqual(n)||Fs(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}function yP(e,t,n){let s;return s=e?e.toFirestore(t):t,s}class Xh{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class el extends v1{constructor(t,n,s,o,c,u){super(t,n,s,o,u),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new mf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field(ky("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new pt(nt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=el._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}el._jsonSchemaVersion="firestore/documentSnapshot/1.0",el._jsonSchema={type:Qe("string",el._jsonSchemaVersion),bundleSource:Qe("string","DocumentSnapshot"),bundleName:Qe("string"),bundle:Qe("string")};class mf extends el{data(t={}){return super.data(t)}}class nl{constructor(t,n,s,o){this._firestore=t,this._userDataWriter=n,this._snapshot=o,this.metadata=new Xh(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const t=[];return this.forEach((n=>t.push(n))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach((s=>{t.call(n,new mf(this._firestore,this._userDataWriter,s.key,s,new Xh(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new pt(nt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let u=0;return o._snapshot.docChanges.map((d=>{const p=new mf(o._firestore,o._userDataWriter,d.doc.key,d.doc,new Xh(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:p,oldIndex:-1,newIndex:u++}}))}{let u=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((d=>c||d.type!==3)).map((d=>{const p=new mf(o._firestore,o._userDataWriter,d.doc.key,d.doc,new Xh(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,v=-1;return d.type!==0&&(g=u.indexOf(d.doc.key),u=u.delete(d.doc.key)),d.type!==1&&(u=u.add(d.doc),v=u.indexOf(d.doc.key)),{type:_P(d.type),doc:p,oldIndex:g,newIndex:v}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new pt(nt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=nl._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=oy.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(n.push(c._document),s.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function _P(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return St(61501,{type:e})}}nl._jsonSchemaVersion="firestore/querySnapshot/1.0",nl._jsonSchema={type:Qe("string",nl._jsonSchemaVersion),bundleSource:Qe("string","QuerySnapshot"),bundleName:Qe("string"),bundle:Qe("string")};class vP extends gP{constructor(t){super(),this.firestore=t}convertBytes(t){return new yi(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Ze(this.firestore,null,n)}}function $h(e){e=Ga(e,yl);const t=Ga(e.firestore,pu),n=d1(t),s=new vP(t);return mP(e._query),eP(n,e._query).then((o=>new nl(t,s,e,o)))}function OA(e,t,n,...s){e=Ga(e,Ze);const o=Ga(e.firestore,pu),c=Oy(o);let u;return u=typeof(t=Ne(t))=="string"||t instanceof ud?uP(c,"updateDoc",e._key,t,n,s):cP(c,"updateDoc",e._key,t),Uy(o,[u.toMutation(e._key,Pi.exists(!0))])}function TP(e){return Uy(Ga(e.firestore,pu),[new my(e._key,Pi.none())])}function Np(e,t){const n=Ga(e.firestore,pu),s=df(e),o=yP(e.converter,t);return Uy(n,[lP(Oy(e.firestore),"addDoc",s._key,o,e.converter!==null,{}).toMutation(s._key,Pi.exists(!1))]).then((()=>s))}function Uy(e,t){return(function(s,o){const c=new Ur;return s.asyncQueue.enqueueAndForget((async()=>zM(await JM(s),o,c))),c.promise})(d1(e),t)}(function(t,n=!0){(function(o){dl=o})(Qa),za(new zr("firestore",((s,{instanceIdentifier:o,options:c})=>{const u=s.getProvider("app").getImmediate(),d=new pu(new rV(s.getProvider("auth-internal")),new lV(u,s.getProvider("app-check-internal")),(function(g,v){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new pt(nt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Qc(g.options.projectId,v)})(u,o),u);return c={useFetchStreams:n,...c},d._setSettings(c),d}),"PUBLIC").setMultipleInstances(!0)),rs(O0,M0,t),rs(O0,M0,"esm2020")})();const E1="firebasestorage.googleapis.com",A1="storageBucket",EP=120*1e3,AP=600*1e3;class Ve extends ps{constructor(t,n,s=0){super(Dp(t),`Firebase Storage: ${n} (${Dp(t)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ve.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return Dp(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var De;(function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(De||(De={}));function Dp(e){return"storage/"+e}function By(){const e="An unknown error occurred, please check the error payload for server response.";return new Ve(De.UNKNOWN,e)}function bP(e){return new Ve(De.OBJECT_NOT_FOUND,"Object '"+e+"' does not exist.")}function SP(e){return new Ve(De.QUOTA_EXCEEDED,"Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function wP(){const e="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Ve(De.UNAUTHENTICATED,e)}function RP(){return new Ve(De.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function CP(e){return new Ve(De.UNAUTHORIZED,"User does not have permission to access '"+e+"'.")}function xP(){return new Ve(De.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function IP(){return new Ve(De.CANCELED,"User canceled the upload/download.")}function NP(e){return new Ve(De.INVALID_URL,"Invalid URL '"+e+"'.")}function DP(e){return new Ve(De.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")}function VP(){return new Ve(De.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+A1+"' property when initializing the app?")}function OP(){return new Ve(De.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function MP(){return new Ve(De.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function PP(e){return new Ve(De.UNSUPPORTED_ENVIRONMENT,`${e} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function bg(e){return new Ve(De.INVALID_ARGUMENT,e)}function b1(){return new Ve(De.APP_DELETED,"The Firebase app was deleted.")}function kP(e){return new Ve(De.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Lc(e,t){return new Ve(De.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function Sc(e){throw new Ve(De.INTERNAL_ERROR,"Internal error: "+e)}class ti{constructor(t,n){this.bucket=t,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,n){let s;try{s=ti.makeFromUrl(t,n)}catch{return new ti(t,"")}if(s.path==="")return s;throw DP(t)}static makeFromUrl(t,n){let s=null;const o="([A-Za-z0-9.\\-_]+)";function c(lt){lt.path.charAt(lt.path.length-1)==="/"&&(lt.path_=lt.path_.slice(0,-1))}const u="(/(.*))?$",d=new RegExp("^gs://"+o+u,"i"),p={bucket:1,path:3};function g(lt){lt.path_=decodeURIComponent(lt.path)}const v="v[A-Za-z0-9_]+",E=n.replace(/[.]/g,"\\."),b="(/([^?#]*).*)?$",C=new RegExp(`^https?://${E}/${v}/b/${o}/o${b}`,"i"),j={bucket:1,path:3},B=n===E1?"(?:storage.googleapis.com|storage.cloud.google.com)":n,z="([^?#]*)",$=new RegExp(`^https?://${B}/${o}/${z}`,"i"),Z=[{regex:d,indices:p,postModify:c},{regex:C,indices:j,postModify:g},{regex:$,indices:{bucket:1,path:2},postModify:g}];for(let lt=0;lt<Z.length;lt++){const ct=Z[lt],dt=ct.regex.exec(t);if(dt){const x=dt[ct.indices.bucket];let R=dt[ct.indices.path];R||(R=""),s=new ti(x,R),ct.postModify(s);break}}if(s==null)throw NP(t);return s}}class jP{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}function LP(e,t,n){let s=1,o=null,c=null,u=!1,d=0;function p(){return d===2}let g=!1;function v(...z){g||(g=!0,t.apply(null,z))}function E(z){o=setTimeout(()=>{o=null,e(C,p())},z)}function b(){c&&clearTimeout(c)}function C(z,...$){if(g){b();return}if(z){b(),v.call(null,z,...$);return}if(p()||u){b(),v.call(null,z,...$);return}s<64&&(s*=2);let Z;d===1?(d=2,Z=0):Z=(s+Math.random())*1e3,E(Z)}let j=!1;function B(z){j||(j=!0,b(),!g&&(o!==null?(z||(d=2),clearTimeout(o),E(0)):z||(d=1)))}return E(0),c=setTimeout(()=>{u=!0,B(!0)},n),B}function UP(e){e(!1)}function BP(e){return e!==void 0}function zP(e){return typeof e=="object"&&!Array.isArray(e)}function zy(e){return typeof e=="string"||e instanceof String}function MA(e){return qy()&&e instanceof Blob}function qy(){return typeof Blob<"u"}function PA(e,t,n,s){if(s<t)throw bg(`Invalid value for '${e}'. Expected ${t} or greater.`);if(s>n)throw bg(`Invalid value for '${e}'. Expected ${n} or less.`)}function dd(e,t,n){let s=t;return n==null&&(s=`https://${t}`),`${n}://${s}/v0${e}`}function S1(e){const t=encodeURIComponent;let n="?";for(const s in e)if(e.hasOwnProperty(s)){const o=t(s)+"="+t(e[s]);n=n+o+"&"}return n=n.slice(0,-1),n}var ja;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(ja||(ja={}));function qP(e,t){const n=e>=500&&e<600,o=[408,429].indexOf(e)!==-1,c=t.indexOf(e)!==-1;return n||o||c}class FP{constructor(t,n,s,o,c,u,d,p,g,v,E,b=!0,C=!1){this.url_=t,this.method_=n,this.headers_=s,this.body_=o,this.successCodes_=c,this.additionalRetryCodes_=u,this.callback_=d,this.errorCallback_=p,this.timeout_=g,this.progressCallback_=v,this.connectionFactory_=E,this.retry=b,this.isUsingEmulator=C,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((j,B)=>{this.resolve_=j,this.reject_=B,this.start_()})}start_(){const t=(s,o)=>{if(o){s(!1,new Wh(!1,null,!0));return}const c=this.connectionFactory_();this.pendingConnection_=c;const u=d=>{const p=d.loaded,g=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,g)};this.progressCallback_!==null&&c.addUploadProgressListener(u),c.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&c.removeUploadProgressListener(u),this.pendingConnection_=null;const d=c.getErrorCode()===ja.NO_ERROR,p=c.getStatus();if(!d||qP(p,this.additionalRetryCodes_)&&this.retry){const v=c.getErrorCode()===ja.ABORT;s(!1,new Wh(!1,null,v));return}const g=this.successCodes_.indexOf(p)!==-1;s(!0,new Wh(g,c))})},n=(s,o)=>{const c=this.resolve_,u=this.reject_,d=o.connection;if(o.wasSuccessCode)try{const p=this.callback_(d,d.getResponse());BP(p)?c(p):c()}catch(p){u(p)}else if(d!==null){const p=By();p.serverResponse=d.getErrorText(),this.errorCallback_?u(this.errorCallback_(d,p)):u(p)}else if(o.canceled){const p=this.appDelete_?b1():IP();u(p)}else{const p=xP();u(p)}};this.canceled_?n(!1,new Wh(!1,null,!0)):this.backoffId_=LP(t,n,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&UP(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Wh{constructor(t,n,s){this.wasSuccessCode=t,this.connection=n,this.canceled=!!s}}function HP(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function GP(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function KP(e,t){t&&(e["X-Firebase-GMPID"]=t)}function YP(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function QP(e,t,n,s,o,c,u=!0,d=!1){const p=S1(e.urlParams),g=e.url+p,v=Object.assign({},e.headers);return KP(v,t),HP(v,n),GP(v,c),YP(v,s),new FP(g,e.method,v,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,o,u,d)}function XP(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function $P(...e){const t=XP();if(t!==void 0){const n=new t;for(let s=0;s<e.length;s++)n.append(e[s]);return n.getBlob()}else{if(qy())return new Blob(e);throw new Ve(De.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function WP(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}function ZP(e){if(typeof atob>"u")throw PP("base-64");return atob(e)}const ss={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Vp{constructor(t,n){this.data=t,this.contentType=n||null}}function JP(e,t){switch(e){case ss.RAW:return new Vp(w1(t));case ss.BASE64:case ss.BASE64URL:return new Vp(R1(e,t));case ss.DATA_URL:return new Vp(ek(t),nk(t))}throw By()}function w1(e){const t=[];for(let n=0;n<e.length;n++){let s=e.charCodeAt(n);if(s<=127)t.push(s);else if(s<=2047)t.push(192|s>>6,128|s&63);else if((s&64512)===55296)if(!(n<e.length-1&&(e.charCodeAt(n+1)&64512)===56320))t.push(239,191,189);else{const c=s,u=e.charCodeAt(++n);s=65536|(c&1023)<<10|u&1023,t.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|s&63)}else(s&64512)===56320?t.push(239,191,189):t.push(224|s>>12,128|s>>6&63,128|s&63)}return new Uint8Array(t)}function tk(e){let t;try{t=decodeURIComponent(e)}catch{throw Lc(ss.DATA_URL,"Malformed data URL.")}return w1(t)}function R1(e,t){switch(e){case ss.BASE64:{const o=t.indexOf("-")!==-1,c=t.indexOf("_")!==-1;if(o||c)throw Lc(e,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case ss.BASE64URL:{const o=t.indexOf("+")!==-1,c=t.indexOf("/")!==-1;if(o||c)throw Lc(e,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=ZP(t)}catch(o){throw o.message.includes("polyfill")?o:Lc(e,"Invalid character found")}const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}class C1{constructor(t){this.base64=!1,this.contentType=null;const n=t.match(/^data:([^,]+)?,/);if(n===null)throw Lc(ss.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const s=n[1]||null;s!=null&&(this.base64=ik(s,";base64"),this.contentType=this.base64?s.substring(0,s.length-7):s),this.rest=t.substring(t.indexOf(",")+1)}}function ek(e){const t=new C1(e);return t.base64?R1(ss.BASE64,t.rest):tk(t.rest)}function nk(e){return new C1(e).contentType}function ik(e,t){return e.length>=t.length?e.substring(e.length-t.length)===t:!1}class Mr{constructor(t,n){let s=0,o="";MA(t)?(this.data_=t,s=t.size,o=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),s=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),s=t.length),this.size_=s,this.type_=o}size(){return this.size_}type(){return this.type_}slice(t,n){if(MA(this.data_)){const s=this.data_,o=WP(s,t,n);return o===null?null:new Mr(o)}else{const s=new Uint8Array(this.data_.buffer,t,n-t);return new Mr(s,!0)}}static getBlob(...t){if(qy()){const n=t.map(s=>s instanceof Mr?s.data_:s);return new Mr($P.apply(null,n))}else{const n=t.map(u=>zy(u)?JP(ss.RAW,u).data:u.data_);let s=0;n.forEach(u=>{s+=u.byteLength});const o=new Uint8Array(s);let c=0;return n.forEach(u=>{for(let d=0;d<u.length;d++)o[c++]=u[d]}),new Mr(o,!0)}}uploadData(){return this.data_}}function x1(e){let t;try{t=JSON.parse(e)}catch{return null}return zP(t)?t:null}function sk(e){if(e.length===0)return null;const t=e.lastIndexOf("/");return t===-1?"":e.slice(0,t)}function rk(e,t){const n=t.split("/").filter(s=>s.length>0).join("/");return e.length===0?n:e+"/"+n}function I1(e){const t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}function ak(e,t){return t}class xn{constructor(t,n,s,o){this.server=t,this.local=n||t,this.writable=!!s,this.xform=o||ak}}let Zh=null;function ok(e){return!zy(e)||e.length<2?e:I1(e)}function N1(){if(Zh)return Zh;const e=[];e.push(new xn("bucket")),e.push(new xn("generation")),e.push(new xn("metageneration")),e.push(new xn("name","fullPath",!0));function t(c,u){return ok(u)}const n=new xn("name");n.xform=t,e.push(n);function s(c,u){return u!==void 0?Number(u):u}const o=new xn("size");return o.xform=s,e.push(o),e.push(new xn("timeCreated")),e.push(new xn("updated")),e.push(new xn("md5Hash",null,!0)),e.push(new xn("cacheControl",null,!0)),e.push(new xn("contentDisposition",null,!0)),e.push(new xn("contentEncoding",null,!0)),e.push(new xn("contentLanguage",null,!0)),e.push(new xn("contentType",null,!0)),e.push(new xn("metadata","customMetadata",!0)),Zh=e,Zh}function lk(e,t){function n(){const s=e.bucket,o=e.fullPath,c=new ti(s,o);return t._makeStorageReference(c)}Object.defineProperty(e,"ref",{get:n})}function ck(e,t,n){const s={};s.type="file";const o=n.length;for(let c=0;c<o;c++){const u=n[c];s[u.local]=u.xform(s,t[u.server])}return lk(s,e),s}function D1(e,t,n){const s=x1(t);return s===null?null:ck(e,s,n)}function uk(e,t,n,s){const o=x1(t);if(o===null||!zy(o.downloadTokens))return null;const c=o.downloadTokens;if(c.length===0)return null;const u=encodeURIComponent;return c.split(",").map(g=>{const v=e.bucket,E=e.fullPath,b="/b/"+u(v)+"/o/"+u(E),C=dd(b,n,s),j=S1({alt:"media",token:g});return C+j})[0]}function hk(e,t){const n={},s=t.length;for(let o=0;o<s;o++){const c=t[o];c.writable&&(n[c.server]=e[c.local])}return JSON.stringify(n)}class Fy{constructor(t,n,s,o){this.url=t,this.method=n,this.handler=s,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function V1(e){if(!e)throw By()}function fk(e,t){function n(s,o){const c=D1(e,o,t);return V1(c!==null),c}return n}function dk(e,t){function n(s,o){const c=D1(e,o,t);return V1(c!==null),uk(c,o,e.host,e._protocol)}return n}function O1(e){function t(n,s){let o;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?o=RP():o=wP():n.getStatus()===402?o=SP(e.bucket):n.getStatus()===403?o=CP(e.path):o=s,o.status=n.getStatus(),o.serverResponse=s.serverResponse,o}return t}function M1(e){const t=O1(e);function n(s,o){let c=t(s,o);return s.getStatus()===404&&(c=bP(e.path)),c.serverResponse=o.serverResponse,c}return n}function mk(e,t,n){const s=t.fullServerUrl(),o=dd(s,e.host,e._protocol),c="GET",u=e.maxOperationRetryTime,d=new Fy(o,c,dk(e,n),u);return d.errorHandler=M1(t),d}function pk(e,t){const n=t.fullServerUrl(),s=dd(n,e.host,e._protocol),o="DELETE",c=e.maxOperationRetryTime;function u(p,g){}const d=new Fy(s,o,u,c);return d.successCodes=[200,204],d.errorHandler=M1(t),d}function gk(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}function yk(e,t,n){const s=Object.assign({},n);return s.fullPath=e.path,s.size=t.size(),s.contentType||(s.contentType=gk(null,t)),s}function _k(e,t,n,s,o){const c=t.bucketOnlyServerUrl(),u={"X-Goog-Upload-Protocol":"multipart"};function d(){let Z="";for(let lt=0;lt<2;lt++)Z=Z+Math.random().toString().slice(2);return Z}const p=d();u["Content-Type"]="multipart/related; boundary="+p;const g=yk(t,s,o),v=hk(g,n),E="--"+p+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+v+`\r
--`+p+`\r
Content-Type: `+g.contentType+`\r
\r
`,b=`\r
--`+p+"--",C=Mr.getBlob(E,s,b);if(C===null)throw OP();const j={name:g.fullPath},B=dd(c,e.host,e._protocol),z="POST",$=e.maxUploadRetryTime,et=new Fy(B,z,fk(e,n),$);return et.urlParams=j,et.headers=u,et.body=C.uploadData(),et.errorHandler=O1(t),et}class vk{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ja.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ja.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ja.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,n,s,o,c){if(this.sent_)throw Sc("cannot .send() more than once");if($r(t)&&s&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,t,!0),c!==void 0)for(const u in c)c.hasOwnProperty(u)&&this.xhr_.setRequestHeader(u,c[u].toString());return o!==void 0?this.xhr_.send(o):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Sc("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Sc("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Sc("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Sc("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)}}class Tk extends vk{initXhr(){this.xhr_.responseType="text"}}function Hy(){return new Tk}class Ya{constructor(t,n){this._service=t,n instanceof ti?this._location=n:this._location=ti.makeFromUrl(n,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,n){return new Ya(t,n)}get root(){const t=new ti(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return I1(this._location.path)}get storage(){return this._service}get parent(){const t=sk(this._location.path);if(t===null)return null;const n=new ti(this._location.bucket,t);return new Ya(this._service,n)}_throwIfRoot(t){if(this._location.path==="")throw kP(t)}}function Ek(e,t,n){e._throwIfRoot("uploadBytes");const s=_k(e.storage,e._location,N1(),new Mr(t,!0),n);return e.storage.makeRequestWithTokens(s,Hy).then(o=>({metadata:o,ref:e}))}function Ak(e){e._throwIfRoot("getDownloadURL");const t=mk(e.storage,e._location,N1());return e.storage.makeRequestWithTokens(t,Hy).then(n=>{if(n===null)throw MP();return n})}function bk(e){e._throwIfRoot("deleteObject");const t=pk(e.storage,e._location);return e.storage.makeRequestWithTokens(t,Hy)}function Sk(e,t){const n=rk(e._location.path,t),s=new ti(e._location.bucket,n);return new Ya(e.storage,s)}function wk(e){return/^[A-Za-z]+:\/\//.test(e)}function Rk(e,t){return new Ya(e,t)}function P1(e,t){if(e instanceof Gy){const n=e;if(n._bucket==null)throw VP();const s=new Ya(n,n._bucket);return t!=null?P1(s,t):s}else return t!==void 0?Sk(e,t):e}function Ck(e,t){if(t&&wk(t)){if(e instanceof Gy)return Rk(e,t);throw bg("To use ref(service, url), the first argument must be a Storage instance.")}else return P1(e,t)}function kA(e,t){const n=t?.[A1];return n==null?null:ti.makeFromBucketSpec(n,e)}function xk(e,t,n,s={}){e.host=`${t}:${n}`;const o=$r(t);o&&(Yg(`https://${e.host}/b`),Qg("Storage",!0)),e._isUsingEmulator=!0,e._protocol=o?"https":"http";const{mockUserToken:c}=s;c&&(e._overrideAuthToken=typeof c=="string"?c:lS(c,e.app.options.projectId))}class Gy{constructor(t,n,s,o,c,u=!1){this.app=t,this._authProvider=n,this._appCheckProvider=s,this._url=o,this._firebaseVersion=c,this._isUsingEmulator=u,this._bucket=null,this._host=E1,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=EP,this._maxUploadRetryTime=AP,this._requests=new Set,o!=null?this._bucket=ti.makeFromBucketSpec(o,this._host):this._bucket=kA(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=ti.makeFromBucketSpec(this._url,t):this._bucket=kA(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){PA("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){PA("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const n=await t.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Zn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new Ya(this,t)}_makeRequest(t,n,s,o,c=!0){if(this._deleted)return new jP(b1());{const u=QP(t,this._appId,s,o,n,this._firebaseVersion,c,this._isUsingEmulator);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(t,n){const[s,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,n,s,o).getPromise()}}const jA="@firebase/storage",LA="0.14.0";const k1="storage";function UA(e,t,n){return e=Ne(e),Ek(e,t,n)}function BA(e){return e=Ne(e),Ak(e)}function Ik(e){return e=Ne(e),bk(e)}function Op(e,t){return e=Ne(e),Ck(e,t)}function Nk(e=Wg(),t){e=Ne(e);const s=Yf(e,k1).getImmediate({identifier:t}),o=rS("storage");return o&&Dk(s,...o),s}function Dk(e,t,n,s={}){xk(e,t,n,s)}function Vk(e,{instanceIdentifier:t}){const n=e.getProvider("app").getImmediate(),s=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return new Gy(n,s,o,t,Qa)}function Ok(){za(new zr(k1,Vk,"PUBLIC").setMultipleInstances(!0)),rs(jA,LA,""),rs(jA,LA,"esm2020")}Ok();const Ky=rt.createContext({});function Yy(e){const t=rt.useRef(null);return t.current===null&&(t.current=e()),t.current}const Qy=typeof window<"u",j1=Qy?rt.useLayoutEffect:rt.useEffect,md=rt.createContext(null);function Xy(e,t){e.indexOf(t)===-1&&e.push(t)}function $y(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const Gs=(e,t,n)=>n>t?t:n<e?e:n;let Wy=()=>{};const Ks={},L1=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function U1(e){return typeof e=="object"&&e!==null}const B1=e=>/^0[^.\s]+$/u.test(e);function Zy(e){let t;return()=>(t===void 0&&(t=e()),t)}const vi=e=>e,Mk=(e,t)=>n=>t(e(n)),yu=(...e)=>e.reduce(Mk),Zc=(e,t,n)=>{const s=t-e;return s===0?1:(n-e)/s};class Jy{constructor(){this.subscriptions=[]}add(t){return Xy(this.subscriptions,t),()=>$y(this.subscriptions,t)}notify(t,n,s){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](t,n,s);else for(let c=0;c<o;c++){const u=this.subscriptions[c];u&&u(t,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const fs=e=>e*1e3,_i=e=>e/1e3;function z1(e,t){return t?e*(1e3/t):0}const q1=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,Pk=1e-7,kk=12;function jk(e,t,n,s,o){let c,u,d=0;do u=t+(n-t)/2,c=q1(u,s,o)-e,c>0?n=u:t=u;while(Math.abs(c)>Pk&&++d<kk);return u}function _u(e,t,n,s){if(e===t&&n===s)return vi;const o=c=>jk(c,0,1,e,n);return c=>c===0||c===1?c:q1(o(c),t,s)}const F1=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,H1=e=>t=>1-e(1-t),G1=_u(.33,1.53,.69,.99),t_=H1(G1),K1=F1(t_),Y1=e=>(e*=2)<1?.5*t_(e):.5*(2-Math.pow(2,-10*(e-1))),e_=e=>1-Math.sin(Math.acos(e)),Q1=H1(e_),X1=F1(e_),Lk=_u(.42,0,1,1),Uk=_u(0,0,.58,1),$1=_u(.42,0,.58,1),Bk=e=>Array.isArray(e)&&typeof e[0]!="number",W1=e=>Array.isArray(e)&&typeof e[0]=="number",zk={linear:vi,easeIn:Lk,easeInOut:$1,easeOut:Uk,circIn:e_,circInOut:X1,circOut:Q1,backIn:t_,backInOut:K1,backOut:G1,anticipate:Y1},qk=e=>typeof e=="string",zA=e=>{if(W1(e)){Wy(e.length===4);const[t,n,s,o]=e;return _u(t,n,s,o)}else if(qk(e))return zk[e];return e},Jh=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function Fk(e,t){let n=new Set,s=new Set,o=!1,c=!1;const u=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1};function p(v){u.has(v)&&(g.schedule(v),e()),v(d)}const g={schedule:(v,E=!1,b=!1)=>{const j=b&&o?n:s;return E&&u.add(v),j.has(v)||j.add(v),v},cancel:v=>{s.delete(v),u.delete(v)},process:v=>{if(d=v,o){c=!0;return}o=!0,[n,s]=[s,n],n.forEach(p),n.clear(),o=!1,c&&(c=!1,g.process(v))}};return g}const Hk=40;function Z1(e,t){let n=!1,s=!0;const o={delta:0,timestamp:0,isProcessing:!1},c=()=>n=!0,u=Jh.reduce((Z,lt)=>(Z[lt]=Fk(c),Z),{}),{setup:d,read:p,resolveKeyframes:g,preUpdate:v,update:E,preRender:b,render:C,postRender:j}=u,B=()=>{const Z=Ks.useManualTiming?o.timestamp:performance.now();n=!1,Ks.useManualTiming||(o.delta=s?1e3/60:Math.max(Math.min(Z-o.timestamp,Hk),1)),o.timestamp=Z,o.isProcessing=!0,d.process(o),p.process(o),g.process(o),v.process(o),E.process(o),b.process(o),C.process(o),j.process(o),o.isProcessing=!1,n&&t&&(s=!1,e(B))},z=()=>{n=!0,s=!0,o.isProcessing||e(B)};return{schedule:Jh.reduce((Z,lt)=>{const ct=u[lt];return Z[lt]=(dt,x=!1,R=!1)=>(n||z(),ct.schedule(dt,x,R)),Z},{}),cancel:Z=>{for(let lt=0;lt<Jh.length;lt++)u[Jh[lt]].cancel(Z)},state:o,steps:u}}const{schedule:_e,cancel:Qr,state:dn,steps:Mp}=Z1(typeof requestAnimationFrame<"u"?requestAnimationFrame:vi,!0);let pf;function Gk(){pf=void 0}const Un={now:()=>(pf===void 0&&Un.set(dn.isProcessing||Ks.useManualTiming?dn.timestamp:performance.now()),pf),set:e=>{pf=e,queueMicrotask(Gk)}},J1=e=>t=>typeof t=="string"&&t.startsWith(e),tR=J1("--"),Kk=J1("var(--"),n_=e=>Kk(e)?Yk.test(e.split("/*")[0].trim()):!1,Yk=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,_l={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Jc={..._l,transform:e=>Gs(0,1,e)},tf={..._l,default:1},Uc=e=>Math.round(e*1e5)/1e5,i_=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Qk(e){return e==null}const Xk=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,s_=(e,t)=>n=>!!(typeof n=="string"&&Xk.test(n)&&n.startsWith(e)||t&&!Qk(n)&&Object.prototype.hasOwnProperty.call(n,t)),eR=(e,t,n)=>s=>{if(typeof s!="string")return s;const[o,c,u,d]=s.match(i_);return{[e]:parseFloat(o),[t]:parseFloat(c),[n]:parseFloat(u),alpha:d!==void 0?parseFloat(d):1}},$k=e=>Gs(0,255,e),Pp={..._l,transform:e=>Math.round($k(e))},Pa={test:s_("rgb","red"),parse:eR("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:s=1})=>"rgba("+Pp.transform(e)+", "+Pp.transform(t)+", "+Pp.transform(n)+", "+Uc(Jc.transform(s))+")"};function Wk(e){let t="",n="",s="",o="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),s=e.substring(5,7),o=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),s=e.substring(3,4),o=e.substring(4,5),t+=t,n+=n,s+=s,o+=o),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:o?parseInt(o,16)/255:1}}const Sg={test:s_("#"),parse:Wk,transform:Pa.transform},vu=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Ir=vu("deg"),ds=vu("%"),wt=vu("px"),Zk=vu("vh"),Jk=vu("vw"),qA={...ds,parse:e=>ds.parse(e)/100,transform:e=>ds.transform(e*100)},Ko={test:s_("hsl","hue"),parse:eR("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:s=1})=>"hsla("+Math.round(e)+", "+ds.transform(Uc(t))+", "+ds.transform(Uc(n))+", "+Uc(Jc.transform(s))+")"},Ke={test:e=>Pa.test(e)||Sg.test(e)||Ko.test(e),parse:e=>Pa.test(e)?Pa.parse(e):Ko.test(e)?Ko.parse(e):Sg.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Pa.transform(e):Ko.transform(e),getAnimatableNone:e=>{const t=Ke.parse(e);return t.alpha=0,Ke.transform(t)}},tj=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function ej(e){return isNaN(e)&&typeof e=="string"&&(e.match(i_)?.length||0)+(e.match(tj)?.length||0)>0}const nR="number",iR="color",nj="var",ij="var(",FA="${}",sj=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function tu(e){const t=e.toString(),n=[],s={color:[],number:[],var:[]},o=[];let c=0;const d=t.replace(sj,p=>(Ke.test(p)?(s.color.push(c),o.push(iR),n.push(Ke.parse(p))):p.startsWith(ij)?(s.var.push(c),o.push(nj),n.push(p)):(s.number.push(c),o.push(nR),n.push(parseFloat(p))),++c,FA)).split(FA);return{values:n,split:d,indexes:s,types:o}}function sR(e){return tu(e).values}function rR(e){const{split:t,types:n}=tu(e),s=t.length;return o=>{let c="";for(let u=0;u<s;u++)if(c+=t[u],o[u]!==void 0){const d=n[u];d===nR?c+=Uc(o[u]):d===iR?c+=Ke.transform(o[u]):c+=o[u]}return c}}const rj=e=>typeof e=="number"?0:Ke.test(e)?Ke.getAnimatableNone(e):e;function aj(e){const t=sR(e);return rR(e)(t.map(rj))}const Xr={test:ej,parse:sR,createTransformer:rR,getAnimatableNone:aj};function kp(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function oj({hue:e,saturation:t,lightness:n,alpha:s}){e/=360,t/=100,n/=100;let o=0,c=0,u=0;if(!t)o=c=u=n;else{const d=n<.5?n*(1+t):n+t-n*t,p=2*n-d;o=kp(p,d,e+1/3),c=kp(p,d,e),u=kp(p,d,e-1/3)}return{red:Math.round(o*255),green:Math.round(c*255),blue:Math.round(u*255),alpha:s}}function Bf(e,t){return n=>n>0?t:e}const be=(e,t,n)=>e+(t-e)*n,jp=(e,t,n)=>{const s=e*e,o=n*(t*t-s)+s;return o<0?0:Math.sqrt(o)},lj=[Sg,Pa,Ko],cj=e=>lj.find(t=>t.test(e));function HA(e){const t=cj(e);if(!t)return!1;let n=t.parse(e);return t===Ko&&(n=oj(n)),n}const GA=(e,t)=>{const n=HA(e),s=HA(t);if(!n||!s)return Bf(e,t);const o={...n};return c=>(o.red=jp(n.red,s.red,c),o.green=jp(n.green,s.green,c),o.blue=jp(n.blue,s.blue,c),o.alpha=be(n.alpha,s.alpha,c),Pa.transform(o))},wg=new Set(["none","hidden"]);function uj(e,t){return wg.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function hj(e,t){return n=>be(e,t,n)}function r_(e){return typeof e=="number"?hj:typeof e=="string"?n_(e)?Bf:Ke.test(e)?GA:mj:Array.isArray(e)?aR:typeof e=="object"?Ke.test(e)?GA:fj:Bf}function aR(e,t){const n=[...e],s=n.length,o=e.map((c,u)=>r_(c)(c,t[u]));return c=>{for(let u=0;u<s;u++)n[u]=o[u](c);return n}}function fj(e,t){const n={...e,...t},s={};for(const o in n)e[o]!==void 0&&t[o]!==void 0&&(s[o]=r_(e[o])(e[o],t[o]));return o=>{for(const c in s)n[c]=s[c](o);return n}}function dj(e,t){const n=[],s={color:0,var:0,number:0};for(let o=0;o<t.values.length;o++){const c=t.types[o],u=e.indexes[c][s[c]],d=e.values[u]??0;n[o]=d,s[c]++}return n}const mj=(e,t)=>{const n=Xr.createTransformer(t),s=tu(e),o=tu(t);return s.indexes.var.length===o.indexes.var.length&&s.indexes.color.length===o.indexes.color.length&&s.indexes.number.length>=o.indexes.number.length?wg.has(e)&&!o.values.length||wg.has(t)&&!s.values.length?uj(e,t):yu(aR(dj(s,o),o.values),n):Bf(e,t)};function oR(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?be(e,t,n):r_(e)(e,t)}const pj=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>_e.update(t,n),stop:()=>Qr(t),now:()=>dn.isProcessing?dn.timestamp:Un.now()}},lR=(e,t,n=10)=>{let s="";const o=Math.max(Math.round(t/n),2);for(let c=0;c<o;c++)s+=Math.round(e(c/(o-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},zf=2e4;function a_(e){let t=0;const n=50;let s=e.next(t);for(;!s.done&&t<zf;)t+=n,s=e.next(t);return t>=zf?1/0:t}function gj(e,t=100,n){const s=n({...e,keyframes:[0,t]}),o=Math.min(a_(s),zf);return{type:"keyframes",ease:c=>s.next(o*c).value/t,duration:_i(o)}}const yj=5;function cR(e,t,n){const s=Math.max(t-yj,0);return z1(n-e(s),t-s)}const Ie={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Lp=.001;function _j({duration:e=Ie.duration,bounce:t=Ie.bounce,velocity:n=Ie.velocity,mass:s=Ie.mass}){let o,c,u=1-t;u=Gs(Ie.minDamping,Ie.maxDamping,u),e=Gs(Ie.minDuration,Ie.maxDuration,_i(e)),u<1?(o=g=>{const v=g*u,E=v*e,b=v-n,C=Rg(g,u),j=Math.exp(-E);return Lp-b/C*j},c=g=>{const E=g*u*e,b=E*n+n,C=Math.pow(u,2)*Math.pow(g,2)*e,j=Math.exp(-E),B=Rg(Math.pow(g,2),u);return(-o(g)+Lp>0?-1:1)*((b-C)*j)/B}):(o=g=>{const v=Math.exp(-g*e),E=(g-n)*e+1;return-Lp+v*E},c=g=>{const v=Math.exp(-g*e),E=(n-g)*(e*e);return v*E});const d=5/e,p=Tj(o,c,d);if(e=fs(e),isNaN(p))return{stiffness:Ie.stiffness,damping:Ie.damping,duration:e};{const g=Math.pow(p,2)*s;return{stiffness:g,damping:u*2*Math.sqrt(s*g),duration:e}}}const vj=12;function Tj(e,t,n){let s=n;for(let o=1;o<vj;o++)s=s-e(s)/t(s);return s}function Rg(e,t){return e*Math.sqrt(1-t*t)}const Ej=["duration","bounce"],Aj=["stiffness","damping","mass"];function KA(e,t){return t.some(n=>e[n]!==void 0)}function bj(e){let t={velocity:Ie.velocity,stiffness:Ie.stiffness,damping:Ie.damping,mass:Ie.mass,isResolvedFromDuration:!1,...e};if(!KA(e,Aj)&&KA(e,Ej))if(e.visualDuration){const n=e.visualDuration,s=2*Math.PI/(n*1.2),o=s*s,c=2*Gs(.05,1,1-(e.bounce||0))*Math.sqrt(o);t={...t,mass:Ie.mass,stiffness:o,damping:c}}else{const n=_j(e);t={...t,...n,mass:Ie.mass},t.isResolvedFromDuration=!0}return t}function qf(e=Ie.visualDuration,t=Ie.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:s,restDelta:o}=n;const c=n.keyframes[0],u=n.keyframes[n.keyframes.length-1],d={done:!1,value:c},{stiffness:p,damping:g,mass:v,duration:E,velocity:b,isResolvedFromDuration:C}=bj({...n,velocity:-_i(n.velocity||0)}),j=b||0,B=g/(2*Math.sqrt(p*v)),z=u-c,$=_i(Math.sqrt(p/v)),et=Math.abs(z)<5;s||(s=et?Ie.restSpeed.granular:Ie.restSpeed.default),o||(o=et?Ie.restDelta.granular:Ie.restDelta.default);let Z;if(B<1){const ct=Rg($,B);Z=dt=>{const x=Math.exp(-B*$*dt);return u-x*((j+B*$*z)/ct*Math.sin(ct*dt)+z*Math.cos(ct*dt))}}else if(B===1)Z=ct=>u-Math.exp(-$*ct)*(z+(j+$*z)*ct);else{const ct=$*Math.sqrt(B*B-1);Z=dt=>{const x=Math.exp(-B*$*dt),R=Math.min(ct*dt,300);return u-x*((j+B*$*z)*Math.sinh(R)+ct*z*Math.cosh(R))/ct}}const lt={calculatedDuration:C&&E||null,next:ct=>{const dt=Z(ct);if(C)d.done=ct>=E;else{let x=ct===0?j:0;B<1&&(x=ct===0?fs(j):cR(Z,ct,dt));const R=Math.abs(x)<=s,I=Math.abs(u-dt)<=o;d.done=R&&I}return d.value=d.done?u:dt,d},toString:()=>{const ct=Math.min(a_(lt),zf),dt=lR(x=>lt.next(ct*x).value,ct,30);return ct+"ms "+dt},toTransition:()=>{}};return lt}qf.applyToOptions=e=>{const t=gj(e,100,qf);return e.ease=t.ease,e.duration=fs(t.duration),e.type="keyframes",e};function Cg({keyframes:e,velocity:t=0,power:n=.8,timeConstant:s=325,bounceDamping:o=10,bounceStiffness:c=500,modifyTarget:u,min:d,max:p,restDelta:g=.5,restSpeed:v}){const E=e[0],b={done:!1,value:E},C=R=>d!==void 0&&R<d||p!==void 0&&R>p,j=R=>d===void 0?p:p===void 0||Math.abs(d-R)<Math.abs(p-R)?d:p;let B=n*t;const z=E+B,$=u===void 0?z:u(z);$!==z&&(B=$-E);const et=R=>-B*Math.exp(-R/s),Z=R=>$+et(R),lt=R=>{const I=et(R),M=Z(R);b.done=Math.abs(I)<=g,b.value=b.done?$:M};let ct,dt;const x=R=>{C(b.value)&&(ct=R,dt=qf({keyframes:[b.value,j(b.value)],velocity:cR(Z,R,b.value),damping:o,stiffness:c,restDelta:g,restSpeed:v}))};return x(0),{calculatedDuration:null,next:R=>{let I=!1;return!dt&&ct===void 0&&(I=!0,lt(R),x(R)),ct!==void 0&&R>=ct?dt.next(R-ct):(!I&&lt(R),b)}}}function Sj(e,t,n){const s=[],o=n||Ks.mix||oR,c=e.length-1;for(let u=0;u<c;u++){let d=o(e[u],e[u+1]);if(t){const p=Array.isArray(t)?t[u]||vi:t;d=yu(p,d)}s.push(d)}return s}function wj(e,t,{clamp:n=!0,ease:s,mixer:o}={}){const c=e.length;if(Wy(c===t.length),c===1)return()=>t[0];if(c===2&&t[0]===t[1])return()=>t[1];const u=e[0]===e[1];e[0]>e[c-1]&&(e=[...e].reverse(),t=[...t].reverse());const d=Sj(t,s,o),p=d.length,g=v=>{if(u&&v<e[0])return t[0];let E=0;if(p>1)for(;E<e.length-2&&!(v<e[E+1]);E++);const b=Zc(e[E],e[E+1],v);return d[E](b)};return n?v=>g(Gs(e[0],e[c-1],v)):g}function Rj(e,t){const n=e[e.length-1];for(let s=1;s<=t;s++){const o=Zc(0,t,s);e.push(be(n,1,o))}}function Cj(e){const t=[0];return Rj(t,e.length-1),t}function xj(e,t){return e.map(n=>n*t)}function Ij(e,t){return e.map(()=>t||$1).splice(0,e.length-1)}function Bc({duration:e=300,keyframes:t,times:n,ease:s="easeInOut"}){const o=Bk(s)?s.map(zA):zA(s),c={done:!1,value:t[0]},u=xj(n&&n.length===t.length?n:Cj(t),e),d=wj(u,t,{ease:Array.isArray(o)?o:Ij(t,o)});return{calculatedDuration:e,next:p=>(c.value=d(p),c.done=p>=e,c)}}const Nj=e=>e!==null;function o_(e,{repeat:t,repeatType:n="loop"},s,o=1){const c=e.filter(Nj),d=o<0||t&&n!=="loop"&&t%2===1?0:c.length-1;return!d||s===void 0?c[d]:s}const Dj={decay:Cg,inertia:Cg,tween:Bc,keyframes:Bc,spring:qf};function uR(e){typeof e.type=="string"&&(e.type=Dj[e.type])}class l_{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const Vj=e=>e/100;class c_ extends l_{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==Un.now()&&this.tick(Un.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;uR(t);const{type:n=Bc,repeat:s=0,repeatDelay:o=0,repeatType:c,velocity:u=0}=t;let{keyframes:d}=t;const p=n||Bc;p!==Bc&&typeof d[0]!="number"&&(this.mixKeyframes=yu(Vj,oR(d[0],d[1])),d=[0,100]);const g=p({...t,keyframes:d});c==="mirror"&&(this.mirroredGenerator=p({...t,keyframes:[...d].reverse(),velocity:-u})),g.calculatedDuration===null&&(g.calculatedDuration=a_(g));const{calculatedDuration:v}=g;this.calculatedDuration=v,this.resolvedDuration=v+o,this.totalDuration=this.resolvedDuration*(s+1)-o,this.generator=g}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:s,totalDuration:o,mixKeyframes:c,mirroredGenerator:u,resolvedDuration:d,calculatedDuration:p}=this;if(this.startTime===null)return s.next(0);const{delay:g=0,keyframes:v,repeat:E,repeatType:b,repeatDelay:C,type:j,onUpdate:B,finalKeyframe:z}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-o/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const $=this.currentTime-g*(this.playbackSpeed>=0?1:-1),et=this.playbackSpeed>=0?$<0:$>o;this.currentTime=Math.max($,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let Z=this.currentTime,lt=s;if(E){const R=Math.min(this.currentTime,o)/d;let I=Math.floor(R),M=R%1;!M&&R>=1&&(M=1),M===1&&I--,I=Math.min(I,E+1),I%2&&(b==="reverse"?(M=1-M,C&&(M-=C/d)):b==="mirror"&&(lt=u)),Z=Gs(0,1,M)*d}const ct=et?{done:!1,value:v[0]}:lt.next(Z);c&&(ct.value=c(ct.value));let{done:dt}=ct;!et&&p!==null&&(dt=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const x=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&dt);return x&&j!==Cg&&(ct.value=o_(v,this.options,z,this.speed)),B&&B(ct.value),x&&this.finish(),ct}then(t,n){return this.finished.then(t,n)}get duration(){return _i(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+_i(t)}get time(){return _i(this.currentTime)}set time(t){t=fs(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Un.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=_i(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=pj,startTime:n}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),this.options.onPlay?.();const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Un.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function Oj(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const ka=e=>e*180/Math.PI,xg=e=>{const t=ka(Math.atan2(e[1],e[0]));return Ig(t)},Mj={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:xg,rotateZ:xg,skewX:e=>ka(Math.atan(e[1])),skewY:e=>ka(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},Ig=e=>(e=e%360,e<0&&(e+=360),e),YA=xg,QA=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),XA=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),Pj={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:QA,scaleY:XA,scale:e=>(QA(e)+XA(e))/2,rotateX:e=>Ig(ka(Math.atan2(e[6],e[5]))),rotateY:e=>Ig(ka(Math.atan2(-e[2],e[0]))),rotateZ:YA,rotate:YA,skewX:e=>ka(Math.atan(e[4])),skewY:e=>ka(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function Ng(e){return e.includes("scale")?1:0}function Dg(e,t){if(!e||e==="none")return Ng(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,o;if(n)s=Pj,o=n;else{const d=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=Mj,o=d}if(!o)return Ng(t);const c=s[t],u=o[1].split(",").map(jj);return typeof c=="function"?c(u):u[c]}const kj=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return Dg(n,t)};function jj(e){return parseFloat(e.trim())}const vl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Tl=new Set(vl),$A=e=>e===_l||e===wt,Lj=new Set(["x","y","z"]),Uj=vl.filter(e=>!Lj.has(e));function Bj(e){const t=[];return Uj.forEach(n=>{const s=e.getValue(n);s!==void 0&&(t.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),t}const La={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>Dg(t,"x"),y:(e,{transform:t})=>Dg(t,"y")};La.translateX=La.x;La.translateY=La.y;const Ua=new Set;let Vg=!1,Og=!1,Mg=!1;function hR(){if(Og){const e=Array.from(Ua).filter(s=>s.needsMeasurement),t=new Set(e.map(s=>s.element)),n=new Map;t.forEach(s=>{const o=Bj(s);o.length&&(n.set(s,o),s.render())}),e.forEach(s=>s.measureInitialState()),t.forEach(s=>{s.render();const o=n.get(s);o&&o.forEach(([c,u])=>{s.getValue(c)?.set(u)})}),e.forEach(s=>s.measureEndState()),e.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}Og=!1,Vg=!1,Ua.forEach(e=>e.complete(Mg)),Ua.clear()}function fR(){Ua.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Og=!0)})}function zj(){Mg=!0,fR(),hR(),Mg=!1}class u_{constructor(t,n,s,o,c,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=s,this.motionValue=o,this.element=c,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(Ua.add(this),Vg||(Vg=!0,_e.read(fR),_e.resolveKeyframes(hR))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:s,motionValue:o}=this;if(t[0]===null){const c=o?.get(),u=t[t.length-1];if(c!==void 0)t[0]=c;else if(s&&n){const d=s.readValue(n,u);d!=null&&(t[0]=d)}t[0]===void 0&&(t[0]=u),o&&c===void 0&&o.set(t[0])}Oj(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Ua.delete(this)}cancel(){this.state==="scheduled"&&(Ua.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const qj=e=>e.startsWith("--");function Fj(e,t,n){qj(t)?e.style.setProperty(t,n):e.style[t]=n}const Hj=Zy(()=>window.ScrollTimeline!==void 0),Gj={};function Kj(e,t){const n=Zy(e);return()=>Gj[t]??n()}const dR=Kj(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Dc=([e,t,n,s])=>`cubic-bezier(${e}, ${t}, ${n}, ${s})`,WA={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Dc([0,.65,.55,1]),circOut:Dc([.55,0,1,.45]),backIn:Dc([.31,.01,.66,-.59]),backOut:Dc([.33,1.53,.69,.99])};function mR(e,t){if(e)return typeof e=="function"?dR()?lR(e,t):"ease-out":W1(e)?Dc(e):Array.isArray(e)?e.map(n=>mR(n,t)||WA.easeOut):WA[e]}function Yj(e,t,n,{delay:s=0,duration:o=300,repeat:c=0,repeatType:u="loop",ease:d="easeOut",times:p}={},g=void 0){const v={[t]:n};p&&(v.offset=p);const E=mR(d,o);Array.isArray(E)&&(v.easing=E);const b={delay:s,duration:o,easing:Array.isArray(E)?"linear":E,fill:"both",iterations:c+1,direction:u==="reverse"?"alternate":"normal"};return g&&(b.pseudoElement=g),e.animate(v,b)}function pR(e){return typeof e=="function"&&"applyToOptions"in e}function Qj({type:e,...t}){return pR(e)&&dR()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class Xj extends l_{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:s,keyframes:o,pseudoElement:c,allowFlatten:u=!1,finalKeyframe:d,onComplete:p}=t;this.isPseudoElement=!!c,this.allowFlatten=u,this.options=t,Wy(typeof t.type!="string");const g=Qj(t);this.animation=Yj(n,s,o,g,c),g.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!c){const v=o_(o,this.options,d,this.speed);this.updateMotionValue?this.updateMotionValue(v):Fj(n,s,v),this.animation.cancel()}p?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return _i(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+_i(t)}get time(){return _i(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=fs(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&Hj()?(this.animation.timeline=t,vi):n(this)}}const gR={anticipate:Y1,backInOut:K1,circInOut:X1};function $j(e){return e in gR}function Wj(e){typeof e.ease=="string"&&$j(e.ease)&&(e.ease=gR[e.ease])}const ZA=10;class Zj extends Xj{constructor(t){Wj(t),uR(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:s,onComplete:o,element:c,...u}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const d=new c_({...u,autoplay:!1}),p=fs(this.finishedTime??this.time);n.setWithVelocity(d.sample(p-ZA).value,d.sample(p).value,ZA),d.stop()}}const JA=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Xr.test(e)||e==="0")&&!e.startsWith("url("));function Jj(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function tL(e,t,n,s){const o=e[0];if(o===null)return!1;if(t==="display"||t==="visibility")return!0;const c=e[e.length-1],u=JA(o,t),d=JA(c,t);return!u||!d?!1:Jj(e)||(n==="spring"||pR(n))&&s}function Pg(e){e.duration=0,e.type="keyframes"}const eL=new Set(["opacity","clipPath","filter","transform"]),nL=Zy(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function iL(e){const{motionValue:t,name:n,repeatDelay:s,repeatType:o,damping:c,type:u}=e;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:p,transformTemplate:g}=t.owner.getProps();return nL()&&n&&eL.has(n)&&(n!=="transform"||!g)&&!p&&!s&&o!=="mirror"&&c!==0&&u!=="inertia"}const sL=40;class rL extends l_{constructor({autoplay:t=!0,delay:n=0,type:s="keyframes",repeat:o=0,repeatDelay:c=0,repeatType:u="loop",keyframes:d,name:p,motionValue:g,element:v,...E}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Un.now();const b={autoplay:t,delay:n,type:s,repeat:o,repeatDelay:c,repeatType:u,name:p,motionValue:g,element:v,...E},C=v?.KeyframeResolver||u_;this.keyframeResolver=new C(d,(j,B,z)=>this.onKeyframesResolved(j,B,b,!z),p,g,v),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,n,s,o){this.keyframeResolver=void 0;const{name:c,type:u,velocity:d,delay:p,isHandoff:g,onUpdate:v}=s;this.resolvedAt=Un.now(),tL(t,c,u,d)||((Ks.instantAnimations||!p)&&v?.(o_(t,s,n)),t[0]=t[t.length-1],Pg(s),s.repeat=0);const b={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>sL?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:t},C=!g&&iL(b)?new Zj({...b,element:b.motionValue.owner.current}):new c_(b);C.finished.then(()=>this.notifyFinished()).catch(vi),this.pendingTimeline&&(this.stopTimeline=C.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=C}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),zj()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const aL=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function oL(e){const t=aL.exec(e);if(!t)return[,];const[,n,s,o]=t;return[`--${n??s}`,o]}function yR(e,t,n=1){const[s,o]=oL(e);if(!s)return;const c=window.getComputedStyle(t).getPropertyValue(s);if(c){const u=c.trim();return L1(u)?parseFloat(u):u}return n_(o)?yR(o,t,n+1):o}function h_(e,t){return e?.[t]??e?.default??e}const _R=new Set(["width","height","top","left","right","bottom",...vl]),lL={test:e=>e==="auto",parse:e=>e},vR=e=>t=>t.test(e),TR=[_l,wt,ds,Ir,Jk,Zk,lL],tb=e=>TR.find(vR(e));function cL(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||B1(e):!0}const uL=new Set(["brightness","contrast","saturate","opacity"]);function hL(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[s]=n.match(i_)||[];if(!s)return e;const o=n.replace(s,"");let c=uL.has(t)?1:0;return s!==n&&(c*=100),t+"("+c+o+")"}const fL=/\b([a-z-]*)\(.*?\)/gu,kg={...Xr,getAnimatableNone:e=>{const t=e.match(fL);return t?t.map(hL).join(" "):e}},eb={..._l,transform:Math.round},dL={rotate:Ir,rotateX:Ir,rotateY:Ir,rotateZ:Ir,scale:tf,scaleX:tf,scaleY:tf,scaleZ:tf,skew:Ir,skewX:Ir,skewY:Ir,distance:wt,translateX:wt,translateY:wt,translateZ:wt,x:wt,y:wt,z:wt,perspective:wt,transformPerspective:wt,opacity:Jc,originX:qA,originY:qA,originZ:wt},f_={borderWidth:wt,borderTopWidth:wt,borderRightWidth:wt,borderBottomWidth:wt,borderLeftWidth:wt,borderRadius:wt,radius:wt,borderTopLeftRadius:wt,borderTopRightRadius:wt,borderBottomRightRadius:wt,borderBottomLeftRadius:wt,width:wt,maxWidth:wt,height:wt,maxHeight:wt,top:wt,right:wt,bottom:wt,left:wt,padding:wt,paddingTop:wt,paddingRight:wt,paddingBottom:wt,paddingLeft:wt,margin:wt,marginTop:wt,marginRight:wt,marginBottom:wt,marginLeft:wt,backgroundPositionX:wt,backgroundPositionY:wt,...dL,zIndex:eb,fillOpacity:Jc,strokeOpacity:Jc,numOctaves:eb},mL={...f_,color:Ke,backgroundColor:Ke,outlineColor:Ke,fill:Ke,stroke:Ke,borderColor:Ke,borderTopColor:Ke,borderRightColor:Ke,borderBottomColor:Ke,borderLeftColor:Ke,filter:kg,WebkitFilter:kg},ER=e=>mL[e];function AR(e,t){let n=ER(e);return n!==kg&&(n=Xr),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const pL=new Set(["auto","none","0"]);function gL(e,t,n){let s=0,o;for(;s<e.length&&!o;){const c=e[s];typeof c=="string"&&!pL.has(c)&&tu(c).values.length&&(o=e[s]),s++}if(o&&n)for(const c of t)e[c]=AR(n,o)}class yL extends u_{constructor(t,n,s,o,c){super(t,n,s,o,c,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let p=0;p<t.length;p++){let g=t[p];if(typeof g=="string"&&(g=g.trim(),n_(g))){const v=yR(g,n.current);v!==void 0&&(t[p]=v),p===t.length-1&&(this.finalKeyframe=g)}}if(this.resolveNoneKeyframes(),!_R.has(s)||t.length!==2)return;const[o,c]=t,u=tb(o),d=tb(c);if(u!==d)if($A(u)&&$A(d))for(let p=0;p<t.length;p++){const g=t[p];typeof g=="string"&&(t[p]=parseFloat(g))}else La[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,s=[];for(let o=0;o<t.length;o++)(t[o]===null||cL(t[o]))&&s.push(o);s.length&&gL(t,s,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:s}=this;if(!t||!t.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=La[s](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const o=n[n.length-1];o!==void 0&&t.getValue(s,o).jump(o,!1)}measureEndState(){const{element:t,name:n,unresolvedKeyframes:s}=this;if(!t||!t.current)return;const o=t.getValue(n);o&&o.jump(this.measuredOrigin,!1);const c=s.length-1,u=s[c];s[c]=La[n](t.measureViewportBox(),window.getComputedStyle(t.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),this.removedTransforms?.length&&this.removedTransforms.forEach(([d,p])=>{t.getValue(d).set(p)}),this.resolveNoneKeyframes()}}function _L(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let s=document;const o=n?.[e]??s.querySelectorAll(e);return o?Array.from(o):[]}return Array.from(e)}const bR=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function SR(e){return U1(e)&&"offsetHeight"in e}const nb=30,vL=e=>!isNaN(parseFloat(e));class TL{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{const o=Un.now();if(this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const c of this.dependents)c.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=Un.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=vL(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new Jy);const s=this.events[t].add(n);return t==="change"?()=>{s(),_e.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-s}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Un.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>nb)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,nb);return z1(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ul(e,t){return new TL(e,t)}const{schedule:d_}=Z1(queueMicrotask,!1),Oi={x:!1,y:!1};function wR(){return Oi.x||Oi.y}function EL(e){return e==="x"||e==="y"?Oi[e]?null:(Oi[e]=!0,()=>{Oi[e]=!1}):Oi.x||Oi.y?null:(Oi.x=Oi.y=!0,()=>{Oi.x=Oi.y=!1})}function RR(e,t){const n=_L(e),s=new AbortController,o={passive:!0,...t,signal:s.signal};return[n,o,()=>s.abort()]}function ib(e){return!(e.pointerType==="touch"||wR())}function AL(e,t,n={}){const[s,o,c]=RR(e,n),u=d=>{if(!ib(d))return;const{target:p}=d,g=t(p,d);if(typeof g!="function"||!p)return;const v=E=>{ib(E)&&(g(E),p.removeEventListener("pointerleave",v))};p.addEventListener("pointerleave",v,o)};return s.forEach(d=>{d.addEventListener("pointerenter",u,o)}),c}const CR=(e,t)=>t?e===t?!0:CR(e,t.parentElement):!1,m_=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,bL=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function SL(e){return bL.has(e.tagName)||e.tabIndex!==-1}const gf=new WeakSet;function sb(e){return t=>{t.key==="Enter"&&e(t)}}function Up(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const wL=(e,t)=>{const n=e.currentTarget;if(!n)return;const s=sb(()=>{if(gf.has(n))return;Up(n,"down");const o=sb(()=>{Up(n,"up")}),c=()=>Up(n,"cancel");n.addEventListener("keyup",o,t),n.addEventListener("blur",c,t)});n.addEventListener("keydown",s,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),t)};function rb(e){return m_(e)&&!wR()}function RL(e,t,n={}){const[s,o,c]=RR(e,n),u=d=>{const p=d.currentTarget;if(!rb(d))return;gf.add(p);const g=t(p,d),v=(C,j)=>{window.removeEventListener("pointerup",E),window.removeEventListener("pointercancel",b),gf.has(p)&&gf.delete(p),rb(C)&&typeof g=="function"&&g(C,{success:j})},E=C=>{v(C,p===window||p===document||n.useGlobalTarget||CR(p,C.target))},b=C=>{v(C,!1)};window.addEventListener("pointerup",E,o),window.addEventListener("pointercancel",b,o)};return s.forEach(d=>{(n.useGlobalTarget?window:d).addEventListener("pointerdown",u,o),SR(d)&&(d.addEventListener("focus",g=>wL(g,o)),!SL(d)&&!d.hasAttribute("tabindex")&&(d.tabIndex=0))}),c}function xR(e){return U1(e)&&"ownerSVGElement"in e}function CL(e){return xR(e)&&e.tagName==="svg"}const En=e=>!!(e&&e.getVelocity),xL=[...TR,Ke,Xr],IL=e=>xL.find(vR(e)),p_=rt.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function ab(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function NL(...e){return t=>{let n=!1;const s=e.map(o=>{const c=ab(o,t);return!n&&typeof c=="function"&&(n=!0),c});if(n)return()=>{for(let o=0;o<s.length;o++){const c=s[o];typeof c=="function"?c():ab(e[o],null)}}}}function DL(...e){return rt.useCallback(NL(...e),e)}class VL extends rt.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const s=n.offsetParent,o=SR(s)&&s.offsetWidth||0,c=this.props.sizeRef.current;c.height=n.offsetHeight||0,c.width=n.offsetWidth||0,c.top=n.offsetTop,c.left=n.offsetLeft,c.right=o-c.width-c.left}return null}componentDidUpdate(){}render(){return this.props.children}}function OL({children:e,isPresent:t,anchorX:n,root:s}){const o=rt.useId(),c=rt.useRef(null),u=rt.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:d}=rt.useContext(p_),p=DL(c,e?.ref);return rt.useInsertionEffect(()=>{const{width:g,height:v,top:E,left:b,right:C}=u.current;if(t||!c.current||!g||!v)return;const j=n==="left"?`left: ${b}`:`right: ${C}`;c.current.dataset.motionPopId=o;const B=document.createElement("style");d&&(B.nonce=d);const z=s??document.head;return z.appendChild(B),B.sheet&&B.sheet.insertRule(`
          [data-motion-pop-id="${o}"] {
            position: absolute !important;
            width: ${g}px !important;
            height: ${v}px !important;
            ${j}px !important;
            top: ${E}px !important;
          }
        `),()=>{z.contains(B)&&z.removeChild(B)}},[t]),_.jsx(VL,{isPresent:t,childRef:c,sizeRef:u,children:rt.cloneElement(e,{ref:p})})}const ML=({children:e,initial:t,isPresent:n,onExitComplete:s,custom:o,presenceAffectsLayout:c,mode:u,anchorX:d,root:p})=>{const g=Yy(PL),v=rt.useId();let E=!0,b=rt.useMemo(()=>(E=!1,{id:v,initial:t,isPresent:n,custom:o,onExitComplete:C=>{g.set(C,!0);for(const j of g.values())if(!j)return;s&&s()},register:C=>(g.set(C,!1),()=>g.delete(C))}),[n,g,s]);return c&&E&&(b={...b}),rt.useMemo(()=>{g.forEach((C,j)=>g.set(j,!1))},[n]),rt.useEffect(()=>{!n&&!g.size&&s&&s()},[n]),u==="popLayout"&&(e=_.jsx(OL,{isPresent:n,anchorX:d,root:p,children:e})),_.jsx(md.Provider,{value:b,children:e})};function PL(){return new Map}function IR(e=!0){const t=rt.useContext(md);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:o}=t,c=rt.useId();rt.useEffect(()=>{if(e)return o(c)},[e]);const u=rt.useCallback(()=>e&&s&&s(c),[c,s,e]);return!n&&s?[!1,u]:[!0]}const ef=e=>e.key||"";function ob(e){const t=[];return rt.Children.forEach(e,n=>{rt.isValidElement(n)&&t.push(n)}),t}const NR=({children:e,custom:t,initial:n=!0,onExitComplete:s,presenceAffectsLayout:o=!0,mode:c="sync",propagate:u=!1,anchorX:d="left",root:p})=>{const[g,v]=IR(u),E=rt.useMemo(()=>ob(e),[e]),b=u&&!g?[]:E.map(ef),C=rt.useRef(!0),j=rt.useRef(E),B=Yy(()=>new Map),[z,$]=rt.useState(E),[et,Z]=rt.useState(E);j1(()=>{C.current=!1,j.current=E;for(let dt=0;dt<et.length;dt++){const x=ef(et[dt]);b.includes(x)?B.delete(x):B.get(x)!==!0&&B.set(x,!1)}},[et,b.length,b.join("-")]);const lt=[];if(E!==z){let dt=[...E];for(let x=0;x<et.length;x++){const R=et[x],I=ef(R);b.includes(I)||(dt.splice(x,0,R),lt.push(R))}return c==="wait"&&lt.length&&(dt=lt),Z(ob(dt)),$(E),null}const{forceRender:ct}=rt.useContext(Ky);return _.jsx(_.Fragment,{children:et.map(dt=>{const x=ef(dt),R=u&&!g?!1:E===et||b.includes(x),I=()=>{if(B.has(x))B.set(x,!0);else return;let M=!0;B.forEach(O=>{O||(M=!1)}),M&&(ct?.(),Z(j.current),u&&v?.(),s&&s())};return _.jsx(ML,{isPresent:R,initial:!C.current||n?void 0:!1,custom:t,presenceAffectsLayout:o,mode:c,root:p,onExitComplete:R?void 0:I,anchorX:d,children:dt},x)})})},DR=rt.createContext({strict:!1}),lb={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},hl={};for(const e in lb)hl[e]={isEnabled:t=>lb[e].some(n=>!!t[n])};function kL(e){for(const t in e)hl[t]={...hl[t],...e[t]}}const jL=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Ff(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||jL.has(e)}let VR=e=>!Ff(e);function LL(e){typeof e=="function"&&(VR=t=>t.startsWith("on")?!Ff(t):e(t))}try{LL(require("@emotion/is-prop-valid").default)}catch{}function UL(e,t,n){const s={};for(const o in e)o==="values"&&typeof e.values=="object"||(VR(o)||n===!0&&Ff(o)||!t&&!Ff(o)||e.draggable&&o.startsWith("onDrag"))&&(s[o]=e[o]);return s}const pd=rt.createContext({});function gd(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function eu(e){return typeof e=="string"||Array.isArray(e)}const g_=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],y_=["initial",...g_];function yd(e){return gd(e.animate)||y_.some(t=>eu(e[t]))}function OR(e){return!!(yd(e)||e.variants)}function BL(e,t){if(yd(e)){const{initial:n,animate:s}=e;return{initial:n===!1||eu(n)?n:void 0,animate:eu(s)?s:void 0}}return e.inherit!==!1?t:{}}function zL(e){const{initial:t,animate:n}=BL(e,rt.useContext(pd));return rt.useMemo(()=>({initial:t,animate:n}),[cb(t),cb(n)])}function cb(e){return Array.isArray(e)?e.join(" "):e}function ub(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const wc={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(wt.test(e))e=parseFloat(e);else return e;const n=ub(e,t.target.x),s=ub(e,t.target.y);return`${n}% ${s}%`}},qL={correct:(e,{treeScale:t,projectionDelta:n})=>{const s=e,o=Xr.parse(e);if(o.length>5)return s;const c=Xr.createTransformer(e),u=typeof o[0]!="number"?1:0,d=n.x.scale*t.x,p=n.y.scale*t.y;o[0+u]/=d,o[1+u]/=p;const g=be(d,p,.5);return typeof o[2+u]=="number"&&(o[2+u]/=g),typeof o[3+u]=="number"&&(o[3+u]/=g),c(o)}},jg={borderRadius:{...wc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:wc,borderTopRightRadius:wc,borderBottomLeftRadius:wc,borderBottomRightRadius:wc,boxShadow:qL};function MR(e,{layout:t,layoutId:n}){return Tl.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!jg[e]||e==="opacity")}const FL={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},HL=vl.length;function GL(e,t,n){let s="",o=!0;for(let c=0;c<HL;c++){const u=vl[c],d=e[u];if(d===void 0)continue;let p=!0;if(typeof d=="number"?p=d===(u.startsWith("scale")?1:0):p=parseFloat(d)===0,!p||n){const g=bR(d,f_[u]);if(!p){o=!1;const v=FL[u]||u;s+=`${v}(${g}) `}n&&(t[u]=g)}}return s=s.trim(),n?s=n(t,o?"":s):o&&(s="none"),s}function __(e,t,n){const{style:s,vars:o,transformOrigin:c}=e;let u=!1,d=!1;for(const p in t){const g=t[p];if(Tl.has(p)){u=!0;continue}else if(tR(p)){o[p]=g;continue}else{const v=bR(g,f_[p]);p.startsWith("origin")?(d=!0,c[p]=v):s[p]=v}}if(t.transform||(u||n?s.transform=GL(t,e.transform,n):s.transform&&(s.transform="none")),d){const{originX:p="50%",originY:g="50%",originZ:v=0}=c;s.transformOrigin=`${p} ${g} ${v}`}}const v_=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function PR(e,t,n){for(const s in t)!En(t[s])&&!MR(s,n)&&(e[s]=t[s])}function KL({transformTemplate:e},t){return rt.useMemo(()=>{const n=v_();return __(n,t,e),Object.assign({},n.vars,n.style)},[t])}function YL(e,t){const n=e.style||{},s={};return PR(s,n,e),Object.assign(s,KL(e,t)),s}function QL(e,t){const n={},s=YL(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=s,n}const XL={offset:"stroke-dashoffset",array:"stroke-dasharray"},$L={offset:"strokeDashoffset",array:"strokeDasharray"};function WL(e,t,n=1,s=0,o=!0){e.pathLength=1;const c=o?XL:$L;e[c.offset]=wt.transform(-s);const u=wt.transform(t),d=wt.transform(n);e[c.array]=`${u} ${d}`}function kR(e,{attrX:t,attrY:n,attrScale:s,pathLength:o,pathSpacing:c=1,pathOffset:u=0,...d},p,g,v){if(__(e,d,g),p){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:E,style:b}=e;E.transform&&(b.transform=E.transform,delete E.transform),(b.transform||E.transformOrigin)&&(b.transformOrigin=E.transformOrigin??"50% 50%",delete E.transformOrigin),b.transform&&(b.transformBox=v?.transformBox??"fill-box",delete E.transformBox),t!==void 0&&(E.x=t),n!==void 0&&(E.y=n),s!==void 0&&(E.scale=s),o!==void 0&&WL(E,o,c,u,!1)}const jR=()=>({...v_(),attrs:{}}),LR=e=>typeof e=="string"&&e.toLowerCase()==="svg";function ZL(e,t,n,s){const o=rt.useMemo(()=>{const c=jR();return kR(c,t,LR(s),e.transformTemplate,e.style),{...c.attrs,style:{...c.style}}},[t]);if(e.style){const c={};PR(c,e.style,e),o.style={...c,...o.style}}return o}const JL=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function T_(e){return typeof e!="string"||e.includes("-")?!1:!!(JL.indexOf(e)>-1||/[A-Z]/u.test(e))}function t4(e,t,n,{latestValues:s},o,c=!1){const d=(T_(e)?ZL:QL)(t,s,o,e),p=UL(t,typeof e=="string",c),g=e!==rt.Fragment?{...p,...d,ref:n}:{},{children:v}=t,E=rt.useMemo(()=>En(v)?v.get():v,[v]);return rt.createElement(e,{...g,children:E})}function hb(e){const t=[{},{}];return e?.values.forEach((n,s)=>{t[0][s]=n.get(),t[1][s]=n.getVelocity()}),t}function E_(e,t,n,s){if(typeof t=="function"){const[o,c]=hb(s);t=t(n!==void 0?n:e.custom,o,c)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[o,c]=hb(s);t=t(n!==void 0?n:e.custom,o,c)}return t}function yf(e){return En(e)?e.get():e}function e4({scrapeMotionValuesFromProps:e,createRenderState:t},n,s,o){return{latestValues:n4(n,s,o,e),renderState:t()}}function n4(e,t,n,s){const o={},c=s(e,{});for(const b in c)o[b]=yf(c[b]);let{initial:u,animate:d}=e;const p=yd(e),g=OR(e);t&&g&&!p&&e.inherit!==!1&&(u===void 0&&(u=t.initial),d===void 0&&(d=t.animate));let v=n?n.initial===!1:!1;v=v||u===!1;const E=v?d:u;if(E&&typeof E!="boolean"&&!gd(E)){const b=Array.isArray(E)?E:[E];for(let C=0;C<b.length;C++){const j=E_(e,b[C]);if(j){const{transitionEnd:B,transition:z,...$}=j;for(const et in $){let Z=$[et];if(Array.isArray(Z)){const lt=v?Z.length-1:0;Z=Z[lt]}Z!==null&&(o[et]=Z)}for(const et in B)o[et]=B[et]}}}return o}const UR=e=>(t,n)=>{const s=rt.useContext(pd),o=rt.useContext(md),c=()=>e4(e,t,s,o);return n?c():Yy(c)};function A_(e,t,n){const{style:s}=e,o={};for(const c in s)(En(s[c])||t.style&&En(t.style[c])||MR(c,e)||n?.getValue(c)?.liveStyle!==void 0)&&(o[c]=s[c]);return o}const i4=UR({scrapeMotionValuesFromProps:A_,createRenderState:v_});function BR(e,t,n){const s=A_(e,t,n);for(const o in e)if(En(e[o])||En(t[o])){const c=vl.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;s[c]=e[o]}return s}const s4=UR({scrapeMotionValuesFromProps:BR,createRenderState:jR}),r4=Symbol.for("motionComponentSymbol");function Yo(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function a4(e,t,n){return rt.useCallback(s=>{s&&e.onMount&&e.onMount(s),t&&(s?t.mount(s):t.unmount()),n&&(typeof n=="function"?n(s):Yo(n)&&(n.current=s))},[t])}const b_=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),o4="framerAppearId",zR="data-"+b_(o4),qR=rt.createContext({});function l4(e,t,n,s,o){const{visualElement:c}=rt.useContext(pd),u=rt.useContext(DR),d=rt.useContext(md),p=rt.useContext(p_).reducedMotion,g=rt.useRef(null);s=s||u.renderer,!g.current&&s&&(g.current=s(e,{visualState:t,parent:c,props:n,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:p}));const v=g.current,E=rt.useContext(qR);v&&!v.projection&&o&&(v.type==="html"||v.type==="svg")&&c4(g.current,n,o,E);const b=rt.useRef(!1);rt.useInsertionEffect(()=>{v&&b.current&&v.update(n,d)});const C=n[zR],j=rt.useRef(!!C&&!window.MotionHandoffIsComplete?.(C)&&window.MotionHasOptimisedAnimation?.(C));return j1(()=>{v&&(b.current=!0,window.MotionIsMounted=!0,v.updateFeatures(),v.scheduleRenderMicrotask(),j.current&&v.animationState&&v.animationState.animateChanges())}),rt.useEffect(()=>{v&&(!j.current&&v.animationState&&v.animationState.animateChanges(),j.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(C)}),j.current=!1),v.enteringChildren=void 0)}),v}function c4(e,t,n,s){const{layoutId:o,layout:c,drag:u,dragConstraints:d,layoutScroll:p,layoutRoot:g,layoutCrossfade:v}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:FR(e.parent)),e.projection.setOptions({layoutId:o,layout:c,alwaysMeasureLayout:!!u||d&&Yo(d),visualElement:e,animationType:typeof c=="string"?c:"both",initialPromotionConfig:s,crossfade:v,layoutScroll:p,layoutRoot:g})}function FR(e){if(e)return e.options.allowProjection!==!1?e.projection:FR(e.parent)}function Bp(e,{forwardMotionProps:t=!1}={},n,s){n&&kL(n);const o=T_(e)?s4:i4;function c(d,p){let g;const v={...rt.useContext(p_),...d,layoutId:u4(d)},{isStatic:E}=v,b=zL(d),C=o(d,E);if(!E&&Qy){h4();const j=f4(v);g=j.MeasureLayout,b.visualElement=l4(e,C,v,s,j.ProjectionNode)}return _.jsxs(pd.Provider,{value:b,children:[g&&b.visualElement?_.jsx(g,{visualElement:b.visualElement,...v}):null,t4(e,d,a4(C,b.visualElement,p),C,E,t)]})}c.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const u=rt.forwardRef(c);return u[r4]=e,u}function u4({layoutId:e}){const t=rt.useContext(Ky).id;return t&&e!==void 0?t+"-"+e:e}function h4(e,t){rt.useContext(DR).strict}function f4(e){const{drag:t,layout:n}=hl;if(!t&&!n)return{};const s={...t,...n};return{MeasureLayout:t?.isEnabled(e)||n?.isEnabled(e)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function d4(e,t){if(typeof Proxy>"u")return Bp;const n=new Map,s=(c,u)=>Bp(c,u,e,t),o=(c,u)=>s(c,u);return new Proxy(o,{get:(c,u)=>u==="create"?s:(n.has(u)||n.set(u,Bp(u,void 0,e,t)),n.get(u))})}function HR({top:e,left:t,right:n,bottom:s}){return{x:{min:t,max:n},y:{min:e,max:s}}}function m4({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function p4(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),s=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function zp(e){return e===void 0||e===1}function Lg({scale:e,scaleX:t,scaleY:n}){return!zp(e)||!zp(t)||!zp(n)}function Oa(e){return Lg(e)||GR(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function GR(e){return fb(e.x)||fb(e.y)}function fb(e){return e&&e!=="0%"}function Hf(e,t,n){const s=e-n,o=t*s;return n+o}function db(e,t,n,s,o){return o!==void 0&&(e=Hf(e,o,s)),Hf(e,n,s)+t}function Ug(e,t=0,n=1,s,o){e.min=db(e.min,t,n,s,o),e.max=db(e.max,t,n,s,o)}function KR(e,{x:t,y:n}){Ug(e.x,t.translate,t.scale,t.originPoint),Ug(e.y,n.translate,n.scale,n.originPoint)}const mb=.999999999999,pb=1.0000000000001;function g4(e,t,n,s=!1){const o=n.length;if(!o)return;t.x=t.y=1;let c,u;for(let d=0;d<o;d++){c=n[d],u=c.projectionDelta;const{visualElement:p}=c.options;p&&p.props.style&&p.props.style.display==="contents"||(s&&c.options.layoutScroll&&c.scroll&&c!==c.root&&Xo(e,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),u&&(t.x*=u.x.scale,t.y*=u.y.scale,KR(e,u)),s&&Oa(c.latestValues)&&Xo(e,c.latestValues))}t.x<pb&&t.x>mb&&(t.x=1),t.y<pb&&t.y>mb&&(t.y=1)}function Qo(e,t){e.min=e.min+t,e.max=e.max+t}function gb(e,t,n,s,o=.5){const c=be(e.min,e.max,o);Ug(e,t,n,c,s)}function Xo(e,t){gb(e.x,t.x,t.scaleX,t.scale,t.originX),gb(e.y,t.y,t.scaleY,t.scale,t.originY)}function YR(e,t){return HR(p4(e.getBoundingClientRect(),t))}function y4(e,t,n){const s=YR(e,n),{scroll:o}=t;return o&&(Qo(s.x,o.offset.x),Qo(s.y,o.offset.y)),s}const yb=()=>({translate:0,scale:1,origin:0,originPoint:0}),$o=()=>({x:yb(),y:yb()}),_b=()=>({min:0,max:0}),We=()=>({x:_b(),y:_b()}),Bg={current:null},QR={current:!1};function _4(){if(QR.current=!0,!!Qy)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Bg.current=e.matches;e.addEventListener("change",t),t()}else Bg.current=!1}const v4=new WeakMap;function T4(e,t,n){for(const s in t){const o=t[s],c=n[s];if(En(o))e.addValue(s,o);else if(En(c))e.addValue(s,ul(o,{owner:e}));else if(c!==o)if(e.hasValue(s)){const u=e.getValue(s);u.liveStyle===!0?u.jump(o):u.hasAnimated||u.set(o)}else{const u=e.getStaticValue(s);e.addValue(s,ul(u!==void 0?u:o,{owner:e}))}}for(const s in n)t[s]===void 0&&e.removeValue(s);return t}const vb=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class E4{scrapeMotionValuesFromProps(t,n,s){return{}}constructor({parent:t,props:n,presenceContext:s,reducedMotionConfig:o,blockInitialAnimation:c,visualState:u},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=u_,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const b=Un.now();this.renderScheduledAt<b&&(this.renderScheduledAt=b,_e.render(this.render,!1,!0))};const{latestValues:p,renderState:g}=u;this.latestValues=p,this.baseTarget={...p},this.initialValues=n.initial?{...p}:{},this.renderState=g,this.parent=t,this.props=n,this.presenceContext=s,this.depth=t?t.depth+1:0,this.reducedMotionConfig=o,this.options=d,this.blockInitialAnimation=!!c,this.isControllingVariants=yd(n),this.isVariantNode=OR(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:v,...E}=this.scrapeMotionValuesFromProps(n,{},this);for(const b in E){const C=E[b];p[b]!==void 0&&En(C)&&C.set(p[b])}}mount(t){this.current=t,v4.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),QR.current||_4(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Bg.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Qr(this.notifyUpdate),Qr(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const s=Tl.has(t);s&&this.onBindTransform&&this.onBindTransform();const o=n.on("change",u=>{this.latestValues[t]=u,this.props.onUpdate&&_e.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let c;window.MotionCheckAppearSync&&(c=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{o(),c&&c(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in hl){const n=hl[t];if(!n)continue;const{isEnabled:s,Feature:o}=n;if(!this.features[t]&&o&&s(this.props)&&(this.features[t]=new o(this)),this.features[t]){const c=this.features[t];c.isMounted?c.update():(c.mount(),c.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):We()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<vb.length;s++){const o=vb[s];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const c="on"+o,u=t[c];u&&(this.propEventSubscriptions[o]=this.on(o,u))}this.prevMotionValues=T4(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const s=this.values.get(t);n!==s&&(s&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let s=this.values.get(t);return s===void 0&&n!==void 0&&(s=ul(n===null?void 0:n,{owner:this}),this.addValue(t,s)),s}readValue(t,n){let s=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return s!=null&&(typeof s=="string"&&(L1(s)||B1(s))?s=parseFloat(s):!IL(s)&&Xr.test(n)&&(s=AR(t,n)),this.setBaseTarget(t,En(s)?s.get():s)),En(s)?s.get():s}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const c=E_(this.props,n,this.presenceContext?.custom);c&&(s=c[t])}if(n&&s!==void 0)return s;const o=this.getBaseTargetFromProps(this.props,t);return o!==void 0&&!En(o)?o:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new Jy),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){d_.render(this.render)}}class XR extends E4{constructor(){super(...arguments),this.KeyframeResolver=yL}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:s}){delete n[t],delete s[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;En(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function $R(e,{style:t,vars:n},s,o){const c=e.style;let u;for(u in t)c[u]=t[u];o?.applyProjectionStyles(c,s);for(u in n)c.setProperty(u,n[u])}function A4(e){return window.getComputedStyle(e)}class b4 extends XR{constructor(){super(...arguments),this.type="html",this.renderInstance=$R}readValueFromInstance(t,n){if(Tl.has(n))return this.projection?.isProjecting?Ng(n):kj(t,n);{const s=A4(t),o=(tR(n)?s.getPropertyValue(n):s[n])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(t,{transformPagePoint:n}){return YR(t,n)}build(t,n,s){__(t,n,s.transformTemplate)}scrapeMotionValuesFromProps(t,n,s){return A_(t,n,s)}}const WR=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function S4(e,t,n,s){$R(e,t,void 0,s);for(const o in t.attrs)e.setAttribute(WR.has(o)?o:b_(o),t.attrs[o])}class w4 extends XR{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=We}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Tl.has(n)){const s=ER(n);return s&&s.default||0}return n=WR.has(n)?n:b_(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,s){return BR(t,n,s)}build(t,n,s){kR(t,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(t,n,s,o){S4(t,n,s,o)}mount(t){this.isSVGTag=LR(t.tagName),super.mount(t)}}const R4=(e,t)=>T_(e)?new w4(t):new b4(t,{allowProjection:e!==rt.Fragment});function il(e,t,n){const s=e.getProps();return E_(s,t,n!==void 0?n:s.custom,e)}const zg=e=>Array.isArray(e);function C4(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,ul(n))}function x4(e){return zg(e)?e[e.length-1]||0:e}function I4(e,t){const n=il(e,t);let{transitionEnd:s={},transition:o={},...c}=n||{};c={...c,...s};for(const u in c){const d=x4(c[u]);C4(e,u,d)}}function N4(e){return!!(En(e)&&e.add)}function qg(e,t){const n=e.getValue("willChange");if(N4(n))return n.add(t);if(!n&&Ks.WillChange){const s=new Ks.WillChange("auto");e.addValue("willChange",s),s.add(t)}}function ZR(e){return e.props[zR]}const D4=e=>e!==null;function V4(e,{repeat:t,repeatType:n="loop"},s){const o=e.filter(D4),c=t&&n!=="loop"&&t%2===1?0:o.length-1;return o[c]}const O4={type:"spring",stiffness:500,damping:25,restSpeed:10},M4=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),P4={type:"keyframes",duration:.8},k4={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},j4=(e,{keyframes:t})=>t.length>2?P4:Tl.has(e)?e.startsWith("scale")?M4(t[1]):O4:k4;function L4({when:e,delay:t,delayChildren:n,staggerChildren:s,staggerDirection:o,repeat:c,repeatType:u,repeatDelay:d,from:p,elapsed:g,...v}){return!!Object.keys(v).length}const S_=(e,t,n,s={},o,c)=>u=>{const d=h_(s,e)||{},p=d.delay||s.delay||0;let{elapsed:g=0}=s;g=g-fs(p);const v={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...d,delay:-g,onUpdate:b=>{t.set(b),d.onUpdate&&d.onUpdate(b)},onComplete:()=>{u(),d.onComplete&&d.onComplete()},name:e,motionValue:t,element:c?void 0:o};L4(d)||Object.assign(v,j4(e,v)),v.duration&&(v.duration=fs(v.duration)),v.repeatDelay&&(v.repeatDelay=fs(v.repeatDelay)),v.from!==void 0&&(v.keyframes[0]=v.from);let E=!1;if((v.type===!1||v.duration===0&&!v.repeatDelay)&&(Pg(v),v.delay===0&&(E=!0)),(Ks.instantAnimations||Ks.skipAnimations)&&(E=!0,Pg(v),v.delay=0),v.allowFlatten=!d.type&&!d.ease,E&&!c&&t.get()!==void 0){const b=V4(v.keyframes,d);if(b!==void 0){_e.update(()=>{v.onUpdate(b),v.onComplete()});return}}return d.isSync?new c_(v):new rL(v)};function U4({protectedKeys:e,needsAnimating:t},n){const s=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,s}function JR(e,t,{delay:n=0,transitionOverride:s,type:o}={}){let{transition:c=e.getDefaultTransition(),transitionEnd:u,...d}=t;s&&(c=s);const p=[],g=o&&e.animationState&&e.animationState.getState()[o];for(const v in d){const E=e.getValue(v,e.latestValues[v]??null),b=d[v];if(b===void 0||g&&U4(g,v))continue;const C={delay:n,...h_(c||{},v)},j=E.get();if(j!==void 0&&!E.isAnimating&&!Array.isArray(b)&&b===j&&!C.velocity)continue;let B=!1;if(window.MotionHandoffAnimation){const $=ZR(e);if($){const et=window.MotionHandoffAnimation($,v,_e);et!==null&&(C.startTime=et,B=!0)}}qg(e,v),E.start(S_(v,E,b,e.shouldReduceMotion&&_R.has(v)?{type:!1}:C,e,B));const z=E.animation;z&&p.push(z)}return u&&Promise.all(p).then(()=>{_e.update(()=>{u&&I4(e,u)})}),p}function tC(e,t,n,s=0,o=1){const c=Array.from(e).sort((g,v)=>g.sortNodePosition(v)).indexOf(t),u=e.size,d=(u-1)*s;return typeof n=="function"?n(c,u):o===1?c*s:d-c*s}function Fg(e,t,n={}){const s=il(e,t,n.type==="exit"?e.presenceContext?.custom:void 0);let{transition:o=e.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(o=n.transitionOverride);const c=s?()=>Promise.all(JR(e,s,n)):()=>Promise.resolve(),u=e.variantChildren&&e.variantChildren.size?(p=0)=>{const{delayChildren:g=0,staggerChildren:v,staggerDirection:E}=o;return B4(e,t,p,g,v,E,n)}:()=>Promise.resolve(),{when:d}=o;if(d){const[p,g]=d==="beforeChildren"?[c,u]:[u,c];return p().then(()=>g())}else return Promise.all([c(),u(n.delay)])}function B4(e,t,n=0,s=0,o=0,c=1,u){const d=[];for(const p of e.variantChildren)p.notify("AnimationStart",t),d.push(Fg(p,t,{...u,delay:n+(typeof s=="function"?0:s)+tC(e.variantChildren,p,s,o,c)}).then(()=>p.notify("AnimationComplete",t)));return Promise.all(d)}function z4(e,t,n={}){e.notify("AnimationStart",t);let s;if(Array.isArray(t)){const o=t.map(c=>Fg(e,c,n));s=Promise.all(o)}else if(typeof t=="string")s=Fg(e,t,n);else{const o=typeof t=="function"?il(e,t,n.custom):t;s=Promise.all(JR(e,o,n))}return s.then(()=>{e.notify("AnimationComplete",t)})}function eC(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let s=0;s<n;s++)if(t[s]!==e[s])return!1;return!0}const q4=y_.length;function nC(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?nC(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<q4;n++){const s=y_[n],o=e.props[s];(eu(o)||o===!1)&&(t[s]=o)}return t}const F4=[...g_].reverse(),H4=g_.length;function G4(e){return t=>Promise.all(t.map(({animation:n,options:s})=>z4(e,n,s)))}function K4(e){let t=G4(e),n=Tb(),s=!0;const o=p=>(g,v)=>{const E=il(e,v,p==="exit"?e.presenceContext?.custom:void 0);if(E){const{transition:b,transitionEnd:C,...j}=E;g={...g,...j,...C}}return g};function c(p){t=p(e)}function u(p){const{props:g}=e,v=nC(e.parent)||{},E=[],b=new Set;let C={},j=1/0;for(let z=0;z<H4;z++){const $=F4[z],et=n[$],Z=g[$]!==void 0?g[$]:v[$],lt=eu(Z),ct=$===p?et.isActive:null;ct===!1&&(j=z);let dt=Z===v[$]&&Z!==g[$]&&lt;if(dt&&s&&e.manuallyAnimateOnMount&&(dt=!1),et.protectedKeys={...C},!et.isActive&&ct===null||!Z&&!et.prevProp||gd(Z)||typeof Z=="boolean")continue;const x=Y4(et.prevProp,Z);let R=x||$===p&&et.isActive&&!dt&&lt||z>j&&lt,I=!1;const M=Array.isArray(Z)?Z:[Z];let O=M.reduce(o($),{});ct===!1&&(O={});const{prevResolvedValues:L={}}=et,N={...L,...O},Qt=at=>{R=!0,b.has(at)&&(I=!0,b.delete(at)),et.needsAnimating[at]=!0;const ft=e.getValue(at);ft&&(ft.liveStyle=!1)};for(const at in N){const ft=O[at],Ct=L[at];if(C.hasOwnProperty(at))continue;let jt=!1;zg(ft)&&zg(Ct)?jt=!eC(ft,Ct):jt=ft!==Ct,jt?ft!=null?Qt(at):b.add(at):ft!==void 0&&b.has(at)?Qt(at):et.protectedKeys[at]=!0}et.prevProp=Z,et.prevResolvedValues=O,et.isActive&&(C={...C,...O}),s&&e.blockInitialAnimation&&(R=!1);const he=dt&&x;R&&(!he||I)&&E.push(...M.map(at=>{const ft={type:$};if(typeof at=="string"&&s&&!he&&e.manuallyAnimateOnMount&&e.parent){const{parent:Ct}=e,jt=il(Ct,at);if(Ct.enteringChildren&&jt){const{delayChildren:P}=jt.transition||{};ft.delay=tC(Ct.enteringChildren,e,P)}}return{animation:at,options:ft}}))}if(b.size){const z={};if(typeof g.initial!="boolean"){const $=il(e,Array.isArray(g.initial)?g.initial[0]:g.initial);$&&$.transition&&(z.transition=$.transition)}b.forEach($=>{const et=e.getBaseTarget($),Z=e.getValue($);Z&&(Z.liveStyle=!0),z[$]=et??null}),E.push({animation:z})}let B=!!E.length;return s&&(g.initial===!1||g.initial===g.animate)&&!e.manuallyAnimateOnMount&&(B=!1),s=!1,B?t(E):Promise.resolve()}function d(p,g){if(n[p].isActive===g)return Promise.resolve();e.variantChildren?.forEach(E=>E.animationState?.setActive(p,g)),n[p].isActive=g;const v=u(p);for(const E in n)n[E].protectedKeys={};return v}return{animateChanges:u,setActive:d,setAnimateFunction:c,getState:()=>n,reset:()=>{n=Tb()}}}function Y4(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!eC(t,e):!1}function Da(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Tb(){return{animate:Da(!0),whileInView:Da(),whileHover:Da(),whileTap:Da(),whileDrag:Da(),whileFocus:Da(),exit:Da()}}class ta{constructor(t){this.isMounted=!1,this.node=t}update(){}}class Q4 extends ta{constructor(t){super(t),t.animationState||(t.animationState=K4(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();gd(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let X4=0;class $4 extends ta{constructor(){super(...arguments),this.id=X4++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===s)return;const o=this.node.animationState.setActive("exit",!t);n&&!t&&o.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const W4={animation:{Feature:Q4},exit:{Feature:$4}};function nu(e,t,n,s={passive:!0}){return e.addEventListener(t,n,s),()=>e.removeEventListener(t,n)}function Tu(e){return{point:{x:e.pageX,y:e.pageY}}}const Z4=e=>t=>m_(t)&&e(t,Tu(t));function zc(e,t,n,s){return nu(e,t,Z4(n),s)}const iC=1e-4,J4=1-iC,tU=1+iC,sC=.01,eU=0-sC,nU=0+sC;function In(e){return e.max-e.min}function iU(e,t,n){return Math.abs(e-t)<=n}function Eb(e,t,n,s=.5){e.origin=s,e.originPoint=be(t.min,t.max,e.origin),e.scale=In(n)/In(t),e.translate=be(n.min,n.max,e.origin)-e.originPoint,(e.scale>=J4&&e.scale<=tU||isNaN(e.scale))&&(e.scale=1),(e.translate>=eU&&e.translate<=nU||isNaN(e.translate))&&(e.translate=0)}function qc(e,t,n,s){Eb(e.x,t.x,n.x,s?s.originX:void 0),Eb(e.y,t.y,n.y,s?s.originY:void 0)}function Ab(e,t,n){e.min=n.min+t.min,e.max=e.min+In(t)}function sU(e,t,n){Ab(e.x,t.x,n.x),Ab(e.y,t.y,n.y)}function bb(e,t,n){e.min=t.min-n.min,e.max=e.min+In(t)}function Gf(e,t,n){bb(e.x,t.x,n.x),bb(e.y,t.y,n.y)}function pi(e){return[e("x"),e("y")]}const rC=({current:e})=>e?e.ownerDocument.defaultView:null,Sb=(e,t)=>Math.abs(e-t);function rU(e,t){const n=Sb(e.x,t.x),s=Sb(e.y,t.y);return Math.sqrt(n**2+s**2)}class aC{constructor(t,n,{transformPagePoint:s,contextWindow:o=window,dragSnapToOrigin:c=!1,distanceThreshold:u=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=Fp(this.lastMoveEventInfo,this.history),C=this.startEvent!==null,j=rU(b.offset,{x:0,y:0})>=this.distanceThreshold;if(!C&&!j)return;const{point:B}=b,{timestamp:z}=dn;this.history.push({...B,timestamp:z});const{onStart:$,onMove:et}=this.handlers;C||($&&$(this.lastMoveEvent,b),this.startEvent=this.lastMoveEvent),et&&et(this.lastMoveEvent,b)},this.handlePointerMove=(b,C)=>{this.lastMoveEvent=b,this.lastMoveEventInfo=qp(C,this.transformPagePoint),_e.update(this.updatePoint,!0)},this.handlePointerUp=(b,C)=>{this.end();const{onEnd:j,onSessionEnd:B,resumeAnimation:z}=this.handlers;if(this.dragSnapToOrigin&&z&&z(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const $=Fp(b.type==="pointercancel"?this.lastMoveEventInfo:qp(C,this.transformPagePoint),this.history);this.startEvent&&j&&j(b,$),B&&B(b,$)},!m_(t))return;this.dragSnapToOrigin=c,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=u,this.contextWindow=o||window;const d=Tu(t),p=qp(d,this.transformPagePoint),{point:g}=p,{timestamp:v}=dn;this.history=[{...g,timestamp:v}];const{onSessionStart:E}=n;E&&E(t,Fp(p,this.history)),this.removeListeners=yu(zc(this.contextWindow,"pointermove",this.handlePointerMove),zc(this.contextWindow,"pointerup",this.handlePointerUp),zc(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Qr(this.updatePoint)}}function qp(e,t){return t?{point:t(e.point)}:e}function wb(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Fp({point:e},t){return{point:e,delta:wb(e,oC(t)),offset:wb(e,aU(t)),velocity:oU(t,.1)}}function aU(e){return e[0]}function oC(e){return e[e.length-1]}function oU(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,s=null;const o=oC(e);for(;n>=0&&(s=e[n],!(o.timestamp-s.timestamp>fs(t)));)n--;if(!s)return{x:0,y:0};const c=_i(o.timestamp-s.timestamp);if(c===0)return{x:0,y:0};const u={x:(o.x-s.x)/c,y:(o.y-s.y)/c};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function lU(e,{min:t,max:n},s){return t!==void 0&&e<t?e=s?be(t,e,s.min):Math.max(e,t):n!==void 0&&e>n&&(e=s?be(n,e,s.max):Math.min(e,n)),e}function Rb(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function cU(e,{top:t,left:n,bottom:s,right:o}){return{x:Rb(e.x,n,o),y:Rb(e.y,t,s)}}function Cb(e,t){let n=t.min-e.min,s=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,s]=[s,n]),{min:n,max:s}}function uU(e,t){return{x:Cb(e.x,t.x),y:Cb(e.y,t.y)}}function hU(e,t){let n=.5;const s=In(e),o=In(t);return o>s?n=Zc(t.min,t.max-s,e.min):s>o&&(n=Zc(e.min,e.max-o,t.min)),Gs(0,1,n)}function fU(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const Hg=.35;function dU(e=Hg){return e===!1?e=0:e===!0&&(e=Hg),{x:xb(e,"left","right"),y:xb(e,"top","bottom")}}function xb(e,t,n){return{min:Ib(e,t),max:Ib(e,n)}}function Ib(e,t){return typeof e=="number"?e:e[t]||0}const mU=new WeakMap;class pU{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=We(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const c=E=>{const{dragSnapToOrigin:b}=this.getProps();b?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Tu(E).point)},u=(E,b)=>{const{drag:C,dragPropagation:j,onDragStart:B}=this.getProps();if(C&&!j&&(this.openDragLock&&this.openDragLock(),this.openDragLock=EL(C),!this.openDragLock))return;this.latestPointerEvent=E,this.latestPanInfo=b,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),pi($=>{let et=this.getAxisMotionValue($).get()||0;if(ds.test(et)){const{projection:Z}=this.visualElement;if(Z&&Z.layout){const lt=Z.layout.layoutBox[$];lt&&(et=In(lt)*(parseFloat(et)/100))}}this.originPoint[$]=et}),B&&_e.postRender(()=>B(E,b)),qg(this.visualElement,"transform");const{animationState:z}=this.visualElement;z&&z.setActive("whileDrag",!0)},d=(E,b)=>{this.latestPointerEvent=E,this.latestPanInfo=b;const{dragPropagation:C,dragDirectionLock:j,onDirectionLock:B,onDrag:z}=this.getProps();if(!C&&!this.openDragLock)return;const{offset:$}=b;if(j&&this.currentDirection===null){this.currentDirection=gU($),this.currentDirection!==null&&B&&B(this.currentDirection);return}this.updateAxis("x",b.point,$),this.updateAxis("y",b.point,$),this.visualElement.render(),z&&z(E,b)},p=(E,b)=>{this.latestPointerEvent=E,this.latestPanInfo=b,this.stop(E,b),this.latestPointerEvent=null,this.latestPanInfo=null},g=()=>pi(E=>this.getAnimationState(E)==="paused"&&this.getAxisMotionValue(E).animation?.play()),{dragSnapToOrigin:v}=this.getProps();this.panSession=new aC(t,{onSessionStart:c,onStart:u,onMove:d,onSessionEnd:p,resumeAnimation:g},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:v,distanceThreshold:s,contextWindow:rC(this.visualElement)})}stop(t,n){const s=t||this.latestPointerEvent,o=n||this.latestPanInfo,c=this.isDragging;if(this.cancel(),!c||!o||!s)return;const{velocity:u}=o;this.startAnimation(u);const{onDragEnd:d}=this.getProps();d&&_e.postRender(()=>d(s,o))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,s){const{drag:o}=this.getProps();if(!s||!nf(t,o,this.currentDirection))return;const c=this.getAxisMotionValue(t);let u=this.originPoint[t]+s[t];this.constraints&&this.constraints[t]&&(u=lU(u,this.constraints[t],this.elastic[t])),c.set(u)}resolveConstraints(){const{dragConstraints:t,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,o=this.constraints;t&&Yo(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&s?this.constraints=cU(s.layoutBox,t):this.constraints=!1,this.elastic=dU(n),o!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&pi(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=fU(s.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Yo(t))return!1;const s=t.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const c=y4(s,o.root,this.visualElement.getTransformPagePoint());let u=uU(o.layout.layoutBox,c);if(n){const d=n(m4(u));this.hasMutatedConstraints=!!d,d&&(u=HR(d))}return u}startAnimation(t){const{drag:n,dragMomentum:s,dragElastic:o,dragTransition:c,dragSnapToOrigin:u,onDragTransitionEnd:d}=this.getProps(),p=this.constraints||{},g=pi(v=>{if(!nf(v,n,this.currentDirection))return;let E=p&&p[v]||{};u&&(E={min:0,max:0});const b=o?200:1e6,C=o?40:1e7,j={type:"inertia",velocity:s?t[v]:0,bounceStiffness:b,bounceDamping:C,timeConstant:750,restDelta:1,restSpeed:10,...c,...E};return this.startAxisValueAnimation(v,j)});return Promise.all(g).then(d)}startAxisValueAnimation(t,n){const s=this.getAxisMotionValue(t);return qg(this.visualElement,t),s.start(S_(t,s,0,n,this.visualElement,!1))}stopAnimation(){pi(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){pi(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,s=this.visualElement.getProps(),o=s[n];return o||this.visualElement.getValue(t,(s.initial?s.initial[t]:void 0)||0)}snapToCursor(t){pi(n=>{const{drag:s}=this.getProps();if(!nf(n,s,this.currentDirection))return;const{projection:o}=this.visualElement,c=this.getAxisMotionValue(n);if(o&&o.layout){const{min:u,max:d}=o.layout.layoutBox[n];c.set(t[n]-be(u,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!Yo(n)||!s||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};pi(u=>{const d=this.getAxisMotionValue(u);if(d&&this.constraints!==!1){const p=d.get();o[u]=hU({min:p,max:p},this.constraints[u])}});const{transformTemplate:c}=this.visualElement.getProps();this.visualElement.current.style.transform=c?c({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),pi(u=>{if(!nf(u,t,null))return;const d=this.getAxisMotionValue(u),{min:p,max:g}=this.constraints[u];d.set(be(p,g,o[u]))})}addListeners(){if(!this.visualElement.current)return;mU.set(this.visualElement,this);const t=this.visualElement.current,n=zc(t,"pointerdown",p=>{const{drag:g,dragListener:v=!0}=this.getProps();g&&v&&this.start(p)}),s=()=>{const{dragConstraints:p}=this.getProps();Yo(p)&&p.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,c=o.addEventListener("measure",s);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),_e.read(s);const u=nu(window,"resize",()=>this.scalePositionWithinConstraints()),d=o.addEventListener("didUpdate",(({delta:p,hasLayoutChanged:g})=>{this.isDragging&&g&&(pi(v=>{const E=this.getAxisMotionValue(v);E&&(this.originPoint[v]+=p[v].translate,E.set(E.get()+p[v].translate))}),this.visualElement.render())}));return()=>{u(),n(),c(),d&&d()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:o=!1,dragConstraints:c=!1,dragElastic:u=Hg,dragMomentum:d=!0}=t;return{...t,drag:n,dragDirectionLock:s,dragPropagation:o,dragConstraints:c,dragElastic:u,dragMomentum:d}}}function nf(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function gU(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class yU extends ta{constructor(t){super(t),this.removeGroupControls=vi,this.removeListeners=vi,this.controls=new pU(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||vi}unmount(){this.removeGroupControls(),this.removeListeners()}}const Nb=e=>(t,n)=>{e&&_e.postRender(()=>e(t,n))};class _U extends ta{constructor(){super(...arguments),this.removePointerDownListener=vi}onPointerDown(t){this.session=new aC(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:rC(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:s,onPanEnd:o}=this.node.getProps();return{onSessionStart:Nb(t),onStart:Nb(n),onMove:s,onEnd:(c,u)=>{delete this.session,o&&_e.postRender(()=>o(c,u))}}}mount(){this.removePointerDownListener=zc(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const _f={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let Hp=!1;class vU extends rt.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s,layoutId:o}=this.props,{projection:c}=t;c&&(n.group&&n.group.add(c),s&&s.register&&o&&s.register(c),Hp&&c.root.didUpdate(),c.addEventListener("animationComplete",()=>{this.safeToRemove()}),c.setOptions({...c.options,onExitComplete:()=>this.safeToRemove()})),_f.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:s,drag:o,isPresent:c}=this.props,{projection:u}=s;return u&&(u.isPresent=c,Hp=!0,o||t.layoutDependency!==n||n===void 0||t.isPresent!==c?u.willUpdate():this.safeToRemove(),t.isPresent!==c&&(c?u.promote():u.relegate()||_e.postRender(()=>{const d=u.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),d_.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:o}=t;Hp=!0,o&&(o.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(o),s&&s.deregister&&s.deregister(o))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function lC(e){const[t,n]=IR(),s=rt.useContext(Ky);return _.jsx(vU,{...e,layoutGroup:s,switchLayoutGroup:rt.useContext(qR),isPresent:t,safeToRemove:n})}function TU(e,t,n){const s=En(e)?e:ul(e);return s.start(S_("",s,t,n)),s.animation}const EU=(e,t)=>e.depth-t.depth;class AU{constructor(){this.children=[],this.isDirty=!1}add(t){Xy(this.children,t),this.isDirty=!0}remove(t){$y(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(EU),this.isDirty=!1,this.children.forEach(t)}}function bU(e,t){const n=Un.now(),s=({timestamp:o})=>{const c=o-n;c>=t&&(Qr(s),e(c-t))};return _e.setup(s,!0),()=>Qr(s)}const cC=["TopLeft","TopRight","BottomLeft","BottomRight"],SU=cC.length,Db=e=>typeof e=="string"?parseFloat(e):e,Vb=e=>typeof e=="number"||wt.test(e);function wU(e,t,n,s,o,c){o?(e.opacity=be(0,n.opacity??1,RU(s)),e.opacityExit=be(t.opacity??1,0,CU(s))):c&&(e.opacity=be(t.opacity??1,n.opacity??1,s));for(let u=0;u<SU;u++){const d=`border${cC[u]}Radius`;let p=Ob(t,d),g=Ob(n,d);if(p===void 0&&g===void 0)continue;p||(p=0),g||(g=0),p===0||g===0||Vb(p)===Vb(g)?(e[d]=Math.max(be(Db(p),Db(g),s),0),(ds.test(g)||ds.test(p))&&(e[d]+="%")):e[d]=g}(t.rotate||n.rotate)&&(e.rotate=be(t.rotate||0,n.rotate||0,s))}function Ob(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const RU=uC(0,.5,Q1),CU=uC(.5,.95,vi);function uC(e,t,n){return s=>s<e?0:s>t?1:n(Zc(e,t,s))}function Mb(e,t){e.min=t.min,e.max=t.max}function Vi(e,t){Mb(e.x,t.x),Mb(e.y,t.y)}function Pb(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function kb(e,t,n,s,o){return e-=t,e=Hf(e,1/n,s),o!==void 0&&(e=Hf(e,1/o,s)),e}function xU(e,t=0,n=1,s=.5,o,c=e,u=e){if(ds.test(t)&&(t=parseFloat(t),t=be(u.min,u.max,t/100)-u.min),typeof t!="number")return;let d=be(c.min,c.max,s);e===c&&(d-=t),e.min=kb(e.min,t,n,d,o),e.max=kb(e.max,t,n,d,o)}function jb(e,t,[n,s,o],c,u){xU(e,t[n],t[s],t[o],t.scale,c,u)}const IU=["x","scaleX","originX"],NU=["y","scaleY","originY"];function Lb(e,t,n,s){jb(e.x,t,IU,n?n.x:void 0,s?s.x:void 0),jb(e.y,t,NU,n?n.y:void 0,s?s.y:void 0)}function Ub(e){return e.translate===0&&e.scale===1}function hC(e){return Ub(e.x)&&Ub(e.y)}function Bb(e,t){return e.min===t.min&&e.max===t.max}function DU(e,t){return Bb(e.x,t.x)&&Bb(e.y,t.y)}function zb(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function fC(e,t){return zb(e.x,t.x)&&zb(e.y,t.y)}function qb(e){return In(e.x)/In(e.y)}function Fb(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class VU{constructor(){this.members=[]}add(t){Xy(this.members,t),t.scheduleRender()}remove(t){if($y(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(o=>t===o);if(n===0)return!1;let s;for(let o=n;o>=0;o--){const c=this.members[o];if(c.isPresent!==!1){s=c;break}}return s?(this.promote(s),!0):!1}promote(t,n){const s=this.lead;if(t!==s&&(this.prevLead=s,this.lead=t,t.show(),s)){s.instance&&s.scheduleRender(),t.scheduleRender(),t.resumeFrom=s,n&&(t.resumeFrom.preserveOpacity=!0),s.snapshot&&(t.snapshot=s.snapshot,t.snapshot.latestValues=s.animationValues||s.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:o}=t.options;o===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:s}=t;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function OU(e,t,n){let s="";const o=e.x.translate/t.x,c=e.y.translate/t.y,u=n?.z||0;if((o||c||u)&&(s=`translate3d(${o}px, ${c}px, ${u}px) `),(t.x!==1||t.y!==1)&&(s+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:g,rotate:v,rotateX:E,rotateY:b,skewX:C,skewY:j}=n;g&&(s=`perspective(${g}px) ${s}`),v&&(s+=`rotate(${v}deg) `),E&&(s+=`rotateX(${E}deg) `),b&&(s+=`rotateY(${b}deg) `),C&&(s+=`skewX(${C}deg) `),j&&(s+=`skewY(${j}deg) `)}const d=e.x.scale*t.x,p=e.y.scale*t.y;return(d!==1||p!==1)&&(s+=`scale(${d}, ${p})`),s||"none"}const Gp=["","X","Y","Z"],MU=1e3;let PU=0;function Kp(e,t,n,s){const{latestValues:o}=t;o[e]&&(n[e]=o[e],t.setStaticValue(e,0),s&&(s[e]=0))}function dC(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=ZR(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:o,layoutId:c}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",_e,!(o||c))}const{parent:s}=e;s&&!s.hasCheckedOptimisedAppear&&dC(s)}function mC({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:s,resetTransform:o}){return class{constructor(u={},d=t?.()){this.id=PU++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(LU),this.nodes.forEach(qU),this.nodes.forEach(FU),this.nodes.forEach(UU)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let p=0;p<this.path.length;p++)this.path[p].shouldResetTransform=!0;this.root===this&&(this.nodes=new AU)}addEventListener(u,d){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new Jy),this.eventHandlers.get(u).add(d)}notifyListeners(u,...d){const p=this.eventHandlers.get(u);p&&p.notify(...d)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=xR(u)&&!CL(u),this.instance=u;const{layoutId:d,layout:p,visualElement:g}=this.options;if(g&&!g.current&&g.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(p||d)&&(this.isLayoutDirty=!0),e){let v,E=0;const b=()=>this.root.updateBlockedByResize=!1;_e.read(()=>{E=window.innerWidth}),e(u,()=>{const C=window.innerWidth;C!==E&&(E=C,this.root.updateBlockedByResize=!0,v&&v(),v=bU(b,250),_f.hasAnimatedSinceResize&&(_f.hasAnimatedSinceResize=!1,this.nodes.forEach(Kb)))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&g&&(d||p)&&this.addEventListener("didUpdate",({delta:v,hasLayoutChanged:E,hasRelativeLayoutChanged:b,layout:C})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const j=this.options.transition||g.getDefaultTransition()||QU,{onLayoutAnimationStart:B,onLayoutAnimationComplete:z}=g.getProps(),$=!this.targetLayout||!fC(this.targetLayout,C),et=!E&&b;if(this.options.layoutRoot||this.resumeFrom||et||E&&($||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const Z={...h_(j,"layout"),onPlay:B,onComplete:z};(g.shouldReduceMotion||this.options.layoutRoot)&&(Z.delay=0,Z.type=!1),this.startAnimation(Z),this.setAnimationOrigin(v,et)}else E||Kb(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=C})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Qr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(HU),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&dC(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let v=0;v<this.path.length;v++){const E=this.path[v];E.shouldResetTransform=!0,E.updateScroll("snapshot"),E.options.layoutRoot&&E.willUpdate(!1)}const{layoutId:d,layout:p}=this.options;if(d===void 0&&!p)return;const g=this.getTransformTemplate();this.prevTransformTemplateValue=g?g(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Hb);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Gb);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(zU),this.nodes.forEach(kU),this.nodes.forEach(jU)):this.nodes.forEach(Gb),this.clearAllSnapshots();const d=Un.now();dn.delta=Gs(0,1e3/60,d-dn.timestamp),dn.timestamp=d,dn.isProcessing=!0,Mp.update.process(dn),Mp.preRender.process(dn),Mp.render.process(dn),dn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,d_.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(BU),this.sharedNodes.forEach(GU)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,_e.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){_e.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!In(this.snapshot.measuredBox.x)&&!In(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let p=0;p<this.path.length;p++)this.path[p].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=We(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(d=!1),d&&this.instance){const p=s(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:p,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:p}}}resetTransform(){if(!o)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!hC(this.projectionDelta),p=this.getTransformTemplate(),g=p?p(this.latestValues,""):void 0,v=g!==this.prevTransformTemplateValue;u&&this.instance&&(d||Oa(this.latestValues)||v)&&(o(this.instance,g),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const d=this.measurePageBox();let p=this.removeElementScroll(d);return u&&(p=this.removeTransform(p)),XU(p),{animationId:this.root.animationId,measuredBox:d,layoutBox:p,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:u}=this.options;if(!u)return We();const d=u.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some($U))){const{scroll:g}=this.root;g&&(Qo(d.x,g.offset.x),Qo(d.y,g.offset.y))}return d}removeElementScroll(u){const d=We();if(Vi(d,u),this.scroll?.wasRoot)return d;for(let p=0;p<this.path.length;p++){const g=this.path[p],{scroll:v,options:E}=g;g!==this.root&&v&&E.layoutScroll&&(v.wasRoot&&Vi(d,u),Qo(d.x,v.offset.x),Qo(d.y,v.offset.y))}return d}applyTransform(u,d=!1){const p=We();Vi(p,u);for(let g=0;g<this.path.length;g++){const v=this.path[g];!d&&v.options.layoutScroll&&v.scroll&&v!==v.root&&Xo(p,{x:-v.scroll.offset.x,y:-v.scroll.offset.y}),Oa(v.latestValues)&&Xo(p,v.latestValues)}return Oa(this.latestValues)&&Xo(p,this.latestValues),p}removeTransform(u){const d=We();Vi(d,u);for(let p=0;p<this.path.length;p++){const g=this.path[p];if(!g.instance||!Oa(g.latestValues))continue;Lg(g.latestValues)&&g.updateSnapshot();const v=We(),E=g.measurePageBox();Vi(v,E),Lb(d,g.latestValues,g.snapshot?g.snapshot.layoutBox:void 0,v)}return Oa(this.latestValues)&&Lb(d,this.latestValues),d}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==dn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const p=!!this.resumingFrom||this!==d;if(!(u||p&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:v,layoutId:E}=this.options;if(!this.layout||!(v||E))return;this.resolvedRelativeTargetAt=dn.timestamp;const b=this.getClosestProjectingParent();b&&this.linkedParentVersion!==b.layoutVersion&&!b.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(b&&b.layout?this.createRelativeTarget(b,this.layout.layoutBox,b.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=We(),this.targetWithTransforms=We()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),sU(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Vi(this.target,this.layout.layoutBox),KR(this.target,this.targetDelta)):Vi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,b&&!!b.resumingFrom==!!this.resumingFrom&&!b.options.layoutScroll&&b.target&&this.animationProgress!==1?this.createRelativeTarget(b,this.target,b.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Lg(this.parent.latestValues)||GR(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(u,d,p){this.relativeParent=u,this.linkedParentVersion=u.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=We(),this.relativeTargetOrigin=We(),Gf(this.relativeTargetOrigin,d,p),Vi(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const u=this.getLead(),d=!!this.resumingFrom||this!==u;let p=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(p=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(p=!1),this.resolvedRelativeTargetAt===dn.timestamp&&(p=!1),p)return;const{layout:g,layoutId:v}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||v))return;Vi(this.layoutCorrected,this.layout.layoutBox);const E=this.treeScale.x,b=this.treeScale.y;g4(this.layoutCorrected,this.treeScale,this.path,d),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=We());const{target:C}=u;if(!C){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Pb(this.prevProjectionDelta.x,this.projectionDelta.x),Pb(this.prevProjectionDelta.y,this.projectionDelta.y)),qc(this.projectionDelta,this.layoutCorrected,C,this.latestValues),(this.treeScale.x!==E||this.treeScale.y!==b||!Fb(this.projectionDelta.x,this.prevProjectionDelta.x)||!Fb(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",C))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){if(this.options.visualElement?.scheduleRender(),u){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=$o(),this.projectionDelta=$o(),this.projectionDeltaWithTransform=$o()}setAnimationOrigin(u,d=!1){const p=this.snapshot,g=p?p.latestValues:{},v={...this.latestValues},E=$o();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const b=We(),C=p?p.source:void 0,j=this.layout?this.layout.source:void 0,B=C!==j,z=this.getStack(),$=!z||z.members.length<=1,et=!!(B&&!$&&this.options.crossfade===!0&&!this.path.some(YU));this.animationProgress=0;let Z;this.mixTargetDelta=lt=>{const ct=lt/1e3;Yb(E.x,u.x,ct),Yb(E.y,u.y,ct),this.setTargetDelta(E),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Gf(b,this.layout.layoutBox,this.relativeParent.layout.layoutBox),KU(this.relativeTarget,this.relativeTargetOrigin,b,ct),Z&&DU(this.relativeTarget,Z)&&(this.isProjectionDirty=!1),Z||(Z=We()),Vi(Z,this.relativeTarget)),B&&(this.animationValues=v,wU(v,g,this.latestValues,ct,et,$)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=ct},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Qr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=_e.update(()=>{_f.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=ul(0)),this.currentAnimation=TU(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),u.onUpdate&&u.onUpdate(d)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(MU),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:d,target:p,layout:g,latestValues:v}=u;if(!(!d||!p||!g)){if(this!==u&&this.layout&&g&&pC(this.options.animationType,this.layout.layoutBox,g.layoutBox)){p=this.target||We();const E=In(this.layout.layoutBox.x);p.x.min=u.target.x.min,p.x.max=p.x.min+E;const b=In(this.layout.layoutBox.y);p.y.min=u.target.y.min,p.y.max=p.y.min+b}Vi(d,p),Xo(d,v),qc(this.projectionDeltaWithTransform,this.layoutCorrected,d,v)}}registerSharedNode(u,d){this.sharedNodes.has(u)||this.sharedNodes.set(u,new VU),this.sharedNodes.get(u).add(d);const g=d.options.initialPromotionConfig;d.promote({transition:g?g.transition:void 0,preserveFollowOpacity:g&&g.shouldPreserveFollowOpacity?g.shouldPreserveFollowOpacity(d):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){const{layoutId:u}=this.options;return u?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:u}=this.options;return u?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:d,preserveFollowOpacity:p}={}){const g=this.getStack();g&&g.promote(this,p),u&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let d=!1;const{latestValues:p}=u;if((p.z||p.rotate||p.rotateX||p.rotateY||p.rotateZ||p.skewX||p.skewY)&&(d=!0),!d)return;const g={};p.z&&Kp("z",u,g,this.animationValues);for(let v=0;v<Gp.length;v++)Kp(`rotate${Gp[v]}`,u,g,this.animationValues),Kp(`skew${Gp[v]}`,u,g,this.animationValues);u.render();for(const v in g)u.setStaticValue(v,g[v]),this.animationValues&&(this.animationValues[v]=g[v]);u.scheduleRender()}applyProjectionStyles(u,d){if(!this.instance||this.isSVG)return;if(!this.isVisible){u.visibility="hidden";return}const p=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,u.visibility="",u.opacity="",u.pointerEvents=yf(d?.pointerEvents)||"",u.transform=p?p(this.latestValues,""):"none";return}const g=this.getLead();if(!this.projectionDelta||!this.layout||!g.target){this.options.layoutId&&(u.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,u.pointerEvents=yf(d?.pointerEvents)||""),this.hasProjected&&!Oa(this.latestValues)&&(u.transform=p?p({},""):"none",this.hasProjected=!1);return}u.visibility="";const v=g.animationValues||g.latestValues;this.applyTransformsToTarget();let E=OU(this.projectionDeltaWithTransform,this.treeScale,v);p&&(E=p(v,E)),u.transform=E;const{x:b,y:C}=this.projectionDelta;u.transformOrigin=`${b.origin*100}% ${C.origin*100}% 0`,g.animationValues?u.opacity=g===this?v.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:v.opacityExit:u.opacity=g===this?v.opacity!==void 0?v.opacity:"":v.opacityExit!==void 0?v.opacityExit:0;for(const j in jg){if(v[j]===void 0)continue;const{correct:B,applyTo:z,isCSSVariable:$}=jg[j],et=E==="none"?v[j]:B(v[j],g);if(z){const Z=z.length;for(let lt=0;lt<Z;lt++)u[z[lt]]=et}else $?this.options.visualElement.renderState.vars[j]=et:u[j]=et}this.options.layoutId&&(u.pointerEvents=g===this?yf(d?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>u.currentAnimation?.stop()),this.root.nodes.forEach(Hb),this.root.sharedNodes.clear()}}}function kU(e){e.updateLayout()}function jU(e){const t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=e.layout,{animationType:o}=e.options,c=t.source!==e.layout.source;o==="size"?pi(v=>{const E=c?t.measuredBox[v]:t.layoutBox[v],b=In(E);E.min=n[v].min,E.max=E.min+b}):pC(o,t.layoutBox,n)&&pi(v=>{const E=c?t.measuredBox[v]:t.layoutBox[v],b=In(n[v]);E.max=E.min+b,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[v].max=e.relativeTarget[v].min+b)});const u=$o();qc(u,n,t.layoutBox);const d=$o();c?qc(d,e.applyTransform(s,!0),t.measuredBox):qc(d,n,t.layoutBox);const p=!hC(u);let g=!1;if(!e.resumeFrom){const v=e.getClosestProjectingParent();if(v&&!v.resumeFrom){const{snapshot:E,layout:b}=v;if(E&&b){const C=We();Gf(C,t.layoutBox,E.layoutBox);const j=We();Gf(j,n,b.layoutBox),fC(C,j)||(g=!0),v.options.layoutRoot&&(e.relativeTarget=j,e.relativeTargetOrigin=C,e.relativeParent=v)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:d,layoutDelta:u,hasLayoutChanged:p,hasRelativeLayoutChanged:g})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function LU(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function UU(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function BU(e){e.clearSnapshot()}function Hb(e){e.clearMeasurements()}function Gb(e){e.isLayoutDirty=!1}function zU(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Kb(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function qU(e){e.resolveTargetDelta()}function FU(e){e.calcProjection()}function HU(e){e.resetSkewAndRotation()}function GU(e){e.removeLeadSnapshot()}function Yb(e,t,n){e.translate=be(t.translate,0,n),e.scale=be(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function Qb(e,t,n,s){e.min=be(t.min,n.min,s),e.max=be(t.max,n.max,s)}function KU(e,t,n,s){Qb(e.x,t.x,n.x,s),Qb(e.y,t.y,n.y,s)}function YU(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const QU={duration:.45,ease:[.4,0,.1,1]},Xb=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),$b=Xb("applewebkit/")&&!Xb("chrome/")?Math.round:vi;function Wb(e){e.min=$b(e.min),e.max=$b(e.max)}function XU(e){Wb(e.x),Wb(e.y)}function pC(e,t,n){return e==="position"||e==="preserve-aspect"&&!iU(qb(t),qb(n),.2)}function $U(e){return e!==e.root&&e.scroll?.wasRoot}const WU=mC({attachResizeListener:(e,t)=>nu(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Yp={current:void 0},gC=mC({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Yp.current){const e=new WU({});e.mount(window),e.setOptions({layoutScroll:!0}),Yp.current=e}return Yp.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),ZU={pan:{Feature:_U},drag:{Feature:yU,ProjectionNode:gC,MeasureLayout:lC}};function Zb(e,t,n){const{props:s}=e;e.animationState&&s.whileHover&&e.animationState.setActive("whileHover",n==="Start");const o="onHover"+n,c=s[o];c&&_e.postRender(()=>c(t,Tu(t)))}class JU extends ta{mount(){const{current:t}=this.node;t&&(this.unmount=AL(t,(n,s)=>(Zb(this.node,s,"Start"),o=>Zb(this.node,o,"End"))))}unmount(){}}class t3 extends ta{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=yu(nu(this.node.current,"focus",()=>this.onFocus()),nu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Jb(e,t,n){const{props:s}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&s.whileTap&&e.animationState.setActive("whileTap",n==="Start");const o="onTap"+(n==="End"?"":n),c=s[o];c&&_e.postRender(()=>c(t,Tu(t)))}class e3 extends ta{mount(){const{current:t}=this.node;t&&(this.unmount=RL(t,(n,s)=>(Jb(this.node,s,"Start"),(o,{success:c})=>Jb(this.node,o,c?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Gg=new WeakMap,Qp=new WeakMap,n3=e=>{const t=Gg.get(e.target);t&&t(e)},i3=e=>{e.forEach(n3)};function s3({root:e,...t}){const n=e||document;Qp.has(n)||Qp.set(n,{});const s=Qp.get(n),o=JSON.stringify(t);return s[o]||(s[o]=new IntersectionObserver(i3,{root:e,...t})),s[o]}function r3(e,t,n){const s=s3(t);return Gg.set(e,n),s.observe(e),()=>{Gg.delete(e),s.unobserve(e)}}const a3={some:0,all:1};class o3 extends ta{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:s,amount:o="some",once:c}=t,u={root:n?n.current:void 0,rootMargin:s,threshold:typeof o=="number"?o:a3[o]},d=p=>{const{isIntersecting:g}=p;if(this.isInView===g||(this.isInView=g,c&&!g&&this.hasEnteredView))return;g&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",g);const{onViewportEnter:v,onViewportLeave:E}=this.node.getProps(),b=g?v:E;b&&b(p)};return r3(this.node.current,u,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(l3(t,n))&&this.startObserver()}unmount(){}}function l3({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const c3={inView:{Feature:o3},tap:{Feature:e3},focus:{Feature:t3},hover:{Feature:JU}},u3={layout:{ProjectionNode:gC,MeasureLayout:lC}},h3={...W4,...c3,...ZU,...u3},gi=d4(h3,R4),tS="/images/1.png",f3={apiKey:"AIzaSyBvmR8c5X6HCGZPRnzVQl-rnd8eKeoRxDY",authDomain:"deliqu-foods.firebaseapp.com",projectId:"deliqu-foods",storageBucket:"deliqu-foods.firebasestorage.app",messagingSenderId:"363906701154",appId:"1:363906701154:web:15c966baebb9b2bf693e3b",measurementId:"G-4CCTG5M1S3"},w_=hS(f3),Bo=eV(w_),ns=iP(w_),Xp=Nk(w_);function $p({p:e,idx:t,navigate:n,getItemQty:s,formatPrice:o,setSelectedProduct:c,setView:u,updateCartQty:d,addToCart:p}){const[g,v]=rt.useState(0),E=s(e.id),b=e.images&&e.images.length>0?e.images:[e.img];return _.jsxs(gi.div,{layout:!0,initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{delay:t*.05},className:"product-card",children:[_.jsxs("div",{className:"img-container",children:[e.isBest&&_.jsx("div",{className:"best-seller-badge",children:" Best Product"}),_.jsx("div",{className:"img-slider",style:{transform:`translateX(-${g*100}%)`},children:b.map((C,j)=>_.jsx("img",{src:C,alt:e.name,className:"slider-img"},j))}),_.jsx(NR,{children:E>0&&_.jsx(gi.div,{initial:{scale:0},animate:{scale:1},exit:{scale:0},className:"card-qty-badge",children:E})}),b.length>1&&_.jsxs(_.Fragment,{children:[_.jsx("button",{className:"slider-btn prev",onClick:C=>{C.stopPropagation(),v(j=>j>0?j-1:b.length-1)},children:""}),_.jsx("button",{className:"slider-btn next",onClick:C=>{C.stopPropagation(),v(j=>j<b.length-1?j+1:0)},children:""}),_.jsx("div",{className:"slider-dots",children:b.map((C,j)=>_.jsx("div",{className:`dot ${g===j?"active":""}`},j))})]})]}),_.jsxs("div",{className:"card-info",children:[_.jsxs("div",{className:"card-header-flex",children:[_.jsx("h3",{children:e.name}),_.jsx("span",{className:"price",children:o(e.price)})]}),_.jsxs("div",{className:"card-btns",children:[_.jsx("button",{className:"btn-outline",onClick:()=>n("details",e),children:"Details"}),_.jsxs("div",{className:"counter-control",children:[E>0&&_.jsx("button",{className:"btn-minus",onClick:()=>d(e.id,-1),children:""}),_.jsx("button",{className:"btn-red-sq",onClick:()=>p(e),children:"+"})]})]})]})]})}function d3(){const[e,t]=rt.useState({USD:1,INR:1}),[n,s]=rt.useState([]);rt.useEffect(()=>{fetch("https://open.er-api.com/v6/latest/INR").then(V=>V.json()).then(V=>t(V.rates)).catch(V=>console.error("Currency fetch failed:",V))},[]);const o=V=>{const st=c(Number(V));return`${u[Li]} ${st}`},c=V=>{const st=e[Li]||1;return(V*st).toFixed(2)},u={INR:"",USD:"$",EUR:"",GBP:""},[d,p]=rt.useState([]),[g,v]=rt.useState([]),[E,b]=rt.useState("home"),[C,j]=rt.useState(null),[B,z]=rt.useState({name:"",price:"",category:"breakfast",img:"",images:[],description:"",ingredients:""}),[$,et]=rt.useState(!1),Z=async V=>{const st=Array.from(V.target.files);if(st.length){et(!0);try{const mt=st.map(async xt=>{const Ae=Op(Xp,`products/${Date.now()}_${xt.name}`);return await UA(Ae,xt),BA(Ae)}),Rt=await Promise.all(mt);z(xt=>({...xt,images:[...xt.images||[],...Rt]})),alert("Images uploaded successfully!")}catch(mt){console.error(mt),alert("Upload failed: "+mt.message)}finally{et(!1)}try{const mt=await Promise.all(uploadPromises);z(Rt=>({...Rt,images:[...Rt.images||[],...mt]})),alert("Images uploaded successfully!")}catch(mt){alert("Upload failed: "+mt.message)}finally{et(!1)}}},lt=g.reduce((V,st)=>V+(Number(st.total)||0),0),ct=g.length,dt=ct>0?(lt/ct).toFixed(2):0,x=C&&C.email==="digigrowindia.in@gmail.com",R=async()=>{if(!x)return;const st=(await $h(Na(ns,"orders"))).docs.map(mt=>({id:mt.id,...mt.data()}));v(st)};rt.useEffect(()=>{E==="admin"&&x&&R()},[E]);const I=async V=>{if(V.preventDefault(),!B.name||!B.price){alert("Please fill all required fields");return}try{await Np(Na(ns,"products"),{name:B.name,price:Number(B.price),category:B.category,img:B.img||B.images?.[0]||"",images:B.images||[],description:B.description,ingredients:B.ingredients||"",isBest:!1,createdAt:new Date}),alert("Product added successfully!"),z({name:"",price:"",category:"breakfast",img:"",description:""})}catch(st){alert(st.message)}},[M,O]=rt.useState(""),[L,N]=rt.useState(""),[Qt,he]=rt.useState(!1),[Q,at]=rt.useState(!1),[ft,Ct]=rt.useState([]),[jt,P]=rt.useState("all"),[W,ut]=rt.useState(""),[ot,vt]=rt.useState(null),Nt=d.filter(V=>V.isBest===!0),[Pt,ve]=rt.useState(0),[le,gs]=rt.useState(0),[Li,Xs]=rt.useState("INR"),[Ut,Oe]=rt.useState(null),Lt=(V,st=null)=>{window.history.pushState({view:V,product:st},"",`#${V}`),st&&vt(st),b(V)};rt.useEffect(()=>{const V=st=>{st.state?.view?b(st.state.view):b("home")};return window.addEventListener("popstate",V),()=>{window.removeEventListener("popstate",V)}},[]),rt.useEffect(()=>{const V=window.location.hash.replace("#","");V?b(V):window.history.replaceState({view:"home"},"","#home")},[]);const ys=()=>{x?(Lt("admin"),at(!1)):alert("Access Denied: You do not have permission to view the Management Panel.")},ea=async V=>{if(window.confirm("Delete this product?"))try{await TP(df(ns,"products",V)),p(d.filter(st=>st.id!==V))}catch(st){alert(st.message)}};rt.useEffect(()=>{(async()=>{const mt=(await $h(Na(ns,"products"))).docs.map(Rt=>({id:Rt.id,...Rt.data(),description:Rt.data().desc||Rt.data().description||"",ingredients:Rt.data().ingredients||Rt.data.ing||"",isBest:Rt.data().isBest===!0}));p(mt)})()},[]),rt.useEffect(()=>{const V=HD(Bo,st=>j(st));return()=>V()},[]),rt.useEffect(()=>{if(E==="home"&&d.length>0){const V=setInterval(()=>{gs(st=>st===d.length-1?0:st+1)},4e3);return()=>clearInterval(V)}},[E]);const na=async V=>{V.preventDefault();try{Qt?await BD(Bo,M,L):await zD(Bo,M,L),b("home")}catch(st){alert(st.message)}},we=async()=>{if(!M)return alert("Enter email first.");try{await UD(Bo,M),alert("Reset email sent!")}catch(V){alert(V.message)}},pe=V=>{const st=ft.find(mt=>mt.id===V.id);Ct(st?ft.map(mt=>mt.id===V.id?{...mt,qty:mt.qty+1}:mt):[...ft,{...V,qty:1}])},bn=(V,st)=>{Ct(ft.map(mt=>mt.id===V?{...mt,qty:Math.max(0,mt.qty+st)}:mt).filter(mt=>mt.qty>0))},El=async()=>{if(!C)return b("login");const V={userId:C.uid,items:ft,total:ft.reduce((st,mt)=>st+mt.price*mt.qty,0),date:new Date().toLocaleString(),rating:0};try{await Np(Na(ns,"orders"),V),alert("Order Successful!"),Ct([]),b("home")}catch(st){alert(st.message)}},Wa=async()=>{if(!C)return;const V=IA(Na(ns,"orders"),NA("userId","==",C.uid)),mt=(await $h(V)).docs.map(Rt=>({id:Rt.id,...Rt.data()}));v(mt.sort((Rt,xt)=>new Date(xt.date)-new Date(Rt.date))),b("history"),at(!1)},on=async(V,st)=>{try{const mt=df(ns,"orders",V);await OA(mt,{rating:st}),v(g.map(Rt=>Rt.id===V?{...Rt,rating:st}:Rt))}catch(mt){alert(mt.message)}},ei=V=>{const st=ft.find(mt=>mt.id===V);return st?st.qty:0},Ti=d.filter(V=>{const st=jt==="all"||V.category===jt,mt=V.name.toLowerCase().includes(W.toLowerCase());return st&&mt}),_s=ft.reduce((V,st)=>V+st.price*st.qty,0),tn=ft.reduce((V,st)=>V+st.qty,0);d[le]?.images?.[0]||d[le]?.img;const Al=async V=>{try{const mt=decodeURIComponent(V).split("/o/")[1].split("?")[0],Rt=Op(Xp,mt);await Ik(Rt),console.log("Image deleted from Firebase Storage")}catch(st){console.error("Failed to delete image:",st)}},$s=V=>{b(V),setTimeout(()=>{const st=document.getElementById(V);st&&st.scrollIntoView({behavior:"smooth",block:"start"})},100)};rt.useEffect(()=>{window.scrollTo({top:0,left:0,behavior:"instant"})},[E]);const Za=["privacy","shipping","refund","terms","support"].includes(E),[ia,en]=rt.useState(!1),[Re,Sn]=rt.useState(JSON.parse(localStorage.getItem("recentSearches"))||[]),Te=(V,st)=>{if(!st)return V;const mt=new RegExp(`(${st})`,"gi");return V.replace(mt,"<mark>$1</mark>")},[sa,Xe]=rt.useState(!1),[Ei,Bn]=rt.useState([]),[ni,Ee]=rt.useState(0),[wn,zn]=rt.useState("");rt.useEffect(()=>{if(!ot)return;(async()=>{const st=IA(Na(ns,"reviews"),NA("productId","==",ot.id)),mt=await $h(st);Bn(mt.docs.map(Rt=>({id:Rt.id,...Rt.data()})))})()},[ot]);const qn=async()=>{if(!C){alert("Please login to submit a review");return}if(ni===0||!wn.trim()){alert("Please add rating and comment");return}await Np(Na(ns,"reviews"),{productId:ot.id,userId:C.uid,userEmail:C.email,rating:ni,comment:wn,createdAt:new Date}),Ee(0),zn(""),Bn(V=>[{rating:ni,comment:wn,userEmail:C.email,createdAt:new Date},...V])};return rt.useEffect(()=>{const V=st=>{st.state?.view?(b(st.state.view),vt(st.state.product||null)):(b("home"),vt(null))};return window.addEventListener("popstate",V),()=>window.removeEventListener("popstate",V)},[]),rt.useEffect(()=>{window.history.replaceState({view:"home"},"","")},[]),_.jsxs("div",{className:"site-wrapper",children:[_.jsx("div",{className:"info-ticker",children:_.jsxs("div",{className:"ticker-track",children:[_.jsxs("div",{className:"ticker-item two-line",children:[_.jsx("span",{className:"ticker-title",children:" Premium Organic Indian Kitchen"}),_.jsx("span",{className:"ticker-sub",children:"100% Natural Ingredients & ZERO Preservatives!"})]}),_.jsxs("div",{className:"ticker-item two-line",children:[_.jsx("span",{className:"ticker-title",children:" Premium Organic Indian Kitchen"}),_.jsx("span",{className:"ticker-sub",children:"100% Natural Ingredients & ZERO Preservatives!"})]}),_.jsxs("div",{className:"ticker-item two-line",children:[_.jsx("span",{className:"ticker-title",children:" Premium Organic Indian Kitchen"}),_.jsx("span",{className:"ticker-sub",children:"100% Natural Ingredients & ZERO Preservatives!"})]}),_.jsxs("div",{className:"ticker-item two-line",children:[_.jsx("span",{className:"ticker-title",children:" Premium Organic Indian Kitchen"}),_.jsx("span",{className:"ticker-sub",children:"100% Natural Ingredients & ZERO Preservatives!"})]})]})}),_.jsxs("div",{className:"mobile-header",children:[_.jsxs("button",{className:`burger ${sa?"active":""}`,onClick:()=>{en(!1),Xe(V=>!V)},"aria-label":"Menu",children:[_.jsx("span",{}),_.jsx("span",{}),_.jsx("span",{})]}),_.jsxs("button",{className:`search-icon-ui ${ia?"active":""}`,onClick:()=>{Xe(!1),en(V=>!V)},"aria-label":"Search",children:[_.jsx("div",{className:"search-circle"}),_.jsx("div",{className:"search-handle"})]}),_.jsx("div",{className:"mobile-logo",onClick:()=>b("home"),children:_.jsx("img",{src:tS,alt:"Logo"})}),_.jsxs("button",{className:"user-icon-ui",onClick:()=>{C?Xe(!0):b("login")},"aria-label":"User",children:[_.jsx("div",{className:"user-head"}),_.jsx("div",{className:"user-body"})]}),_.jsxs("button",{className:"cart-ui",onClick:()=>b("cart"),"aria-label":"Cart",children:[_.jsx("span",{className:"cart-basket"}),tn>0&&_.jsx("span",{className:"cart-dot",children:tn})]})]}),ia&&_.jsx("div",{className:"search-overlay",onClick:()=>en(!1),children:_.jsxs("div",{className:"search-panel",onClick:V=>V.stopPropagation(),children:[_.jsx("input",{autoFocus:!0,type:"text",placeholder:"Search products...",value:W,onChange:V=>ut(V.target.value),onKeyDown:V=>{if(V.key==="Enter"&&(V.preventDefault(),Ti.length>0)){const st=Ti[0];Lt("details",st),en(!1),ut("");const mt=[W,...Re.filter(Rt=>Rt!==W)].slice(0,5);Sn(mt),localStorage.setItem("recentSearches",JSON.stringify(mt))}}}),!W&&Re.length>0&&_.jsxs("div",{className:"recent-searches",children:[_.jsx("h4",{children:"Recent Searches"}),Re.map((V,st)=>_.jsxs("div",{className:"recent-item",onClick:()=>ut(V),children:[" ",V]},st))]}),W&&_.jsx("div",{className:"search-results",children:Ti.length>0?Ti.map(V=>_.jsxs("div",{className:"search-item",onClick:()=>{vt(V),Lt("details"),en(!1);const st=[W,...Re.filter(mt=>mt!==W)].slice(0,5);Sn(st),localStorage.setItem("recentSearches",JSON.stringify(st)),ut(""),window.scrollTo(0,0)},children:[_.jsx("img",{src:V.images?.[0]||V.img,alt:V.name}),_.jsxs("div",{className:"search-info",children:[_.jsx("span",{dangerouslySetInnerHTML:{__html:Te(V.name,W)}}),_.jsx("small",{children:o(V.price)})]})]},V.id)):_.jsx("div",{className:"no-results",children:"No products found"})})]})}),sa&&_.jsx("div",{className:"drawer-overlay",onClick:()=>Xe(!1),children:_.jsxs("div",{className:"drawer",onClick:V=>V.stopPropagation(),children:[C&&_.jsx("div",{className:"drawer-profile",children:_.jsxs("div",{className:"profile-info",children:[_.jsx("div",{className:"profile-avatar",children:C.email[0].toUpperCase()}),_.jsx("div",{className:"profile-email",children:C.email})]})}),_.jsx("div",{className:"drawer-header",children:_.jsx("button",{onClick:()=>Xe(!1),children:""})}),_.jsxs("div",{className:"drawer-links",children:[_.jsx("button",{onClick:()=>{b("home"),Xe(!1)},children:"Home"}),_.jsx("button",{onClick:()=>{Lt("menu"),Xe(!1)},children:"Menu"}),_.jsxs("button",{onClick:()=>{b("cart"),Xe(!1)},children:["Cart",tn>0&&_.jsx("span",{className:"drawer-badge",children:tn})]}),_.jsx("button",{onClick:()=>{b("support"),Xe(!1)},children:"Contact Us"})]}),_.jsx("div",{className:"drawer-auth",children:C?_.jsx("button",{onClick:()=>{Bo.signOut(),b("home"),Xe(!1)},children:" Logout"}):_.jsxs(_.Fragment,{children:[_.jsx("button",{onClick:()=>{Lt("login"),Xe(!1)},children:" Sign In"}),_.jsx("button",{onClick:()=>{b("login"),he(!0),Xe(!1)},children:" Create Account"})]})})]})}),_.jsx("header",{className:"main-header",children:_.jsxs("div",{className:"header-content",children:[_.jsx("div",{className:"logo-wrapper",onClick:()=>b("home"),children:_.jsx("img",{src:tS,alt:"Deliqu Foods",className:"company-logo",onError:V=>V.target.style.display="none"})}),_.jsx("div",{className:"search-bar-container",children:_.jsx("input",{type:"text",placeholder:"Search...",value:W,onChange:V=>ut(V.target.value),className:"live-search-input",onFocus:()=>en(!0),readOnly:!0})}),_.jsx("div",{className:"header-controls",children:_.jsxs("select",{className:"currency-dropdown-nav",value:Li,onChange:V=>Xs(V.target.value),children:[_.jsx("option",{value:"INR",children:" INR"}),_.jsx("option",{value:"USD",children:"$ USD"}),_.jsx("option",{value:"EUR",children:" EUR"}),_.jsx("option",{value:"GBP",children:" GBP"})]})}),_.jsxs("nav",{children:[_.jsx("button",{onClick:()=>{P("all"),ut(""),Lt("menu")},children:"Menu"}),_.jsxs("button",{className:`nav-btn cart-btn ${E==="cart"?"active":""}`,onClick:()=>Lt("cart"),children:["",_.jsx("span",{className:"cart-text",children:"Cart"}),tn>0&&_.jsx("span",{className:"cart-badge",children:tn})]}),_.jsx("div",{className:"profile-section",children:C?_.jsxs("div",{className:"user-icon",onClick:()=>at(!Q),children:[C.email[0].toUpperCase(),Q&&_.jsxs("div",{className:"dropdown",children:[_.jsx("p",{children:C.email}),x&&_.jsx("button",{onClick:ys,className:"admin-link",children:"Management Panel"}),_.jsx("button",{onClick:Wa,children:"My Orders"}),_.jsx("button",{onClick:()=>{Bo.signOut(),b("home")},children:"Logout"})]})]}):_.jsx("button",{className:"login-btn",onClick:()=>b("login"),children:"Login"})})]})]})}),_.jsxs(NR,{mode:"wait",children:[!Za&&_.jsxs(_.Fragment,{children:[E==="home"&&_.jsxs(gi.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[_.jsxs("section",{className:"hero-slider-full",children:[_.jsxs("div",{className:"hero-center",children:[_.jsx(gi.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"hero-subtitle",children:"Premium Organic Indian Kitchen"}),_.jsx(gi.h1,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.4},className:"hero-title",children:"Taste That Travels"}),_.jsx(gi.button,{className:"hero-cta",onClick:()=>{P("all"),Lt("menu"),window.scrollTo({top:0,behavior:"smooth"})},children:"Order Now"})]}),_.jsx("div",{className:"hero-products",children:_.jsx("div",{className:"products-orbit",children:d.map((V,st)=>_.jsx("img",{src:V.images?.[0]||V.img,alt:V.name,className:"floating-product",style:{"--i":st,"--total":d.length},onClick:()=>{vt(V),Lt("details")}},V.id))})})]}),Nt.length>0&&_.jsx("section",{className:"best-products-section",children:_.jsxs("div",{className:"main-container",children:[_.jsxs("div",{className:"section-header",children:[_.jsx("h2",{children:"Our Best Products"}),_.jsx("p",{children:"Customer favorites & top picks"})]}),_.jsx("div",{className:"product-grid",children:Nt.map((V,st)=>_.jsx($p,{p:V,idx:st,navigate:Lt,getItemQty:ei,formatPrice:o,setSelectedProduct:vt,setView:b,updateCartQty:bn,addToCart:pe},V.id))}),_.jsx("div",{style:{textAlign:"center",marginTop:"30px"},children:_.jsx("button",{className:"btn-outline-large",onClick:()=>{P("all"),Lt("menu")},children:"Explore More Products"})})]})})]},"home"),E==="menu"&&_.jsxs(gi.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"main-container",children:[_.jsx("button",{className:"back-btn",onClick:()=>Lt("home"),children:" Back to Home"}),_.jsx("div",{className:"filter-bar",children:["all","breakfast","deserts","main course"].map(V=>_.jsx("button",{onClick:()=>P(V),className:jt===V?"active":"",children:V},V))}),_.jsx("div",{className:"product-grid",children:Ti.map((V,st)=>_.jsx($p,{p:V,idx:st,navigate:Lt,getItemQty:ei,formatPrice:o,setSelectedProduct:vt,setView:b,updateCartQty:bn,addToCart:pe},V.id))})]},"menu"),E==="details"&&ot&&(()=>{const V=ot.images&&ot.images.length>0?ot.images:[ot.img],st=Array.isArray(ot.ingredients)?ot.ingredients:typeof ot.ingredients=="string"?ot.ingredients.split(",").map(xt=>xt.trim()).filter(Boolean):[],mt=ei(ot.id);let Rt=d.filter(xt=>xt.category?.toLowerCase().trim()===ot.category?.toLowerCase().trim()&&xt.id!==ot.id);return Rt.length===0&&(Rt=d.filter(xt=>xt.id!==ot.id)),Rt=Rt.slice(0,4),_.jsxs(gi.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},exit:{opacity:0},className:"main-container",children:[_.jsxs("div",{className:"details-card-modern",children:[_.jsxs("div",{className:"details-image-section",children:[_.jsxs("div",{className:"main-image-container",children:[_.jsx("div",{className:"details-slider-track",style:{transform:`translateX(-${Pt*100}%)`},children:V.map((xt,Ae)=>_.jsx("img",{src:xt,alt:ot.name,className:"main-detail-image"},Ae))}),V.length>1&&_.jsxs(_.Fragment,{children:[_.jsx("button",{className:"slider-arrow left",onClick:()=>ve(Pt===0?V.length-1:Pt-1),children:""}),_.jsx("button",{className:"slider-arrow right",onClick:()=>ve(Pt===V.length-1?0:Pt+1),children:""})]})]}),V.length>1&&_.jsx("div",{className:"thumbnail-strip",children:V.map((xt,Ae)=>_.jsx("img",{src:xt,alt:`Thumb ${Ae+1}`,className:`thumbnail-img ${Pt===Ae?"thumbnail-active":""}`,onClick:()=>ve(Ae)},Ae))}),_.jsxs("div",{className:"image-qty-controls",children:[_.jsx("button",{className:"qty-btn-small minus",onClick:()=>bn(ot.id,-1),disabled:mt===0,children:""}),_.jsx("span",{className:"qty-number",children:mt||0}),_.jsx("button",{className:"qty-btn-small plus",onClick:()=>pe(ot),children:"+"})]})]}),_.jsxs("div",{className:"details-info-section",children:[_.jsxs("div",{className:"product-header",children:[_.jsx("h1",{className:"product-title",children:ot.name}),_.jsxs("div",{className:"price-container",children:[_.jsxs("span",{className:"mrp-price",children:["",ot.price]}),_.jsx("span",{className:"current-price",children:o(ot.price)})]})]}),st.length>0&&_.jsxs("div",{className:"ingredients-section",children:[_.jsx("h3",{children:"Ingredients"}),_.jsx("div",{className:"ingredients-grid",children:st.map((xt,Ae)=>_.jsx("span",{className:"ingredient-tag",children:xt},Ae))})]}),ot.description&&_.jsxs("div",{className:"description-section",children:[_.jsx("h3",{children:"About"}),_.jsx("p",{children:ot.description})]}),_.jsxs("section",{className:"reviews-section",children:[_.jsx("h3",{children:"Customer Reviews"}),Ei.length>0&&_.jsxs("div",{className:"avg-rating",children:[" ",(Ei.reduce((xt,Ae)=>xt+Ae.rating,0)/Ei.length).toFixed(1)," / 5 (",Ei.length," reviews)"]}),C&&_.jsxs("div",{className:"review-form",children:[_.jsx("div",{className:"rating-stars",children:[1,2,3,4,5].map(xt=>_.jsx("span",{className:xt<=ni?"star active":"star",onClick:()=>Ee(xt),children:""},xt))}),_.jsx("textarea",{placeholder:"Write your review...",value:wn,onChange:xt=>zn(xt.target.value)}),_.jsx("button",{className:"btn-red",onClick:qn,children:"Submit Review"})]}),_.jsx("div",{className:"reviews-list",children:Ei.length===0?_.jsx("p",{children:"No reviews yet"}):Ei.map(xt=>_.jsxs("div",{className:"review-card",children:[_.jsxs("div",{className:"review-header",children:[_.jsx("strong",{children:xt.userEmail.split("@")[0]}),_.jsx("span",{children:"".repeat(xt.rating)})]}),_.jsx("p",{children:xt.comment})]},xt.id))})]}),_.jsxs("div",{className:"details-actions",children:[_.jsxs("button",{className:"btn-add-to-cart-large",onClick:()=>Lt("cart"),disabled:mt===0,children:["Go to Bag (",o(ot.price*mt),")"]}),_.jsx("button",{className:"btn-outline-large",onClick:()=>Lt("home"),children:"Back to Menu"})]})]})]}),Rt.length>0&&_.jsxs("section",{className:"similar-products",children:[_.jsx("h3",{children:"You may also like"}),_.jsx("div",{className:"product-grid",children:Rt.map((xt,Ae)=>_.jsx($p,{p:xt,idx:Ae,navigate:Lt,getItemQty:ei,formatPrice:o,setSelectedProduct:vt,setView:b,updateCartQty:bn,addToCart:pe,onClick:()=>Lt("details",xt)},xt.id))})]})]},"details")})(),E==="cart"&&_.jsx(gi.div,{initial:{opacity:0},animate:{opacity:1},className:"main-container",children:_.jsxs("div",{className:"cart-page-modern",children:[_.jsxs("div",{className:"cart-header",children:[_.jsxs("h1",{children:[ft.length," Items in Cart"]}),_.jsx("button",{className:"btn-outline",onClick:()=>Lt("home"),children:"Continue Shopping"})]}),_.jsx("div",{className:"cart-items-modern",children:ft.length===0?_.jsxs("div",{className:"empty-cart-modern",children:[_.jsx("div",{className:"empty-icon",children:""}),_.jsx("h3",{children:"Your cart is empty"}),_.jsx("p",{children:"Add some delicious items to get started"}),_.jsx("button",{className:"btn-red-large",onClick:()=>Lt("home"),children:"Start Shopping"})]}):_.jsx(_.Fragment,{children:ft.map(V=>_.jsxs("div",{className:"cart-item-modern",children:[_.jsx("img",{src:V.images?.[0]||V.img,alt:V.name,className:"cart-item-image"}),_.jsxs("div",{className:"cart-item-details",children:[_.jsxs("div",{className:"item-name-price",children:[_.jsx("h3",{children:V.name}),_.jsx("span",{className:"item-price",children:o(V.price)})]}),_.jsxs("div",{className:"item-quantity",children:[_.jsx("button",{onClick:()=>bn(V.id,-1),className:"qty-btn",children:"-"}),_.jsx("span",{className:"qty-display",children:V.qty}),_.jsx("button",{onClick:()=>bn(V.id,1),className:"qty-btn",children:"+"})]}),_.jsx("span",{className:"item-total",children:o(V.price*V.qty)})]})]},V.id))})}),_.jsxs("div",{className:"cart-summary-modern",children:[_.jsx("h2",{children:"Order Summary"}),_.jsxs("div",{className:"summary-row",children:[_.jsxs("span",{children:["Subtotal (",tn," items)"]}),_.jsx("span",{children:o(_s)})]}),_.jsxs("div",{className:"summary-total",children:[_.jsx("span",{children:"Total"}),_.jsx("span",{className:"total-price",children:o(_s)})]}),_.jsx("button",{className:"btn-checkout-large",onClick:El,disabled:!C,children:C?"Proceed to Payment":"Login to Checkout"}),!C&&_.jsx("button",{className:"btn-outline-large",onClick:()=>Lt("login"),children:"Login"})]})]})},"cart"),E==="history"&&_.jsx(gi.div,{initial:{opacity:0},animate:{opacity:1},className:"main-container",children:_.jsxs("div",{className:"history-container",children:[_.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"30px"},children:[_.jsx("h2",{style:{margin:0},children:"My Orders"}),_.jsx("button",{onClick:()=>Lt("home"),className:"btn-outline",children:"Back to Menu"})]}),g.length===0?_.jsx("p",{children:"No orders yet."}):g.map(V=>_.jsxs("div",{className:"order-card",children:[_.jsxs("div",{className:"order-header",children:[_.jsxs("div",{className:"order-info",children:[_.jsxs("h4",{children:["Order #",V.id.slice(0,6)]}),_.jsxs("span",{children:["Placed on ",V.date]})]}),_.jsx("div",{className:"order-total-price",children:o(V.total)})]}),_.jsx("div",{className:"order-items-preview",children:V.items?.map((st,mt)=>_.jsx("img",{src:st.img,className:"history-item-img",alt:st.name,title:st.name},mt))}),_.jsxs("div",{className:"order-footer",children:[_.jsx("div",{className:"h-stars",children:[1,2,3,4,5].map(st=>_.jsx("span",{style:{color:V.rating>=st?"#d63031":"#ccc",cursor:"pointer",fontSize:"1.2rem"},onClick:()=>on(V.id,st),children:""},st))}),_.jsx("button",{className:"btn-receipt",onClick:()=>window.print(),children:"Print Receipt"})]})]},V.id))]})},"history"),E==="login"&&_.jsx(gi.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"full-screen-center",children:_.jsxs("div",{className:"auth-card",children:[_.jsxs("div",{className:"auth-header",children:[_.jsx("div",{className:"logo-placeholder",children:""}),_.jsx("h2",{className:"auth-title",children:Qt?"Join Deliqu Foods":"Welcome Back"}),_.jsx("p",{className:"auth-subtitle",children:"Please enter your details to continue"})]}),_.jsxs("form",{className:"auth-form",onSubmit:na,children:[_.jsx("div",{className:"form-group",children:_.jsx("input",{type:"email",className:"form-input",placeholder:"Enter your email",value:M,onChange:V=>O(V.target.value),required:!0})}),_.jsx("div",{className:"form-group",children:_.jsx("input",{type:"password",className:"form-input",placeholder:"Enter your password",value:L,onChange:V=>N(V.target.value),required:!0})}),_.jsx("button",{type:"submit",className:"auth-submit",children:Qt?"Create Account":"Sign In"})]}),!Qt&&_.jsx("div",{className:"forgot-password",children:_.jsx("a",{href:"#",className:"forgot-link",onClick:we,children:"Forgot Password?"})}),_.jsx("div",{className:"toggle-section",children:_.jsx("span",{className:"toggle-link",onClick:()=>he(!Qt),children:Qt?"Already have an account? Sign In":"Don't have an account? Sign Up"})})]})},"login"),E==="admin"&&x&&_.jsxs("div",{className:"admin-dashboard",children:[_.jsxs("aside",{className:"admin-sidebar",children:[_.jsx("div",{className:"logo-wrapper",children:_.jsx("img",{src:"/images/1.png",alt:"Logo",className:"company-logo1"})}),_.jsxs("nav",{children:[_.jsx("button",{className:"active",children:"Add Product"}),_.jsx("button",{onClick:()=>b("home"),children:"View Site"})]})]}),_.jsxs("main",{className:"admin-content",children:[_.jsxs("header",{className:"admin-header-bar",children:[_.jsx("h1",{children:"Product Management"}),_.jsx("button",{onClick:()=>b("home"),className:"btn-outline",children:"Exit Admin"})]}),_.jsxs("div",{className:"admin-stats-bar",children:[_.jsxs("div",{className:"stat-card",children:[_.jsx("span",{children:"Total Revenue"}),_.jsx("h2",{children:o(lt.toLocaleString())})]}),_.jsxs("div",{className:"stat-card",children:[_.jsx("span",{children:"Total Orders"}),_.jsx("h2",{children:ct})]}),_.jsxs("div",{className:"stat-card",children:[_.jsx("span",{children:"Avg. Ticket"}),_.jsx("h2",{children:o(dt)})]})]}),_.jsxs("div",{className:"admin-grid",children:[Ut&&_.jsx("div",{className:"edit-modal",children:_.jsxs("div",{className:"edit-card",children:[_.jsx("h3",{children:"Edit Product"}),_.jsxs("label",{className:"checkbox-row",children:[_.jsx("input",{type:"checkbox",checked:Ut.isBest||!1,onChange:V=>Oe({...Ut,isBest:V.target.checked})})," Mark as Best Product"]}),_.jsx("input",{type:"text",value:Ut.name,onChange:V=>Oe({...Ut,name:V.target.value}),placeholder:"Product Name"}),_.jsx("input",{type:"number",value:Ut.price,onChange:V=>Oe({...Ut,price:V.target.value}),placeholder:"Price"}),_.jsx("textarea",{value:Ut.description||Ut.desc||"",onChange:V=>Oe({...Ut,description:V.target.value}),placeholder:"Description",rows:"4"}),"//  ADD TO ADD PRODUCT FORM (after description textarea):",_.jsx("textarea",{placeholder:"Ingredients (comma separated: Cashew, Khoya, Raisins, Ghee, Sugar)",value:B.ingredients||"",onChange:V=>z({...B,ingredients:V.target.value}),rows:"3"}),"//  ADD TO EDIT MODAL (after description textarea):",_.jsx("textarea",{value:Ut.ingredients||"",onChange:V=>Oe({...Ut,ingredients:V.target.value}),placeholder:"Ingredients (comma separated)",rows:"3"}),_.jsx("div",{className:"preview-strip",children:Ut.images?.map((V,st)=>_.jsxs("div",{style:{position:"relative"},children:[_.jsx("img",{src:V,className:"mini-preview"}),_.jsx("button",{className:"remove-img-btn",onClick:async()=>{const mt=Ut.images[st];await Al(mt),Oe({...Ut,images:Ut.images.filter((Rt,xt)=>xt!==st)})},children:""})]},st))}),_.jsxs("label",{className:"file-label",children:[" Add Images",_.jsx("input",{type:"file",multiple:!0,hidden:!0,onChange:async V=>{const st=Array.from(V.target.files),mt=await Promise.all(st.map(async Rt=>{const xt=Op(Xp,`products/${Date.now()}_${Rt.name}`);return await UA(xt,Rt),BA(xt)}));Oe({...Ut,images:[...Ut.images||[],...mt]})}})]}),_.jsxs("div",{className:"edit-actions",children:[_.jsx("button",{className:"btn-outline",onClick:()=>Oe(null),children:"Cancel"}),_.jsx("button",{className:"btn-red-large",onClick:async()=>{await OA(df(ns,"products",Ut.id),{name:Ut.name,price:Number(Ut.price),category:Ut.category,description:Ut.description,ingredients:Ut.ingredients||"",images:Ut.images,img:Ut.images?.[0]||Ut.img,isBest:Ut.isBest===!0}),p(d.map(V=>V.id===Ut.id?Ut:V)),Oe(null)},children:"Save Changes"})]})]})}),_.jsxs("section",{className:"admin-card",children:[_.jsx("h3",{children:"Add New Product"}),_.jsxs("form",{onSubmit:I,className:"management-form",children:[_.jsx("input",{type:"text",placeholder:"Product Name",value:B.name,onChange:V=>z({...B,name:V.target.value})}),_.jsxs("div",{className:"form-row",children:[_.jsx("input",{type:"number",placeholder:"Price",value:B.price,onChange:V=>z({...B,price:V.target.value})}),_.jsxs("select",{value:B.category,onChange:V=>z({...B,category:V.target.value}),children:[_.jsx("option",{value:"breakfast",children:"Breakfast"}),_.jsx("option",{value:"deserts",children:"Deserts"}),_.jsx("option",{value:"main course",children:"Main Course"})]})]}),_.jsx("input",{type:"text",placeholder:"Image URL (e.g. https://...)",value:B.img,onChange:V=>z({...B,img:V.target.value})}),_.jsx("textarea",{placeholder:"Description",value:B.description,onChange:V=>z({...B,description:V.target.value})}),_.jsxs("div",{className:"upload-box",children:[_.jsxs("label",{className:"file-label",children:[$?"Uploading...":" Select Product Photos (Multiple)",_.jsx("input",{type:"file",multiple:!0,accept:"image/*",onChange:Z,hidden:!0})]}),_.jsx("div",{className:"preview-strip",children:B.images?.map((V,st)=>_.jsx("img",{src:V,alt:"preview",className:"mini-preview"},st))})]}),_.jsx("button",{type:"submit",className:"btn-red-large",children:"Add to Menu"})]})]}),_.jsxs("section",{className:"admin-card",children:[_.jsxs("h3",{children:["Current Menu (",d.length,")"]}),_.jsx("div",{className:"admin-table-wrapper",children:_.jsxs("table",{className:"admin-table",children:[_.jsx("thead",{children:_.jsxs("tr",{children:[_.jsx("th",{children:"Item"}),_.jsx("th",{children:"Price"}),_.jsx("th",{children:"Actions"})]})}),_.jsx("tbody",{children:d.map(V=>_.jsxs("tr",{children:[_.jsx("td",{children:V.name}),_.jsx("td",{children:o(V.price)}),_.jsxs("td",{style:{display:"flex",gap:"8px"},children:[_.jsx("button",{className:"btn-outline",onClick:()=>Oe(V),children:"Edit"}),_.jsx("button",{className:"delete-btn",onClick:()=>ea(V.id),children:"Delete"})]})]},V.id))})]})})]})]})]})]})]}),E==="privacy"&&_.jsx("div",{className:"policy-page",children:_.jsxs("div",{className:"policy-container",children:[_.jsx("button",{className:"back-btn",onClick:()=>Lt("home"),children:" Back to Home"}),_.jsxs("div",{className:"policy-header",children:[_.jsx("h1",{children:"Privacy Policy"}),_.jsx("p",{className:"policy-date",children:"Last Updated: January 4, 2026"})]}),_.jsxs("div",{className:"policy-content",children:[_.jsxs("p",{children:["This Privacy Policy outlines how ",_.jsx("strong",{children:"DeliQu Foods"})," collects, uses, discloses, and safeguards your personal information. By using our website, you consent to the practices described below:"]}),_.jsxs("div",{className:"policy-section",children:[_.jsx("h2",{children:"Welcome to DeliQu Foods!"}),_.jsxs("p",{children:["We are ",_.jsx("strong",{children:"deliqufoods.com"})," from ",_.jsx("strong",{children:"Surat, Gujarat, India  395006"}),'. In this Privacy Policy, references to "you" mean any person submitting any data to us or our agent or the Site.']}),_.jsxs("p",{children:["If you have any comments or suggestions, we would be pleased to receive them at our Surat address or by emailing us at",_.jsx("a",{href:"mailto:deliqufoods@gmail.com",children:"deliqufoods@gmail.com"})]})]}),_.jsxs("div",{className:"policy-section",children:[_.jsx("h2",{children:"Data Protection"}),_.jsx("p",{children:"Data protection is a matter of trust and your privacy is important to us. We shall therefore only use your name and other information which relates to you in the manner set out in this Privacy Policy. We will only collect information where it is necessary for us to do so and we will only collect information if it is relevant to our dealings with you."}),_.jsx("p",{children:"We will only keep your information for as long as we are either required to by law or as is relevant for the purposes for which it was collected."})]}),_.jsxs("div",{className:"policy-section",children:[_.jsx("h2",{children:"Browsing Anonymously"}),_.jsx("p",{children:"You can visit the Site and browse without having to provide personal details. During your visit to the Site you remain anonymous and at no time can we identify you unless you have an account on the Site and log on with your username and password."}),_.jsx("p",{children:_.jsx("strong",{children:'Right now our website is not enabled with "cookies"'})})]}),_.jsxs("div",{className:"policy-section",children:[_.jsx("h2",{children:"Purchase Information"}),_.jsx("p",{children:"If you choose to buy on the Website, we collect information about your buying behaviour. If you transact with us, we collect some additional information, such as a billing address, a credit/debit card number and a credit/debit card expiration date and/or other payment instrument details and tracking information from cheques or money orders."}),_.jsx("p",{children:"If you send us personal correspondence, such as emails or letters, we may collect such information into a file specific to you."})]}),_.jsxs("div",{className:"policy-section",children:[_.jsx("h2",{children:"Account Information"}),_.jsx("p",{children:"We collect personally identifiable information (email address, name, phone number, etc.) from you when you set up a free account with us. While you can browse some sections of our Website without being a registered member, certain activities (such as placing an order) do require registration. We do use your contact information to send you offers based on your previous orders and your interests."})]}),_.jsxs("div",{className:"policy-section",children:[_.jsx("h2",{children:"Data Security"}),_.jsxs("p",{children:["All your personal information will be stored in a ",_.jsx("strong",{children:"secure encrypted file"}),". However, no credit or debit card information will be stored beyond that of your current transaction session. When the session expires that data will be permanently deleted."]})]}),_.jsxs("div",{className:"policy-contact",children:[_.jsx("h3",{children:"Need Help?"}),_.jsxs("p",{children:["Email: ",_.jsx("a",{href:"mailto:deliqufoods@gmail.com",children:"deliqufoods@gmail.com"})]}),_.jsx("p",{children:"Contact: +91 95127 20820"})]})]})]})}),E==="shipping"&&_.jsx("div",{className:"policy-page",children:_.jsxs("div",{className:"policy-container",children:[_.jsx("button",{className:"back-btn",onClick:()=>Lt("home"),children:" Back to Home"}),_.jsxs("div",{className:"policy-header",children:[_.jsx("h1",{children:"Shipping Policy"}),_.jsx("p",{className:"policy-date",children:"Last Updated: January 4, 2026"})]}),_.jsxs("div",{className:"policy-content",children:[_.jsxs("div",{className:"policy-section",children:[_.jsx("h2",{children:"Shipping Costs"}),_.jsxs("p",{children:["You will be responsible for paying for your own ",_.jsx("strong",{children:"shipping costs "}),"for returning your item. ",_.jsx("strong",{children:"Shipping costs are non-refundable"}),"."]})]}),_.jsxs("div",{className:"policy-section",children:[_.jsx("h2",{children:"Refund Deductions"}),_.jsxs("p",{children:["If you receive a refund, ",_.jsx("strong",{children:"the cost of return shipping will be deducted from your refund"}),"."]})]}),_.jsxs("div",{className:"policy-contact",children:[_.jsx("h3",{children:"Contact Us"}),_.jsxs("div",{className:"contact-grid",children:[_.jsxs("div",{className:"contact-item1",children:[_.jsx("strong",{children:"Email:"}),_.jsx("br",{}),_.jsx("a",{href:"mailto:deliqufoods@gmail.com",children:"deliqufoods@gmail.com"})]}),_.jsxs("div",{className:"contact-item1",children:[_.jsx("strong",{children:"Website:"}),_.jsx("br",{}),_.jsx("a",{href:"http://www.deliqufoods.com",target:"_blank",rel:"noopener",children:"www.deliqufoods.com"})]}),_.jsxs("div",{className:"contact-item1",children:[_.jsx("strong",{children:"Customer Care:"}),_.jsx("br",{}),_.jsx("a",{href:"tel:+919512720820",children:"+91 95127 20820"})]})]})]})]})]})}),E==="refund"&&_.jsx("div",{className:"policy-page",children:_.jsxs("div",{className:"policy-container",children:[_.jsx("button",{className:"back-btn",onClick:()=>Lt("home"),children:" Back to Home"}),_.jsxs("div",{className:"policy-header",children:[_.jsx("h1",{children:"Refund Policy"}),_.jsx("p",{className:"policy-date",children:"Last Updated: January 4, 2026"})]}),_.jsxs("div",{className:"policy-content",children:[_.jsxs("div",{className:"policy-section",children:[_.jsx("h2",{children:"Refund & Cancellation"}),_.jsxs("p",{children:["No replacement/refund/or any other resolution will be provided for liquidated damages of an amount equivalent to the ",_.jsx("strong",{children:"Order Value"}),"."]})]}),_.jsxs("div",{className:"policy-section",children:[_.jsx("h2",{children:"Incorrect Particulars"}),_.jsxs("p",{children:["In the event, You have provided ",_.jsx("strong",{children:"incorrect particulars"}),", e.g., contact number, delivery address, etc., or that You were unresponsive, not reachable, or unavailable for the fulfilment of the services offered to You, ",_.jsx("strong",{children:"You will not be eligible for any refunds"}),"."]})]}),_.jsxs("div",{className:"policy-section",children:[_.jsx("h2",{children:"Complaints & Proof"}),_.jsxs("p",{children:["Any complaint, with respect to the Order which shall include instances but not be limited to food spillage, foreign objects in food, or delivery of the wrong order,",_.jsx("strong",{children:"you will be required to share the proof of the same before any resolution can be provided"}),"."]})]}),_.jsxs("div",{className:"policy-section",children:[_.jsx("h2",{children:"Order Instructions"}),_.jsxs("p",{children:["You shall not be entitled to a refund in case instructions placed along with the Order are not followed in the form and manner you had intended.",_.jsx("strong",{children:"Instructions are followed by the company on a best-efforts basis"}),"."]})]}),_.jsxs("div",{className:"policy-section",children:[_.jsx("h2",{children:"Refund Processing"}),_.jsxs("p",{children:["All refunds shall be processed in the ",_.jsx("strong",{children:"same manner as they are received"}),", unless refunds have been provided to you in the form of credits, the refund amount will reflect in your account based on respective banks' policies."]})]})]})]})}),E==="terms"&&_.jsx("div",{className:"policy-page",children:_.jsxs("div",{className:"policy-container",children:[_.jsx("button",{className:"back-btn",onClick:()=>Lt("home"),children:" Back to Home"}),_.jsxs("div",{className:"policy-header",children:[_.jsx("h1",{children:"Terms of Service"}),_.jsx("p",{className:"policy-date",children:"Last Updated: January 4, 2026"})]}),_.jsxs("div",{className:"policy-content",children:[_.jsxs("div",{className:"policy-section",children:[_.jsx("h2",{children:"At Deliqu Foods, trust matters to us"}),_.jsxs("p",{children:["These Terms of Service explain how our website works, how orders are handled, and what you can expect when you shop with us. By using ",_.jsx("a",{href:"http://www.deliqufoods.com",target:"_blank",rel:"noopener",children:"www.deliqufoods.com"}),", you agree to the terms written here. If you do not agree, please stop using the website."]})]}),_.jsxs("div",{className:"policy-section",children:[_.jsx("h2",{children:"Who we are"}),_.jsxs("p",{children:["Deliqu Foods is a ",_.jsx("strong",{children:"ready-to-eat food brand"}),"  offering packaged meals through our website and other authorised platforms. We serve customers across India and selected international markets with a focus on quality, safety, and convenience."]})]}),_.jsxs("div",{className:"policy-section",children:[_.jsx("h2",{children:"Using our website"}),_.jsx("p",{children:"Our website is meant for personal and lawful use only. You agree not to misuse the website, interfere with its operation, provide false information, or engage in any activity that may harm the website or our business. We may restrict or block access if misuse is identified."})]}),_.jsxs("div",{className:"policy-section",children:[_.jsx("h2",{children:"Product details"}),_.jsx("p",{children:"We do our best to present accurate information about our products, including descriptions, prices, and images. Product images are for reference only, and minor variations in packaging or appearance may occur. Product availability and pricing may change without prior notice."})]}),_.jsxs("div",{className:"policy-section",children:[_.jsx("h2",{children:"Placing an order"}),_.jsx("p",{children:"When you place an order on our website, it means you agree to purchase the selected product at the displayed price. Orders are confirmed only after successful payment. In certain situations, such as stock issues or payment concerns, we reserve the right to cancel or decline an order."})]}),_.jsxs("div",{className:"policy-section",children:[_.jsx("h2",{children:"Delivery information"}),_.jsx("p",{children:"Delivery timelines shown on the website are estimates and may vary due to courier operations, location, weather, or customs procedures. For international orders, customers are responsible for any applicable customs duties, taxes, or import regulations. Delays caused by third-party delivery partners are beyond our control."})]}),_.jsxs("div",{className:"policy-section",children:[_.jsx("h2",{children:"Returns and support"}),_.jsxs("p",{children:["Because we sell food products, opened or consumed items cannot be returned. Replacements or refunds may be considered only if the product received is damaged, expired, or incorrect. Any such concern must be reported within",_.jsx("strong",{children:" 24 hours of delivery"}),", and each request is reviewed carefully."]})]}),_.jsxs("div",{className:"policy-section",children:[_.jsx("h2",{children:"Food safety and allergies"}),_.jsx("p",{children:"Our products are prepared and packed following applicable food safety standards. Customers are responsible for reading ingredient information, allergen details, and storage instructions mentioned on the packaging. Deliqu Foods is not responsible for health issues arising from improper storage, misuse, or known allergies."})]}),_.jsxs("div",{className:"policy-section",children:[_.jsx("h2",{children:"Our responsibility"}),_.jsx("p",{children:"Deliqu Foods is not liable for indirect or unexpected losses, delays beyond our control, or issues caused by product misuse after delivery. Our total liability, if any, will be limited to the amount paid for the product."})]}),_.jsxs("div",{className:"policy-section",children:[_.jsx("h2",{children:"Intellectual property"}),_.jsx("p",{children:"All content on this website, including text, images, logos, designs, and product names, belongs to Deliqu Foods. Copying, reproducing, or using any content without written permission is not allowed."})]}),_.jsxs("div",{className:"policy-section",children:[_.jsx("h2",{children:"External websites"}),_.jsx("p",{children:"Our website may include links to third-party websites for convenience. We do not control or take responsibility for the content or policies of those websites."})]}),_.jsxs("div",{className:"policy-section",children:[_.jsx("h2",{children:"Updates to these terms"}),_.jsx("p",{children:"We may update these Terms of Service from time to time. Continued use of the website after changes are made means you accept the updated terms."})]}),_.jsxs("div",{className:"policy-section",children:[_.jsx("h2",{children:"Legal details"}),_.jsxs("p",{children:["These Terms are governed by the ",_.jsx("strong",{children:"laws of India"}),", and any disputes will be subject to",_.jsx("strong",{children:" Indian jurisdiction"}),"."]})]})]})]})}),E==="support"&&_.jsx("div",{className:"policy-page",children:_.jsxs("div",{className:"policy-container",children:[_.jsx("button",{className:"back-btn",onClick:()=>Lt("home"),children:" Back to Home"}),_.jsx("h1",{children:"Customer Support"}),_.jsxs("div",{className:"policy-content",children:[_.jsx("h2",{children:"Contact Information"}),_.jsxs("div",{className:"support-grid",children:[_.jsxs("div",{className:"support-item",children:[_.jsx("h3",{children:"Email"}),_.jsx("p",{children:"deliqufoods@gmail.com"}),_.jsx("p",{children:"Reply within 24 hours"})]}),_.jsxs("div",{className:"support-item",children:[_.jsx("h3",{children:" Customer Care"}),_.jsx("p",{children:"+91 95127 20820"}),_.jsx("p",{children:"Mon-Sat 10AM-6PM"})]})]})]})]})})]}),ft.length>0&&_.jsx(gi.div,{initial:{y:100,opacity:0},animate:{y:0,opacity:1},exit:{y:100,opacity:0},className:"bottom-total-bar",children:_.jsxs("div",{className:"bar-content",children:[_.jsxs("div",{className:"bar-info-stack",children:[_.jsxs("span",{className:"bar-count-label",children:[tn," ",tn===1?"Item":"Items"," Selected"]}),_.jsx("span",{className:"bar-price-text",children:o(_s)})]}),_.jsx("button",{className:"btn-white-action",onClick:()=>Lt("cart"),children:"View Bag & Checkout"})]})}),E==="home"&&_.jsx("section",{className:"why-choose-us",children:_.jsx("div",{className:"container",children:_.jsxs("div",{className:"why-choose-content",children:[_.jsx("div",{className:"why-image",children:_.jsx("div",{className:"product-image",children:_.jsx("img",{src:"/images/GAJAR_HALWA.jpg",alt:"Pure Food Product"})})}),_.jsxs("div",{className:"why-text",children:[_.jsx("h2",{className:"highlight-title",children:"Why Choose Us ?"}),_.jsxs("div",{className:"highlight-text",children:["We don't just serve food, ",_.jsx("span",{className:"highlight-word",children:"we serve purity on a plate"}),". Our every recipe is a celebration of nature, made with  ",_.jsx("span",{className:"highlight-word",children:" oil free"}),", ",_.jsx("span",{className:"highlight-word",children:" preservative free"}),", ",_.jsx("span",{className:"highlight-word",children:" chemical free"}),", and ",_.jsx("span",{className:"highlight-word",children:" additive free"}),", so you can indulge without compromise."]}),_.jsxs("div",{className:"highlight-text",children:["With ",_.jsx("span",{className:"highlight-word",children:"organic ingredients"})," and no artificial colours, our meals embody authenticity and integrity, sealed with a",_.jsx("span",{className:"highlight-badge",children:"12-month shelf life"})," that preserves freshness and trust."]}),_.jsxs("div",{className:"highlight-text",children:["Designed for the modern wanderer, our packs are light to carry, saving you precious time and effort. Think of it as ",_.jsx("span",{className:"highlight-word",children:"hassle-free goodness"}),"  a perfect blend of quality, hygiene, taste and convenience that lets you enjoy wholesome meals anytime, anywhere."]})]})]})})}),_.jsx("footer",{className:"global-footer",children:_.jsx("div",{className:"footer-content",children:_.jsxs("div",{className:"footer-grid",children:[_.jsxs("div",{className:"footer-section",children:[_.jsx("img",{src:"/images/2.png",alt:"Deliqu Foods",className:"footer-logo-img"}),_.jsx("p",{className:"footer-desc",children:"Authentic ready-to-eat meals delivered to your doorstep. 100% preservative-free, made with love."}),_.jsxs("div",{className:"social-links",children:[_.jsx("a",{href:"https://www.instagram.com/deliqu_foods?utm_source=ig_web_button_share_sheet&igsh=ZDNlZDc0MzIxNw==",className:"social-icon",target:"_blank",rel:"noopener",children:_.jsx("img",{src:"/images/instagram.png",alt:"Instagram"})}),_.jsx("a",{href:"https://www.facebook.com/share/16bqXrkGcB/?mibextid=wwXIfr",className:"social-icon",target:"_blank",rel:"noopener",children:_.jsx("img",{src:"/images/facebook.png",alt:"Facebook"})}),_.jsx("a",{href:"https://youtube.com/@deliqufoods?si=c79cBF77jucjTGgp",className:"social-icon",target:"_blank",rel:"noopener",children:_.jsx("img",{src:"/images/youtube.png",alt:"YouTube"})}),_.jsx("a",{href:"https://whatsapp.com/deliqufoods",className:"social-icon",target:"_blank",rel:"noopener",children:_.jsx("img",{src:"/images/whatsapp.png",alt:"WhatsApp"})})]})]}),_.jsxs("div",{className:"footer-section",children:[_.jsx("h4",{children:"Quick Links"}),_.jsxs("ul",{children:[_.jsx("li",{children:_.jsx("a",{href:"#",className:"scroll-link",onClick:V=>{V.preventDefault(),$s("home")},children:"Home"})}),_.jsx("li",{children:_.jsx("a",{href:"#",className:"scroll-link",onClick:V=>{V.preventDefault(),$s("cart")},children:"Cart"})}),_.jsx("li",{children:_.jsx("a",{href:"#",className:"scroll-link",onClick:V=>{V.preventDefault(),$s("help")},children:"Help"})})]})]}),_.jsxs("div",{className:"footer-section",children:[_.jsx("h4",{children:"Help"}),_.jsxs("ul",{children:[_.jsx("li",{children:_.jsx("a",{href:"#",onClick:V=>{V.preventDefault(),Lt("support"),scrollToTop()},children:"Customer Support"})}),_.jsx("li",{children:_.jsx("a",{href:"#",onClick:V=>{V.preventDefault(),Lt("privacy"),scrollToTop()},children:"Privacy Policy"})}),_.jsx("li",{children:_.jsx("a",{href:"#",onClick:V=>{V.preventDefault(),Lt("shipping"),scrollToTop()},children:"Shipping Policy"})}),_.jsx("li",{children:_.jsx("a",{href:"#",onClick:V=>{V.preventDefault(),Lt("refund"),scrollToTop()},children:"Refund Policy"})}),_.jsx("li",{children:_.jsx("a",{href:"#",onClick:V=>{V.preventDefault(),Lt("terms"),scrollToTop()},children:"Terms of Service"})})]})]}),_.jsxs("div",{className:"footer-section",children:[_.jsx("h4",{children:"Contact Us"}),_.jsxs("a",{href:"https://www.google.com/maps/search/?api=1&query=Surat,+Gujarat+395007",target:"_blank",rel:"noopener noreferrer",className:"contact-item clickable",children:[_.jsx("img",{src:"/images/location.png",alt:"Location",className:"contact-icon"}),_.jsx("span",{children:"Surat, Gujarat 395007"})]}),_.jsxs("a",{href:"mailto:deliqufoods@gmail.com?subject=Order%20Inquiry&body=Hello%20Deliqu%20Team,",className:"contact-item clickable",children:[_.jsx("img",{src:"/images/email.png",alt:"Email",className:"contact-icon"}),_.jsx("span",{children:"deliqufoods@gmail.com"})]}),_.jsxs("a",{href:"tel:+919512720820",className:"contact-item clickable",children:[_.jsx("img",{src:"/images/phone.png",alt:"Phone",className:"contact-icon"}),_.jsx("span",{children:"+91 95127 20820"})]}),_.jsxs("div",{className:"contact-item",children:[_.jsx("img",{src:"/images/hours.png",alt:"Hours",className:"contact-icon"}),_.jsx("span",{children:"MonSat 10AM6PM"})]})]})]})})})]})}nI.createRoot(document.getElementById("root")).render(_.jsx(rt.StrictMode,{children:_.jsx(d3,{})}));
